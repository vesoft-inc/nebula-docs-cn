{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Nebula Graph 2.0.1 \u5df2\u53d1\u5e03\uff0c\u4fee\u590d\u591a\u5904bug\u5e76\u663e\u8457\u63d0\u5347\u6027\u80fd\u3002\u53c2\u8003 \u65b0\u7248\u672c\u6587\u6863 \u6b22\u8fce\u9605\u8bfbNebula Graph 2.0.0 \u6587\u6863 \u00b6 \u672c\u6587\u6863\u66f4\u65b0\u65f6\u95f42021-4-25, GitHub commit 89ba9adb. Nebula Graph\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u3001\u5206\u5e03\u5f0f\u7684\u3001\u6613\u6269\u5c55\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u80fd\u591f\u627f\u8f7d\u6570\u5341\u4ebf\u4e2a\u70b9\u548c\u6570\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002 \u5feb\u901f\u5f00\u59cb \u00b6 \u7b80\u4ecb \u5f00\u59cb\u6d41\u7a0b FAQ Links","title":"\u524d\u8a00"},{"location":"#nebula_graph_200","text":"\u672c\u6587\u6863\u66f4\u65b0\u65f6\u95f42021-4-25, GitHub commit 89ba9adb. Nebula Graph\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u3001\u5206\u5e03\u5f0f\u7684\u3001\u6613\u6269\u5c55\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u80fd\u591f\u627f\u8f7d\u6570\u5341\u4ebf\u4e2a\u70b9\u548c\u6570\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002","title":"\u6b22\u8fce\u9605\u8bfbNebula Graph 2.0.0 \u6587\u6863"},{"location":"#_1","text":"\u7b80\u4ecb \u5f00\u59cb\u6d41\u7a0b FAQ Links","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"CHANGELOG/","text":"Manual Changes \u00b6 0.1.1 - Initial release Nebula Graph alpha","title":"Manual Changes"},{"location":"CHANGELOG/#manual_changes","text":"0.1.1 - Initial release Nebula Graph alpha","title":"Manual Changes"},{"location":"1.introduction/1.what-is-nebula-graph/","text":"\u4ec0\u4e48\u662fNebula Graph \u00b6 Nebula Graph\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u3001\u5206\u5e03\u5f0f\u7684\u3001\u6613\u6269\u5c55\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u80fd\u591f\u627f\u8f7d\u6570\u5341\u4ebf\u4e2a\u70b9\u548c\u6570\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002 \u4ec0\u4e48\u662f\u56fe\u6570\u636e\u5e93 \u00b6 \u56fe\u6570\u636e\u5e93\u662f\u4e13\u95e8\u5b58\u50a8\u5e9e\u5927\u7684\u56fe\u5f62\u7f51\u7edc\u5e76\u4ece\u4e2d\u68c0\u7d22\u4fe1\u606f\u7684\u6570\u636e\u5e93\u3002\u5b83\u53ef\u4ee5\u5c06\u56fe\u5f62\u4e2d\u7684\u6570\u636e\u9ad8\u6548\u5b58\u50a8\u4e3a\u70b9\uff08vertex\uff09\u548c\u8fb9\uff08edge\uff09\uff0c\u8fd8\u53ef\u4ee5\u5c06\u5c5e\u6027\uff08property\uff09\u9644\u52a0\u5230\u70b9\u548c\u8fb9\u4e0a\u3002 \u56fe\u6570\u636e\u5e93\u9002\u5408\u5b58\u50a8\u5927\u591a\u6570\u4ece\u73b0\u5b9e\u62bd\u8c61\u51fa\u7684\u6570\u636e\u7c7b\u578b\u3002\u4e16\u754c\u4e0a\u51e0\u4e4e\u6240\u6709\u9886\u57df\u7684\u4e8b\u7269\u90fd\u6709\u5185\u5728\u8054\u7cfb\uff0c\u50cf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8fd9\u6837\u7684\u5efa\u6a21\u7cfb\u7edf\u4f1a\u63d0\u53d6\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5e76\u5c06\u5173\u7cfb\u5355\u72ec\u5b58\u50a8\u5230\u8868\u548c\u5217\u4e2d\uff0c\u800c\u5b9e\u4f53\u7684\u7c7b\u578b\u548c\u5c5e\u6027\u5b58\u50a8\u5728\u5176\u4ed6\u5217\u751a\u81f3\u5176\u4ed6\u8868\u4e2d\uff0c\u8fd9\u4f7f\u5f97\u6570\u636e\u7ba1\u7406\u8d39\u65f6\u8d39\u529b\u3002 Nebula Graph\u4f5c\u4e3a\u4e00\u4e2a\u5178\u578b\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u5141\u8bb8\u5c06\u4e30\u5bcc\u7684\u5173\u7cfb\u5b58\u50a8\u4e3a\u8fb9\uff0c\u8fb9\u7684\u7c7b\u578b\u548c\u5c5e\u6027\u53ef\u4ee5\u76f4\u63a5\u9644\u52a0\u5230\u8fb9\u4e0a\u3002 Nebula Graph\u7684\u4f18\u52bf \u00b6 \u5f00\u6e90 \u00b6 Nebula Graph\u662f\u5728Apache 2.0\u548cCommons Clause 1.0\u6761\u6b3e\u4e0b\u5f00\u53d1\u7684\u3002\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\uff0c\u5982\u6570\u636e\u5e93\u5f00\u53d1\u4eba\u5458\u3001\u6570\u636e\u79d1\u5b66\u5bb6\u3001\u5b89\u5168\u4e13\u5bb6\u3001\u7b97\u6cd5\u5de5\u7a0b\u5e08\uff0c\u90fd\u53c2\u4e0e\u5230Nebula Graph\u7684\u8bbe\u8ba1\u548c\u5f00\u53d1\u4e2d\u6765\uff0c\u6b22\u8fce\u8bbf\u95ee Nebula Graph GitHub\u4e3b\u9875 \u53c2\u4e0e\u5f00\u6e90\u9879\u76ee\u3002 \u9ad8\u6027\u80fd \u00b6 \u57fa\u4e8e\u56fe\u6570\u636e\u5e93\u7684\u7279\u6027\u4f7f\u7528C++\u7f16\u5199\u7684Nebula Graph\uff0c\u53ef\u4ee5\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002\u4f17\u591a\u6570\u636e\u5e93\u4e2d\uff0cNebula Graph\u5728\u56fe\u6570\u636e\u670d\u52a1\u9886\u57df\u5c55\u73b0\u4e86\u5353\u8d8a\u7684\u6027\u80fd\uff0c\u6570\u636e\u89c4\u6a21\u8d8a\u5927\uff0cNebula Graph\u4f18\u52bf\u5c31\u8d8a\u5927\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph benchmarking \u3002 \u6613\u6269\u5c55 \u00b6 Nebula Graph\u91c7\u7528shared-nothing\u67b6\u6784\uff0c\u652f\u6301\u5728\u4e0d\u505c\u6b62\u6570\u636e\u5e93\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\u6269\u7f29\u5bb9\u3002 \u6613\u5f00\u53d1 \u00b6 Nebula Graph\u63d0\u4f9bJava\u3001Python\u3001C++\u548cGo\u7b49\u6d41\u884c\u7f16\u7a0b\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\uff0c\u66f4\u591a\u5ba2\u6237\u7aef\u4ecd\u5728\u5f00\u53d1\u4e2d\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph clients \u3002 \u9ad8\u53ef\u9760\u8bbf\u95ee\u63a7\u5236 \u00b6 Nebula Graph\u652f\u6301\u4e25\u683c\u7684\u89d2\u8272\u8bbf\u95ee\u63a7\u5236\u548cLDAP\uff08Lightweight Directory Access Protocol\uff09\u7b49\u5916\u90e8\u8ba4\u8bc1\u670d\u52a1\uff0c\u80fd\u591f\u6709\u6548\u63d0\u9ad8\u6570\u636e\u5b89\u5168\u6027\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u9a8c\u8bc1\u548c\u6388\u6743 \u3002 \u751f\u6001\u591a\u6837\u5316 \u00b6 Nebula Graph\u5f00\u653e\u4e86\u8d8a\u6765\u8d8a\u591a\u7684\u539f\u751f\u5de5\u5177\uff0c\u4f8b\u5982 Nebula Graph Studio \u3001 nebula-console \u3001 Nebula Graph Exchange \u7b49\u3002 \u6b64\u5916\uff0cNebula Graph\u8fd8\u5177\u5907\u4e0eSpark\u3001Flink\u3001HBase\u7b49\u4ea7\u54c1\u6574\u5408\u7684\u80fd\u529b\uff0c\u5728\u8fd9\u4e2a\u5145\u6ee1\u6311\u6218\u4e0e\u673a\u9047\u7684\u65f6\u4ee3\uff0c\u5927\u5927\u589e\u5f3a\u4e86\u81ea\u8eab\u7684\u7ade\u4e89\u529b\u3002 \u517c\u5bb9openCypher\u67e5\u8be2\u8bed\u8a00 \u00b6 Nebula Graph\u67e5\u8be2\u8bed\u8a00\uff0c\u4e5f\u79f0\u4e3anGQL\uff0c\u662f\u4e00\u79cd\u58f0\u660e\u6027\u7684\u3001\u517c\u5bb9openCypher\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u4f7f\u7528\u3002\u8be6\u7ec6\u8bed\u6cd5\u8bf7\u53c2\u89c1 nGQL\u6307\u5357 \u3002 \u7075\u6d3b\u6570\u636e\u5efa\u6a21 \u00b6 \u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5728Nebula Graph\u4e2d\u5efa\u7acb\u6570\u636e\u6a21\u578b\uff0c\u4e0d\u5fc5\u5c06\u6570\u636e\u5f3a\u5236\u8f6c\u6362\u4e3a\u5173\u7cfb\u8868\u4e4b\u7c7b\u7684\u7ed3\u6784\uff0c\u800c\u4e14\u53ef\u4ee5\u81ea\u7531\u589e\u52a0\u3001\u66f4\u65b0\u548c\u5220\u9664\u5c5e\u6027\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u6570\u636e\u6a21\u578b \u3002 \u5e7f\u53d7\u6b22\u8fce \u00b6 \u817e\u8baf\u3001vivo\u3001\u7f8e\u56e2\u548c\u4eac\u4e1c\u6570\u79d1\u7b49\u79d1\u6280\u5de8\u5934\u90fd\u5728\u4f7f\u7528Nebula Graph\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph\u5b98\u7f51 \u3002 \u9002\u7528\u573a\u666f \u00b6 Nebula Graph\u53ef\u7528\u4e8e\u5404\u79cd\u57fa\u4e8e\u56fe\u7684\u4e1a\u52a1\u573a\u666f\u3002\u4e3a\u8282\u7ea6\u8f6c\u6362\u5404\u7c7b\u6570\u636e\u5230\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u65f6\u95f4\uff0c\u4ee5\u53ca\u907f\u514d\u590d\u6742\u67e5\u8be2\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528Nebula Graph\u3002 \u6b3a\u8bc8\u68c0\u6d4b \u00b6 \u91d1\u878d\u673a\u6784\u5fc5\u987b\u4ed4\u7ec6\u7814\u7a76\u5927\u91cf\u7684\u4ea4\u6613\u4fe1\u606f\uff0c\u624d\u80fd\u68c0\u6d4b\u51fa\u6f5c\u5728\u7684\u91d1\u878d\u6b3a\u8bc8\u884c\u4e3a\uff0c\u5e76\u4e86\u89e3\u67d0\u4e2a\u6b3a\u8bc8\u884c\u4e3a\u548c\u8bbe\u5907\u7684\u5185\u5728\u5173\u8054\u3002\u8fd9\u79cd\u573a\u666f\u53ef\u4ee5\u901a\u8fc7\u56fe\u5f62\u5efa\u6a21\uff0c\u7136\u540e\u501f\u52a9Nebula Graph\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u68c0\u6d4b\u51fa\u8bc8\u9a97\u56e2\u4f19\u6216\u5176\u4ed6\u590d\u6742\u8bc8\u9a97\u884c\u4e3a\u3002 \u5b9e\u65f6\u63a8\u8350 \u00b6 Nebula Graph\u80fd\u591f\u53ca\u65f6\u5904\u7406\u8bbf\u95ee\u8005\u4ea7\u751f\u7684\u5b9e\u65f6\u4fe1\u606f\uff0c\u5e76\u4e14\u7cbe\u51c6\u63a8\u9001\u6587\u7ae0\u3001\u89c6\u9891\u3001\u4ea7\u54c1\u548c\u670d\u52a1\u3002 \u77e5\u8bc6\u56fe\u8c31 \u00b6 \u81ea\u7136\u8bed\u8a00\u53ef\u4ee5\u8f6c\u5316\u4e3a\u77e5\u8bc6\u56fe\u8c31\uff0c\u5b58\u50a8\u5728Nebula Graph\u4e2d\u3002\u7528\u81ea\u7136\u8bed\u8a00\u7ec4\u7ec7\u7684\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u667a\u80fd\u95ee\u7b54\u7cfb\u7edf\u4e2d\u7684\u8bed\u4e49\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790\u5e76\u91cd\u65b0\u7ec4\u7ec7\uff0c\u7136\u540e\u4ece\u77e5\u8bc6\u56fe\u8c31\u4e2d\u68c0\u7d22\u51fa\u95ee\u9898\u7684\u53ef\u80fd\u7b54\u6848\uff0c\u63d0\u4f9b\u7ed9\u63d0\u95ee\u4eba\u3002 \u793e\u4ea4\u7f51\u7edc \u00b6 \u4eba\u9645\u5173\u7cfb\u4fe1\u606f\u662f\u5178\u578b\u7684\u56fe\u5f62\u6570\u636e\uff0cNebula Graph\u53ef\u4ee5\u8f7b\u677e\u5904\u7406\u6570\u5341\u4ebf\u4eba\u548c\u6570\u4e07\u4ebf\u4eba\u9645\u5173\u7cfb\u7684\u793e\u4ea4\u7f51\u7edc\u4fe1\u606f\uff0c\u5e76\u5728\u6d77\u91cf\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u63d0\u4f9b\u5feb\u901f\u7684\u597d\u53cb\u63a8\u8350\u548c\u5de5\u4f5c\u5c97\u4f4d\u67e5\u8be2\u3002","title":"\u4ec0\u4e48\u662fNebula Graph"},{"location":"1.introduction/1.what-is-nebula-graph/#nebula_graph","text":"Nebula Graph\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u3001\u5206\u5e03\u5f0f\u7684\u3001\u6613\u6269\u5c55\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u80fd\u591f\u627f\u8f7d\u6570\u5341\u4ebf\u4e2a\u70b9\u548c\u6570\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002","title":"\u4ec0\u4e48\u662fNebula Graph"},{"location":"1.introduction/1.what-is-nebula-graph/#_1","text":"\u56fe\u6570\u636e\u5e93\u662f\u4e13\u95e8\u5b58\u50a8\u5e9e\u5927\u7684\u56fe\u5f62\u7f51\u7edc\u5e76\u4ece\u4e2d\u68c0\u7d22\u4fe1\u606f\u7684\u6570\u636e\u5e93\u3002\u5b83\u53ef\u4ee5\u5c06\u56fe\u5f62\u4e2d\u7684\u6570\u636e\u9ad8\u6548\u5b58\u50a8\u4e3a\u70b9\uff08vertex\uff09\u548c\u8fb9\uff08edge\uff09\uff0c\u8fd8\u53ef\u4ee5\u5c06\u5c5e\u6027\uff08property\uff09\u9644\u52a0\u5230\u70b9\u548c\u8fb9\u4e0a\u3002 \u56fe\u6570\u636e\u5e93\u9002\u5408\u5b58\u50a8\u5927\u591a\u6570\u4ece\u73b0\u5b9e\u62bd\u8c61\u51fa\u7684\u6570\u636e\u7c7b\u578b\u3002\u4e16\u754c\u4e0a\u51e0\u4e4e\u6240\u6709\u9886\u57df\u7684\u4e8b\u7269\u90fd\u6709\u5185\u5728\u8054\u7cfb\uff0c\u50cf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8fd9\u6837\u7684\u5efa\u6a21\u7cfb\u7edf\u4f1a\u63d0\u53d6\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5e76\u5c06\u5173\u7cfb\u5355\u72ec\u5b58\u50a8\u5230\u8868\u548c\u5217\u4e2d\uff0c\u800c\u5b9e\u4f53\u7684\u7c7b\u578b\u548c\u5c5e\u6027\u5b58\u50a8\u5728\u5176\u4ed6\u5217\u751a\u81f3\u5176\u4ed6\u8868\u4e2d\uff0c\u8fd9\u4f7f\u5f97\u6570\u636e\u7ba1\u7406\u8d39\u65f6\u8d39\u529b\u3002 Nebula Graph\u4f5c\u4e3a\u4e00\u4e2a\u5178\u578b\u7684\u539f\u751f\u56fe\u6570\u636e\u5e93\uff0c\u5141\u8bb8\u5c06\u4e30\u5bcc\u7684\u5173\u7cfb\u5b58\u50a8\u4e3a\u8fb9\uff0c\u8fb9\u7684\u7c7b\u578b\u548c\u5c5e\u6027\u53ef\u4ee5\u76f4\u63a5\u9644\u52a0\u5230\u8fb9\u4e0a\u3002","title":"\u4ec0\u4e48\u662f\u56fe\u6570\u636e\u5e93"},{"location":"1.introduction/1.what-is-nebula-graph/#nebula_graph_1","text":"","title":"Nebula Graph\u7684\u4f18\u52bf"},{"location":"1.introduction/1.what-is-nebula-graph/#_2","text":"Nebula Graph\u662f\u5728Apache 2.0\u548cCommons Clause 1.0\u6761\u6b3e\u4e0b\u5f00\u53d1\u7684\u3002\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\uff0c\u5982\u6570\u636e\u5e93\u5f00\u53d1\u4eba\u5458\u3001\u6570\u636e\u79d1\u5b66\u5bb6\u3001\u5b89\u5168\u4e13\u5bb6\u3001\u7b97\u6cd5\u5de5\u7a0b\u5e08\uff0c\u90fd\u53c2\u4e0e\u5230Nebula Graph\u7684\u8bbe\u8ba1\u548c\u5f00\u53d1\u4e2d\u6765\uff0c\u6b22\u8fce\u8bbf\u95ee Nebula Graph GitHub\u4e3b\u9875 \u53c2\u4e0e\u5f00\u6e90\u9879\u76ee\u3002","title":"\u5f00\u6e90"},{"location":"1.introduction/1.what-is-nebula-graph/#_3","text":"\u57fa\u4e8e\u56fe\u6570\u636e\u5e93\u7684\u7279\u6027\u4f7f\u7528C++\u7f16\u5199\u7684Nebula Graph\uff0c\u53ef\u4ee5\u63d0\u4f9b\u6beb\u79d2\u7ea7\u67e5\u8be2\u3002\u4f17\u591a\u6570\u636e\u5e93\u4e2d\uff0cNebula Graph\u5728\u56fe\u6570\u636e\u670d\u52a1\u9886\u57df\u5c55\u73b0\u4e86\u5353\u8d8a\u7684\u6027\u80fd\uff0c\u6570\u636e\u89c4\u6a21\u8d8a\u5927\uff0cNebula Graph\u4f18\u52bf\u5c31\u8d8a\u5927\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph benchmarking \u3002","title":"\u9ad8\u6027\u80fd"},{"location":"1.introduction/1.what-is-nebula-graph/#_4","text":"Nebula Graph\u91c7\u7528shared-nothing\u67b6\u6784\uff0c\u652f\u6301\u5728\u4e0d\u505c\u6b62\u6570\u636e\u5e93\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\u6269\u7f29\u5bb9\u3002","title":"\u6613\u6269\u5c55"},{"location":"1.introduction/1.what-is-nebula-graph/#_5","text":"Nebula Graph\u63d0\u4f9bJava\u3001Python\u3001C++\u548cGo\u7b49\u6d41\u884c\u7f16\u7a0b\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\uff0c\u66f4\u591a\u5ba2\u6237\u7aef\u4ecd\u5728\u5f00\u53d1\u4e2d\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph clients \u3002","title":"\u6613\u5f00\u53d1"},{"location":"1.introduction/1.what-is-nebula-graph/#_6","text":"Nebula Graph\u652f\u6301\u4e25\u683c\u7684\u89d2\u8272\u8bbf\u95ee\u63a7\u5236\u548cLDAP\uff08Lightweight Directory Access Protocol\uff09\u7b49\u5916\u90e8\u8ba4\u8bc1\u670d\u52a1\uff0c\u80fd\u591f\u6709\u6548\u63d0\u9ad8\u6570\u636e\u5b89\u5168\u6027\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u9a8c\u8bc1\u548c\u6388\u6743 \u3002","title":"\u9ad8\u53ef\u9760\u8bbf\u95ee\u63a7\u5236"},{"location":"1.introduction/1.what-is-nebula-graph/#_7","text":"Nebula Graph\u5f00\u653e\u4e86\u8d8a\u6765\u8d8a\u591a\u7684\u539f\u751f\u5de5\u5177\uff0c\u4f8b\u5982 Nebula Graph Studio \u3001 nebula-console \u3001 Nebula Graph Exchange \u7b49\u3002 \u6b64\u5916\uff0cNebula Graph\u8fd8\u5177\u5907\u4e0eSpark\u3001Flink\u3001HBase\u7b49\u4ea7\u54c1\u6574\u5408\u7684\u80fd\u529b\uff0c\u5728\u8fd9\u4e2a\u5145\u6ee1\u6311\u6218\u4e0e\u673a\u9047\u7684\u65f6\u4ee3\uff0c\u5927\u5927\u589e\u5f3a\u4e86\u81ea\u8eab\u7684\u7ade\u4e89\u529b\u3002","title":"\u751f\u6001\u591a\u6837\u5316"},{"location":"1.introduction/1.what-is-nebula-graph/#opencypher","text":"Nebula Graph\u67e5\u8be2\u8bed\u8a00\uff0c\u4e5f\u79f0\u4e3anGQL\uff0c\u662f\u4e00\u79cd\u58f0\u660e\u6027\u7684\u3001\u517c\u5bb9openCypher\u7684\u6587\u672c\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u4f7f\u7528\u3002\u8be6\u7ec6\u8bed\u6cd5\u8bf7\u53c2\u89c1 nGQL\u6307\u5357 \u3002","title":"\u517c\u5bb9openCypher\u67e5\u8be2\u8bed\u8a00"},{"location":"1.introduction/1.what-is-nebula-graph/#_8","text":"\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5728Nebula Graph\u4e2d\u5efa\u7acb\u6570\u636e\u6a21\u578b\uff0c\u4e0d\u5fc5\u5c06\u6570\u636e\u5f3a\u5236\u8f6c\u6362\u4e3a\u5173\u7cfb\u8868\u4e4b\u7c7b\u7684\u7ed3\u6784\uff0c\u800c\u4e14\u53ef\u4ee5\u81ea\u7531\u589e\u52a0\u3001\u66f4\u65b0\u548c\u5220\u9664\u5c5e\u6027\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u6570\u636e\u6a21\u578b \u3002","title":"\u7075\u6d3b\u6570\u636e\u5efa\u6a21"},{"location":"1.introduction/1.what-is-nebula-graph/#_9","text":"\u817e\u8baf\u3001vivo\u3001\u7f8e\u56e2\u548c\u4eac\u4e1c\u6570\u79d1\u7b49\u79d1\u6280\u5de8\u5934\u90fd\u5728\u4f7f\u7528Nebula Graph\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Nebula Graph\u5b98\u7f51 \u3002","title":"\u5e7f\u53d7\u6b22\u8fce"},{"location":"1.introduction/1.what-is-nebula-graph/#_10","text":"Nebula Graph\u53ef\u7528\u4e8e\u5404\u79cd\u57fa\u4e8e\u56fe\u7684\u4e1a\u52a1\u573a\u666f\u3002\u4e3a\u8282\u7ea6\u8f6c\u6362\u5404\u7c7b\u6570\u636e\u5230\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u65f6\u95f4\uff0c\u4ee5\u53ca\u907f\u514d\u590d\u6742\u67e5\u8be2\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528Nebula Graph\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"1.introduction/1.what-is-nebula-graph/#_11","text":"\u91d1\u878d\u673a\u6784\u5fc5\u987b\u4ed4\u7ec6\u7814\u7a76\u5927\u91cf\u7684\u4ea4\u6613\u4fe1\u606f\uff0c\u624d\u80fd\u68c0\u6d4b\u51fa\u6f5c\u5728\u7684\u91d1\u878d\u6b3a\u8bc8\u884c\u4e3a\uff0c\u5e76\u4e86\u89e3\u67d0\u4e2a\u6b3a\u8bc8\u884c\u4e3a\u548c\u8bbe\u5907\u7684\u5185\u5728\u5173\u8054\u3002\u8fd9\u79cd\u573a\u666f\u53ef\u4ee5\u901a\u8fc7\u56fe\u5f62\u5efa\u6a21\uff0c\u7136\u540e\u501f\u52a9Nebula Graph\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u68c0\u6d4b\u51fa\u8bc8\u9a97\u56e2\u4f19\u6216\u5176\u4ed6\u590d\u6742\u8bc8\u9a97\u884c\u4e3a\u3002","title":"\u6b3a\u8bc8\u68c0\u6d4b"},{"location":"1.introduction/1.what-is-nebula-graph/#_12","text":"Nebula Graph\u80fd\u591f\u53ca\u65f6\u5904\u7406\u8bbf\u95ee\u8005\u4ea7\u751f\u7684\u5b9e\u65f6\u4fe1\u606f\uff0c\u5e76\u4e14\u7cbe\u51c6\u63a8\u9001\u6587\u7ae0\u3001\u89c6\u9891\u3001\u4ea7\u54c1\u548c\u670d\u52a1\u3002","title":"\u5b9e\u65f6\u63a8\u8350"},{"location":"1.introduction/1.what-is-nebula-graph/#_13","text":"\u81ea\u7136\u8bed\u8a00\u53ef\u4ee5\u8f6c\u5316\u4e3a\u77e5\u8bc6\u56fe\u8c31\uff0c\u5b58\u50a8\u5728Nebula Graph\u4e2d\u3002\u7528\u81ea\u7136\u8bed\u8a00\u7ec4\u7ec7\u7684\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u667a\u80fd\u95ee\u7b54\u7cfb\u7edf\u4e2d\u7684\u8bed\u4e49\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790\u5e76\u91cd\u65b0\u7ec4\u7ec7\uff0c\u7136\u540e\u4ece\u77e5\u8bc6\u56fe\u8c31\u4e2d\u68c0\u7d22\u51fa\u95ee\u9898\u7684\u53ef\u80fd\u7b54\u6848\uff0c\u63d0\u4f9b\u7ed9\u63d0\u95ee\u4eba\u3002","title":"\u77e5\u8bc6\u56fe\u8c31"},{"location":"1.introduction/1.what-is-nebula-graph/#_14","text":"\u4eba\u9645\u5173\u7cfb\u4fe1\u606f\u662f\u5178\u578b\u7684\u56fe\u5f62\u6570\u636e\uff0cNebula Graph\u53ef\u4ee5\u8f7b\u677e\u5904\u7406\u6570\u5341\u4ebf\u4eba\u548c\u6570\u4e07\u4ebf\u4eba\u9645\u5173\u7cfb\u7684\u793e\u4ea4\u7f51\u7edc\u4fe1\u606f\uff0c\u5e76\u5728\u6d77\u91cf\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u63d0\u4f9b\u5feb\u901f\u7684\u597d\u53cb\u63a8\u8350\u548c\u5de5\u4f5c\u5c97\u4f4d\u67e5\u8be2\u3002","title":"\u793e\u4ea4\u7f51\u7edc"},{"location":"1.introduction/2.data-model/","text":"\u6570\u636e\u6a21\u578b \u00b6 \u672c\u6587\u4ecb\u7ecdNebula Graph\u7684\u6570\u636e\u6a21\u578b\u3002\u6570\u636e\u6a21\u578b\u662f\u4e00\u79cd\u7ec4\u7ec7\u6570\u636e\u5e76\u8bf4\u660e\u5b83\u4eec\u5982\u4f55\u76f8\u4e92\u5173\u8054\u7684\u6a21\u578b\u3002 \u6570\u636e\u7ed3\u6784 \u00b6 Nebula Graph\u6570\u636e\u6a21\u578b\u4f7f\u75285\u79cd\u6570\u636e\u7ed3\u6784\u6765\u4fdd\u5b58\u6570\u636e\uff1a \u70b9\uff08vertex\uff09 \u70b9\u7528\u6765\u4fdd\u5b58\u5b9e\u4f53\u5bf9\u8c61\uff0c\u7279\u70b9\u5982\u4e0b\uff1a \u70b9\u662f\u7528\u70b9\u6807\u8bc6\u7b26\uff08 VID \uff09\u6807\u8bc6\u7684\u3002 VID \u5728\u540c\u4e00\u56fe\u7a7a\u95f4\u4e2d\u552f\u4e00\u3002 \u70b9\u5fc5\u987b\u6709\u81f3\u5c11\u4e00\u4e2a\u6807\u7b7e\uff08Tag\uff09\u3002 \u6807\u7b7e\uff08tag\uff09 \u6807\u7b7e\u53ef\u4ee5\u7528\u4e8e\u5bf9\u70b9\u8fdb\u884c\u533a\u5206\u3002\u5177\u6709\u76f8\u540c\u6807\u7b7e\u7684\u70b9\u5171\u4eab\u76f8\u540c\u7684\u5c5e\u6027\u5b9a\u4e49\u3002 \u8fb9\uff08edge\uff09 \u8fb9\u662f\u7528\u6765\u8fde\u63a5\u70b9\u7684\uff0c\u8868\u793a\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\u6216\u884c\u4e3a\uff0c\u7279\u70b9\u5982\u4e0b\uff1a \u4e00\u6761\u8fb9\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u8d77\u70b9\u3001\u8fb9\u7c7b\u578b\uff08edge type\uff09\u3001rank\u3001\u7ec8\u70b9\u53ef\u4ee5\u552f\u4e00\u8868\u793a\u4e00\u6761\u8fb9\u3002 \u8fb9\u662f\u6709\u6307\u5411\u7684\u3002 -> \u8868\u793a\u8fb9\u7684\u6307\u5411\uff0c\u8fb9\u53ef\u4ee5\u6cbf\u4efb\u610f\u65b9\u5411\u904d\u5386\u3002 \u8fb9\u5fc5\u987b\u6709rank\u3002rank\u662f\u4e00\u4e2a\u4e0d\u53ef\u66f4\u6539\u7684\u3001\u7528\u6237\u5206\u914d\u7684\u300164\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u3002\u901a\u8fc7\u5b83\u624d\u80fd\u8bc6\u522b\u4e24\u4e2a\u70b9\u4e4b\u95f4\u5177\u6709\u76f8\u540c\u8fb9\u7c7b\u578b\u7684\u8fb9\u3002\u8fb9\u6309\u5b83\u4eec\u7684rank\u6392\u5e8f\uff0c\u503c\u5927\u7684\u8fb9\u6392\u5728\u524d\u9762\u3002\u9ed8\u8ba4rank\u4e3a0\u3002 \u8fb9\u7c7b\u578b\uff08edge type\uff09 \u8fb9\u7c7b\u578b\u7528\u4e8e\u5bf9\u8fb9\u8fdb\u884c\u533a\u5206\u3002\u5177\u6709\u76f8\u540c\u8fb9\u7c7b\u578b\u7684\u8fb9\u5171\u4eab\u76f8\u540c\u7684\u5c5e\u6027\u5b9a\u4e49\u3002 \u5c5e\u6027\uff08properties\uff09 \u5c5e\u6027\u662f\u6307\u4ee5\u952e\u503c\u5bf9\uff08key-value\uff09\u5f62\u5f0f\u5b58\u50a8\u70b9\u6216\u8fb9\u7684\u76f8\u5173\u4fe1\u606f\u3002 \u6709\u5411\u5c5e\u6027\u56fe \u00b6 Nebula Graph\u5c06\u6570\u636e\u5b58\u50a8\u5728\u6709\u5411\u5c5e\u6027\u56fe\u4e2d\u3002\u6709\u5411\u5c5e\u6027\u56fe\u662f\u6307\u70b9\u548c\u8fb9\u6784\u6210\u7684\u56fe\uff0c\u8fd9\u4e9b\u8fb9\u662f\u6709\u65b9\u5411\u7684\u3002\u6709\u5411\u5c5e\u6027\u56fe\u8868\u793a\u4e3a\uff1a G = < V, E, P V , P E > V \u662f\u70b9\u7684\u96c6\u5408\u3002 E \u662f\u6709\u5411\u8fb9\u7684\u96c6\u5408\u3002 P V \u662f\u70b9\u7684\u5c5e\u6027\u3002 P E \u662f\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0b\u8868\u4e3a\u7bee\u7403\u8fd0\u52a8\u5458\u6570\u636e\u96c6\u7684\u7ed3\u6784\u793a\u4f8b\uff0c\u5305\u62ec\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff08 player \u3001 team \uff09\u548c\u4e24\u79cd\u7c7b\u578b\u7684\u8fb9\uff08 serve \u3001 like \uff09\u3002 \u7c7b\u578b \u540d\u79f0 \u5c5e\u6027\u540d\uff08\u6570\u636e\u7c7b\u578b\uff09 \u8bf4\u660e tag player name \uff08string\uff09 age \uff08int\uff09 \u8868\u793a\u7403\u5458\u3002 tag team name \uff08string\uff09 \u8868\u793a\u7403\u961f\u3002 edge type serve start_year \uff08int\uff09 end_year \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u7403\u5458\u548c\u7403\u961f\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u7403\u5458\u5230\u7403\u961f\u3002 edge type like likeness \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u4e24\u4e2a\u7403\u5458\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u4e00\u4e2a\u7403\u5458\u5230\u53e6\u4e00\u4e2a\u7403\u5458\u3002","title":"\u6570\u636e\u7ed3\u6784"},{"location":"1.introduction/2.data-model/#_1","text":"\u672c\u6587\u4ecb\u7ecdNebula Graph\u7684\u6570\u636e\u6a21\u578b\u3002\u6570\u636e\u6a21\u578b\u662f\u4e00\u79cd\u7ec4\u7ec7\u6570\u636e\u5e76\u8bf4\u660e\u5b83\u4eec\u5982\u4f55\u76f8\u4e92\u5173\u8054\u7684\u6a21\u578b\u3002","title":"\u6570\u636e\u6a21\u578b"},{"location":"1.introduction/2.data-model/#_2","text":"Nebula Graph\u6570\u636e\u6a21\u578b\u4f7f\u75285\u79cd\u6570\u636e\u7ed3\u6784\u6765\u4fdd\u5b58\u6570\u636e\uff1a \u70b9\uff08vertex\uff09 \u70b9\u7528\u6765\u4fdd\u5b58\u5b9e\u4f53\u5bf9\u8c61\uff0c\u7279\u70b9\u5982\u4e0b\uff1a \u70b9\u662f\u7528\u70b9\u6807\u8bc6\u7b26\uff08 VID \uff09\u6807\u8bc6\u7684\u3002 VID \u5728\u540c\u4e00\u56fe\u7a7a\u95f4\u4e2d\u552f\u4e00\u3002 \u70b9\u5fc5\u987b\u6709\u81f3\u5c11\u4e00\u4e2a\u6807\u7b7e\uff08Tag\uff09\u3002 \u6807\u7b7e\uff08tag\uff09 \u6807\u7b7e\u53ef\u4ee5\u7528\u4e8e\u5bf9\u70b9\u8fdb\u884c\u533a\u5206\u3002\u5177\u6709\u76f8\u540c\u6807\u7b7e\u7684\u70b9\u5171\u4eab\u76f8\u540c\u7684\u5c5e\u6027\u5b9a\u4e49\u3002 \u8fb9\uff08edge\uff09 \u8fb9\u662f\u7528\u6765\u8fde\u63a5\u70b9\u7684\uff0c\u8868\u793a\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\u6216\u884c\u4e3a\uff0c\u7279\u70b9\u5982\u4e0b\uff1a \u4e00\u6761\u8fb9\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u8d77\u70b9\u3001\u8fb9\u7c7b\u578b\uff08edge type\uff09\u3001rank\u3001\u7ec8\u70b9\u53ef\u4ee5\u552f\u4e00\u8868\u793a\u4e00\u6761\u8fb9\u3002 \u8fb9\u662f\u6709\u6307\u5411\u7684\u3002 -> \u8868\u793a\u8fb9\u7684\u6307\u5411\uff0c\u8fb9\u53ef\u4ee5\u6cbf\u4efb\u610f\u65b9\u5411\u904d\u5386\u3002 \u8fb9\u5fc5\u987b\u6709rank\u3002rank\u662f\u4e00\u4e2a\u4e0d\u53ef\u66f4\u6539\u7684\u3001\u7528\u6237\u5206\u914d\u7684\u300164\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u3002\u901a\u8fc7\u5b83\u624d\u80fd\u8bc6\u522b\u4e24\u4e2a\u70b9\u4e4b\u95f4\u5177\u6709\u76f8\u540c\u8fb9\u7c7b\u578b\u7684\u8fb9\u3002\u8fb9\u6309\u5b83\u4eec\u7684rank\u6392\u5e8f\uff0c\u503c\u5927\u7684\u8fb9\u6392\u5728\u524d\u9762\u3002\u9ed8\u8ba4rank\u4e3a0\u3002 \u8fb9\u7c7b\u578b\uff08edge type\uff09 \u8fb9\u7c7b\u578b\u7528\u4e8e\u5bf9\u8fb9\u8fdb\u884c\u533a\u5206\u3002\u5177\u6709\u76f8\u540c\u8fb9\u7c7b\u578b\u7684\u8fb9\u5171\u4eab\u76f8\u540c\u7684\u5c5e\u6027\u5b9a\u4e49\u3002 \u5c5e\u6027\uff08properties\uff09 \u5c5e\u6027\u662f\u6307\u4ee5\u952e\u503c\u5bf9\uff08key-value\uff09\u5f62\u5f0f\u5b58\u50a8\u70b9\u6216\u8fb9\u7684\u76f8\u5173\u4fe1\u606f\u3002","title":"\u6570\u636e\u7ed3\u6784"},{"location":"1.introduction/2.data-model/#_3","text":"Nebula Graph\u5c06\u6570\u636e\u5b58\u50a8\u5728\u6709\u5411\u5c5e\u6027\u56fe\u4e2d\u3002\u6709\u5411\u5c5e\u6027\u56fe\u662f\u6307\u70b9\u548c\u8fb9\u6784\u6210\u7684\u56fe\uff0c\u8fd9\u4e9b\u8fb9\u662f\u6709\u65b9\u5411\u7684\u3002\u6709\u5411\u5c5e\u6027\u56fe\u8868\u793a\u4e3a\uff1a G = < V, E, P V , P E > V \u662f\u70b9\u7684\u96c6\u5408\u3002 E \u662f\u6709\u5411\u8fb9\u7684\u96c6\u5408\u3002 P V \u662f\u70b9\u7684\u5c5e\u6027\u3002 P E \u662f\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0b\u8868\u4e3a\u7bee\u7403\u8fd0\u52a8\u5458\u6570\u636e\u96c6\u7684\u7ed3\u6784\u793a\u4f8b\uff0c\u5305\u62ec\u4e24\u79cd\u7c7b\u578b\u7684\u70b9\uff08 player \u3001 team \uff09\u548c\u4e24\u79cd\u7c7b\u578b\u7684\u8fb9\uff08 serve \u3001 like \uff09\u3002 \u7c7b\u578b \u540d\u79f0 \u5c5e\u6027\u540d\uff08\u6570\u636e\u7c7b\u578b\uff09 \u8bf4\u660e tag player name \uff08string\uff09 age \uff08int\uff09 \u8868\u793a\u7403\u5458\u3002 tag team name \uff08string\uff09 \u8868\u793a\u7403\u961f\u3002 edge type serve start_year \uff08int\uff09 end_year \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u7403\u5458\u548c\u7403\u961f\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u7403\u5458\u5230\u7403\u961f\u3002 edge type like likeness \uff08int\uff09 \u8868\u793a\u7403\u5458\u7684\u884c\u4e3a\u3002 \u8be5\u884c\u4e3a\u5c06\u4e24\u4e2a\u7403\u5458\u8054\u7cfb\u8d77\u6765\uff0c\u65b9\u5411\u662f\u4ece\u4e00\u4e2a\u7403\u5458\u5230\u53e6\u4e00\u4e2a\u7403\u5458\u3002","title":"\u6709\u5411\u5c5e\u6027\u56fe"},{"location":"1.introduction/3.nebula-graph-architecture/1.architecture-overview/","text":"\u67b6\u6784\u603b\u89c8 \u00b6 Nebula Graph\u7531\u4e09\u79cd\u670d\u52a1\u6784\u6210\uff1aGraph\u670d\u52a1\u3001Meta\u670d\u52a1\u548cStorage\u670d\u52a1\u3002 \u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u53ef\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u5bf9\u5e94\u8fdb\u7a0b\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u8ba1\u7b97\u673a\u4e0a\u90e8\u7f72Nebula Graph\u96c6\u7fa4\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86Nebula Graph\u96c6\u7fa4\u7684\u7ecf\u5178\u67b6\u6784\u3002 Meta\u670d\u52a1 \u00b6 \u5728Nebula Graph\u67b6\u6784\u4e2d\uff0cMeta\u670d\u52a1\u662f\u7531nebula-metad\u8fdb\u7a0b\u63d0\u4f9b\u7684\uff0c\u8d1f\u8d23\u6570\u636e\u7ba1\u7406\uff0c\u4f8b\u5982Schema\u64cd\u4f5c\u3001\u96c6\u7fa4\u7ba1\u7406\u548c\u7528\u6237\u6743\u9650\u7ba1\u7406\u7b49\u3002 Meta\u670d\u52a1\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 Meta\u670d\u52a1 \u3002 Graph\u670d\u52a1\u548cStorage\u670d\u52a1 \u00b6 Nebula Graph\u91c7\u7528\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u3002Graph\u670d\u52a1\u8d1f\u8d23\u5904\u7406\u8ba1\u7b97\u8bf7\u6c42\uff0cStorage\u670d\u52a1\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\u3002\u5b83\u4eec\u7531\u4e0d\u540c\u7684\u8fdb\u7a0b\u63d0\u4f9b\uff0cGraph\u670d\u52a1\u662f\u7531nebula-graphd\u8fdb\u7a0b\u63d0\u4f9b\uff0cStorage\u670d\u52a1\u662f\u7531nebula-storaged\u8fdb\u7a0b\u63d0\u4f9b\u3002\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u7684\u4f18\u52bf\u5982\u4e0b\uff1a \u6613\u6269\u5c55 \u5206\u5e03\u5f0f\u67b6\u6784\u4fdd\u8bc1\u4e86Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u7075\u6d3b\u6027\uff0c\u65b9\u4fbf\u6269\u5bb9\u548c\u7f29\u5bb9\u3002 \u9ad8\u53ef\u7528 \u5982\u679c\u63d0\u4f9bGraph\u670d\u52a1\u7684\u670d\u52a1\u5668\u6709\u4e00\u90e8\u5206\u51fa\u73b0\u6545\u969c\uff0c\u5176\u4f59\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u670d\u52a1\uff0c\u800c\u4e14Storage\u670d\u52a1\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002\u670d\u52a1\u6062\u590d\u901f\u5ea6\u8f83\u5feb\uff0c\u751a\u81f3\u80fd\u505a\u5230\u7528\u6237\u65e0\u611f\u77e5\u3002 \u8282\u7ea6\u6210\u672c \u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u80fd\u591f\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\uff0c\u800c\u4e14\u53ef\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u7075\u6d3b\u63a7\u5236\u6210\u672c\u3002\u5982\u679c\u4f7f\u7528 Nebula Graph Cloud \uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8282\u7ea6\u6210\u672c\u3002 \u5f00\u653e\u66f4\u591a\u53ef\u80fd\u6027 \u57fa\u4e8e\u5206\u79bb\u67b6\u6784\u7684\u7279\u6027\uff0cGraph\u670d\u52a1\u53ef\u4ee5\u5728\u591a\u79cd\u5b58\u50a8\u5f15\u64ce\u4e0a\u5355\u72ec\u8fd0\u884c\uff0cStorage\u670d\u52a1\u4e5f\u53ef\u4ee5\u4e3a\u591a\u79cd\u8ba1\u7b97\u5f15\u64ce\u63d0\u4f9b\u670d\u52a1\u3002 Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 Graph\u670d\u52a1 \u548c Storage\u670d\u52a1 \u3002","title":"\u67b6\u6784\u603b\u89c8"},{"location":"1.introduction/3.nebula-graph-architecture/1.architecture-overview/#_1","text":"Nebula Graph\u7531\u4e09\u79cd\u670d\u52a1\u6784\u6210\uff1aGraph\u670d\u52a1\u3001Meta\u670d\u52a1\u548cStorage\u670d\u52a1\u3002 \u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u53ef\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u5bf9\u5e94\u8fdb\u7a0b\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u8ba1\u7b97\u673a\u4e0a\u90e8\u7f72Nebula Graph\u96c6\u7fa4\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86Nebula Graph\u96c6\u7fa4\u7684\u7ecf\u5178\u67b6\u6784\u3002","title":"\u67b6\u6784\u603b\u89c8"},{"location":"1.introduction/3.nebula-graph-architecture/1.architecture-overview/#meta","text":"\u5728Nebula Graph\u67b6\u6784\u4e2d\uff0cMeta\u670d\u52a1\u662f\u7531nebula-metad\u8fdb\u7a0b\u63d0\u4f9b\u7684\uff0c\u8d1f\u8d23\u6570\u636e\u7ba1\u7406\uff0c\u4f8b\u5982Schema\u64cd\u4f5c\u3001\u96c6\u7fa4\u7ba1\u7406\u548c\u7528\u6237\u6743\u9650\u7ba1\u7406\u7b49\u3002 Meta\u670d\u52a1\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 Meta\u670d\u52a1 \u3002","title":"Meta\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/1.architecture-overview/#graphstorage","text":"Nebula Graph\u91c7\u7528\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u3002Graph\u670d\u52a1\u8d1f\u8d23\u5904\u7406\u8ba1\u7b97\u8bf7\u6c42\uff0cStorage\u670d\u52a1\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\u3002\u5b83\u4eec\u7531\u4e0d\u540c\u7684\u8fdb\u7a0b\u63d0\u4f9b\uff0cGraph\u670d\u52a1\u662f\u7531nebula-graphd\u8fdb\u7a0b\u63d0\u4f9b\uff0cStorage\u670d\u52a1\u662f\u7531nebula-storaged\u8fdb\u7a0b\u63d0\u4f9b\u3002\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u7684\u4f18\u52bf\u5982\u4e0b\uff1a \u6613\u6269\u5c55 \u5206\u5e03\u5f0f\u67b6\u6784\u4fdd\u8bc1\u4e86Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u7075\u6d3b\u6027\uff0c\u65b9\u4fbf\u6269\u5bb9\u548c\u7f29\u5bb9\u3002 \u9ad8\u53ef\u7528 \u5982\u679c\u63d0\u4f9bGraph\u670d\u52a1\u7684\u670d\u52a1\u5668\u6709\u4e00\u90e8\u5206\u51fa\u73b0\u6545\u969c\uff0c\u5176\u4f59\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u670d\u52a1\uff0c\u800c\u4e14Storage\u670d\u52a1\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002\u670d\u52a1\u6062\u590d\u901f\u5ea6\u8f83\u5feb\uff0c\u751a\u81f3\u80fd\u505a\u5230\u7528\u6237\u65e0\u611f\u77e5\u3002 \u8282\u7ea6\u6210\u672c \u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\u80fd\u591f\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\uff0c\u800c\u4e14\u53ef\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u7075\u6d3b\u63a7\u5236\u6210\u672c\u3002\u5982\u679c\u4f7f\u7528 Nebula Graph Cloud \uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8282\u7ea6\u6210\u672c\u3002 \u5f00\u653e\u66f4\u591a\u53ef\u80fd\u6027 \u57fa\u4e8e\u5206\u79bb\u67b6\u6784\u7684\u7279\u6027\uff0cGraph\u670d\u52a1\u53ef\u4ee5\u5728\u591a\u79cd\u5b58\u50a8\u5f15\u64ce\u4e0a\u5355\u72ec\u8fd0\u884c\uff0cStorage\u670d\u52a1\u4e5f\u53ef\u4ee5\u4e3a\u591a\u79cd\u8ba1\u7b97\u5f15\u64ce\u63d0\u4f9b\u670d\u52a1\u3002 Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 Graph\u670d\u52a1 \u548c Storage\u670d\u52a1 \u3002","title":"Graph\u670d\u52a1\u548cStorage\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/","text":"Meta\u670d\u52a1 \u00b6 \u672c\u6587\u4ecb\u7ecdMeta\u670d\u52a1\u7684\u67b6\u6784\u548c\u529f\u80fd\u3002 Meta\u670d\u52a1\u67b6\u6784 \u00b6 Meta\u670d\u52a1\u662f\u7531nebula-metad\u8fdb\u7a0b\u63d0\u4f9b\u7684\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u573a\u666f\u914d\u7f6enebula-metad\u8fdb\u7a0b\u6570\u91cf\uff1a \u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5728Nebula Graph\u96c6\u7fa4\u4e2d\u90e8\u7f721\u4e2a\u62163\u4e2anebula-metad\u8fdb\u7a0b\u3002\u5982\u679c\u8981\u90e8\u7f723\u4e2a\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u90e8\u7f72\u57281\u53f0\u673a\u5668\u4e0a\uff0c\u6216\u8005\u5206\u522b\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u3002 \u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5efa\u8bae\u60a8\u5728Nebula Graph\u96c6\u7fa4\u4e2d\u90e8\u7f723\u4e2anebula-metad\u8fdb\u7a0b\u3002\u8bf7\u5c06\u8fd9\u4e9b\u8fdb\u7a0b\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u4ee5\u4fdd\u8bc1\u9ad8\u53ef\u7528\u3002 \u6240\u6709nebula-metad\u8fdb\u7a0b\u6784\u6210\u4e86\u57fa\u4e8eRaft\u534f\u8bae\u7684\u96c6\u7fa4\uff0c\u5176\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u662fleader\uff0c\u5176\u4ed6\u8fdb\u7a0b\u90fd\u662ffollower\u3002 leader\u662f\u7531\u591a\u6570\u6d3e\u9009\u4e3e\u51fa\u6765\uff0c\u53ea\u6709leader\u80fd\u591f\u5bf9\u5ba2\u6237\u7aef\u6216\u5176\u4ed6\u7ec4\u4ef6\u63d0\u4f9b\u670d\u52a1\uff0c\u5176\u4ed6follower\u4f5c\u4e3a\u5019\u8865\uff0c\u5982\u679cleader\u51fa\u73b0\u6545\u969c\uff0c\u4f1a\u5728\u6240\u6709follower\u4e2d\u9009\u4e3e\u51fa\u65b0\u7684leader\u3002 \u8bf4\u660e \uff1aleader\u548cfollower\u7684\u6570\u636e\u901a\u8fc7Raft\u534f\u8bae\u4fdd\u6301\u4e00\u81f4\uff0c\u56e0\u6b64leader\u6545\u969c\u548c\u9009\u4e3e\u65b0leader\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002 Meta\u670d\u52a1\u529f\u80fd \u00b6 \u7ba1\u7406\u7528\u6237\u8d26\u53f7 \u00b6 Meta\u670d\u52a1\u4e2d\u5b58\u50a8\u4e86\u7528\u6237\u7684\u8d26\u53f7\u548c\u6743\u9650\u4fe1\u606f\uff0c\u5f53\u5ba2\u6237\u7aef\u901a\u8fc7\u8d26\u53f7\u53d1\u9001\u8bf7\u6c42\u7ed9Meta\u670d\u52a1\uff0cMeta\u670d\u52a1\u4f1a\u68c0\u67e5\u8d26\u53f7\u4fe1\u606f\uff0c\u4ee5\u53ca\u8be5\u8d26\u53f7\u662f\u5426\u6709\u5bf9\u5e94\u7684\u8bf7\u6c42\u6743\u9650\u3002 \u66f4\u591aNebula Graph\u7684\u8bbf\u95ee\u63a7\u5236\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002 \u7ba1\u7406\u5206\u7247 \u00b6 Meta\u670d\u52a1\u8d1f\u8d23\u5b58\u50a8\u548c\u7ba1\u7406\u5206\u7247\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u5e76\u4e14\u4fdd\u8bc1\u5206\u7247\u7684\u8d1f\u8f7d\u5747\u8861\u3002 \u7ba1\u7406\u56fe\u7a7a\u95f4 \u00b6 Nebula Graph\u652f\u6301\u591a\u4e2a\u56fe\u7a7a\u95f4\uff0c\u4e0d\u540c\u56fe\u7a7a\u95f4\u5185\u7684\u6570\u636e\u662f\u5b89\u5168\u9694\u79bb\u7684\u3002Meta\u670d\u52a1\u5b58\u50a8\u6240\u6709\u56fe\u7a7a\u95f4\u7684\u5143\u6570\u636e\uff08\u975e\u5b8c\u6574\u6570\u636e\uff09\uff0c\u5e76\u8ddf\u8e2a\u6570\u636e\u7684\u53d8\u66f4\uff0c\u4f8b\u5982\u589e\u52a0\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002 \u7ba1\u7406Schema\u4fe1\u606f \u00b6 Nebula Graph\u662f\u5f3a\u7c7b\u578b\u56fe\u6570\u636e\u5e93\uff0c\u5b83\u7684Schema\u5305\u62ec\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u3001\u6807\u7b7e\u5c5e\u6027\u548c\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 Meta\u670d\u52a1\u4e2d\u5b58\u50a8\u4e86Schema\u4fe1\u606f\uff0c\u540c\u65f6\u8fd8\u8d1f\u8d23Schema\u7684\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\uff0c\u5e76\u8bb0\u5f55\u5b83\u4eec\u7684\u7248\u672c\u3002 \u66f4\u591aNebula Graph\u7684Schema\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u6570\u636e\u6a21\u578b \u3002 \u7ba1\u7406\u57fa\u4e8eTTL\u7684\u6570\u636e\u56de\u6536 \u00b6 Meta\u670d\u52a1\u63d0\u4f9b\u57fa\u4e8eTTL\uff08time to live\uff09\u7684\u81ea\u52a8\u6570\u636e\u56de\u6536\u548c\u7a7a\u95f4\u56de\u6536\u3002 \u7ba1\u7406\u4f5c\u4e1a \u00b6 Meta\u670d\u52a1\u4e2d\u7684\u4f5c\u4e1a\u7ba1\u7406\u6a21\u5757\u8d1f\u8d23\u4f5c\u4e1a\u7684\u521b\u5efa\u3001\u6392\u961f\u3001\u67e5\u8be2\u548c\u5220\u9664\u3002","title":"Meta\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#meta","text":"\u672c\u6587\u4ecb\u7ecdMeta\u670d\u52a1\u7684\u67b6\u6784\u548c\u529f\u80fd\u3002","title":"Meta\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#meta_1","text":"Meta\u670d\u52a1\u662f\u7531nebula-metad\u8fdb\u7a0b\u63d0\u4f9b\u7684\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u573a\u666f\u914d\u7f6enebula-metad\u8fdb\u7a0b\u6570\u91cf\uff1a \u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5728Nebula Graph\u96c6\u7fa4\u4e2d\u90e8\u7f721\u4e2a\u62163\u4e2anebula-metad\u8fdb\u7a0b\u3002\u5982\u679c\u8981\u90e8\u7f723\u4e2a\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u90e8\u7f72\u57281\u53f0\u673a\u5668\u4e0a\uff0c\u6216\u8005\u5206\u522b\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u3002 \u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5efa\u8bae\u60a8\u5728Nebula Graph\u96c6\u7fa4\u4e2d\u90e8\u7f723\u4e2anebula-metad\u8fdb\u7a0b\u3002\u8bf7\u5c06\u8fd9\u4e9b\u8fdb\u7a0b\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u4ee5\u4fdd\u8bc1\u9ad8\u53ef\u7528\u3002 \u6240\u6709nebula-metad\u8fdb\u7a0b\u6784\u6210\u4e86\u57fa\u4e8eRaft\u534f\u8bae\u7684\u96c6\u7fa4\uff0c\u5176\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u662fleader\uff0c\u5176\u4ed6\u8fdb\u7a0b\u90fd\u662ffollower\u3002 leader\u662f\u7531\u591a\u6570\u6d3e\u9009\u4e3e\u51fa\u6765\uff0c\u53ea\u6709leader\u80fd\u591f\u5bf9\u5ba2\u6237\u7aef\u6216\u5176\u4ed6\u7ec4\u4ef6\u63d0\u4f9b\u670d\u52a1\uff0c\u5176\u4ed6follower\u4f5c\u4e3a\u5019\u8865\uff0c\u5982\u679cleader\u51fa\u73b0\u6545\u969c\uff0c\u4f1a\u5728\u6240\u6709follower\u4e2d\u9009\u4e3e\u51fa\u65b0\u7684leader\u3002 \u8bf4\u660e \uff1aleader\u548cfollower\u7684\u6570\u636e\u901a\u8fc7Raft\u534f\u8bae\u4fdd\u6301\u4e00\u81f4\uff0c\u56e0\u6b64leader\u6545\u969c\u548c\u9009\u4e3e\u65b0leader\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002","title":"Meta\u670d\u52a1\u67b6\u6784"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#meta_2","text":"","title":"Meta\u670d\u52a1\u529f\u80fd"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#_1","text":"Meta\u670d\u52a1\u4e2d\u5b58\u50a8\u4e86\u7528\u6237\u7684\u8d26\u53f7\u548c\u6743\u9650\u4fe1\u606f\uff0c\u5f53\u5ba2\u6237\u7aef\u901a\u8fc7\u8d26\u53f7\u53d1\u9001\u8bf7\u6c42\u7ed9Meta\u670d\u52a1\uff0cMeta\u670d\u52a1\u4f1a\u68c0\u67e5\u8d26\u53f7\u4fe1\u606f\uff0c\u4ee5\u53ca\u8be5\u8d26\u53f7\u662f\u5426\u6709\u5bf9\u5e94\u7684\u8bf7\u6c42\u6743\u9650\u3002 \u66f4\u591aNebula Graph\u7684\u8bbf\u95ee\u63a7\u5236\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002","title":"\u7ba1\u7406\u7528\u6237\u8d26\u53f7"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#_2","text":"Meta\u670d\u52a1\u8d1f\u8d23\u5b58\u50a8\u548c\u7ba1\u7406\u5206\u7247\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u5e76\u4e14\u4fdd\u8bc1\u5206\u7247\u7684\u8d1f\u8f7d\u5747\u8861\u3002","title":"\u7ba1\u7406\u5206\u7247"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#_3","text":"Nebula Graph\u652f\u6301\u591a\u4e2a\u56fe\u7a7a\u95f4\uff0c\u4e0d\u540c\u56fe\u7a7a\u95f4\u5185\u7684\u6570\u636e\u662f\u5b89\u5168\u9694\u79bb\u7684\u3002Meta\u670d\u52a1\u5b58\u50a8\u6240\u6709\u56fe\u7a7a\u95f4\u7684\u5143\u6570\u636e\uff08\u975e\u5b8c\u6574\u6570\u636e\uff09\uff0c\u5e76\u8ddf\u8e2a\u6570\u636e\u7684\u53d8\u66f4\uff0c\u4f8b\u5982\u589e\u52a0\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002","title":"\u7ba1\u7406\u56fe\u7a7a\u95f4"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#schema","text":"Nebula Graph\u662f\u5f3a\u7c7b\u578b\u56fe\u6570\u636e\u5e93\uff0c\u5b83\u7684Schema\u5305\u62ec\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u3001\u6807\u7b7e\u5c5e\u6027\u548c\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 Meta\u670d\u52a1\u4e2d\u5b58\u50a8\u4e86Schema\u4fe1\u606f\uff0c\u540c\u65f6\u8fd8\u8d1f\u8d23Schema\u7684\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\uff0c\u5e76\u8bb0\u5f55\u5b83\u4eec\u7684\u7248\u672c\u3002 \u66f4\u591aNebula Graph\u7684Schema\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u6570\u636e\u6a21\u578b \u3002","title":"\u7ba1\u7406Schema\u4fe1\u606f"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#ttl","text":"Meta\u670d\u52a1\u63d0\u4f9b\u57fa\u4e8eTTL\uff08time to live\uff09\u7684\u81ea\u52a8\u6570\u636e\u56de\u6536\u548c\u7a7a\u95f4\u56de\u6536\u3002","title":"\u7ba1\u7406\u57fa\u4e8eTTL\u7684\u6570\u636e\u56de\u6536"},{"location":"1.introduction/3.nebula-graph-architecture/2.meta-service/#_4","text":"Meta\u670d\u52a1\u4e2d\u7684\u4f5c\u4e1a\u7ba1\u7406\u6a21\u5757\u8d1f\u8d23\u4f5c\u4e1a\u7684\u521b\u5efa\u3001\u6392\u961f\u3001\u67e5\u8be2\u548c\u5220\u9664\u3002","title":"\u7ba1\u7406\u4f5c\u4e1a"},{"location":"1.introduction/3.nebula-graph-architecture/3.graph-service/","text":"Graph\u670d\u52a1 \u00b6 \u8bf4\u660e \uff1a\u7f16\u5199\u8be5\u6587\u6863\u662f\u4e0b\u4e00\u4e2aNebula Graph\u6280\u672f\u6587\u6863\u5de5\u7a0b\u5e08\u7684\u57f9\u8bad\u4efb\u52a1\u3002\u5982\u679c\u60a8\u60f3\u4e86\u89e3Graph\u670d\u52a1\uff0c\u8bf7\u53c2\u89c1 Nebula Graph 2.0 Query Engine \u3002","title":"Graph\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/3.graph-service/#graph","text":"\u8bf4\u660e \uff1a\u7f16\u5199\u8be5\u6587\u6863\u662f\u4e0b\u4e00\u4e2aNebula Graph\u6280\u672f\u6587\u6863\u5de5\u7a0b\u5e08\u7684\u57f9\u8bad\u4efb\u52a1\u3002\u5982\u679c\u60a8\u60f3\u4e86\u89e3Graph\u670d\u52a1\uff0c\u8bf7\u53c2\u89c1 Nebula Graph 2.0 Query Engine \u3002","title":"Graph\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/4.storage-service/","text":"Storage\u670d\u52a1 \u00b6 \u8bf4\u660e \uff1a\u8be5\u6587\u6863\u6b63\u7528\u4e8e\u62db\u8058\u6d4b\u8bd5\u4e2d\uff0c\u56e0\u6b64\u5b98\u65b9\u7248\u672c\u5c06\u5728\u56db\u6708\u5e95\u53d1\u5e03\u3002\u5982\u679c\u4f60\u60f3\u52a0\u5165\u6211\u4eec\u7684\u56e2\u961f\uff0c\u8bf7\u968f\u65f6 \u8054\u7cfb\u6211\u4eec \u3002\u5982\u679c\u611f\u5174\u8da3\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u8bdd\u9898 \u63d0\u4ea4\u8d21\u732e \u3002 \u53c2\u8003\u6587\u6863 Nebula Graph's Storage Engine Architecture overview Meta Service","title":"Storage\u670d\u52a1"},{"location":"1.introduction/3.nebula-graph-architecture/4.storage-service/#storage","text":"\u8bf4\u660e \uff1a\u8be5\u6587\u6863\u6b63\u7528\u4e8e\u62db\u8058\u6d4b\u8bd5\u4e2d\uff0c\u56e0\u6b64\u5b98\u65b9\u7248\u672c\u5c06\u5728\u56db\u6708\u5e95\u53d1\u5e03\u3002\u5982\u679c\u4f60\u60f3\u52a0\u5165\u6211\u4eec\u7684\u56e2\u961f\uff0c\u8bf7\u968f\u65f6 \u8054\u7cfb\u6211\u4eec \u3002\u5982\u679c\u611f\u5174\u8da3\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u8bdd\u9898 \u63d0\u4ea4\u8d21\u732e \u3002 \u53c2\u8003\u6587\u6863 Nebula Graph's Storage Engine Architecture overview Meta Service","title":"Storage\u670d\u52a1"},{"location":"15.contribution/how-to-contribute/","text":"\u5982\u4f55\u8d21\u732e\u4ee3\u7801\u548c\u6587\u6863 \u00b6 \u5f00\u59cb\u4e4b\u524d \u00b6 github\u6216\u793e\u533a\u63d0\u4ea4\u95ee\u9898 \u00b6 \u6b22\u8fce\u60a8\u4e3a\u9879\u76ee\u8d21\u732e\u4efb\u4f55\u4ee3\u7801\u6216\u6587\u6863\uff0c\u4f46\u662f\u5efa\u8bae\u60a8\u5148\u5728 github \u6216 \u793e\u533a \u4e0a\u63d0\u4ea4\u4e00\u4e2a\u95ee\u9898\uff0c\u548c\u5927\u5bb6\u5171\u540c\u8ba8\u8bba\u3002 \u7b7e\u7f72\u8d21\u732e\u8005\u8bb8\u53ef\u534f\u8bae\uff08CLA\uff09 \u00b6 \u4ec0\u4e48\u662f CLA \uff1f \u7b7e\u7f72\u534f\u8bae\u94fe\u63a5\uff1a vesoft inc. Contributor License Agreement \u5355\u51fb\u6309\u94ae Sign in with GitHub to agree \u7b7e\u7f72\u534f\u8bae\u3002 \u5982\u679c\u60a8\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u53d1\u9001\u90ae\u4ef6\u81f3 info@vesoft.com \u3002 Step 1\uff1a\u901a\u8fc7GitHub fork\u4ed3\u5e93 \u00b6 Nebula Graph\u9879\u76ee\u6709\u5f88\u591a \u4ed3\u5e93 \uff0c\u4ee5 nebula-graph\u4ed3\u5e93 \u4e3a\u4f8b\uff1a \u8bbf\u95ee https://github.com/vesoft-inc/nebula-graph \u3002 \u5728\u53f3\u4e0a\u89d2\u5355\u51fb\u6309\u94ae Fork \uff0c\u7136\u540e\u5355\u51fb\u7528\u6237\u540d\uff0c\u5373\u53effork\u51fanebula-graph\u4ed3\u5e93\u3002 Step 2\uff1a\u5c06\u5206\u652f\u514b\u9686\u5230\u672c\u5730 \u00b6 \u5b9a\u4e49\u672c\u5730\u5de5\u4f5c\u76ee\u5f55\u3002 # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55\u3002 working_dir = $HOME /Workspace \u5c06 user \u8bbe\u7f6e\u4e3aGitHub\u7684\u7528\u6237\u540d\u3002 user ={ GitHub\u7528\u6237\u540d } \u514b\u9686\u4ee3\u7801\u3002 mkdir -p $working_dir cd $working_dir git clone https://github.com/ $user /nebula-graph.git # \u6216\uff1agit clone git@github.com:$user/nebula-graph.git cd $working_dir /nebula git remote add upstream https://github.com/vesoft-inc/nebula-graph.git # \u6216\uff1agit remote add upstream git@github.com:vesoft-inc/nebula-graph.git # \u7531\u4e8e\u6ca1\u6709\u5199\u8bbf\u95ee\u6743\u9650\uff0c\u8bf7\u52ff\u63a8\u9001\u81f3\u4e0a\u6e38\u4e3b\u5206\u652f\u3002 git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548\u3002 # \u6b63\u786e\u7684\u683c\u5f0f\u4e3a\uff1a # origin git@github.com:$(user)/nebula-graph.git (fetch) # origin git@github.com:$(user)/nebula-graph.git (push) # upstream https://github.com/vesoft-inc/nebula-graph (fetch) # upstream no_push (push) git remote -v \u5b9a\u4e49pre-commit hook \u00b6 \u8bf7\u5c06Nebula Graph\u7684pre-commit hook\u8fde\u63a5\u5230\u60a8\u7684 .git \u76ee\u5f55\u3002 hook\u5c06\u68c0\u67e5\u60a8\u7684commit\uff0c\u5305\u62ec\u683c\u5f0f\u3001\u6784\u5efa\u3001\u6587\u6863\u751f\u6210\u7b49\u3002 cd $working_dir /nebula-graph/.git/hooks ln -s $working_dir /nebula-graph/.linters/cpp/hooks/pre-commit.sh . pre-commit hook\u6709\u65f6\u5019\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u6267\u884c\uff0c\u60a8\u5fc5\u987b\u624b\u52a8\u6267\u884c\u3002 cd $working_dir /nebula-graph/.git/hooks chmod +x pre-commit Step 3\uff1a\u5206\u652f \u00b6 \u66f4\u65b0\u672c\u5730\u4e3b\u5206\u652f\u3002 cd $working_dir /nebula git fetch upstream git checkout master git rebase upstream/master \u4ece\u4e3b\u5206\u652f\u521b\u5efa\u5e76\u5207\u6362\u5206\u652f\uff1a git checkout -b myfeature \u8bf4\u660e \uff1a\u7531\u4e8e\u4e00\u4e2aPR\u901a\u5e38\u5305\u542b\u591a\u4e2acommit\uff0c\u5728\u5408\u5e76\u81f3master\u65f6\u5bb9\u6613\u88ab\u6324\u538b\uff08squash\uff09\uff0c\u56e0\u6b64\u5f3a\u70c8\u5efa\u8bae\u60a8\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684\u5206\u652f\u8fdb\u884c\u66f4\u6539\u3002\u5408\u5e76\u540e\uff0c\u8fd9\u4e2a\u5206\u652f\u53ef\u4ee5\u88ab\u4e22\u5f03\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0rebase\u547d\u4ee4\u5c06\u672c\u5730master\u4e0eupstream\u540c\u6b65\u3002\u6b64\u5916\uff0c\u5982\u679c\u76f4\u63a5\u5c06commit\u63d0\u4ea4\u81f3 master\uff0c\u60a8\u53ef\u4ee5\u9700\u8981\u5728master\u5206\u652f\u4f7f\u7528hard reset\uff0c\u4f8b\u5982\uff1a git fetch upstream git checkout master git reset --hard upstream/master git push --force origin master Step 4\uff1a\u5f00\u53d1 \u00b6 \u4ee3\u7801\u98ce\u683c \u00b6 Nebula Graph \u91c7\u7528 cpplint \u6765\u786e\u4fdd\u4ee3\u7801\u7b26\u5408Google\u7684\u4ee3\u7801\u98ce\u683c\u6307\u5357\u3002\u68c0\u67e5\u5668\u5c06\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u6267\u884c\u3002 \u5355\u5143\u6d4b\u8bd5\u8981\u6c42 \u00b6 \u8bf7\u4e3a\u60a8\u7684\u65b0\u529f\u80fd\u6216Bug\u4fee\u590d\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u3002 \u6784\u5efa\u4ee3\u7801\u65f6\u5f00\u542f\u5355\u5143\u6d4b\u8bd5 \u00b6 \u8be6\u60c5\u8bf7\u53c2\u89c1 \u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph \u3002 \u8bf4\u660e \uff1a\u8bf7\u786e\u4fdd\u5df2\u8bbe\u7f6e -DENABLE_TESTING = ON \u542f\u7528\u6784\u5efa\u5355\u5143\u6d4b\u8bd5\u3002 \u8fd0\u884c\u6240\u6709\u5355\u5143\u6d4b\u8bd5 \u00b6 \u5728 nebula \u6839\u76ee\u5f55\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd nebula/build ctest -j $( nproc ) Step 5\uff1a\u4fdd\u6301\u5206\u652f\u540c\u6b65 \u00b6 # \u5f53\u5904\u4e8emyfeature\u5206\u652f\u65f6\u3002 git fetch upstream git rebase upstream/master \u5728\u5176\u4ed6\u8d21\u732e\u8005\u5c06PR\u5408\u5e76\u5230\u57fa\u7840\u5206\u652f\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u66f4\u65b0head\u5206\u652f\u3002 Step 6\uff1aCommit \u00b6 \u63d0\u4ea4\u4ee3\u7801\u66f4\u6539\uff1a git commit -a \u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 --amend \u91cd\u65b0\u7f16\u8f91\u4e4b\u524d\u7684\u4ee3\u7801\u3002 Step 7\uff1aPush \u00b6 \u9700\u8981\u5ba1\u6838\u6216\u79bb\u7ebf\u5907\u4efd\u4ee3\u7801\u65f6\uff0c\u53ef\u4ee5\u5c06\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u7684\u5206\u652fpush\u5230GitHub\u7684\u8fdc\u7a0b\u4ed3\u5e93\u3002 git push origin myfeature Step 8\uff1a\u521b\u5efapull request \u00b6 \u8bbf\u95eefork\u51fa\u7684\u4ed3\u5e93 https://github.com/$user/nebula-graph (\u66ff\u6362\u6b64\u5904\u7684\u7528\u6237\u540d $user )\u3002 \u5355\u51fb myfeature \u5206\u652f\u65c1\u7684\u6309\u94ae Compare & pull request \u3002 Step 9\uff1a\u4ee3\u7801\u5ba1\u67e5 \u00b6 pull request\u521b\u5efa\u540e\uff0c\u81f3\u5c11\u9700\u8981\u4e24\u4eba\u5ba1\u67e5\u3002\u5ba1\u67e5\u4eba\u5458\u5c06\u8fdb\u884c\u5f7b\u5e95\u7684\u4ee3\u7801\u5ba1\u67e5\uff0c\u4ee5\u786e\u4fdd\u53d8\u66f4\u6ee1\u8db3\u5b58\u50a8\u5e93\u7684\u8d21\u732e\u51c6\u5219\u548c\u5176\u4ed6\u8d28\u91cf\u6807\u51c6\u3002","title":"\u5982\u4f55\u8d21\u732e"},{"location":"15.contribution/how-to-contribute/#_1","text":"","title":"\u5982\u4f55\u8d21\u732e\u4ee3\u7801\u548c\u6587\u6863"},{"location":"15.contribution/how-to-contribute/#_2","text":"","title":"\u5f00\u59cb\u4e4b\u524d"},{"location":"15.contribution/how-to-contribute/#github","text":"\u6b22\u8fce\u60a8\u4e3a\u9879\u76ee\u8d21\u732e\u4efb\u4f55\u4ee3\u7801\u6216\u6587\u6863\uff0c\u4f46\u662f\u5efa\u8bae\u60a8\u5148\u5728 github \u6216 \u793e\u533a \u4e0a\u63d0\u4ea4\u4e00\u4e2a\u95ee\u9898\uff0c\u548c\u5927\u5bb6\u5171\u540c\u8ba8\u8bba\u3002","title":"github\u6216\u793e\u533a\u63d0\u4ea4\u95ee\u9898"},{"location":"15.contribution/how-to-contribute/#cla","text":"\u4ec0\u4e48\u662f CLA \uff1f \u7b7e\u7f72\u534f\u8bae\u94fe\u63a5\uff1a vesoft inc. Contributor License Agreement \u5355\u51fb\u6309\u94ae Sign in with GitHub to agree \u7b7e\u7f72\u534f\u8bae\u3002 \u5982\u679c\u60a8\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u53d1\u9001\u90ae\u4ef6\u81f3 info@vesoft.com \u3002","title":"\u7b7e\u7f72\u8d21\u732e\u8005\u8bb8\u53ef\u534f\u8bae\uff08CLA\uff09"},{"location":"15.contribution/how-to-contribute/#step_1github_fork","text":"Nebula Graph\u9879\u76ee\u6709\u5f88\u591a \u4ed3\u5e93 \uff0c\u4ee5 nebula-graph\u4ed3\u5e93 \u4e3a\u4f8b\uff1a \u8bbf\u95ee https://github.com/vesoft-inc/nebula-graph \u3002 \u5728\u53f3\u4e0a\u89d2\u5355\u51fb\u6309\u94ae Fork \uff0c\u7136\u540e\u5355\u51fb\u7528\u6237\u540d\uff0c\u5373\u53effork\u51fanebula-graph\u4ed3\u5e93\u3002","title":"Step 1\uff1a\u901a\u8fc7GitHub fork\u4ed3\u5e93"},{"location":"15.contribution/how-to-contribute/#step_2","text":"\u5b9a\u4e49\u672c\u5730\u5de5\u4f5c\u76ee\u5f55\u3002 # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55\u3002 working_dir = $HOME /Workspace \u5c06 user \u8bbe\u7f6e\u4e3aGitHub\u7684\u7528\u6237\u540d\u3002 user ={ GitHub\u7528\u6237\u540d } \u514b\u9686\u4ee3\u7801\u3002 mkdir -p $working_dir cd $working_dir git clone https://github.com/ $user /nebula-graph.git # \u6216\uff1agit clone git@github.com:$user/nebula-graph.git cd $working_dir /nebula git remote add upstream https://github.com/vesoft-inc/nebula-graph.git # \u6216\uff1agit remote add upstream git@github.com:vesoft-inc/nebula-graph.git # \u7531\u4e8e\u6ca1\u6709\u5199\u8bbf\u95ee\u6743\u9650\uff0c\u8bf7\u52ff\u63a8\u9001\u81f3\u4e0a\u6e38\u4e3b\u5206\u652f\u3002 git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548\u3002 # \u6b63\u786e\u7684\u683c\u5f0f\u4e3a\uff1a # origin git@github.com:$(user)/nebula-graph.git (fetch) # origin git@github.com:$(user)/nebula-graph.git (push) # upstream https://github.com/vesoft-inc/nebula-graph (fetch) # upstream no_push (push) git remote -v","title":"Step 2\uff1a\u5c06\u5206\u652f\u514b\u9686\u5230\u672c\u5730"},{"location":"15.contribution/how-to-contribute/#pre-commit_hook","text":"\u8bf7\u5c06Nebula Graph\u7684pre-commit hook\u8fde\u63a5\u5230\u60a8\u7684 .git \u76ee\u5f55\u3002 hook\u5c06\u68c0\u67e5\u60a8\u7684commit\uff0c\u5305\u62ec\u683c\u5f0f\u3001\u6784\u5efa\u3001\u6587\u6863\u751f\u6210\u7b49\u3002 cd $working_dir /nebula-graph/.git/hooks ln -s $working_dir /nebula-graph/.linters/cpp/hooks/pre-commit.sh . pre-commit hook\u6709\u65f6\u5019\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u6267\u884c\uff0c\u60a8\u5fc5\u987b\u624b\u52a8\u6267\u884c\u3002 cd $working_dir /nebula-graph/.git/hooks chmod +x pre-commit","title":"\u5b9a\u4e49pre-commit hook"},{"location":"15.contribution/how-to-contribute/#step_3","text":"\u66f4\u65b0\u672c\u5730\u4e3b\u5206\u652f\u3002 cd $working_dir /nebula git fetch upstream git checkout master git rebase upstream/master \u4ece\u4e3b\u5206\u652f\u521b\u5efa\u5e76\u5207\u6362\u5206\u652f\uff1a git checkout -b myfeature \u8bf4\u660e \uff1a\u7531\u4e8e\u4e00\u4e2aPR\u901a\u5e38\u5305\u542b\u591a\u4e2acommit\uff0c\u5728\u5408\u5e76\u81f3master\u65f6\u5bb9\u6613\u88ab\u6324\u538b\uff08squash\uff09\uff0c\u56e0\u6b64\u5f3a\u70c8\u5efa\u8bae\u60a8\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684\u5206\u652f\u8fdb\u884c\u66f4\u6539\u3002\u5408\u5e76\u540e\uff0c\u8fd9\u4e2a\u5206\u652f\u53ef\u4ee5\u88ab\u4e22\u5f03\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0rebase\u547d\u4ee4\u5c06\u672c\u5730master\u4e0eupstream\u540c\u6b65\u3002\u6b64\u5916\uff0c\u5982\u679c\u76f4\u63a5\u5c06commit\u63d0\u4ea4\u81f3 master\uff0c\u60a8\u53ef\u4ee5\u9700\u8981\u5728master\u5206\u652f\u4f7f\u7528hard reset\uff0c\u4f8b\u5982\uff1a git fetch upstream git checkout master git reset --hard upstream/master git push --force origin master","title":"Step 3\uff1a\u5206\u652f"},{"location":"15.contribution/how-to-contribute/#step_4","text":"","title":"Step 4\uff1a\u5f00\u53d1"},{"location":"15.contribution/how-to-contribute/#_3","text":"Nebula Graph \u91c7\u7528 cpplint \u6765\u786e\u4fdd\u4ee3\u7801\u7b26\u5408Google\u7684\u4ee3\u7801\u98ce\u683c\u6307\u5357\u3002\u68c0\u67e5\u5668\u5c06\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u6267\u884c\u3002","title":"\u4ee3\u7801\u98ce\u683c"},{"location":"15.contribution/how-to-contribute/#_4","text":"\u8bf7\u4e3a\u60a8\u7684\u65b0\u529f\u80fd\u6216Bug\u4fee\u590d\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u3002","title":"\u5355\u5143\u6d4b\u8bd5\u8981\u6c42"},{"location":"15.contribution/how-to-contribute/#_5","text":"\u8be6\u60c5\u8bf7\u53c2\u89c1 \u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph \u3002 \u8bf4\u660e \uff1a\u8bf7\u786e\u4fdd\u5df2\u8bbe\u7f6e -DENABLE_TESTING = ON \u542f\u7528\u6784\u5efa\u5355\u5143\u6d4b\u8bd5\u3002","title":"\u6784\u5efa\u4ee3\u7801\u65f6\u5f00\u542f\u5355\u5143\u6d4b\u8bd5"},{"location":"15.contribution/how-to-contribute/#_6","text":"\u5728 nebula \u6839\u76ee\u5f55\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd nebula/build ctest -j $( nproc )","title":"\u8fd0\u884c\u6240\u6709\u5355\u5143\u6d4b\u8bd5"},{"location":"15.contribution/how-to-contribute/#step_5","text":"# \u5f53\u5904\u4e8emyfeature\u5206\u652f\u65f6\u3002 git fetch upstream git rebase upstream/master \u5728\u5176\u4ed6\u8d21\u732e\u8005\u5c06PR\u5408\u5e76\u5230\u57fa\u7840\u5206\u652f\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u66f4\u65b0head\u5206\u652f\u3002","title":"Step 5\uff1a\u4fdd\u6301\u5206\u652f\u540c\u6b65"},{"location":"15.contribution/how-to-contribute/#step_6commit","text":"\u63d0\u4ea4\u4ee3\u7801\u66f4\u6539\uff1a git commit -a \u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 --amend \u91cd\u65b0\u7f16\u8f91\u4e4b\u524d\u7684\u4ee3\u7801\u3002","title":"Step 6\uff1aCommit"},{"location":"15.contribution/how-to-contribute/#step_7push","text":"\u9700\u8981\u5ba1\u6838\u6216\u79bb\u7ebf\u5907\u4efd\u4ee3\u7801\u65f6\uff0c\u53ef\u4ee5\u5c06\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u7684\u5206\u652fpush\u5230GitHub\u7684\u8fdc\u7a0b\u4ed3\u5e93\u3002 git push origin myfeature","title":"Step 7\uff1aPush"},{"location":"15.contribution/how-to-contribute/#step_8pull_request","text":"\u8bbf\u95eefork\u51fa\u7684\u4ed3\u5e93 https://github.com/$user/nebula-graph (\u66ff\u6362\u6b64\u5904\u7684\u7528\u6237\u540d $user )\u3002 \u5355\u51fb myfeature \u5206\u652f\u65c1\u7684\u6309\u94ae Compare & pull request \u3002","title":"Step 8\uff1a\u521b\u5efapull request"},{"location":"15.contribution/how-to-contribute/#step_9","text":"pull request\u521b\u5efa\u540e\uff0c\u81f3\u5c11\u9700\u8981\u4e24\u4eba\u5ba1\u67e5\u3002\u5ba1\u67e5\u4eba\u5458\u5c06\u8fdb\u884c\u5f7b\u5e95\u7684\u4ee3\u7801\u5ba1\u67e5\uff0c\u4ee5\u786e\u4fdd\u53d8\u66f4\u6ee1\u8db3\u5b58\u50a8\u5e93\u7684\u8d21\u732e\u51c6\u5219\u548c\u5176\u4ed6\u8d28\u91cf\u6807\u51c6\u3002","title":"Step 9\uff1a\u4ee3\u7801\u5ba1\u67e5"},{"location":"16.eco-tools/1.nebula-exchange/","text":"\u4ec0\u4e48\u662fNebula Exchange \u00b6 Nebula Exchange\uff08\u7b80\u79f0Exchange\uff09\u662f\u4e00\u6b3eApache Spark\u2122\u5e94\u7528\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230Nebula Graph\u4e2d\uff0c\u80fd\u652f\u6301\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u7684\u6279\u5f0f\u6570\u636e\u548c\u6d41\u5f0f\u6570\u636e\u7684\u8fc1\u79fb\u3002 \u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u53c2\u89c1 \u4ec0\u4e48\u662fNebula Exchange \u3002 \u9002\u7528\u573a\u666f \u00b6 Exchange\u9002\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u9700\u8981\u5c06\u6765\u81eaKafka\u3001Pulsar\u5e73\u53f0\u7684\u6d41\u5f0f\u6570\u636e\uff0c\u5982\u65e5\u5fd7\u6587\u4ef6\u3001\u7f51\u8d2d\u6570\u636e\u3001\u6e38\u620f\u5185\u73a9\u5bb6\u6d3b\u52a8\u3001\u793e\u4ea4\u7f51\u7ad9\u4fe1\u606f\u3001\u91d1\u878d\u4ea4\u6613\u5927\u5385\u6216\u5730\u7406\u7a7a\u95f4\u670d\u52a1\uff0c\u4ee5\u53ca\u6765\u81ea\u6570\u636e\u4e2d\u5fc3\u5185\u6240\u8fde\u63a5\u8bbe\u5907\u6216\u4eea\u5668\u7684\u9065\u6d4b\u6570\u636e\u7b49\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\u3002 \u9700\u8981\u4ece\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982MySQL\uff09\u6216\u8005\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08\u5982HDFS\uff09\u4e2d\u8bfb\u53d6\u6279\u5f0f\u6570\u636e\uff0c\u5982\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u6570\u636e\uff0c\u5c06\u5b83\u4eec\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph\u6570\u636e\u5e93\u3002 \u9700\u8981\u5c06\u5927\u6279\u91cf\u6570\u636e\u751f\u6210Nebula Graph\u80fd\u8bc6\u522b\u7684SST\u6587\u4ef6\uff0c\u518d\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\u3002 \u4ea7\u54c1\u4f18\u70b9 \u00b6 Exchange\u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u9002\u5e94\u6027\u5f3a\uff1a\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u6216\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\uff0c\u4fbf\u4e8e\u8fc1\u79fb\u6570\u636e\u3002 \u652f\u6301\u5bfc\u5165SST\uff1a\u652f\u6301\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3aSST\u6587\u4ef6\uff0c\u7528\u4e8e\u6570\u636e\u5bfc\u5165\u3002 \u8bf4\u660e \uff1a\u4ec5Linux\u7cfb\u7edf\u652f\u6301\u5bfc\u5165SST\u6587\u4ef6\u3002 \u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff1a\u5bfc\u5165\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u6709\u52a9\u4e8e\u60a8\u8282\u7701\u65f6\u95f4\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u4ec5\u8fc1\u79fbNeo4j\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 \u5f02\u6b65\u64cd\u4f5c\uff1a\u4f1a\u5728\u6e90\u6570\u636e\u4e2d\u751f\u6210\u4e00\u6761\u63d2\u5165\u8bed\u53e5\uff0c\u53d1\u9001\u7ed9Graph\u670d\u52a1\uff0c\u6700\u540e\u518d\u6267\u884c\u63d2\u5165\u64cd\u4f5c\u3002 \u7075\u6d3b\u6027\u5f3a\uff1a\u652f\u6301\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u4e0d\u540c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u6570\u636e\u6765\u6e90\u6216\u683c\u5f0f\u3002 \u7edf\u8ba1\u529f\u80fd\uff1a\u4f7f\u7528Apache Spark\u2122\u4e2d\u7684\u7d2f\u52a0\u5668\u7edf\u8ba1\u63d2\u5165\u64cd\u4f5c\u7684\u6210\u529f\u548c\u5931\u8d25\u6b21\u6570\u3002 \u6613\u4e8e\u4f7f\u7528\uff1a\u91c7\u7528HOCON\uff08Human-Optimized Config Object Notation\uff09\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\uff0c\u5177\u6709\u9762\u5411\u5bf9\u8c61\u98ce\u683c\uff0c\u4fbf\u4e8e\u7406\u89e3\u548c\u64cd\u4f5c\u3002 \u6570\u636e\u683c\u5f0f\u548c\u6765\u6e90 \u00b6 Exchange 2.0\u652f\u6301\u5c06\u4ee5\u4e0b\u683c\u5f0f\u6216\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3aNebula Graph\u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff1a \u5b58\u50a8\u5728HDFS\u7684\u6570\u636e\uff0c\u5305\u62ec\uff1a Apache Parquet Apache ORC JSON CSV Apache HBase\u2122 \u6570\u636e\u4ed3\u5e93\uff1aHive \u56fe\u6570\u636e\u5e93\uff1aNeo4j \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1aMySQL \u6d41\u5904\u7406\u8f6f\u4ef6\u5e73\u53f0\uff1aApache Kafka\u00ae \u53d1\u5e03/\u8ba2\u9605\u6d88\u606f\u5e73\u53f0\uff1aApache Pulsar 2.4.5","title":"Nebula Exchange"},{"location":"16.eco-tools/1.nebula-exchange/#nebula_exchange","text":"Nebula Exchange\uff08\u7b80\u79f0Exchange\uff09\u662f\u4e00\u6b3eApache Spark\u2122\u5e94\u7528\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u5c06\u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u6279\u91cf\u8fc1\u79fb\u5230Nebula Graph\u4e2d\uff0c\u80fd\u652f\u6301\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u7684\u6279\u5f0f\u6570\u636e\u548c\u6d41\u5f0f\u6570\u636e\u7684\u8fc1\u79fb\u3002 \u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u53c2\u89c1 \u4ec0\u4e48\u662fNebula Exchange \u3002","title":"\u4ec0\u4e48\u662fNebula Exchange"},{"location":"16.eco-tools/1.nebula-exchange/#_1","text":"Exchange\u9002\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u9700\u8981\u5c06\u6765\u81eaKafka\u3001Pulsar\u5e73\u53f0\u7684\u6d41\u5f0f\u6570\u636e\uff0c\u5982\u65e5\u5fd7\u6587\u4ef6\u3001\u7f51\u8d2d\u6570\u636e\u3001\u6e38\u620f\u5185\u73a9\u5bb6\u6d3b\u52a8\u3001\u793e\u4ea4\u7f51\u7ad9\u4fe1\u606f\u3001\u91d1\u878d\u4ea4\u6613\u5927\u5385\u6216\u5730\u7406\u7a7a\u95f4\u670d\u52a1\uff0c\u4ee5\u53ca\u6765\u81ea\u6570\u636e\u4e2d\u5fc3\u5185\u6240\u8fde\u63a5\u8bbe\u5907\u6216\u4eea\u5668\u7684\u9065\u6d4b\u6570\u636e\u7b49\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\u3002 \u9700\u8981\u4ece\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982MySQL\uff09\u6216\u8005\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08\u5982HDFS\uff09\u4e2d\u8bfb\u53d6\u6279\u5f0f\u6570\u636e\uff0c\u5982\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u6570\u636e\uff0c\u5c06\u5b83\u4eec\u8f6c\u5316\u4e3a\u5c5e\u6027\u56fe\u7684\u70b9\u6216\u8fb9\u6570\u636e\uff0c\u5e76\u5bfc\u5165 Nebula Graph\u6570\u636e\u5e93\u3002 \u9700\u8981\u5c06\u5927\u6279\u91cf\u6570\u636e\u751f\u6210Nebula Graph\u80fd\u8bc6\u522b\u7684SST\u6587\u4ef6\uff0c\u518d\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"16.eco-tools/1.nebula-exchange/#_2","text":"Exchange\u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u9002\u5e94\u6027\u5f3a\uff1a\u652f\u6301\u5c06\u591a\u79cd\u4e0d\u540c\u683c\u5f0f\u6216\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165Nebula Graph\u6570\u636e\u5e93\uff0c\u4fbf\u4e8e\u8fc1\u79fb\u6570\u636e\u3002 \u652f\u6301\u5bfc\u5165SST\uff1a\u652f\u6301\u5c06\u4e0d\u540c\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3aSST\u6587\u4ef6\uff0c\u7528\u4e8e\u6570\u636e\u5bfc\u5165\u3002 \u8bf4\u660e \uff1a\u4ec5Linux\u7cfb\u7edf\u652f\u6301\u5bfc\u5165SST\u6587\u4ef6\u3002 \u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff1a\u5bfc\u5165\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u6709\u52a9\u4e8e\u60a8\u8282\u7701\u65f6\u95f4\uff0c\u63d0\u9ad8\u6570\u636e\u5bfc\u5165\u6548\u7387\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u4ec5\u8fc1\u79fbNeo4j\u6570\u636e\u65f6\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 \u5f02\u6b65\u64cd\u4f5c\uff1a\u4f1a\u5728\u6e90\u6570\u636e\u4e2d\u751f\u6210\u4e00\u6761\u63d2\u5165\u8bed\u53e5\uff0c\u53d1\u9001\u7ed9Graph\u670d\u52a1\uff0c\u6700\u540e\u518d\u6267\u884c\u63d2\u5165\u64cd\u4f5c\u3002 \u7075\u6d3b\u6027\u5f3a\uff1a\u652f\u6301\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u4e0d\u540c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u6570\u636e\u6765\u6e90\u6216\u683c\u5f0f\u3002 \u7edf\u8ba1\u529f\u80fd\uff1a\u4f7f\u7528Apache Spark\u2122\u4e2d\u7684\u7d2f\u52a0\u5668\u7edf\u8ba1\u63d2\u5165\u64cd\u4f5c\u7684\u6210\u529f\u548c\u5931\u8d25\u6b21\u6570\u3002 \u6613\u4e8e\u4f7f\u7528\uff1a\u91c7\u7528HOCON\uff08Human-Optimized Config Object Notation\uff09\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\uff0c\u5177\u6709\u9762\u5411\u5bf9\u8c61\u98ce\u683c\uff0c\u4fbf\u4e8e\u7406\u89e3\u548c\u64cd\u4f5c\u3002","title":"\u4ea7\u54c1\u4f18\u70b9"},{"location":"16.eco-tools/1.nebula-exchange/#_3","text":"Exchange 2.0\u652f\u6301\u5c06\u4ee5\u4e0b\u683c\u5f0f\u6216\u6765\u6e90\u7684\u6570\u636e\u8f6c\u6362\u4e3aNebula Graph\u80fd\u8bc6\u522b\u7684\u70b9\u548c\u8fb9\u6570\u636e\uff1a \u5b58\u50a8\u5728HDFS\u7684\u6570\u636e\uff0c\u5305\u62ec\uff1a Apache Parquet Apache ORC JSON CSV Apache HBase\u2122 \u6570\u636e\u4ed3\u5e93\uff1aHive \u56fe\u6570\u636e\u5e93\uff1aNeo4j \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1aMySQL \u6d41\u5904\u7406\u8f6f\u4ef6\u5e73\u53f0\uff1aApache Kafka\u00ae \u53d1\u5e03/\u8ba2\u9605\u6d88\u606f\u5e73\u53f0\uff1aApache Pulsar 2.4.5","title":"\u6570\u636e\u683c\u5f0f\u548c\u6765\u6e90"},{"location":"16.eco-tools/2.nebula-importer/","text":"Nebula Importer \u00b6 Nebula Importer\uff08\u7b80\u79f0Importer\uff09\u662f\u4e00\u6b3e Nebula Graph \u7684CSV\u6587\u4ef6\u5bfc\u5165\u5de5\u5177\u3002Importer\u53ef\u4ee5\u8bfb\u53d6\u672c\u5730\u7684CSV\u6587\u4ef6\uff0c\u7136\u540e\u5bfc\u5165\u6570\u636e\u81f3Nebula Graph\u56fe\u6570\u636e\u5e93\u4e2d\u3002 \u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u53c2\u89c1 Nebula Importer \u3002 \u9002\u7528\u573a\u666f \u00b6 Importer\u9002\u7528\u4e8e\u5c06\u672c\u5730CSV\u6587\u4ef6\u7684\u5185\u5bb9\u5bfc\u5165\u81f3Nebula Graph\u4e2d\u3002 \u4f18\u52bf \u00b6 \u8f7b\u91cf\u5feb\u6377\uff1a\u4e0d\u9700\u8981\u590d\u6742\u73af\u5883\u5373\u53ef\u4f7f\u7528\uff0c\u5feb\u901f\u5bfc\u5165\u6570\u636e\u3002 \u7075\u6d3b\u7b5b\u9009\uff1a\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u5bf9CSV\u6587\u4ef6\u6570\u636e\u7684\u7075\u6d3b\u7b5b\u9009\u3002","title":"Nebula Importer"},{"location":"16.eco-tools/2.nebula-importer/#nebula_importer","text":"Nebula Importer\uff08\u7b80\u79f0Importer\uff09\u662f\u4e00\u6b3e Nebula Graph \u7684CSV\u6587\u4ef6\u5bfc\u5165\u5de5\u5177\u3002Importer\u53ef\u4ee5\u8bfb\u53d6\u672c\u5730\u7684CSV\u6587\u4ef6\uff0c\u7136\u540e\u5bfc\u5165\u6570\u636e\u81f3Nebula Graph\u56fe\u6570\u636e\u5e93\u4e2d\u3002 \u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u53c2\u89c1 Nebula Importer \u3002","title":"Nebula Importer"},{"location":"16.eco-tools/2.nebula-importer/#_1","text":"Importer\u9002\u7528\u4e8e\u5c06\u672c\u5730CSV\u6587\u4ef6\u7684\u5185\u5bb9\u5bfc\u5165\u81f3Nebula Graph\u4e2d\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"16.eco-tools/2.nebula-importer/#_2","text":"\u8f7b\u91cf\u5feb\u6377\uff1a\u4e0d\u9700\u8981\u590d\u6742\u73af\u5883\u5373\u53ef\u4f7f\u7528\uff0c\u5feb\u901f\u5bfc\u5165\u6570\u636e\u3002 \u7075\u6d3b\u7b5b\u9009\uff1a\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u5bf9CSV\u6587\u4ef6\u6570\u636e\u7684\u7075\u6d3b\u7b5b\u9009\u3002","title":"\u4f18\u52bf"},{"location":"2.quick-start/0.FAQ/","text":"\u5e38\u89c1\u95ee\u9898FAQ \u00b6 \u5173\u4e8eopenCypher\u517c\u5bb9\u6027 \u00b6 nGQL\u517c\u5bb9openCypher 9\u5417\uff1f \u00b6 nGQL\u90e8\u5206\u517c\u5bb9openCypher 9\u3002 \u5728 Nebula Graph Issues \u4e2d\u5df2\u7ecf\u5217\u51fa\u5df2\u77e5\u7684\u4e0d\u517c\u5bb9\u9879\u3002\u5982\u679c\u60a8\u53d1\u73b0\u8fd9\u79cd\u7c7b\u578b\u7684\u65b0\u95ee\u9898\uff0c\u8bf7\u63d0\u4ea4\u95ee\u9898\u5e76\u9644\u5e26 incompatible \u6807\u7b7e\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5173\u952e\u5b57 compatibility \u641c\u7d22\u517c\u5bb9\u6027\u95ee\u9898\u3002 \u4e0b\u9762\u662fnGQL\u548copenCypher 9\u7684\u4e3b\u8981\u5dee\u5f02\uff08\u7531\u4e8e\u8bbe\u8ba1\u539f\u56e0\u800c\u4e0d\u517c\u5bb9\uff09\u3002 \u7c7b\u522b openCypher 9 nGQL Schema \u5f31Schema \u5f3aSchema \u76f8\u7b49\u8fd0\u7b97\u7b26 = == \u6570\u5b66\u6c42\u5e42 ^ \u4f7f\u7528 pow(x, y) \u66ff\u4ee3 ^ \u8fb9rank \u65e0\u6b64\u6982\u5ff5 \u7528 @rank \u8bbe\u7f6e \u8bed\u53e5 - \u4e0d\u652f\u6301openCypher 9\u7684\u6240\u6709DML\u8bed\u53e5\uff08 CREATE \u3001 MERGE \u7b49\uff09\u548c\u90e8\u5206 MATCH \u8bed\u53e5\u3002 \u8bf4\u660e \uff1a\u8bf7\u6ce8\u610f openCypher 9 \u548c Cypher \u5728\u8bed\u6cd5\u548c\u8bb8\u53ef\u4e0a\u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u4f8b\u5982Cypher\u8981\u6c42\u6240\u6709Cypher\u8bed\u53e5\u5fc5\u987b\u663e\u5f0f\u5730\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u6267\u884c\uff0c\u800copenCypher\u6ca1\u6709\u8fd9\u6837\u7684\u8981\u6c42\u3002\u53e6\u5916\uff0cnGQL\u6682\u4e0d\u652f\u6301\u4e8b\u52a1\u3002 \u54ea\u91cc\u53ef\u4ee5\u627e\u5230\u66f4\u591anGQL\u7684\u793a\u4f8b\uff1f \u00b6 \u60a8\u53ef\u4ee5\u5728Nebula Graph GitHub\u7684 features \u76ee\u5f55\u5185\u67e5\u770b\u8d85\u8fc72500\u6761nGQL\u793a\u4f8b\u3002 features\u76ee\u5f55\u5185\u5305\u542b\u5f88\u591a.features\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u8bb0\u5f55\u4e86\u4f7f\u7528nGQL\u7684\u573a\u666f\u548c\u793a\u4f8b\u3002\u4f8b\u5982\uff1a Feature: Match seek by tag Background: Prepare space Given a graph with space named \"basketballplayer\" Scenario: seek by empty tag index When executing query: \"\"\" MATCH (v:bachelor) RETURN id(v) AS vid \"\"\" Then the result should be, in any order: | vid | | 'Tim Duncan' | And no side effects When executing query: \"\"\" MATCH (v:bachelor) RETURN id(v) AS vid, v.age AS age \"\"\" Then the result should be, in any order: | vid | age | | 'Tim Duncan' | 42 | And no side effects \u793a\u4f8b\u4e2d\u7684\u5173\u952e\u5b57\u8bf4\u660e\u5982\u4e0b\u3002 \u5173\u952e\u5b57 \u8bf4\u660e Feature \u63cf\u8ff0\u5f53\u524d\u6587\u6863\u7684\u4e3b\u9898\u3002 Background \u63cf\u8ff0\u5f53\u524d\u6587\u6863\u7684\u80cc\u666f\u4fe1\u606f\u3002 Given \u63cf\u8ff0\u6267\u884c\u793a\u4f8b\u8bed\u53e5\u7684\u524d\u63d0\u6761\u4ef6\u3002 Scenario \u63cf\u8ff0\u5177\u4f53\u573a\u666f\u3002\u5982\u679c\u573a\u666f\u4e4b\u524d\u6709 @skip \u6807\u8bc6\uff0c\u8868\u793a\u8fd9\u4e2a\u573a\u666f\u4e0b\u793a\u4f8b\u8bed\u53e5\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\uff0c\u8bf7\u4e0d\u8981\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u8be5\u793a\u4f8b\u8bed\u53e5\u3002 When \u63cf\u8ff0\u8981\u6267\u884c\u7684nGQL\u793a\u4f8b\u8bed\u53e5\u3002 Then \u63cf\u8ff0\u6267\u884c When \u5185\u8bed\u53e5\u7684\u9884\u671f\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u60a8\u7684\u8fd4\u56de\u7ed3\u679c\u548c\u6587\u6863\u4e0d\u540c\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002 And \u63cf\u8ff0\u6267\u884c When \u5185\u8bed\u53e5\u7684\u526f\u4f5c\u7528\u3002 @skip \u8df3\u8fc7\u8fd9\u4e2a\u793a\u4f8b\u3002\u901a\u5e38\u8868\u793a\u6d4b\u8bd5\u4ee3\u7801\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\u3002 \u6b22\u8fce\u60a8 \u589e\u52a0\u66f4\u591a\u5b9e\u7528\u573a\u666f\u793a\u4f8b \uff0c\u6210\u4e3aNebula Graph\u8d21\u732e\u8005\u3002 \u5173\u4e8e\u6570\u636e\u6a21\u578b \u00b6 Nebula Graph\u652f\u6301 W3C \u7684RDF\uff08SPARQL \u6216 GraphQL\uff09\u5417\uff1f \u00b6 \u4e0d\u652f\u6301\u3002 Nebula Graph\u7684\u6570\u636e\u6a21\u578b\u662f\u5c5e\u6027\u56fe\uff0c\u662f\u4e00\u4e2a\u5f3aSchema\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301RDF\u6807\u51c6\u3002 Nebula Graph\u7684\u67e5\u8be2\u8bed\u8a00\u4e5f\u4e0d\u652f\u6301SPARQL\u548cGraphQL\u3002 \u5173\u4e8e\u6267\u884c \u00b6 \u8fd4\u56de\u6d88\u606f\u4e2d time spent \u7684\u542b\u4e49\u662f\u4ec0\u4e48\uff1f \u00b6 \u5c06\u547d\u4ee4 SHOW SPACES \u8fd4\u56de\u7684\u6d88\u606f\u4f5c\u4e3a\u793a\u4f8b\uff1a nebula> SHOW SPACES; +-------------------+ | Name | +-------------------+ | basketballplayer | +-------------------+ Got 1 rows (time spent 1235/1934 us) \u7b2c\u4e00\u4e2a\u6570\u5b57 1235 \u8868\u793a\u6570\u636e\u5e93\u672c\u8eab\u6267\u884c\u8be5\u547d\u4ee4\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373\u67e5\u8be2\u5f15\u64ce\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u5230\u4e00\u4e2a\u67e5\u8be2\uff0c\u7136\u540e\u4ece\u5b58\u50a8\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u5e76\u6267\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002 \u7b2c\u4e8c\u4e2a\u6570\u5b57 1934 \u8868\u793a\u4ece\u5ba2\u6237\u7aef\u89d2\u5ea6\u770b\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373\u4ece\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u3001\u63a5\u6536\u7ed3\u679c\uff0c\u7136\u540e\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u7ed3\u679c\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002 \u53ef\u4ee5\u5728 CREATE SPACE \u65f6\u8bbe\u7f6e replica_factor \u4e3a\u5076\u6570\uff08\u4f8b\u5982\u8bbe\u7f6e\u4e3a2\uff09\u5417\uff1f \u00b6 \u4e0d\u8981\u8fd9\u6837\u8bbe\u7f6e\u3002 Storage\u670d\u52a1\u4f7f\u7528Raft\u534f\u8bae\uff08\u591a\u6570\u8868\u51b3\uff09\uff0c\u4e3a\u4fdd\u8bc1\u53ef\u7528\u6027\uff0c\u8981\u6c42\u51fa\u6545\u969c\u7684\u526f\u672c\u6570\u91cf\u4e0d\u80fd\u8fbe\u5230\u4e00\u534a\u3002 \u5982\u679c replica_factor=2 \uff0c\u5f53\u5176\u4e2d\u4e00\u4e2a\u526f\u672c\u6545\u969c\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u5de5\u4f5c\uff1b\u5982\u679c replica_factor=4 \uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u526f\u672c\u53ef\u4ee5\u51fa\u73b0\u6545\u969c\uff0c\u8fd9\u548c replica_factor=3 \u662f\u4e00\u6837\u3002\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6240\u4ee5 replica_factor \u8bbe\u7f6e\u4e3a\u5947\u6570\u5373\u53ef\u3002 \u5efa\u8bae\u60a8\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e replica_factor=3 \uff0c\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e replica_factor=1 \uff0c\u4e0d\u8981\u4f7f\u7528\u5076\u6570\u3002 \u5982\u4f55\u5904\u7406\u62a5\u9519 [ERROR (-7)]: SyntaxError: syntax error near \uff1f \u00b6 \u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u67e5\u8be2\u8bed\u53e5\u9700\u8981\u6709 YIELD \u6216 RETURN \uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u67e5\u8be2\u8bed\u53e5\u662f\u5426\u5305\u542b\u3002 \u5982\u4f55\u7edf\u8ba1\u6bcf\u79cdTag\u6709\u591a\u5c11\u4e2a\u70b9\uff0c\u6bcf\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u5c11\u6761\u8fb9? \u00b6 \u8bf7\u53c2\u89c1 show-stats \u3002 \u5982\u4f55\u83b7\u53d6\u6bcf\u79cdTag\u7684\u6240\u6709\u70b9\uff0c\u6216\u8005\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9? \u00b6 \u5efa\u7acb\u5e76\u91cd\u5efa\u7d22\u5f15 > CREATE TAG INDEX i_player ON player(); > REBUILD TAG INDEX i_player; \u4f7f\u7528 LOOKUP \u6216 MATCH \u8bed\u53e5\u3002\u4f8b\u5982\uff1a > LOOKUP ON player; > MATCH (n:player) RETURN n; \u66f4\u591a\u8be6\u60c5\u8bf7\u53c2\u89c1 INDEX \u3001 LOOKUP \u548c MATCH \u3002 Error can\u2019t solve the start vids from the sentence \u00b6 \u67e5\u8be2\u5f15\u64ce\u9700\u8981\u77e5\u9053\u4ece\u54ea\u4e9bVID\u5f00\u59cb\u56fe\u904d\u5386. \u8fd9\u4e9b\u5f00\u59cb\uff08\u56fe\u904d\u5386\uff09\u7684VID\uff0c\u6216\u8005\u901a\u8fc7\u7528\u6237\u6307\u5b9a\uff0c\u4f8b\u5982 > GO FROM ${vids} ... > MATCH (src) WHERE id(src) == ${vids} # \u5f00\u59cb\u56fe\u904d\u5386\u7684VID\u901a\u8fc7\u5982\u4e0a\u529e\u6cd5\u6307\u5b9a \u6216\u8005\u901a\u8fc7\u4e00\u4e2a(\u5c5e\u6027)\u7d22\u5f15\u6765\u5f97\u5230\uff0c\u4f8b\u5982 # CREATE TAG INDEX i_player ON player(name(20)); # REBUILD TAG INDEX i_player; > LOOKUP ON player WHERE player.name == \"abc\" | ... YIELD ... > MATCH (src) WHERE src.name == \"abc\" ... # \u901a\u8fc7\u70b9\u5c5e\u6027name\u7684\u7d22\u5f15\uff0c\u6765\u5f97\u5230VID \u5426\u5219\uff0c\u5c31\u4f1a\u629b\u51fa\u8fd9\u6837\u4e00\u4e2a\u5f02\u5e38 can\u2019t solve the start vids from the sentence \u3002 Error Storage Error: The VID must be a 64-bit integer or a string. \u00b6 \u68c0\u67e5\u8f93\u5165\u7684 vid \u662f\u5426\u662f create space \u8bbe\u7f6e\u7684\u6574\u578b\u6216\u8005 fix_string(N) . \u5982\u679c\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u68c0\u67e5\u957f\u5ea6\u662f\u5426\u8d85\u8fc7 N (\u9ed8\u8ba4\u4e3a 8 ). \u89c1 create space . \u5173\u4e8e\u8fd0\u7ef4 \u00b6 \u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\u65f6\u5982\u4f55\u56de\u6536\u65e5\u5fd7\uff1f \u00b6 Nebula Graph\u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\u3002glog \u6ca1\u6709\u65e5\u5fd7\u56de\u6536\u7684\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 crontab \u8bbe\u7f6e\u5b9a\u671f\u4efb\u52a1\u56de\u6536\u65e5\u5fd7\u6587\u4ef6\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 Glog should delete old log files automatically \u3002 \u5982\u4f55\u67e5\u770bNebula Graph\u7248\u672c \u00b6 \u4f7f\u7528 <binary_path> --version \u547d\u4ee4\u67e5\u770b\u76f8\u5e94\u670d\u52a1\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684Git commit ID\u3002 \u4f8b\u5982\uff0c\u8981\u67e5\u770bGraph\u670d\u52a1\u7684\u7248\u672c\uff0c\u8fdb\u5165Graph\u670d\u52a1\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 nebula-graphd \u6240\u5728\u76ee\u5f55\uff0c\u8fd0\u884c ./nebula-graphd --version \u3002 $ ./nebula-graphd --version nebula-graphd version Git: ab4f683, Build Time: Mar 24 2021 02 :17:30 This source code is licensed under Apache 2 .0 License, attached with Common Clause Condition 1 .0. \u5728 GitHub commits \u9875\u641c\u7d22\u8be5commit ID\uff0c\u83b7\u53d6commit\u7684\u63d0\u4ea4\u65f6\u95f4\u3002 \u5bf9\u6bd4commit\u63d0\u4ea4\u65f6\u95f4\u548c GitHub Releases \u9875\u7684\u7248\u672c\u53d1\u5e03\u65f6\u95f4\uff0c\u5373\u53ef\u786e\u5b9aNebula Graph\u7684\u7248\u672c\u3002 \u5173\u4e8e\u672c\u624b\u518c \u00b6 \u4e3a\u4ec0\u4e48\u624b\u518c\u793a\u4f8b\u548c\u7cfb\u7edf\u884c\u4e3a\u4e0d\u4e00\u81f4\uff1f \u00b6 Nebula Graph 2.0\u4e00\u76f4\u5728\u6301\u7eed\u5f00\u53d1\uff0c\u529f\u80fd\u6216\u64cd\u4f5c\u7684\u884c\u4e3a\u53ef\u80fd\u4f1a\u6709\u53d8\u5316\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002 \u5173\u4e8e\u8fde\u63a5 \u00b6 \u9632\u706b\u5899\u4e2d\u9700\u8981\u5f00\u653e\u54ea\u4e9b\u7aef\u53e3 \u00b6 \u5982\u679c\u6ca1\u6709\u4fee\u6539\u8fc7 \u914d\u7f6e\u6587\u4ef6 \u4e2d\u9884\u8bbe\u7684\u7aef\u53e3\uff0c\u8bf7\u5728\u9632\u706b\u5899\u4e2d\u5f00\u653e\u5982\u4e0b\u7aef\u53e3\uff1a \u670d\u52a1\u7c7b\u578b \u7aef\u53e3 Meta 9559, 9560, 19559, 19560 Graph 9669, 19669, 19670 Storage 9777 ~ 9780, 19779, 19780 \u5982\u679c\u4fee\u6539\u8fc7\u914d\u7f6e\u6587\u4ef6\u4e2d\u9884\u8bbe\u7684\u7aef\u53e3\uff0c\u8bf7\u627e\u51fa\u5b9e\u9645\u4f7f\u7528\u7684\u7aef\u53e3\u5e76\u5728\u9632\u706b\u5899\u4e2d\u5f00\u653e\u5b83\u4eec\u3002 \u5982\u4f55\u6d4b\u8bd5\u7aef\u53e3\u662f\u5426\u5df2\u5f00\u653e \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0btelnet\u547d\u4ee4\u68c0\u67e5\u7aef\u53e3\u72b6\u6001\uff1a telnet <ip> <port> \u8bf4\u660e\uff1a \u5982\u679c\u65e0\u6cd5\u4f7f\u7528telnet\u547d\u4ee4\uff0c\u8bf7\u5148\u68c0\u67e5\u4e3b\u673a\u4e2d\u662f\u5426\u5b89\u88c5\u5e76\u542f\u52a8\u4e86telnet\u3002 \u793a\u4f8b\uff1a // \u5982\u679c\u7aef\u53e3\u5df2\u5f00\u653e\uff1a $ telnet 192 .168.1.10 9669 Trying 192 .168.1.10... Connected to 192 .168.1.10. Escape character is '^]' . // \u5982\u679c\u7aef\u53e3\u672a\u5f00\u653e\uff1a $ telnet 192 .168.1.10 9777 Trying 192 .168.1.10... telnet: connect to address 192 .168.1.10: Connection refused","title":"FAQ"},{"location":"2.quick-start/0.FAQ/#faq","text":"","title":"\u5e38\u89c1\u95ee\u9898FAQ"},{"location":"2.quick-start/0.FAQ/#opencypher","text":"","title":"\u5173\u4e8eopenCypher\u517c\u5bb9\u6027"},{"location":"2.quick-start/0.FAQ/#ngqlopencypher_9","text":"nGQL\u90e8\u5206\u517c\u5bb9openCypher 9\u3002 \u5728 Nebula Graph Issues \u4e2d\u5df2\u7ecf\u5217\u51fa\u5df2\u77e5\u7684\u4e0d\u517c\u5bb9\u9879\u3002\u5982\u679c\u60a8\u53d1\u73b0\u8fd9\u79cd\u7c7b\u578b\u7684\u65b0\u95ee\u9898\uff0c\u8bf7\u63d0\u4ea4\u95ee\u9898\u5e76\u9644\u5e26 incompatible \u6807\u7b7e\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5173\u952e\u5b57 compatibility \u641c\u7d22\u517c\u5bb9\u6027\u95ee\u9898\u3002 \u4e0b\u9762\u662fnGQL\u548copenCypher 9\u7684\u4e3b\u8981\u5dee\u5f02\uff08\u7531\u4e8e\u8bbe\u8ba1\u539f\u56e0\u800c\u4e0d\u517c\u5bb9\uff09\u3002 \u7c7b\u522b openCypher 9 nGQL Schema \u5f31Schema \u5f3aSchema \u76f8\u7b49\u8fd0\u7b97\u7b26 = == \u6570\u5b66\u6c42\u5e42 ^ \u4f7f\u7528 pow(x, y) \u66ff\u4ee3 ^ \u8fb9rank \u65e0\u6b64\u6982\u5ff5 \u7528 @rank \u8bbe\u7f6e \u8bed\u53e5 - \u4e0d\u652f\u6301openCypher 9\u7684\u6240\u6709DML\u8bed\u53e5\uff08 CREATE \u3001 MERGE \u7b49\uff09\u548c\u90e8\u5206 MATCH \u8bed\u53e5\u3002 \u8bf4\u660e \uff1a\u8bf7\u6ce8\u610f openCypher 9 \u548c Cypher \u5728\u8bed\u6cd5\u548c\u8bb8\u53ef\u4e0a\u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u4f8b\u5982Cypher\u8981\u6c42\u6240\u6709Cypher\u8bed\u53e5\u5fc5\u987b\u663e\u5f0f\u5730\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u6267\u884c\uff0c\u800copenCypher\u6ca1\u6709\u8fd9\u6837\u7684\u8981\u6c42\u3002\u53e6\u5916\uff0cnGQL\u6682\u4e0d\u652f\u6301\u4e8b\u52a1\u3002","title":"nGQL\u517c\u5bb9openCypher 9\u5417\uff1f"},{"location":"2.quick-start/0.FAQ/#ngql","text":"\u60a8\u53ef\u4ee5\u5728Nebula Graph GitHub\u7684 features \u76ee\u5f55\u5185\u67e5\u770b\u8d85\u8fc72500\u6761nGQL\u793a\u4f8b\u3002 features\u76ee\u5f55\u5185\u5305\u542b\u5f88\u591a.features\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u8bb0\u5f55\u4e86\u4f7f\u7528nGQL\u7684\u573a\u666f\u548c\u793a\u4f8b\u3002\u4f8b\u5982\uff1a Feature: Match seek by tag Background: Prepare space Given a graph with space named \"basketballplayer\" Scenario: seek by empty tag index When executing query: \"\"\" MATCH (v:bachelor) RETURN id(v) AS vid \"\"\" Then the result should be, in any order: | vid | | 'Tim Duncan' | And no side effects When executing query: \"\"\" MATCH (v:bachelor) RETURN id(v) AS vid, v.age AS age \"\"\" Then the result should be, in any order: | vid | age | | 'Tim Duncan' | 42 | And no side effects \u793a\u4f8b\u4e2d\u7684\u5173\u952e\u5b57\u8bf4\u660e\u5982\u4e0b\u3002 \u5173\u952e\u5b57 \u8bf4\u660e Feature \u63cf\u8ff0\u5f53\u524d\u6587\u6863\u7684\u4e3b\u9898\u3002 Background \u63cf\u8ff0\u5f53\u524d\u6587\u6863\u7684\u80cc\u666f\u4fe1\u606f\u3002 Given \u63cf\u8ff0\u6267\u884c\u793a\u4f8b\u8bed\u53e5\u7684\u524d\u63d0\u6761\u4ef6\u3002 Scenario \u63cf\u8ff0\u5177\u4f53\u573a\u666f\u3002\u5982\u679c\u573a\u666f\u4e4b\u524d\u6709 @skip \u6807\u8bc6\uff0c\u8868\u793a\u8fd9\u4e2a\u573a\u666f\u4e0b\u793a\u4f8b\u8bed\u53e5\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\uff0c\u8bf7\u4e0d\u8981\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u8be5\u793a\u4f8b\u8bed\u53e5\u3002 When \u63cf\u8ff0\u8981\u6267\u884c\u7684nGQL\u793a\u4f8b\u8bed\u53e5\u3002 Then \u63cf\u8ff0\u6267\u884c When \u5185\u8bed\u53e5\u7684\u9884\u671f\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u60a8\u7684\u8fd4\u56de\u7ed3\u679c\u548c\u6587\u6863\u4e0d\u540c\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002 And \u63cf\u8ff0\u6267\u884c When \u5185\u8bed\u53e5\u7684\u526f\u4f5c\u7528\u3002 @skip \u8df3\u8fc7\u8fd9\u4e2a\u793a\u4f8b\u3002\u901a\u5e38\u8868\u793a\u6d4b\u8bd5\u4ee3\u7801\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\u3002 \u6b22\u8fce\u60a8 \u589e\u52a0\u66f4\u591a\u5b9e\u7528\u573a\u666f\u793a\u4f8b \uff0c\u6210\u4e3aNebula Graph\u8d21\u732e\u8005\u3002","title":"\u54ea\u91cc\u53ef\u4ee5\u627e\u5230\u66f4\u591anGQL\u7684\u793a\u4f8b\uff1f"},{"location":"2.quick-start/0.FAQ/#_1","text":"","title":"\u5173\u4e8e\u6570\u636e\u6a21\u578b"},{"location":"2.quick-start/0.FAQ/#nebula_graph_w3c_rdfsparql_graphql","text":"\u4e0d\u652f\u6301\u3002 Nebula Graph\u7684\u6570\u636e\u6a21\u578b\u662f\u5c5e\u6027\u56fe\uff0c\u662f\u4e00\u4e2a\u5f3aSchema\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301RDF\u6807\u51c6\u3002 Nebula Graph\u7684\u67e5\u8be2\u8bed\u8a00\u4e5f\u4e0d\u652f\u6301SPARQL\u548cGraphQL\u3002","title":"Nebula Graph\u652f\u6301 W3C \u7684RDF\uff08SPARQL \u6216 GraphQL\uff09\u5417\uff1f"},{"location":"2.quick-start/0.FAQ/#_2","text":"","title":"\u5173\u4e8e\u6267\u884c"},{"location":"2.quick-start/0.FAQ/#time_spent","text":"\u5c06\u547d\u4ee4 SHOW SPACES \u8fd4\u56de\u7684\u6d88\u606f\u4f5c\u4e3a\u793a\u4f8b\uff1a nebula> SHOW SPACES; +-------------------+ | Name | +-------------------+ | basketballplayer | +-------------------+ Got 1 rows (time spent 1235/1934 us) \u7b2c\u4e00\u4e2a\u6570\u5b57 1235 \u8868\u793a\u6570\u636e\u5e93\u672c\u8eab\u6267\u884c\u8be5\u547d\u4ee4\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373\u67e5\u8be2\u5f15\u64ce\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u5230\u4e00\u4e2a\u67e5\u8be2\uff0c\u7136\u540e\u4ece\u5b58\u50a8\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u5e76\u6267\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002 \u7b2c\u4e8c\u4e2a\u6570\u5b57 1934 \u8868\u793a\u4ece\u5ba2\u6237\u7aef\u89d2\u5ea6\u770b\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u5373\u4ece\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u3001\u63a5\u6536\u7ed3\u679c\uff0c\u7136\u540e\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u7ed3\u679c\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002","title":"\u8fd4\u56de\u6d88\u606f\u4e2dtime spent\u7684\u542b\u4e49\u662f\u4ec0\u4e48\uff1f"},{"location":"2.quick-start/0.FAQ/#create_spacereplica_factor2","text":"\u4e0d\u8981\u8fd9\u6837\u8bbe\u7f6e\u3002 Storage\u670d\u52a1\u4f7f\u7528Raft\u534f\u8bae\uff08\u591a\u6570\u8868\u51b3\uff09\uff0c\u4e3a\u4fdd\u8bc1\u53ef\u7528\u6027\uff0c\u8981\u6c42\u51fa\u6545\u969c\u7684\u526f\u672c\u6570\u91cf\u4e0d\u80fd\u8fbe\u5230\u4e00\u534a\u3002 \u5982\u679c replica_factor=2 \uff0c\u5f53\u5176\u4e2d\u4e00\u4e2a\u526f\u672c\u6545\u969c\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u5de5\u4f5c\uff1b\u5982\u679c replica_factor=4 \uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u526f\u672c\u53ef\u4ee5\u51fa\u73b0\u6545\u969c\uff0c\u8fd9\u548c replica_factor=3 \u662f\u4e00\u6837\u3002\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6240\u4ee5 replica_factor \u8bbe\u7f6e\u4e3a\u5947\u6570\u5373\u53ef\u3002 \u5efa\u8bae\u60a8\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e replica_factor=3 \uff0c\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e replica_factor=1 \uff0c\u4e0d\u8981\u4f7f\u7528\u5076\u6570\u3002","title":"\u53ef\u4ee5\u5728CREATE SPACE\u65f6\u8bbe\u7f6ereplica_factor\u4e3a\u5076\u6570\uff08\u4f8b\u5982\u8bbe\u7f6e\u4e3a2\uff09\u5417\uff1f"},{"location":"2.quick-start/0.FAQ/#error_-7_syntaxerror_syntax_error_near","text":"\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u67e5\u8be2\u8bed\u53e5\u9700\u8981\u6709 YIELD \u6216 RETURN \uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u67e5\u8be2\u8bed\u53e5\u662f\u5426\u5305\u542b\u3002","title":"\u5982\u4f55\u5904\u7406\u62a5\u9519[ERROR (-7)]: SyntaxError: syntax error near\uff1f"},{"location":"2.quick-start/0.FAQ/#tag","text":"\u8bf7\u53c2\u89c1 show-stats \u3002","title":"\u5982\u4f55\u7edf\u8ba1\u6bcf\u79cdTag\u6709\u591a\u5c11\u4e2a\u70b9\uff0c\u6bcf\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u5c11\u6761\u8fb9?"},{"location":"2.quick-start/0.FAQ/#tag_1","text":"\u5efa\u7acb\u5e76\u91cd\u5efa\u7d22\u5f15 > CREATE TAG INDEX i_player ON player(); > REBUILD TAG INDEX i_player; \u4f7f\u7528 LOOKUP \u6216 MATCH \u8bed\u53e5\u3002\u4f8b\u5982\uff1a > LOOKUP ON player; > MATCH (n:player) RETURN n; \u66f4\u591a\u8be6\u60c5\u8bf7\u53c2\u89c1 INDEX \u3001 LOOKUP \u548c MATCH \u3002","title":"\u5982\u4f55\u83b7\u53d6\u6bcf\u79cdTag\u7684\u6240\u6709\u70b9\uff0c\u6216\u8005\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9?"},{"location":"2.quick-start/0.FAQ/#error_cant_solve_the_start_vids_from_the_sentence","text":"\u67e5\u8be2\u5f15\u64ce\u9700\u8981\u77e5\u9053\u4ece\u54ea\u4e9bVID\u5f00\u59cb\u56fe\u904d\u5386. \u8fd9\u4e9b\u5f00\u59cb\uff08\u56fe\u904d\u5386\uff09\u7684VID\uff0c\u6216\u8005\u901a\u8fc7\u7528\u6237\u6307\u5b9a\uff0c\u4f8b\u5982 > GO FROM ${vids} ... > MATCH (src) WHERE id(src) == ${vids} # \u5f00\u59cb\u56fe\u904d\u5386\u7684VID\u901a\u8fc7\u5982\u4e0a\u529e\u6cd5\u6307\u5b9a \u6216\u8005\u901a\u8fc7\u4e00\u4e2a(\u5c5e\u6027)\u7d22\u5f15\u6765\u5f97\u5230\uff0c\u4f8b\u5982 # CREATE TAG INDEX i_player ON player(name(20)); # REBUILD TAG INDEX i_player; > LOOKUP ON player WHERE player.name == \"abc\" | ... YIELD ... > MATCH (src) WHERE src.name == \"abc\" ... # \u901a\u8fc7\u70b9\u5c5e\u6027name\u7684\u7d22\u5f15\uff0c\u6765\u5f97\u5230VID \u5426\u5219\uff0c\u5c31\u4f1a\u629b\u51fa\u8fd9\u6837\u4e00\u4e2a\u5f02\u5e38 can\u2019t solve the start vids from the sentence \u3002","title":"Error can\u2019t solve the start vids from the sentence"},{"location":"2.quick-start/0.FAQ/#error_storage_error_the_vid_must_be_a_64-bit_integer_or_a_string","text":"\u68c0\u67e5\u8f93\u5165\u7684 vid \u662f\u5426\u662f create space \u8bbe\u7f6e\u7684\u6574\u578b\u6216\u8005 fix_string(N) . \u5982\u679c\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u68c0\u67e5\u957f\u5ea6\u662f\u5426\u8d85\u8fc7 N (\u9ed8\u8ba4\u4e3a 8 ). \u89c1 create space .","title":"Error Storage Error: The VID must be a 64-bit integer or a string."},{"location":"2.quick-start/0.FAQ/#_3","text":"","title":"\u5173\u4e8e\u8fd0\u7ef4"},{"location":"2.quick-start/0.FAQ/#_4","text":"Nebula Graph\u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\u3002glog \u6ca1\u6709\u65e5\u5fd7\u56de\u6536\u7684\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 crontab \u8bbe\u7f6e\u5b9a\u671f\u4efb\u52a1\u56de\u6536\u65e5\u5fd7\u6587\u4ef6\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 Glog should delete old log files automatically \u3002","title":"\u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\u65f6\u5982\u4f55\u56de\u6536\u65e5\u5fd7\uff1f"},{"location":"2.quick-start/0.FAQ/#nebula_graph","text":"\u4f7f\u7528 <binary_path> --version \u547d\u4ee4\u67e5\u770b\u76f8\u5e94\u670d\u52a1\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684Git commit ID\u3002 \u4f8b\u5982\uff0c\u8981\u67e5\u770bGraph\u670d\u52a1\u7684\u7248\u672c\uff0c\u8fdb\u5165Graph\u670d\u52a1\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 nebula-graphd \u6240\u5728\u76ee\u5f55\uff0c\u8fd0\u884c ./nebula-graphd --version \u3002 $ ./nebula-graphd --version nebula-graphd version Git: ab4f683, Build Time: Mar 24 2021 02 :17:30 This source code is licensed under Apache 2 .0 License, attached with Common Clause Condition 1 .0. \u5728 GitHub commits \u9875\u641c\u7d22\u8be5commit ID\uff0c\u83b7\u53d6commit\u7684\u63d0\u4ea4\u65f6\u95f4\u3002 \u5bf9\u6bd4commit\u63d0\u4ea4\u65f6\u95f4\u548c GitHub Releases \u9875\u7684\u7248\u672c\u53d1\u5e03\u65f6\u95f4\uff0c\u5373\u53ef\u786e\u5b9aNebula Graph\u7684\u7248\u672c\u3002","title":"\u5982\u4f55\u67e5\u770bNebula Graph\u7248\u672c"},{"location":"2.quick-start/0.FAQ/#_5","text":"","title":"\u5173\u4e8e\u672c\u624b\u518c"},{"location":"2.quick-start/0.FAQ/#_6","text":"Nebula Graph 2.0\u4e00\u76f4\u5728\u6301\u7eed\u5f00\u53d1\uff0c\u529f\u80fd\u6216\u64cd\u4f5c\u7684\u884c\u4e3a\u53ef\u80fd\u4f1a\u6709\u53d8\u5316\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002","title":"\u4e3a\u4ec0\u4e48\u624b\u518c\u793a\u4f8b\u548c\u7cfb\u7edf\u884c\u4e3a\u4e0d\u4e00\u81f4\uff1f"},{"location":"2.quick-start/0.FAQ/#_7","text":"","title":"\u5173\u4e8e\u8fde\u63a5"},{"location":"2.quick-start/0.FAQ/#_8","text":"\u5982\u679c\u6ca1\u6709\u4fee\u6539\u8fc7 \u914d\u7f6e\u6587\u4ef6 \u4e2d\u9884\u8bbe\u7684\u7aef\u53e3\uff0c\u8bf7\u5728\u9632\u706b\u5899\u4e2d\u5f00\u653e\u5982\u4e0b\u7aef\u53e3\uff1a \u670d\u52a1\u7c7b\u578b \u7aef\u53e3 Meta 9559, 9560, 19559, 19560 Graph 9669, 19669, 19670 Storage 9777 ~ 9780, 19779, 19780 \u5982\u679c\u4fee\u6539\u8fc7\u914d\u7f6e\u6587\u4ef6\u4e2d\u9884\u8bbe\u7684\u7aef\u53e3\uff0c\u8bf7\u627e\u51fa\u5b9e\u9645\u4f7f\u7528\u7684\u7aef\u53e3\u5e76\u5728\u9632\u706b\u5899\u4e2d\u5f00\u653e\u5b83\u4eec\u3002","title":"\u9632\u706b\u5899\u4e2d\u9700\u8981\u5f00\u653e\u54ea\u4e9b\u7aef\u53e3"},{"location":"2.quick-start/0.FAQ/#_9","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0btelnet\u547d\u4ee4\u68c0\u67e5\u7aef\u53e3\u72b6\u6001\uff1a telnet <ip> <port> \u8bf4\u660e\uff1a \u5982\u679c\u65e0\u6cd5\u4f7f\u7528telnet\u547d\u4ee4\uff0c\u8bf7\u5148\u68c0\u67e5\u4e3b\u673a\u4e2d\u662f\u5426\u5b89\u88c5\u5e76\u542f\u52a8\u4e86telnet\u3002 \u793a\u4f8b\uff1a // \u5982\u679c\u7aef\u53e3\u5df2\u5f00\u653e\uff1a $ telnet 192 .168.1.10 9669 Trying 192 .168.1.10... Connected to 192 .168.1.10. Escape character is '^]' . // \u5982\u679c\u7aef\u53e3\u672a\u5f00\u653e\uff1a $ telnet 192 .168.1.10 9777 Trying 192 .168.1.10... telnet: connect to address 192 .168.1.10: Connection refused","title":"\u5982\u4f55\u6d4b\u8bd5\u7aef\u53e3\u662f\u5426\u5df2\u5f00\u653e"},{"location":"2.quick-start/1.quick-start-workflow/","text":"\u5feb\u901f\u5165\u95e8 \u00b6 \u5feb\u901f\u5165\u95e8\u5c06\u4ecb\u7ecd\u5982\u4f55\u7b80\u5355\u5730\u4f7f\u7528Nebula Graph\uff0c\u5305\u62ec\u90e8\u7f72\u3001\u8fde\u63a5Nebula Graph\uff0c\u4ee5\u53ca\u57fa\u7840\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 Docker Compose\u90e8\u7f72Nebula Graph \u8fde\u63a5Nebula Graph \u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5 \u4ee5\u4e0b\u662f\u5176\u4ed6\u63a8\u8350\u60a8\u9605\u8bfb\u7684\u6587\u6863\u3002\u5728\u60a8\u5c1d\u8bd5\u8fc7\u5feb\u901f\u5165\u95e8\u7684\u64cd\u4f5c\u540e\uff0c\u60a8\u53ef\u80fd\u4f1a\u9700\u8981\u9605\u8bfb\u5b83\u4eec\u6765\u8fdb\u4e00\u6b65\u4e86\u89e3\u548c\u4f7f\u7528Nebula Graph\u3002 \u5e38\u89c1\u95ee\u9898FAQ \u90e8\u7f72Nebula Graph\u96c6\u7fa4 \u4e00\u4e9b \u5e38\u7528\u94fe\u63a5 Compaction","title":"\u5feb\u901f\u5165\u95e8\u6d41\u7a0b"},{"location":"2.quick-start/1.quick-start-workflow/#_1","text":"\u5feb\u901f\u5165\u95e8\u5c06\u4ecb\u7ecd\u5982\u4f55\u7b80\u5355\u5730\u4f7f\u7528Nebula Graph\uff0c\u5305\u62ec\u90e8\u7f72\u3001\u8fde\u63a5Nebula Graph\uff0c\u4ee5\u53ca\u57fa\u7840\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 Docker Compose\u90e8\u7f72Nebula Graph \u8fde\u63a5Nebula Graph \u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5 \u4ee5\u4e0b\u662f\u5176\u4ed6\u63a8\u8350\u60a8\u9605\u8bfb\u7684\u6587\u6863\u3002\u5728\u60a8\u5c1d\u8bd5\u8fc7\u5feb\u901f\u5165\u95e8\u7684\u64cd\u4f5c\u540e\uff0c\u60a8\u53ef\u80fd\u4f1a\u9700\u8981\u9605\u8bfb\u5b83\u4eec\u6765\u8fdb\u4e00\u6b65\u4e86\u89e3\u548c\u4f7f\u7528Nebula Graph\u3002 \u5e38\u89c1\u95ee\u9898FAQ \u90e8\u7f72Nebula Graph\u96c6\u7fa4 \u4e00\u4e9b \u5e38\u7528\u94fe\u63a5 Compaction","title":"\u5feb\u901f\u5165\u95e8"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/","text":"Docker Compose\u90e8\u7f72Nebula Graph \u00b6 \u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u90e8\u7f72Nebula Graph\uff0c\u4f46\u662f\u4f7f\u7528Docker Compose\u901a\u5e38\u662f\u6700\u5feb\u7684\u65b9\u5f0f\u3002 \u9605\u8bfb\u6307\u5357 \u00b6 \u5982\u679c\u60a8\u662f\u5e26\u7740\u5982\u4e0b\u95ee\u9898\u9605\u8bfb\u672c\u6587\uff0c\u53ef\u4ee5\u76f4\u63a5\u5355\u51fb\u95ee\u9898\u8df3\u8f6c\u67e5\u770b\u5bf9\u5e94\u7684\u8bf4\u660e\u3002 \u90e8\u7f72Nebula Graph\u4e4b\u524d\u9700\u8981\u505a\u4ec0\u4e48\u51c6\u5907\u5de5\u4f5c\uff1f \u5982\u4f55\u901a\u8fc7Docker Compose\u5feb\u901f\u90e8\u7f72Nebula Graph\uff1f \u5982\u4f55\u68c0\u67e5Nebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3\uff1f \u5982\u4f55\u68c0\u67e5Nebula Graph\u670d\u52a1\u7684\u6570\u636e\u548c\u65e5\u5fd7\uff1f \u5982\u4f55\u505c\u6b62Nebula Graph\u670d\u52a1\uff1f \u5982\u4f55\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u90e8\u7f72Nebula Graph\uff1f \u524d\u63d0\u6761\u4ef6 \u00b6 \u4e3b\u673a\u4e0a\u5b89\u88c5\u5982\u4e0b\u5e94\u7528\u7a0b\u5e8f\u3002 \u5e94\u7528\u7a0b\u5e8f \u63a8\u8350\u7248\u672c \u5b98\u65b9\u5b89\u88c5\u53c2\u8003 Docker \u6700\u65b0\u7248\u672c Install Docker Engine Docker Compose \u6700\u65b0\u7248\u672c Install Docker Compose Git \u6700\u65b0\u7248\u672c Download Git \u5982\u679c\u60a8\u4f7f\u7528\u975eroot\u7528\u6237\u90e8\u7f72Nebula Graph\uff0c\u8bf7\u6388\u6743\u8be5\u7528\u6237Docker\u76f8\u5173\u7684\u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Manage Docker as a non-root user \u3002 \u542f\u52a8\u4e3b\u673a\u4e0a\u7684Docker\u670d\u52a1\u3002 \u5982\u679c\u60a8\u5df2\u7ecf\u901a\u8fc7Docker Compose\u5728\u4e3b\u673a\u4e0a\u90e8\u7f72\u4e86\u53e6\u4e00\u4e2a\u7248\u672c\u7684Nebula Graph\uff0c\u4e3a\u907f\u514d\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u9700\u8981\u60a8\u5220\u9664\u76ee\u5f55 nebula-docker-compose/data \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u9700\u8981\u5907\u4efd\u670d\u52a1\u6570\u636e\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u5907\u4efd\u6570\u636e TODO: \u672a\u548cv2.0.0\u4e00\u8d77\u53d1\u5e03\u3002 \u90e8\u7f72\u548c\u8fde\u63a5Nebula Graph \u00b6 \u901a\u8fc7Git\u514b\u9686 nebula-docker-compose \u4ed3\u5e93\u7684 master \u5206\u652f\u5230\u60a8\u7684\u4e3b\u673a\u3002 \u7981\u6b62 \uff1a master \u5206\u652f\u5305\u542b\u6700\u65b0\u7684Nebula Graph\u5f00\u53d1\u7248\u672c\u7684Docker Compose\u89e3\u51b3\u65b9\u6848\u3002\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4f7f\u7528\u6b64\u7248\u672c\u3002 $ git clone https://github.com/vesoft-inc/nebula-docker-compose.git \u5207\u6362\u81f3\u76ee\u5f55 nebula-docker-compose \u3002 $ cd nebula-docker-compose/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\u3002 \u8bf4\u660e : \u5982\u679c\u957f\u671f\u672a\u66f4\u65b0\u955c\u50cf\uff0c\u8bf7\u5148\u66f4\u65b0 Nebula Graph\u955c\u50cf \u548c Nebula Console\u955c\u50cf \u3002 nebula-docker-compose ] $ docker-compose up -d Creating nebula-docker-compose_metad0_1 ... done Creating nebula-docker-compose_metad2_1 ... done Creating nebula-docker-compose_metad1_1 ... done Creating nebula-docker-compose_graphd2_1 ... done Creating nebula-docker-compose_graphd_1 ... done Creating nebula-docker-compose_graphd1_1 ... done Creating nebula-docker-compose_storaged0_1 ... done Creating nebula-docker-compose_storaged2_1 ... done Creating nebula-docker-compose_storaged1_1 ... done \u8bf4\u660e : \u4e0a\u8ff0\u670d\u52a1\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u67b6\u6784\u603b\u89c8 \u3002 \u8fde\u63a5Nebula Graph\u3002 1. \u4f7f\u7528Nebula Console\u955c\u50cf\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u8fde\u63a5\u5230Nebula Graph\u670d\u52a1\u6240\u5728\u7684\u7f51\u7edc\uff08nebula-docker-compose_nebula-net\uff09\u4e2d\u3002 $ docker run --rm -ti --network nebula-docker-compose_nebula-net --entrypoint = /bin/sh vesoft/nebula-console:v2-nightly \u8bf4\u660e \uff1a\u60a8\u7684\u672c\u5730\u7f51\u7edc\u53ef\u80fd\u548c\u793a\u4f8b\u4e2d\u7684 nebula-docker-compose_nebula-net \u4e0d\u540c\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u3002 $ docker network ls NETWORK ID NAME DRIVER SCOPE a74c312b1d16 bridge bridge local dbfa82505f0e host host local ed55ccf356ae nebula-docker-compose_nebula-net bridge local 93ba48b4b288 none null local 1. \u901a\u8fc7Nebula Console\u8fde\u63a5Nebula Graph\u3002 docker> nebula-console -u user -p password --address = graphd --port = 9669 \u8bf4\u660e \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u8ba4\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u767b\u5f55\u3002\u5982\u679c\u60f3\u4f7f\u7528\u8eab\u4efd\u8ba4\u8bc1\uff0c\u8bf7\u53c2\u89c1 \u8eab\u4efd\u8ba4\u8bc1 \u3002 1. \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u68c0\u67e5 nebula-storaged \u8fdb\u7a0b\u72b6\u6001\u3002 nebula> SHOW HOSTS ; +-------------+------+----------+--------------+----------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"Total\" | | | 0 | | | +-------------+------+----------+--------------+----------------------+------------------------+ \u6267\u884c\u4e24\u6b21 exit \u53ef\u4ee5\u9000\u51fa\u5bb9\u5668\u3002 \u67e5\u770bNebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3 \u00b6 \u6267\u884c\u547d\u4ee4 docker-compose ps \u53ef\u4ee5\u5217\u51faNebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3\u3002 $ docker-compose ps Name Command State Ports ------------------------------------------------------------------------------------------------------------------------------------------------------------------- nebula-docker-compose_graphd1_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33295->19669/tcp, 0 .0.0.0:33291->19670/tcp, 3699 /tcp, 0 .0.0.0:33298->9669/tcp nebula-docker-compose_graphd2_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33285->19669/tcp, 0 .0.0.0:33284->19670/tcp, 3699 /tcp, 0 .0.0.0:33286->9669/tcp nebula-docker-compose_graphd_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33288->19669/tcp, 0 .0.0.0:33287->19670/tcp, 3699 /tcp, 0 .0.0.0:9669->9669/tcp nebula-docker-compose_metad0_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33276->19559/tcp, 0 .0.0.0:33275->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33278->9559/tcp nebula-docker-compose_metad1_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33279->19559/tcp, 0 .0.0.0:33277->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33281->9559/tcp nebula-docker-compose_metad2_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33282->19559/tcp, 0 .0.0.0:33280->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33283->9559/tcp nebula-docker-compose_storaged0_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33290->19779/tcp, 0 .0.0.0:33289->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33294->9779/tcp nebula-docker-compose_storaged1_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33296->19779/tcp, 0 .0.0.0:33292->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33299->9779/tcp nebula-docker-compose_storaged2_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33297->19779/tcp, 0 .0.0.0:33293->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33300->9779/tcp Nebula Graph\u9ed8\u8ba4\u4f7f\u7528 9669 \u7aef\u53e3\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u670d\u52a1\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u7aef\u53e3\uff0c\u8bf7\u4fee\u6539\u76ee\u5f55 nebula-docker-compose \u5185\u7684\u6587\u4ef6 docker-compose.yaml \uff0c\u7136\u540e\u91cd\u542fNebula Graph\u670d\u52a1\u3002 \u67e5\u770bNebula Graph\u670d\u52a1\u7684\u6570\u636e\u548c\u65e5\u5fd7 \u00b6 Nebula Graph\u7684\u6240\u6709\u6570\u636e\u548c\u65e5\u5fd7\u90fd\u6301\u4e45\u5316\u5b58\u50a8\u5728 nebula-docker-compose/data \u548c nebula-docker-compose/logs \u76ee\u5f55\u4e2d\u3002 \u76ee\u5f55\u7684\u7ed3\u6784\u5982\u4e0b\uff1a nebula-docker-compose/ |-- docker-compose.yaml \u251c\u2500\u2500 data \u2502 \u251c\u2500\u2500 meta0 \u2502 \u251c\u2500\u2500 meta1 \u2502 \u251c\u2500\u2500 meta2 \u2502 \u251c\u2500\u2500 storage0 \u2502 \u251c\u2500\u2500 storage1 \u2502 \u2514\u2500\u2500 storage2 \u2514\u2500\u2500 logs \u251c\u2500\u2500 graph \u251c\u2500\u2500 graph1 \u251c\u2500\u2500 graph2 \u251c\u2500\u2500 meta0 \u251c\u2500\u2500 meta1 \u251c\u2500\u2500 meta2 \u251c\u2500\u2500 storage0 \u251c\u2500\u2500 storage1 \u2514\u2500\u2500 storage2 \u505c\u6b62Nebula Graph\u670d\u52a1 \u00b6 \u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a $ docker-compose down \u5982\u679c\u8fd4\u56de\u5982\u4e0b\u4fe1\u606f\uff0c\u8868\u793a\u5df2\u7ecf\u6210\u529f\u505c\u6b62\u670d\u52a1\u3002 Stopping nebula-docker-compose_storaged0_1 ... done Stopping nebula-docker-compose_graphd1_1 ... done Stopping nebula-docker-compose_graphd_1 ... done Stopping nebula-docker-compose_storaged1_1 ... done Stopping nebula-docker-compose_graphd2_1 ... done Stopping nebula-docker-compose_storaged2_1 ... done Stopping nebula-docker-compose_metad0_1 ... done Stopping nebula-docker-compose_metad2_1 ... done Stopping nebula-docker-compose_metad1_1 ... done Removing nebula-docker-compose_storaged0_1 ... done Removing nebula-docker-compose_graphd1_1 ... done Removing nebula-docker-compose_graphd_1 ... done Removing nebula-docker-compose_storaged1_1 ... done Removing nebula-docker-compose_graphd2_1 ... done Removing nebula-docker-compose_storaged2_1 ... done Removing nebula-docker-compose_metad0_1 ... done Removing nebula-docker-compose_metad2_1 ... done Removing nebula-docker-compose_metad1_1 ... done Removing network nebula-docker-compose_nebula-net \u8bf4\u660e \uff1a\u547d\u4ee4 docker-compose down -v \u5c06\u4f1a \u5220\u9664 \u6240\u6709\u672c\u5730Nebula Graph\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fdeveloping\u6216nightly\u7248\u672c\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8bf7\u5c1d\u8bd5\u8fd9\u4e2a\u547d\u4ee4\u3002 \u5e38\u89c1\u95ee\u9898 \u00b6 \u5982\u4f55\u56fa\u5b9aDocker\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\uff1f \u00b6 \u5728\u76ee\u5f55 nebula-docker-compose \u5185\u4fee\u6539\u6587\u4ef6 docker-compose.yaml \uff0c\u5c06\u5bf9\u5e94\u670d\u52a1\u7684 ports \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u6620\u5c04\uff0c\u4f8b\u5982\uff1a graphd: image: vesoft/nebula-graphd:v2-nightly ... ports: - 9669 :9669 - 19669 - 19670 9669:9669 \u8868\u793a\u5185\u90e8\u76849669\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\u4e5f\u662f9669\uff0c\u4e0b\u65b9\u7684 19669 \u8868\u793a\u5185\u90e8\u768419669\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\u662f\u968f\u673a\u7684\u3002 \u5982\u4f55\u66f4\u65b0Nebula Graph\u670d\u52a1\u7684Docker\u955c\u50cf\uff1f \u00b6 \u5728\u76ee\u5f55 nebula-docker-compose \u5185\u6267\u884c\u547d\u4ee4 docker-compose pull \uff0c\u53ef\u4ee5\u66f4\u65b0Graph\u670d\u52a1\u3001Storage\u670d\u52a1\u548cMeta\u670d\u52a1\u7684\u955c\u50cf\u3002 \u6267\u884c\u547d\u4ee4 docker-compose pull \u62a5\u9519 ERROR: toomanyrequests \u00b6 \u60a8\u53ef\u80fd\u9047\u5230\u5982\u4e0b\u9519\u8bef\uff1a ERROR: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit \u4ee5\u4e0a\u9519\u8bef\u8868\u793a\u60a8\u5df2\u8fbe\u5230Docker Hub\u7684\u901f\u7387\u9650\u5236\u3002\u89e3\u51b3\u65b9\u6848\u8bf7\u53c2\u89c1 Understanding Docker Hub Rate Limiting \u3002 \u5982\u4f55\u66f4\u65b0Nebula Console\uff1f \u00b6 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u53ef\u4ee5\u66f4\u65b0Nebula Console\u5ba2\u6237\u7aef\u955c\u50cf\u3002 docker pull vesoft/nebula-console:v2-nightly \u5982\u4f55\u5347\u7ea7Nebula Graph\uff1f \u00b6 \u66f4\u65b0Nebula Graph\u7684Docker\u955c\u50cf\u5e76\u91cd\u542f\u670d\u52a1\uff1a \u5728\u76ee\u5f55 nebula-docker-compose \u5185\uff0c\u6267\u884c\u547d\u4ee4 docker-compose pull \u66f4\u65b0Nebula Graph\u7684Docker\u955c\u50cf\u3002 \u6267\u884c\u547d\u4ee4 docker-compose down \u505c\u6b62Nebula Graph\u670d\u52a1\u3002 \u6267\u884c\u547d\u4ee4 docker-compose up -d \u542f\u52a8Nebula Graph\u670d\u52a1\u3002 \u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\uff08Nebula Graph 2.0.0-RC\uff09\u540e\uff0c\u65e0\u6cd5\u901a\u8fc7\u7aef\u53e3 3699 \u8fde\u63a5Nebula Graph\uff1f \u00b6 \u5728Nebula Graph 2.0.0-RC\u7248\u672c\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4ece 3699 \u6539\u4e3a 9669 \u3002\u8bf7\u4f7f\u7528 9669 \u7aef\u53e3\u8fde\u63a5\uff0c\u6216\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 docker-compose.yaml \u5185\u7684\u7aef\u53e3\u3002 \u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\u540e\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff1f\uff082021\u5e7401\u670804\u65e5\uff09 \u00b6 \u5982\u679c\u60a8\u57282021\u5e7401\u670804\u65e5\u540e\u66f4\u65b0\u8fc7nebula-docker-compose\u4ed3\u5e93\uff0c\u800c\u4e14\u4e4b\u524d\u5df2\u7ecf\u6709\u6570\u636e\uff0c\u8bf7\u4fee\u6539\u6587\u4ef6 docker-compose.yaml \uff0c\u5c06\u7aef\u53e3\u4fee\u6539\u4e3a\u4e4b\u524d\u4f7f\u7528\u7684\u7aef\u53e3\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u4fee\u6539\u9ed8\u8ba4\u7aef\u53e3 \u3002 \u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\u540e\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff1f\uff082021\u5e7401\u670827\u65e5\uff09 \u00b6 2021\u5e7401\u670827\u65e5\u4fee\u6539\u4e86\u6570\u636e\u683c\u5f0f\uff0c\u65e0\u6cd5\u517c\u5bb9\u4e4b\u524d\u7684\u6570\u636e\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 docker-compose down -v \u5220\u9664\u6240\u6709\u672c\u5730\u6570\u636e\u3002 \u76f8\u5173\u6587\u6863 \u00b6 \u4f7f\u7528\u6e90\u7801\u5b89\u88c5\u90e8\u7f72Nebula Graph \u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph \u591a\u79cd\u65b9\u5f0f\u8fde\u63a5Nebula Graph","title":"Docker Compose\u90e8\u7f72Nebula Graph"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#docker_composenebula_graph","text":"\u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u90e8\u7f72Nebula Graph\uff0c\u4f46\u662f\u4f7f\u7528Docker Compose\u901a\u5e38\u662f\u6700\u5feb\u7684\u65b9\u5f0f\u3002","title":"Docker Compose\u90e8\u7f72Nebula Graph"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#_1","text":"\u5982\u679c\u60a8\u662f\u5e26\u7740\u5982\u4e0b\u95ee\u9898\u9605\u8bfb\u672c\u6587\uff0c\u53ef\u4ee5\u76f4\u63a5\u5355\u51fb\u95ee\u9898\u8df3\u8f6c\u67e5\u770b\u5bf9\u5e94\u7684\u8bf4\u660e\u3002 \u90e8\u7f72Nebula Graph\u4e4b\u524d\u9700\u8981\u505a\u4ec0\u4e48\u51c6\u5907\u5de5\u4f5c\uff1f \u5982\u4f55\u901a\u8fc7Docker Compose\u5feb\u901f\u90e8\u7f72Nebula Graph\uff1f \u5982\u4f55\u68c0\u67e5Nebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3\uff1f \u5982\u4f55\u68c0\u67e5Nebula Graph\u670d\u52a1\u7684\u6570\u636e\u548c\u65e5\u5fd7\uff1f \u5982\u4f55\u505c\u6b62Nebula Graph\u670d\u52a1\uff1f \u5982\u4f55\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u90e8\u7f72Nebula Graph\uff1f","title":"\u9605\u8bfb\u6307\u5357"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#_2","text":"\u4e3b\u673a\u4e0a\u5b89\u88c5\u5982\u4e0b\u5e94\u7528\u7a0b\u5e8f\u3002 \u5e94\u7528\u7a0b\u5e8f \u63a8\u8350\u7248\u672c \u5b98\u65b9\u5b89\u88c5\u53c2\u8003 Docker \u6700\u65b0\u7248\u672c Install Docker Engine Docker Compose \u6700\u65b0\u7248\u672c Install Docker Compose Git \u6700\u65b0\u7248\u672c Download Git \u5982\u679c\u60a8\u4f7f\u7528\u975eroot\u7528\u6237\u90e8\u7f72Nebula Graph\uff0c\u8bf7\u6388\u6743\u8be5\u7528\u6237Docker\u76f8\u5173\u7684\u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Manage Docker as a non-root user \u3002 \u542f\u52a8\u4e3b\u673a\u4e0a\u7684Docker\u670d\u52a1\u3002 \u5982\u679c\u60a8\u5df2\u7ecf\u901a\u8fc7Docker Compose\u5728\u4e3b\u673a\u4e0a\u90e8\u7f72\u4e86\u53e6\u4e00\u4e2a\u7248\u672c\u7684Nebula Graph\uff0c\u4e3a\u907f\u514d\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u9700\u8981\u60a8\u5220\u9664\u76ee\u5f55 nebula-docker-compose/data \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u9700\u8981\u5907\u4efd\u670d\u52a1\u6570\u636e\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u5907\u4efd\u6570\u636e TODO: \u672a\u548cv2.0.0\u4e00\u8d77\u53d1\u5e03\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graph","text":"\u901a\u8fc7Git\u514b\u9686 nebula-docker-compose \u4ed3\u5e93\u7684 master \u5206\u652f\u5230\u60a8\u7684\u4e3b\u673a\u3002 \u7981\u6b62 \uff1a master \u5206\u652f\u5305\u542b\u6700\u65b0\u7684Nebula Graph\u5f00\u53d1\u7248\u672c\u7684Docker Compose\u89e3\u51b3\u65b9\u6848\u3002\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4f7f\u7528\u6b64\u7248\u672c\u3002 $ git clone https://github.com/vesoft-inc/nebula-docker-compose.git \u5207\u6362\u81f3\u76ee\u5f55 nebula-docker-compose \u3002 $ cd nebula-docker-compose/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\u3002 \u8bf4\u660e : \u5982\u679c\u957f\u671f\u672a\u66f4\u65b0\u955c\u50cf\uff0c\u8bf7\u5148\u66f4\u65b0 Nebula Graph\u955c\u50cf \u548c Nebula Console\u955c\u50cf \u3002 nebula-docker-compose ] $ docker-compose up -d Creating nebula-docker-compose_metad0_1 ... done Creating nebula-docker-compose_metad2_1 ... done Creating nebula-docker-compose_metad1_1 ... done Creating nebula-docker-compose_graphd2_1 ... done Creating nebula-docker-compose_graphd_1 ... done Creating nebula-docker-compose_graphd1_1 ... done Creating nebula-docker-compose_storaged0_1 ... done Creating nebula-docker-compose_storaged2_1 ... done Creating nebula-docker-compose_storaged1_1 ... done \u8bf4\u660e : \u4e0a\u8ff0\u670d\u52a1\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u67b6\u6784\u603b\u89c8 \u3002 \u8fde\u63a5Nebula Graph\u3002 1. \u4f7f\u7528Nebula Console\u955c\u50cf\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u8fde\u63a5\u5230Nebula Graph\u670d\u52a1\u6240\u5728\u7684\u7f51\u7edc\uff08nebula-docker-compose_nebula-net\uff09\u4e2d\u3002 $ docker run --rm -ti --network nebula-docker-compose_nebula-net --entrypoint = /bin/sh vesoft/nebula-console:v2-nightly \u8bf4\u660e \uff1a\u60a8\u7684\u672c\u5730\u7f51\u7edc\u53ef\u80fd\u548c\u793a\u4f8b\u4e2d\u7684 nebula-docker-compose_nebula-net \u4e0d\u540c\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u3002 $ docker network ls NETWORK ID NAME DRIVER SCOPE a74c312b1d16 bridge bridge local dbfa82505f0e host host local ed55ccf356ae nebula-docker-compose_nebula-net bridge local 93ba48b4b288 none null local 1. \u901a\u8fc7Nebula Console\u8fde\u63a5Nebula Graph\u3002 docker> nebula-console -u user -p password --address = graphd --port = 9669 \u8bf4\u660e \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u8ba4\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u767b\u5f55\u3002\u5982\u679c\u60f3\u4f7f\u7528\u8eab\u4efd\u8ba4\u8bc1\uff0c\u8bf7\u53c2\u89c1 \u8eab\u4efd\u8ba4\u8bc1 \u3002 1. \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u68c0\u67e5 nebula-storaged \u8fdb\u7a0b\u72b6\u6001\u3002 nebula> SHOW HOSTS ; +-------------+------+----------+--------------+----------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+----------------------+------------------------+ | \"Total\" | | | 0 | | | +-------------+------+----------+--------------+----------------------+------------------------+ \u6267\u884c\u4e24\u6b21 exit \u53ef\u4ee5\u9000\u51fa\u5bb9\u5668\u3002","title":"\u90e8\u7f72\u548c\u8fde\u63a5Nebula Graph"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graph_1","text":"\u6267\u884c\u547d\u4ee4 docker-compose ps \u53ef\u4ee5\u5217\u51faNebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3\u3002 $ docker-compose ps Name Command State Ports ------------------------------------------------------------------------------------------------------------------------------------------------------------------- nebula-docker-compose_graphd1_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33295->19669/tcp, 0 .0.0.0:33291->19670/tcp, 3699 /tcp, 0 .0.0.0:33298->9669/tcp nebula-docker-compose_graphd2_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33285->19669/tcp, 0 .0.0.0:33284->19670/tcp, 3699 /tcp, 0 .0.0.0:33286->9669/tcp nebula-docker-compose_graphd_1 ./bin/nebula-graphd --flag ... Up ( health: starting ) 13000 /tcp, 13002 /tcp, 0 .0.0.0:33288->19669/tcp, 0 .0.0.0:33287->19670/tcp, 3699 /tcp, 0 .0.0.0:9669->9669/tcp nebula-docker-compose_metad0_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33276->19559/tcp, 0 .0.0.0:33275->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33278->9559/tcp nebula-docker-compose_metad1_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33279->19559/tcp, 0 .0.0.0:33277->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33281->9559/tcp nebula-docker-compose_metad2_1 ./bin/nebula-metad --flagf ... Up ( health: starting ) 11000 /tcp, 11002 /tcp, 0 .0.0.0:33282->19559/tcp, 0 .0.0.0:33280->19560/tcp, 45500 /tcp, 45501 /tcp, 0 .0.0.0:33283->9559/tcp nebula-docker-compose_storaged0_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33290->19779/tcp, 0 .0.0.0:33289->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33294->9779/tcp nebula-docker-compose_storaged1_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33296->19779/tcp, 0 .0.0.0:33292->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33299->9779/tcp nebula-docker-compose_storaged2_1 ./bin/nebula-storaged --fl ... Up ( health: starting ) 12000 /tcp, 12002 /tcp, 0 .0.0.0:33297->19779/tcp, 0 .0.0.0:33293->19780/tcp, 44500 /tcp, 44501 /tcp, 0 .0.0.0:33300->9779/tcp Nebula Graph\u9ed8\u8ba4\u4f7f\u7528 9669 \u7aef\u53e3\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u670d\u52a1\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u7aef\u53e3\uff0c\u8bf7\u4fee\u6539\u76ee\u5f55 nebula-docker-compose \u5185\u7684\u6587\u4ef6 docker-compose.yaml \uff0c\u7136\u540e\u91cd\u542fNebula Graph\u670d\u52a1\u3002","title":"\u67e5\u770bNebula Graph\u670d\u52a1\u7684\u72b6\u6001\u548c\u7aef\u53e3"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graph_2","text":"Nebula Graph\u7684\u6240\u6709\u6570\u636e\u548c\u65e5\u5fd7\u90fd\u6301\u4e45\u5316\u5b58\u50a8\u5728 nebula-docker-compose/data \u548c nebula-docker-compose/logs \u76ee\u5f55\u4e2d\u3002 \u76ee\u5f55\u7684\u7ed3\u6784\u5982\u4e0b\uff1a nebula-docker-compose/ |-- docker-compose.yaml \u251c\u2500\u2500 data \u2502 \u251c\u2500\u2500 meta0 \u2502 \u251c\u2500\u2500 meta1 \u2502 \u251c\u2500\u2500 meta2 \u2502 \u251c\u2500\u2500 storage0 \u2502 \u251c\u2500\u2500 storage1 \u2502 \u2514\u2500\u2500 storage2 \u2514\u2500\u2500 logs \u251c\u2500\u2500 graph \u251c\u2500\u2500 graph1 \u251c\u2500\u2500 graph2 \u251c\u2500\u2500 meta0 \u251c\u2500\u2500 meta1 \u251c\u2500\u2500 meta2 \u251c\u2500\u2500 storage0 \u251c\u2500\u2500 storage1 \u2514\u2500\u2500 storage2","title":"\u67e5\u770bNebula Graph\u670d\u52a1\u7684\u6570\u636e\u548c\u65e5\u5fd7"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graph_3","text":"\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a $ docker-compose down \u5982\u679c\u8fd4\u56de\u5982\u4e0b\u4fe1\u606f\uff0c\u8868\u793a\u5df2\u7ecf\u6210\u529f\u505c\u6b62\u670d\u52a1\u3002 Stopping nebula-docker-compose_storaged0_1 ... done Stopping nebula-docker-compose_graphd1_1 ... done Stopping nebula-docker-compose_graphd_1 ... done Stopping nebula-docker-compose_storaged1_1 ... done Stopping nebula-docker-compose_graphd2_1 ... done Stopping nebula-docker-compose_storaged2_1 ... done Stopping nebula-docker-compose_metad0_1 ... done Stopping nebula-docker-compose_metad2_1 ... done Stopping nebula-docker-compose_metad1_1 ... done Removing nebula-docker-compose_storaged0_1 ... done Removing nebula-docker-compose_graphd1_1 ... done Removing nebula-docker-compose_graphd_1 ... done Removing nebula-docker-compose_storaged1_1 ... done Removing nebula-docker-compose_graphd2_1 ... done Removing nebula-docker-compose_storaged2_1 ... done Removing nebula-docker-compose_metad0_1 ... done Removing nebula-docker-compose_metad2_1 ... done Removing nebula-docker-compose_metad1_1 ... done Removing network nebula-docker-compose_nebula-net \u8bf4\u660e \uff1a\u547d\u4ee4 docker-compose down -v \u5c06\u4f1a \u5220\u9664 \u6240\u6709\u672c\u5730Nebula Graph\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fdeveloping\u6216nightly\u7248\u672c\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8bf7\u5c1d\u8bd5\u8fd9\u4e2a\u547d\u4ee4\u3002","title":"\u505c\u6b62Nebula Graph\u670d\u52a1"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#_3","text":"","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#docker","text":"\u5728\u76ee\u5f55 nebula-docker-compose \u5185\u4fee\u6539\u6587\u4ef6 docker-compose.yaml \uff0c\u5c06\u5bf9\u5e94\u670d\u52a1\u7684 ports \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u6620\u5c04\uff0c\u4f8b\u5982\uff1a graphd: image: vesoft/nebula-graphd:v2-nightly ... ports: - 9669 :9669 - 19669 - 19670 9669:9669 \u8868\u793a\u5185\u90e8\u76849669\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\u4e5f\u662f9669\uff0c\u4e0b\u65b9\u7684 19669 \u8868\u793a\u5185\u90e8\u768419669\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\u662f\u968f\u673a\u7684\u3002","title":"\u5982\u4f55\u56fa\u5b9aDocker\u6620\u5c04\u5230\u5916\u90e8\u7684\u7aef\u53e3\uff1f"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graphdocker","text":"\u5728\u76ee\u5f55 nebula-docker-compose \u5185\u6267\u884c\u547d\u4ee4 docker-compose pull \uff0c\u53ef\u4ee5\u66f4\u65b0Graph\u670d\u52a1\u3001Storage\u670d\u52a1\u548cMeta\u670d\u52a1\u7684\u955c\u50cf\u3002","title":"\u5982\u4f55\u66f4\u65b0Nebula Graph\u670d\u52a1\u7684Docker\u955c\u50cf\uff1f"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#docker-compose_pullerror_toomanyrequests","text":"\u60a8\u53ef\u80fd\u9047\u5230\u5982\u4e0b\u9519\u8bef\uff1a ERROR: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit \u4ee5\u4e0a\u9519\u8bef\u8868\u793a\u60a8\u5df2\u8fbe\u5230Docker Hub\u7684\u901f\u7387\u9650\u5236\u3002\u89e3\u51b3\u65b9\u6848\u8bf7\u53c2\u89c1 Understanding Docker Hub Rate Limiting \u3002","title":"\u6267\u884c\u547d\u4ee4docker-compose pull\u62a5\u9519ERROR: toomanyrequests"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_console","text":"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u53ef\u4ee5\u66f4\u65b0Nebula Console\u5ba2\u6237\u7aef\u955c\u50cf\u3002 docker pull vesoft/nebula-console:v2-nightly","title":"\u5982\u4f55\u66f4\u65b0Nebula Console\uff1f"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula_graph_4","text":"\u66f4\u65b0Nebula Graph\u7684Docker\u955c\u50cf\u5e76\u91cd\u542f\u670d\u52a1\uff1a \u5728\u76ee\u5f55 nebula-docker-compose \u5185\uff0c\u6267\u884c\u547d\u4ee4 docker-compose pull \u66f4\u65b0Nebula Graph\u7684Docker\u955c\u50cf\u3002 \u6267\u884c\u547d\u4ee4 docker-compose down \u505c\u6b62Nebula Graph\u670d\u52a1\u3002 \u6267\u884c\u547d\u4ee4 docker-compose up -d \u542f\u52a8Nebula Graph\u670d\u52a1\u3002","title":"\u5982\u4f55\u5347\u7ea7Nebula Graph\uff1f"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula-docker-composenebula_graph_200-rc3699nebula_graph","text":"\u5728Nebula Graph 2.0.0-RC\u7248\u672c\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4ece 3699 \u6539\u4e3a 9669 \u3002\u8bf7\u4f7f\u7528 9669 \u7aef\u53e3\u8fde\u63a5\uff0c\u6216\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 docker-compose.yaml \u5185\u7684\u7aef\u53e3\u3002","title":"\u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\uff08Nebula Graph 2.0.0-RC\uff09\u540e\uff0c\u65e0\u6cd5\u901a\u8fc7\u7aef\u53e33699\u8fde\u63a5Nebula Graph\uff1f"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula-docker-compose20210104","text":"\u5982\u679c\u60a8\u57282021\u5e7401\u670804\u65e5\u540e\u66f4\u65b0\u8fc7nebula-docker-compose\u4ed3\u5e93\uff0c\u800c\u4e14\u4e4b\u524d\u5df2\u7ecf\u6709\u6570\u636e\uff0c\u8bf7\u4fee\u6539\u6587\u4ef6 docker-compose.yaml \uff0c\u5c06\u7aef\u53e3\u4fee\u6539\u4e3a\u4e4b\u524d\u4f7f\u7528\u7684\u7aef\u53e3\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u4fee\u6539\u9ed8\u8ba4\u7aef\u53e3 \u3002","title":"\u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\u540e\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff1f\uff082021\u5e7401\u670804\u65e5\uff09"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#nebula-docker-compose20210127","text":"2021\u5e7401\u670827\u65e5\u4fee\u6539\u4e86\u6570\u636e\u683c\u5f0f\uff0c\u65e0\u6cd5\u517c\u5bb9\u4e4b\u524d\u7684\u6570\u636e\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 docker-compose down -v \u5220\u9664\u6240\u6709\u672c\u5730\u6570\u636e\u3002","title":"\u4e3a\u4ec0\u4e48\u66f4\u65b0nebula-docker-compose\u4ed3\u5e93\u540e\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff1f\uff082021\u5e7401\u670827\u65e5\uff09"},{"location":"2.quick-start/2.deploy-nebula-graph-with-docker-compose/#_4","text":"\u4f7f\u7528\u6e90\u7801\u5b89\u88c5\u90e8\u7f72Nebula Graph \u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph \u591a\u79cd\u65b9\u5f0f\u8fde\u63a5Nebula Graph","title":"\u76f8\u5173\u6587\u6863"},{"location":"2.quick-start/3.connect-to-nebula-graph/","text":"\u8fde\u63a5Nebula Graph \u00b6 Nebula Graph\u652f\u6301\u591a\u79cd\u7c7b\u578b\u5ba2\u6237\u7aef\uff0c\u5305\u62ecCLI\u5ba2\u6237\u7aef\u3001GUI\u5ba2\u6237\u7aef\u548c\u6d41\u884c\u7f16\u7a0b\u8bed\u8a00\u5f00\u53d1\u7684\u5ba2\u6237\u7aef\u3002\u672c\u6587\u5c06\u6982\u8ff0Nebula Graph\u5ba2\u6237\u7aef\uff0c\u5e76\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u539f\u751fCLI\u5ba2\u6237\u7aefNebula\u3002 Nebula Graph\u5ba2\u6237\u7aef \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528\u5df2\u652f\u6301\u7684 \u5ba2\u6237\u7aef\u6216\u8005\u547d\u4ee4\u884c\u5de5\u5177 \u6765\u8fde\u63a5Nebula Graph\u6570\u636e\u5e93\u3002 \u4f7f\u7528Nebula Console\u8fde\u63a5Nebula Graph \u00b6 \u524d\u63d0\u6761\u4ef6 \u00b6 Nebula Graph\u670d\u52a1\u5df2\u542f\u52a8\u3002\u5982\u4f55\u542f\u52a8\u670d\u52a1\uff0c\u8bf7\u53c2\u89c1 \u542f\u52a8\u548c\u505c\u6b62Nebula Graph\u670d\u52a1 \u3002 \u8fd0\u884cNebula Console\u7684\u673a\u5668\u548c\u8fd0\u884cNebula Graph\u7684\u670d\u52a1\u5668\u7f51\u7edc\u4e92\u901a\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5728 nebula-console \u9875\u9762\uff0c\u786e\u8ba4\u9700\u8981\u7684\u7248\u672c\uff0c\u5355\u51fb Assets \u3002 \u8bf4\u660e \uff1a\u5efa\u8bae\u60a8\u9009\u62e9 \u6700\u65b0 \u7248\u672c\u3002 \u5728 Assets \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002 \uff08\u53ef\u9009\uff09\u4e3a\u65b9\u4fbf\u4f7f\u7528\uff0c\u91cd\u547d\u540d\u6587\u4ef6\u4e3a nebula-console \u3002 \u8bf4\u660e \uff1a\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u8bf7\u91cd\u547d\u540d\u4e3a nebula-console.exe \u3002 \u5728\u8fd0\u884cNebula Console\u7684\u673a\u5668\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u4e3a\u7528\u6237\u6388\u4e88nebula-console\u6587\u4ef6\u7684\u6267\u884c\u6743\u9650\u3002 \u8bf4\u660e \uff1aWindows\u7cfb\u7edf\u8bf7\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002 $ chmod 111 nebula-console \u5728\u547d\u4ee4\u884c\u754c\u9762\u4e2d\uff0c\u5207\u6362\u5de5\u4f5c\u76ee\u5f55\u81f3nebula-console\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u3002 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fde\u63a5Nebula Graph\u3002 - Linux\u6216macOS $ ./nebula-console -addr <ip> -port <port> -u <username> -p <password> [ -t 120 ] [ -e \"nGQL_statement\" | -f filename.nGQL ] - Windows > nebula-console . exe -addr < ip > -port < port > -u < username > -p < password > [ -t 120 ] [ -e \"nGQL_statement\" | -f filename . nGQL ] \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 \u53c2\u6570 \u8bf4\u660e -h \u663e\u793a\u5e2e\u52a9\u83dc\u5355\u3002 -addr \u8bbe\u7f6e\u8981\u8fde\u63a5\u7684graphd\u670d\u52a1\u7684IP\u5730\u5740\u3002\u9ed8\u8ba4\u5730\u5740\u4e3a127.0.0.1\u3002 -port \u8bbe\u7f6e\u8981\u8fde\u63a5\u7684graphd\u670d\u52a1\u7684\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a9669\u3002 -u/-user \u8bbe\u7f6eNebula Graph\u8d26\u53f7\u7684\u7528\u6237\u540d\u3002\u672a\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\u65f6\uff0c\u7528\u6237\u540d\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u3002 -p/-password \u8bbe\u7f6e\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801\u3002\u672a\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\u65f6\uff0c\u5bc6\u7801\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u3002 -t/-timeout \u8bbe\u7f6e\u6574\u6570\u7c7b\u578b\u7684\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u503c\u4e3a120\u3002 -e/-eval \u8bbe\u7f6e\u5b57\u7b26\u4e32\u7c7b\u578b\u7684nGQL\u8bed\u53e5\u3002\u8fde\u63a5\u6210\u529f\u540e\u4f1a\u6267\u884c\u4e00\u6b21\u8be5\u8bed\u53e5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u7136\u540e\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\u3002 -f/-file \u8bbe\u7f6e\u5b58\u50a8nGQL\u8bed\u53e5\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u8fde\u63a5\u6210\u529f\u540e\u4f1a\u6267\u884c\u8be5\u6587\u4ef6\u5185\u7684nGQL\u8bed\u53e5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\u3002 \u60a8\u53ef\u4ee5\u5728 \u9879\u76ee\u4ed3\u5e93 \u627e\u5230\u66f4\u591a\u7ec6\u8282. Nebula Console\u5bfc\u51fa\u6a21\u5f0f \u00b6 \u5bfc\u51fa\u6a21\u5f0f\u5f00\u542f\u65f6\uff0cNebula Console\u4f1a\u5bfc\u51fa\u6240\u6709\u8bf7\u6c42\u7684\u7ed3\u679c\u5230CSV\u683c\u5f0f\u6587\u4ef6\u4e2d\u3002\u5173\u95ed\u5bfc\u51fa\u6a21\u5f0f\u4f1a\u505c\u6b62\u5bfc\u51fa\u3002\u4f7f\u7528\u8bed\u6cd5\u5982\u4e0b\uff1a \u8bf4\u660e \uff1a \u547d\u4ee4\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 CSV\u683c\u5f0f\u6587\u4ef6\u4fdd\u5b58\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\uff0c\u5373Linux\u547d\u4ee4 pwd \u663e\u793a\u7684\u76ee\u5f55\u3002 \u5f00\u542f\u5bfc\u51fa\u6a21\u5f0f nebula> :SET CSV <your_file.csv> \u5173\u95ed\u5bfc\u51fa\u6a21\u5f0f nebula> :UNSET CSV \u4f7f\u7528Nebula Console\u65ad\u5f00\u8fde\u63a5 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 :EXIT \u6216\u8005 :QUIT \u4eceNebula Graph\u65ad\u5f00\u8fde\u63a5\u3002\u4e3a\u65b9\u4fbf\u4f7f\u7528\uff0cNebula Console\u652f\u6301\u4f7f\u7528\u4e0d\u5e26\u5192\u53f7\uff08:\uff09\u7684\u5c0f\u5199\u547d\u4ee4\uff0c\u4f8b\u5982 quit \u3002 nebula> :QUIT Bye root! \u5e38\u89c1\u95ee\u9898 \u00b6 \u5982\u4f55\u901a\u8fc7\u6e90\u7801\u5b89\u88c5Nebula Console\uff1f \u00b6 \u4e0b\u8f7d\u548c\u7f16\u8bd1Nebula Console\u7684\u6700\u65b0\u6e90\u7801\uff0c\u8bf7\u53c2\u89c1 GitHub nebula console \u9875\u9762\u7684\u8bf4\u660e\u3002","title":"\u8fde\u63a5Nebula Graph"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_graph","text":"Nebula Graph\u652f\u6301\u591a\u79cd\u7c7b\u578b\u5ba2\u6237\u7aef\uff0c\u5305\u62ecCLI\u5ba2\u6237\u7aef\u3001GUI\u5ba2\u6237\u7aef\u548c\u6d41\u884c\u7f16\u7a0b\u8bed\u8a00\u5f00\u53d1\u7684\u5ba2\u6237\u7aef\u3002\u672c\u6587\u5c06\u6982\u8ff0Nebula Graph\u5ba2\u6237\u7aef\uff0c\u5e76\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u539f\u751fCLI\u5ba2\u6237\u7aefNebula\u3002","title":"\u8fde\u63a5Nebula Graph"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_graph_1","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528\u5df2\u652f\u6301\u7684 \u5ba2\u6237\u7aef\u6216\u8005\u547d\u4ee4\u884c\u5de5\u5177 \u6765\u8fde\u63a5Nebula Graph\u6570\u636e\u5e93\u3002","title":"Nebula Graph\u5ba2\u6237\u7aef"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_consolenebula_graph","text":"","title":"\u4f7f\u7528Nebula Console\u8fde\u63a5Nebula Graph"},{"location":"2.quick-start/3.connect-to-nebula-graph/#_1","text":"Nebula Graph\u670d\u52a1\u5df2\u542f\u52a8\u3002\u5982\u4f55\u542f\u52a8\u670d\u52a1\uff0c\u8bf7\u53c2\u89c1 \u542f\u52a8\u548c\u505c\u6b62Nebula Graph\u670d\u52a1 \u3002 \u8fd0\u884cNebula Console\u7684\u673a\u5668\u548c\u8fd0\u884cNebula Graph\u7684\u670d\u52a1\u5668\u7f51\u7edc\u4e92\u901a\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"2.quick-start/3.connect-to-nebula-graph/#_2","text":"\u5728 nebula-console \u9875\u9762\uff0c\u786e\u8ba4\u9700\u8981\u7684\u7248\u672c\uff0c\u5355\u51fb Assets \u3002 \u8bf4\u660e \uff1a\u5efa\u8bae\u60a8\u9009\u62e9 \u6700\u65b0 \u7248\u672c\u3002 \u5728 Assets \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002 \uff08\u53ef\u9009\uff09\u4e3a\u65b9\u4fbf\u4f7f\u7528\uff0c\u91cd\u547d\u540d\u6587\u4ef6\u4e3a nebula-console \u3002 \u8bf4\u660e \uff1a\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u8bf7\u91cd\u547d\u540d\u4e3a nebula-console.exe \u3002 \u5728\u8fd0\u884cNebula Console\u7684\u673a\u5668\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u4e3a\u7528\u6237\u6388\u4e88nebula-console\u6587\u4ef6\u7684\u6267\u884c\u6743\u9650\u3002 \u8bf4\u660e \uff1aWindows\u7cfb\u7edf\u8bf7\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002 $ chmod 111 nebula-console \u5728\u547d\u4ee4\u884c\u754c\u9762\u4e2d\uff0c\u5207\u6362\u5de5\u4f5c\u76ee\u5f55\u81f3nebula-console\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u3002 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fde\u63a5Nebula Graph\u3002 - Linux\u6216macOS $ ./nebula-console -addr <ip> -port <port> -u <username> -p <password> [ -t 120 ] [ -e \"nGQL_statement\" | -f filename.nGQL ] - Windows > nebula-console . exe -addr < ip > -port < port > -u < username > -p < password > [ -t 120 ] [ -e \"nGQL_statement\" | -f filename . nGQL ] \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 \u53c2\u6570 \u8bf4\u660e -h \u663e\u793a\u5e2e\u52a9\u83dc\u5355\u3002 -addr \u8bbe\u7f6e\u8981\u8fde\u63a5\u7684graphd\u670d\u52a1\u7684IP\u5730\u5740\u3002\u9ed8\u8ba4\u5730\u5740\u4e3a127.0.0.1\u3002 -port \u8bbe\u7f6e\u8981\u8fde\u63a5\u7684graphd\u670d\u52a1\u7684\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a9669\u3002 -u/-user \u8bbe\u7f6eNebula Graph\u8d26\u53f7\u7684\u7528\u6237\u540d\u3002\u672a\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\u65f6\uff0c\u7528\u6237\u540d\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u3002 -p/-password \u8bbe\u7f6e\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801\u3002\u672a\u542f\u7528\u8eab\u4efd\u8ba4\u8bc1\u65f6\uff0c\u5bc6\u7801\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u3002 -t/-timeout \u8bbe\u7f6e\u6574\u6570\u7c7b\u578b\u7684\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u503c\u4e3a120\u3002 -e/-eval \u8bbe\u7f6e\u5b57\u7b26\u4e32\u7c7b\u578b\u7684nGQL\u8bed\u53e5\u3002\u8fde\u63a5\u6210\u529f\u540e\u4f1a\u6267\u884c\u4e00\u6b21\u8be5\u8bed\u53e5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u7136\u540e\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\u3002 -f/-file \u8bbe\u7f6e\u5b58\u50a8nGQL\u8bed\u53e5\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u8fde\u63a5\u6210\u529f\u540e\u4f1a\u6267\u884c\u8be5\u6587\u4ef6\u5185\u7684nGQL\u8bed\u53e5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u81ea\u52a8\u65ad\u5f00\u8fde\u63a5\u3002 \u60a8\u53ef\u4ee5\u5728 \u9879\u76ee\u4ed3\u5e93 \u627e\u5230\u66f4\u591a\u7ec6\u8282.","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_console","text":"\u5bfc\u51fa\u6a21\u5f0f\u5f00\u542f\u65f6\uff0cNebula Console\u4f1a\u5bfc\u51fa\u6240\u6709\u8bf7\u6c42\u7684\u7ed3\u679c\u5230CSV\u683c\u5f0f\u6587\u4ef6\u4e2d\u3002\u5173\u95ed\u5bfc\u51fa\u6a21\u5f0f\u4f1a\u505c\u6b62\u5bfc\u51fa\u3002\u4f7f\u7528\u8bed\u6cd5\u5982\u4e0b\uff1a \u8bf4\u660e \uff1a \u547d\u4ee4\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 CSV\u683c\u5f0f\u6587\u4ef6\u4fdd\u5b58\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\uff0c\u5373Linux\u547d\u4ee4 pwd \u663e\u793a\u7684\u76ee\u5f55\u3002 \u5f00\u542f\u5bfc\u51fa\u6a21\u5f0f nebula> :SET CSV <your_file.csv> \u5173\u95ed\u5bfc\u51fa\u6a21\u5f0f nebula> :UNSET CSV","title":"Nebula Console\u5bfc\u51fa\u6a21\u5f0f"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_console_1","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 :EXIT \u6216\u8005 :QUIT \u4eceNebula Graph\u65ad\u5f00\u8fde\u63a5\u3002\u4e3a\u65b9\u4fbf\u4f7f\u7528\uff0cNebula Console\u652f\u6301\u4f7f\u7528\u4e0d\u5e26\u5192\u53f7\uff08:\uff09\u7684\u5c0f\u5199\u547d\u4ee4\uff0c\u4f8b\u5982 quit \u3002 nebula> :QUIT Bye root!","title":"\u4f7f\u7528Nebula Console\u65ad\u5f00\u8fde\u63a5"},{"location":"2.quick-start/3.connect-to-nebula-graph/#_3","text":"","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"2.quick-start/3.connect-to-nebula-graph/#nebula_console_2","text":"\u4e0b\u8f7d\u548c\u7f16\u8bd1Nebula Console\u7684\u6700\u65b0\u6e90\u7801\uff0c\u8bf7\u53c2\u89c1 GitHub nebula console \u9875\u9762\u7684\u8bf4\u660e\u3002","title":"\u5982\u4f55\u901a\u8fc7\u6e90\u7801\u5b89\u88c5Nebula Console\uff1f"},{"location":"2.quick-start/4.nebula-graph-crud/","text":"\u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5 \u00b6 \u672c\u6587\u4ecb\u7ecdNebula Graph\u57fa\u7840\u64cd\u4f5c\u7684\u8bed\u6cd5\u3002 \u56fe\u7a7a\u95f4\u548cSchema \u00b6 \u4e00\u4e2aNebula Graph\u5b9e\u4f8b\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u56fe\u7a7a\u95f4\u7ec4\u6210\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u90fd\u662f\u7269\u7406\u9694\u79bb\u7684\uff0c\u60a8\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u5b9e\u4f8b\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u5b58\u50a8\u4e0d\u540c\u7684\u6570\u636e\u96c6\u3002 \u4e3a\u4e86\u5728\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u6570\u636e\uff0c\u9700\u8981\u4e3a\u56fe\u6570\u636e\u5e93\u5b9a\u4e49\u4e00\u4e2aSchema\u3002Nebula Graph\u7684Schema\u662f\u7531\u5982\u4e0b\u51e0\u90e8\u5206\u7ec4\u6210\u3002 \u7ec4\u6210\u90e8\u5206 \u8bf4\u660e \u70b9\uff08vertex\uff09 \u8868\u793a\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u5b9e\u4f53\u3002\u4e00\u4e2a\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\u3002 \u6807\u7b7e\uff08tag\uff09 \u70b9\u7684\u7c7b\u578b\uff0c\u5b9a\u4e49\u4e86\u4e00\u7ec4\u63cf\u8ff0\u70b9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u8fb9\uff08edge\uff09 \u8868\u793a\u4e24\u4e2a\u70b9\u4e4b\u95f4 \u6709\u65b9\u5411 \u7684\u5173\u7cfb\u3002 \u8fb9\u7c7b\u578b\uff08edge type\uff09 \u8fb9\u7684\u7c7b\u578b\uff0c\u5b9a\u4e49\u4e86\u4e00\u7ec4\u63cf\u8ff0\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u6570\u636e\u7ed3\u6784 \u3002 \u672c\u6587\u5c06\u4f7f\u7528\u4e0b\u56fe\u7684\u6570\u636e\u96c6\u6f14\u793a\u57fa\u7840\u64cd\u4f5c\u7684\u8bed\u6cd5\u3002 \u68c0\u67e5Nebula Graph\u96c6\u7fa4\u7684\u673a\u5668\u72b6\u6001 \u00b6 \u9996\u5148\u5efa\u8bae\u60a8\u68c0\u67e5\u673a\u5668\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u7684Storage\u670d\u52a1\u8fde\u63a5\u5230\u4e86Meta\u670d\u52a1\u3002\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u67e5\u770b\u673a\u5668\u72b6\u6001\u3002 nebula> SHOW HOSTS; +-------------+-----------+-----------+--------------+----------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"Total\" | __EMPTY__ | __EMPTY__ | 0 | __EMPTY__ | __EMPTY__ | +-------------+-----------+-----------+--------------+----------------------+------------------------+ Got 4 rows (time spent 1061/2251 us) \u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u67e5\u770b Status \u5217\uff0c\u53ef\u4ee5\u770b\u5230\u6240\u6709Storage\u670d\u52a1\u90fd\u5728\u7ebf\u3002 \u5f02\u6b65\u5b9e\u73b0\u521b\u5efa\u548c\u4fee\u6539 \u00b6 Nebula Graph\u4e2d\u6267\u884c\u5982\u4e0b\u521b\u5efa\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\uff0c\u9700\u8981\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u624d\u540c\u6b65\u6570\u636e\u3002 CREATE SPACE CREATE TAG CREATE EDGE ALTER TAG ALTER EDGE CREATE TAG INDEX CREATE EDGE INDEX \u8bf4\u660e \uff1a\u9ed8\u8ba4\u5fc3\u8df3\u5468\u671f\u662f10\u79d2\u3002\u4fee\u6539\u5fc3\u8df3\u5468\u671f\u53c2\u6570 heartbeat_interval_secs \uff0c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u7b80\u4ecb \u3002 \u4e3a\u786e\u4fdd\u6570\u636e\u540c\u6b65\uff0c\u540e\u7eed\u64cd\u4f5c\u80fd\u987a\u5229\u8fdb\u884c\uff0c\u53ef\u91c7\u53d6\u4ee5\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u6267\u884c SHOW \u6216 DESCRIBE \u547d\u4ee4\u68c0\u67e5\u76f8\u5e94\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u786e\u4fdd\u521b\u5efa\u6216\u4fee\u6539\u5df2\u5b8c\u6210\u3002\u5982\u679c\u6ca1\u6709\u5b8c\u6210\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f852\u4e2a\u5fc3\u8df3\u5468\u671f\uff0820\u79d2\uff09\u3002 \u521b\u5efa\u548c\u9009\u62e9\u56fe\u7a7a\u95f4 \u00b6 nGQL\u8bed\u6cd5 \u00b6 \u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE [IF NOT EXISTS] <graph_space_name> [(partition_num = <partition_number>, replica_factor = <replica_number>, vid_type = {FIXED_STRING(<N>)) | INT64}]; \u53c2\u6570 \u8bf4\u660e partition_num \u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a5\u500d\u7684\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u3002\u4f8b\u5982\u96c6\u7fa4\u4e2d\u67093\u4e2a\u786c\u76d8\uff0c\u5efa\u8bae\u8bbe\u7f6e15\u4e2a\u5206\u7247\u3002 replica_factor \u6307\u5b9a\u6bcf\u4e2a\u5206\u7247\u7684\u526f\u672c\u6570\u91cf\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a3\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a1\u3002\u7531\u4e8e\u9700\u8981\u8fdb\u884c\u57fa\u4e8equorum\u7684\u9009\u4e3e\uff0c\u526f\u672c\u6570\u91cf\u5fc5\u987b\u662f \u5947\u6570 \u3002 vid_type \u6307\u5b9a\u70b9ID\u7684\u6570\u636e\u7c7b\u578b\u3002\u53ef\u9009\u503c\u4e3a FIXED_STRING(<N>) \u548c INT64 \u3002 FIXED_STRING(<N>) \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6700\u5927\u957f\u5ea6\u4e3a N \uff0c\u8d85\u51fa\u957f\u5ea6\u4f1a\u62a5\u9519\uff1b INT64 \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a FIXED_STRING(8) \u3002 \u5217\u51fa\u521b\u5efa\u6210\u529f\u7684\u56fe\u7a7a\u95f4 nebula> SHOW SPACES; \u9009\u62e9\u6570\u636e\u5e93 USE <graph_space_name>; \u793a\u4f8b \u00b6 \u6267\u884c\u5982\u4e0b\u8bed\u53e5\u521b\u5efa\u540d\u4e3a basketballplayer \u7684\u56fe\u7a7a\u95f4\u3002 nebula> CREATE SPACE basketballplayer(partition_num=15, replica_factor=1, vid_type=fixed_string(30)); Execution succeeded (time spent 2817/3280 us) \u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u60c5\u51b5\uff0c\u786e\u4fdd\u5e73\u8861\u5206\u5e03\u3002 nebula> SHOW HOSTS; +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"Total\" | __EMPTY__ | __EMPTY__ | 15 | \"basketballplayer:15\" | \"basketballplayer:15\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ Got 4 rows (time spent 1633/2867 us) \u5982\u679c Leader distribution \u5206\u5e03\u4e0d\u5747\u5300\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 BALANCE LEADER \u91cd\u65b0\u5206\u914d\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Storage\u8d1f\u8f7d\u5747\u8861 \u3002 \u9009\u62e9\u56fe\u7a7a\u95f4 basketballplayer \u3002 nebula[(none)]> USE basketballplayer; Execution succeeded (time spent 1229/2318 us) \u60a8\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 SHOW SPACES \u67e5\u770b\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u3002 nebula> SHOW SPACES; +--------------------+ | Name | +--------------------+ | \"basketballplayer\" | +--------------------+ Got 1 rows (time spent 977/2000 us) \u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b \u00b6 nGQL\u8bed\u6cd5 \u00b6 CREATE {TAG | EDGE} {<tag_name> | <edge_type>}(<property_name> <data_type> [, <property_name> <data_type> ...]); \u793a\u4f8b \u00b6 \u521b\u5efa\u6807\u7b7e player \u548c team \uff0c\u4ee5\u53ca\u8fb9\u7c7b\u578b follow \u548c serve \u3002\u8bf4\u660e\u5982\u4e0b\u8868\u3002 \u540d\u79f0 \u7c7b\u578b \u5c5e\u6027 player Tag name (string), age (int) team Tag name (string) follow Edge type degree (int) serve Edge type start_year (int), end_year (int) nebula> CREATE TAG player(name string, age int); Execution succeeded (time spent 20708/22071 us) Wed, 24 Feb 2021 03:47:01 EST nebula> CREATE TAG team(name string); Execution succeeded (time spent 5643/6810 us) Wed, 24 Feb 2021 03:47:59 EST nebula> CREATE EDGE follow(degree int); Execution succeeded (time spent 12665/13934 us) Wed, 24 Feb 2021 03:48:07 EST nebula> CREATE EDGE serve(start_year int, end_year int); Execution succeeded (time spent 5858/6870 us) Wed, 24 Feb 2021 03:48:16 EST \u63d2\u5165\u70b9\u548c\u8fb9 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 INSERT \u8bed\u53e5\uff0c\u57fa\u4e8e\u73b0\u6709\u7684\u6807\u7b7e\u63d2\u5165\u70b9\uff0c\u6216\u8005\u57fa\u4e8e\u73b0\u6709\u7684\u8fb9\u7c7b\u578b\u63d2\u5165\u8fb9\u3002 nGQL\u8bed\u6cd5 \u00b6 \u63d2\u5165\u70b9 INSERT VERTEX <tag_name> (<property_name>[, <property_name>...]) [, <tag_name> (<property_name>[, <property_name>...]), ...] {VALUES | VALUE} <vid>: (<property_value>[, <property_value>...]) [, <vid>: (<property_value>[, <property_value>...]; VID \u662fVertex ID\u7684\u7f29\u5199\uff0c VID \u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u662f\u552f\u4e00\u7684\u3002 \u63d2\u5165\u8fb9 INSERT EDGE <edge_type> (<property_name>[, <property_name>...]) {VALUES | VALUE} <src_vid> -> <dst_vid>[@<rank>] : (<property_value>[, <property_value>...]) [, <src_vid> -> <dst_vid>[@<rank> : (<property_name>[, <property_name>...]), ...]; \u793a\u4f8b \u00b6 \u63d2\u5165\u4ee3\u8868\u7403\u5458\u548c\u7403\u961f\u7684\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player100\":(\"Tim Duncan\", 42); Execution succeeded (time spent 28196/30896 us) Wed, 24 Feb 2021 03:55:08 EST nebula> INSERT VERTEX player(name, age) VALUES \"player101\":(\"Tony Parker\", 36); Execution succeeded (time spent 2708/3834 us) Wed, 24 Feb 2021 03:55:20 EST nebula> INSERT VERTEX player(name, age) VALUES \"player102\":(\"LaMarcus Aldridge\", 33); Execution succeeded (time spent 1945/3294 us) Wed, 24 Feb 2021 03:55:32 EST nebula> INSERT VERTEX team(name) VALUES \"team200\":(\"Warriors\"), \"team201\":(\"Nuggets\"); Execution succeeded (time spent 2269/3310 us) Wed, 24 Feb 2021 03:55:47 EST \u63d2\u5165\u4ee3\u8868\u7403\u5458\u548c\u7403\u961f\u4e4b\u95f4\u5173\u7cfb\u7684\u8fb9\u3002 nebula> INSERT EDGE follow(degree) VALUES \"player100\" -> \"player101\":(95); Execution succeeded (time spent 3362/4542 us) Wed, 24 Feb 2021 03:57:36 EST nebula> INSERT EDGE follow(degree) VALUES \"player100\" -> \"player102\":(90); Execution succeeded (time spent 2974/4274 us) Wed, 24 Feb 2021 03:57:44 EST nebula> INSERT EDGE follow(degree) VALUES \"player102\" -> \"player101\":(75); Execution succeeded (time spent 1891/3096 us) Wed, 24 Feb 2021 03:57:52 EST nebula> INSERT EDGE serve(start_year, end_year) VALUES \"player100\" -> \"team200\":(1997, 2016), \"player101\" -> \"team201\":(1999, 2018); Execution succeeded (time spent 6064/7104 us) Wed, 24 Feb 2021 03:58:01 EST \u67e5\u8be2\u6570\u636e \u00b6 GO \u8bed\u53e5\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684\u6761\u4ef6\u904d\u5386\u6570\u636e\u5e93\u3002 GO \u8bed\u53e5\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u5f00\u59cb\uff0c\u6cbf\u7740\u4e00\u6761\u6216\u591a\u6761\u8fb9\u904d\u5386\uff0c\u8fd4\u56de YIELD \u5b50\u53e5\u4e2d\u6307\u5b9a\u7684\u4fe1\u606f\u3002 FETCH \u8bed\u53e5\u53ef\u4ee5\u83b7\u5f97\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 LOOKUP \u8bed\u53e5\u662f\u57fa\u4e8e \u7d22\u5f15 \u7684\uff0c\u548c WHERE \u5b50\u53e5\u4e00\u8d77\u4f7f\u7528\uff0c\u67e5\u627e\u7b26\u5408\u7279\u5b9a\u6761\u4ef6\u7684\u6570\u636e\u3002 MATCH \u8bed\u53e5\u662f\u67e5\u8be2\u56fe\u6570\u636e\u6700\u5e38\u7528\u7684\uff0c\u4f46\u662f\u5b83\u4f9d\u8d56 \u7d22\u5f15 \u53bb\u5339\u914dNebula Graph\u4e2d\u7684\u6570\u636e\u6a21\u578b\u3002 nGQL\u8bed\u6cd5 \u00b6 GO GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [WHERE <expression> [AND | OR expression ...])] YIELD [DISTINCT] <return_list>; FETCH \u67e5\u8be2\u6807\u7b7e\u5c5e\u6027 FETCH PROP ON {<tag_name> | <tag_name_list> | *} <vid_list> [YIELD [DISTINCT] <return_list>]; \u67e5\u8be2\u8fb9\u5c5e\u6027 FETCH PROP ON <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid> ...] [YIELD [DISTINCT] <return_list>]; LOOKUP LOOKUP ON {<tag_name> | <edge_type>} WHERE <expression> [AND expression ...])] [YIELD <return_list>]; MATCH MATCH <pattern> [<WHERE clause>] RETURN <output>; GO \u8bed\u53e5\u793a\u4f8b \u00b6 \u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u627e\u5230\u8fde\u63a5\u7684\u7403\u5458\u3002 nebula> GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ Got 2 rows (time spent 12097/14220 us) \u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u67e5\u627e\u5e74\u9f84\u5927\u4e8e\u6216\u7b49\u4e8e35\u5c81\u7684\u7403\u5458\uff0c\u5e76\u8fd4\u56de\u4ed6\u4eec\u7684\u59d3\u540d\u548c\u5e74\u9f84\uff0c\u540c\u65f6\u91cd\u547d\u540d\u5bf9\u5e94\u7684\u5217\u3002 nebula> GO FROM \"player100\" OVER follow WHERE $$.player.age >= 35 \\ -> YIELD $$.player.name AS Teammate, $$.player.age AS Age; +---------------+-----+ | Teammate | Age | +---------------+-----+ | \"Tony Parker\" | 36 | +---------------+-----+ Got 1 rows (time spent 8206/9335 us) \u5b50\u53e5/\u7b26\u53f7 \u8bf4\u660e YIELD \u6307\u5b9a\u8be5\u67e5\u8be2\u9700\u8981\u8fd4\u56de\u7684\u503c\u6216\u7ed3\u679c\u3002 $$ \u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 \\ \u8868\u793a\u6362\u884c\u7ee7\u7eed\u8f93\u5165\u3002 \u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u67e5\u627e\u8fde\u63a5\u7684\u7403\u5458\uff0c\u7136\u540e\u68c0\u7d22\u8fd9\u4e9b\u7403\u5458\u7684\u7403\u961f\u3002\u4e3a\u4e86\u5408\u5e76\u8fd9\u4e24\u4e2a\u67e5\u8be2\u8bf7\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u4e34\u65f6\u53d8\u91cf\u3002 \u4f7f\u7528\u7ba1\u9053\u7b26 nebula> GO FROM \"player100\" OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +-----------+---------------+ | Team | Player | +-----------+---------------+ | \"Nuggets\" | \"Tony Parker\" | +-----------+---------------+ Got 1 rows (time spent 5055/8203 us) \u5b50\u53e5/\u7b26\u53f7 \u8bf4\u660e $^ \u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 \\| \u7ec4\u5408\u591a\u4e2a\u67e5\u8be2\u7684\u7ba1\u9053\u7b26\uff0c\u5c06\u524d\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u7528\u4e8e\u540e\u4e00\u4e2a\u67e5\u8be2\u3002 $- \u8868\u793a\u7ba1\u9053\u7b26\u524d\u9762\u7684\u67e5\u8be2\u8f93\u51fa\u7684\u7ed3\u679c\u96c6\u3002 \u4f7f\u7528\u4e34\u65f6\u53d8\u91cf \u8bf4\u660e \uff1a\u5f53\u590d\u5408\u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u65f6\uff0c\u5176\u4e2d\u7684\u4e34\u65f6\u53d8\u91cf\u4f1a\u5728\u8bed\u53e5\u7ed3\u675f\u65f6\u88ab\u91ca\u653e\u3002 ngql nebula> $var = GO FROM \"player100\" OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+ Got 1 rows (time spent 3103/3711 us) FETCH \u8bed\u53e5\u793a\u4f8b \u00b6 \u67e5\u8be2VID\u4e3a player100 \u7684\u7403\u5458\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON player \"player100\"; +----------------------------------------------------+ | vertices_ | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ Got 1 rows (time spent 2006/2406 us) \u8bf4\u660e \uff1a LOOKUP \u548c MATCH \u7684\u793a\u4f8b\u5728\u4e0b\u6587\u7684 \u7d22\u5f15 \u90e8\u5206\u67e5\u770b\u3002 \u4fee\u6539\u70b9\u548c\u8fb9 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 UPDATE \u8bed\u53e5\u6216 UPSERT \u8bed\u53e5\u4fee\u6539\u73b0\u6709\u6570\u636e\u3002 UPSERT \u662f UPDATE \u548c INSERT \u7684\u7ed3\u5408\u4f53\u3002\u5f53\u60a8\u4f7f\u7528 UPSERT \u66f4\u65b0\u4e00\u4e2a\u70b9\u6216\u8fb9\uff0c\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u70b9\u6216\u8fb9\u3002 \u8bf4\u660e \uff1a UPSERT \u64cd\u4f5c\u662f\u57fa\u4e8eNebula Graph\u7684\u5206\u533a\u8fdb\u884c\u4e32\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u6267\u884c\u901f\u5ea6\u6bd4\u5355\u72ec\u6267\u884c INSERT \u6216 UPDATE \u6162\u3002 nGQL\u8bed\u6cd5 \u00b6 UPDATE \u70b9 UPDATE VERTEX <vid> SET <properties to be updated> [WHEN <condition>] [YIELD <columns>]; UPDATE \u8fb9 UPDATE EDGE <source vid> -> <destination vid> [@rank] OF <edge_type> SET <properties to be updated> [WHEN <condition>] [YIELD <columns to be output>]; UPSERT \u70b9\u6216\u8fb9 UPSERT {VERTEX <vid> | EDGE <edge_type>} SET <update_columns> [WHEN <condition>] [YIELD <columns>]; \u793a\u4f8b \u00b6 \u7528 UPDATE \u4fee\u6539VID\u4e3a player100 \u7684\u7403\u5458\u7684 name \u5c5e\u6027\uff0c\u7136\u540e\u7528 FETCH \u8bed\u53e5\u68c0\u67e5\u7ed3\u679c\u3002 ```ngql nebula> UPDATE VERTEX \"player100\" SET player.name = \"Tim\"; Execution succeeded (time spent 3483/3914 us) Wed, 21 Oct 2020 10:53:14 UTC nebula> FETCH PROP ON player \"player100\"; +---------------------------------------------+ | vertices_ | +---------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim\"}) | +---------------------------------------------+ Got 1 rows (time spent 2463/3042 us) ``` \u7528 UPDATE \u4fee\u6539\u67d0\u6761\u8fb9\u7684 degree \u5c5e\u6027\uff0c\u7136\u540e\u7528 FETCH \u68c0\u67e5\u7ed3\u679c\u3002 nebula> UPDATE EDGE \"player100\" -> \"player101\" OF follow SET degree = 96; Execution succeeded (time spent 3932/4432 us) nebula> FETCH PROP ON follow \"player100\" -> \"player101\"; +----------------------------------------------------+ | edges_ | +----------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 96}] | +----------------------------------------------------+ Got 1 rows (time spent 2205/2800 us) \u7528 UPSERT \u63d2\u5165\u4e00\u4e2aVID\u4e3a player111 \u7684\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player111\":(\"Ben Simmons\", 22); Execution succeeded (time spent 2115/2900 us) Wed, 21 Oct 2020 11:11:50 UTC nebula> UPSERT VERTEX \"player111\" SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 \\ WHEN $^.player.name == \"Ben Simmons\" AND $^.player.age > 20 \\ YIELD $^.player.name AS Name, $^.player.age AS Age; +---------------+-----+ | Name | Age | +---------------+-----+ | Dwight Howard | 33 | +---------------+-----+ Got 1 rows (time spent 1815/2329 us) \u5220\u9664\u70b9\u548c\u8fb9 \u00b6 nGQL\u8bed\u6cd5 \u00b6 \u5220\u9664\u70b9 DELETE VERTEX <vid1>[, <vid2>...] \u5220\u9664\u8fb9 DELETE EDGE <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid>...] \u793a\u4f8b \u00b6 \u5220\u9664\u70b9 nebula> DELETE VERTEX \"team1\", \"team2\"; Execution succeeded (time spent 4337/4782 us) \u5220\u9664\u8fb9 nebula> DELETE EDGE follow \"team1\" -> \"team2\"; Execution succeeded (time spent 3700/4101 us) \u7d22\u5f15 \u00b6 \u60a8\u53ef\u4ee5\u901a\u8fc7 CREATE INDEX \u8bed\u53e5\u4e3a\u6807\u7b7e\uff08tag\uff09\u548c\u8fb9\u7c7b\u578b\uff08edge type\uff09\u589e\u52a0\u7d22\u5f15\u3002 \u4f7f\u7528\u7d22\u5f15\u5fc5\u8bfb \u00b6 MATCH \u548c LOOKUP \u8bed\u53e5\u7684\u6267\u884c\u90fd\u4f9d\u8d56\u7d22\u5f15\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 \u60a8 \u5fc5\u987b \u4e3a\u5df2\u5b58\u5728\u7684\u6570\u636e\u91cd\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u4e0d\u80fd\u7d22\u5f15\u5df2\u5b58\u5728\u7684\u6570\u636e\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5728 MATCH \u548c LOOKUP \u8bed\u53e5\u4e2d\u8fd4\u56de\u8fd9\u4e9b\u6570\u636e\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u91cd\u5efa\u7d22\u5f15 \u3002 nGQL\u8bed\u6cd5 \u00b6 \u521b\u5efa\u7d22\u5f15 CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} (prop_name_list); \u91cd\u5efa\u7d22\u5f15 REBUILD {TAG | EDGE} INDEX <index_name>; \u793a\u4f8b \u00b6 \u4e3a\u6807\u7b7e player \u7684\u5c5e\u6027 name \u521b\u5efa\u7d22\u5f15\uff0c\u5e76\u4e14\u91cd\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_0 on player(name(20)); nebula> REBUILD TAG INDEX player_index_0; \u8bf4\u660e \uff1a\u4e3a\u6ca1\u6709\u6307\u5b9a\u957f\u5ea6\u7684\u53d8\u91cf\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002\u5728utf-8\u7f16\u7801\u4e2d\uff0c\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u5b57\u8282\uff0c\u8bf7\u6839\u636e\u53d8\u91cf\u5c5e\u6027\u957f\u5ea6\u8bbe\u7f6e\u5408\u9002\u7684\u7d22\u5f15\u957f\u5ea6\u3002\u4f8b\u598210\u4e2a\u4e2d\u6587\u5b57\u7b26\uff0c\u7d22\u5f15\u957f\u5ea6\u9700\u8981\u4e3a30\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u521b\u5efa\u7d22\u5f15 \u3002 \u57fa\u4e8e\u7d22\u5f15\u7684 LOOKUP \u548c MATCH \u793a\u4f8b \u00b6 \u786e\u4fdd LOOKUP \u6216 MATCH \u6709\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u5148\u521b\u5efa\u7d22\u5f15\u3002 \u627e\u5230\u6807\u7b7e\u4e3a player \u7684\u70b9\u7684\u4fe1\u606f\uff0c\u5b83\u7684 name \u5c5e\u6027\u503c\u4e3a Tony Parker \u3002 // \u4e3aname\u5c5e\u6027\u521b\u5efa\u7d22\u5f15player_name_0\u3002 nebula> CREATE TAG INDEX player_name_0 on player(name(10)); Execution succeeded (time spent 3465/4150 us) // \u91cd\u5efa\u7d22\u5f15\u786e\u4fdd\u80fd\u5bf9\u5df2\u5b58\u5728\u6570\u636e\u751f\u6548\u3002 nebula> REBUILD TAG INDEX player_name_0 +------------+ | New Job Id | +------------+ | 31 | +------------+ Got 1 rows (time spent 2379/3033 us) // \u4f7f\u7528LOOKUP\u8bed\u53e5\u68c0\u7d22\u70b9\u7684\u5c5e\u6027\u3002 nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; +-------------+---------------+------------+ | VertexID | player.name | player.age | +-------------+---------------+------------+ | \"player101\" | \"Tony Parker\" | 36 | +-------------+---------------+------------+ // \u4f7f\u7528MATCH\u8bed\u53e5\u68c0\u7d22\u70b9\u7684\u5c5e\u6027\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"}) RETURN v; +-----------------------------------------------------+ | v | +-----------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------+ Got 1 rows (time spent 5132/6246 us)","title":"Nebula Graph\u5e38\u7528\u8bed\u6cd5\uff08CRUD\uff09"},{"location":"2.quick-start/4.nebula-graph-crud/#_1","text":"\u672c\u6587\u4ecb\u7ecdNebula Graph\u57fa\u7840\u64cd\u4f5c\u7684\u8bed\u6cd5\u3002","title":"\u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#schema","text":"\u4e00\u4e2aNebula Graph\u5b9e\u4f8b\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u56fe\u7a7a\u95f4\u7ec4\u6210\u3002\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u90fd\u662f\u7269\u7406\u9694\u79bb\u7684\uff0c\u60a8\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u5b9e\u4f8b\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u5b58\u50a8\u4e0d\u540c\u7684\u6570\u636e\u96c6\u3002 \u4e3a\u4e86\u5728\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u6570\u636e\uff0c\u9700\u8981\u4e3a\u56fe\u6570\u636e\u5e93\u5b9a\u4e49\u4e00\u4e2aSchema\u3002Nebula Graph\u7684Schema\u662f\u7531\u5982\u4e0b\u51e0\u90e8\u5206\u7ec4\u6210\u3002 \u7ec4\u6210\u90e8\u5206 \u8bf4\u660e \u70b9\uff08vertex\uff09 \u8868\u793a\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u5b9e\u4f53\u3002\u4e00\u4e2a\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\u3002 \u6807\u7b7e\uff08tag\uff09 \u70b9\u7684\u7c7b\u578b\uff0c\u5b9a\u4e49\u4e86\u4e00\u7ec4\u63cf\u8ff0\u70b9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u8fb9\uff08edge\uff09 \u8868\u793a\u4e24\u4e2a\u70b9\u4e4b\u95f4 \u6709\u65b9\u5411 \u7684\u5173\u7cfb\u3002 \u8fb9\u7c7b\u578b\uff08edge type\uff09 \u8fb9\u7684\u7c7b\u578b\uff0c\u5b9a\u4e49\u4e86\u4e00\u7ec4\u63cf\u8ff0\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u6570\u636e\u7ed3\u6784 \u3002 \u672c\u6587\u5c06\u4f7f\u7528\u4e0b\u56fe\u7684\u6570\u636e\u96c6\u6f14\u793a\u57fa\u7840\u64cd\u4f5c\u7684\u8bed\u6cd5\u3002","title":"\u56fe\u7a7a\u95f4\u548cSchema"},{"location":"2.quick-start/4.nebula-graph-crud/#nebula_graph","text":"\u9996\u5148\u5efa\u8bae\u60a8\u68c0\u67e5\u673a\u5668\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u7684Storage\u670d\u52a1\u8fde\u63a5\u5230\u4e86Meta\u670d\u52a1\u3002\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u67e5\u770b\u673a\u5668\u72b6\u6001\u3002 nebula> SHOW HOSTS; +-------------+-----------+-----------+--------------+----------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+-----------+-----------+--------------+----------------------+------------------------+ | \"Total\" | __EMPTY__ | __EMPTY__ | 0 | __EMPTY__ | __EMPTY__ | +-------------+-----------+-----------+--------------+----------------------+------------------------+ Got 4 rows (time spent 1061/2251 us) \u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u67e5\u770b Status \u5217\uff0c\u53ef\u4ee5\u770b\u5230\u6240\u6709Storage\u670d\u52a1\u90fd\u5728\u7ebf\u3002","title":"\u68c0\u67e5Nebula Graph\u96c6\u7fa4\u7684\u673a\u5668\u72b6\u6001"},{"location":"2.quick-start/4.nebula-graph-crud/#_2","text":"Nebula Graph\u4e2d\u6267\u884c\u5982\u4e0b\u521b\u5efa\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\uff0c\u9700\u8981\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u624d\u540c\u6b65\u6570\u636e\u3002 CREATE SPACE CREATE TAG CREATE EDGE ALTER TAG ALTER EDGE CREATE TAG INDEX CREATE EDGE INDEX \u8bf4\u660e \uff1a\u9ed8\u8ba4\u5fc3\u8df3\u5468\u671f\u662f10\u79d2\u3002\u4fee\u6539\u5fc3\u8df3\u5468\u671f\u53c2\u6570 heartbeat_interval_secs \uff0c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u7b80\u4ecb \u3002 \u4e3a\u786e\u4fdd\u6570\u636e\u540c\u6b65\uff0c\u540e\u7eed\u64cd\u4f5c\u80fd\u987a\u5229\u8fdb\u884c\uff0c\u53ef\u91c7\u53d6\u4ee5\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u6267\u884c SHOW \u6216 DESCRIBE \u547d\u4ee4\u68c0\u67e5\u76f8\u5e94\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u786e\u4fdd\u521b\u5efa\u6216\u4fee\u6539\u5df2\u5b8c\u6210\u3002\u5982\u679c\u6ca1\u6709\u5b8c\u6210\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f852\u4e2a\u5fc3\u8df3\u5468\u671f\uff0820\u79d2\uff09\u3002","title":"\u5f02\u6b65\u5b9e\u73b0\u521b\u5efa\u548c\u4fee\u6539"},{"location":"2.quick-start/4.nebula-graph-crud/#_3","text":"","title":"\u521b\u5efa\u548c\u9009\u62e9\u56fe\u7a7a\u95f4"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql","text":"\u521b\u5efa\u56fe\u7a7a\u95f4 CREATE SPACE [IF NOT EXISTS] <graph_space_name> [(partition_num = <partition_number>, replica_factor = <replica_number>, vid_type = {FIXED_STRING(<N>)) | INT64}]; \u53c2\u6570 \u8bf4\u660e partition_num \u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a5\u500d\u7684\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u3002\u4f8b\u5982\u96c6\u7fa4\u4e2d\u67093\u4e2a\u786c\u76d8\uff0c\u5efa\u8bae\u8bbe\u7f6e15\u4e2a\u5206\u7247\u3002 replica_factor \u6307\u5b9a\u6bcf\u4e2a\u5206\u7247\u7684\u526f\u672c\u6570\u91cf\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a3\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a1\u3002\u7531\u4e8e\u9700\u8981\u8fdb\u884c\u57fa\u4e8equorum\u7684\u9009\u4e3e\uff0c\u526f\u672c\u6570\u91cf\u5fc5\u987b\u662f \u5947\u6570 \u3002 vid_type \u6307\u5b9a\u70b9ID\u7684\u6570\u636e\u7c7b\u578b\u3002\u53ef\u9009\u503c\u4e3a FIXED_STRING(<N>) \u548c INT64 \u3002 FIXED_STRING(<N>) \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6700\u5927\u957f\u5ea6\u4e3a N \uff0c\u8d85\u51fa\u957f\u5ea6\u4f1a\u62a5\u9519\uff1b INT64 \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a FIXED_STRING(8) \u3002 \u5217\u51fa\u521b\u5efa\u6210\u529f\u7684\u56fe\u7a7a\u95f4 nebula> SHOW SPACES; \u9009\u62e9\u6570\u636e\u5e93 USE <graph_space_name>;","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_4","text":"\u6267\u884c\u5982\u4e0b\u8bed\u53e5\u521b\u5efa\u540d\u4e3a basketballplayer \u7684\u56fe\u7a7a\u95f4\u3002 nebula> CREATE SPACE basketballplayer(partition_num=15, replica_factor=1, vid_type=fixed_string(30)); Execution succeeded (time spent 2817/3280 us) \u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u60c5\u51b5\uff0c\u786e\u4fdd\u5e73\u8861\u5206\u5e03\u3002 nebula> SHOW HOSTS; +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 5 | \"basketballplayer:5\" | \"basketballplayer:5\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ | \"Total\" | __EMPTY__ | __EMPTY__ | 15 | \"basketballplayer:15\" | \"basketballplayer:15\" | +-------------+-----------+-----------+--------------+----------------------------------+------------------------+ Got 4 rows (time spent 1633/2867 us) \u5982\u679c Leader distribution \u5206\u5e03\u4e0d\u5747\u5300\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 BALANCE LEADER \u91cd\u65b0\u5206\u914d\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Storage\u8d1f\u8f7d\u5747\u8861 \u3002 \u9009\u62e9\u56fe\u7a7a\u95f4 basketballplayer \u3002 nebula[(none)]> USE basketballplayer; Execution succeeded (time spent 1229/2318 us) \u60a8\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 SHOW SPACES \u67e5\u770b\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u3002 nebula> SHOW SPACES; +--------------------+ | Name | +--------------------+ | \"basketballplayer\" | +--------------------+ Got 1 rows (time spent 977/2000 us)","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_5","text":"","title":"\u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_1","text":"CREATE {TAG | EDGE} {<tag_name> | <edge_type>}(<property_name> <data_type> [, <property_name> <data_type> ...]);","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_6","text":"\u521b\u5efa\u6807\u7b7e player \u548c team \uff0c\u4ee5\u53ca\u8fb9\u7c7b\u578b follow \u548c serve \u3002\u8bf4\u660e\u5982\u4e0b\u8868\u3002 \u540d\u79f0 \u7c7b\u578b \u5c5e\u6027 player Tag name (string), age (int) team Tag name (string) follow Edge type degree (int) serve Edge type start_year (int), end_year (int) nebula> CREATE TAG player(name string, age int); Execution succeeded (time spent 20708/22071 us) Wed, 24 Feb 2021 03:47:01 EST nebula> CREATE TAG team(name string); Execution succeeded (time spent 5643/6810 us) Wed, 24 Feb 2021 03:47:59 EST nebula> CREATE EDGE follow(degree int); Execution succeeded (time spent 12665/13934 us) Wed, 24 Feb 2021 03:48:07 EST nebula> CREATE EDGE serve(start_year int, end_year int); Execution succeeded (time spent 5858/6870 us) Wed, 24 Feb 2021 03:48:16 EST","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_7","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 INSERT \u8bed\u53e5\uff0c\u57fa\u4e8e\u73b0\u6709\u7684\u6807\u7b7e\u63d2\u5165\u70b9\uff0c\u6216\u8005\u57fa\u4e8e\u73b0\u6709\u7684\u8fb9\u7c7b\u578b\u63d2\u5165\u8fb9\u3002","title":"\u63d2\u5165\u70b9\u548c\u8fb9"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_2","text":"\u63d2\u5165\u70b9 INSERT VERTEX <tag_name> (<property_name>[, <property_name>...]) [, <tag_name> (<property_name>[, <property_name>...]), ...] {VALUES | VALUE} <vid>: (<property_value>[, <property_value>...]) [, <vid>: (<property_value>[, <property_value>...]; VID \u662fVertex ID\u7684\u7f29\u5199\uff0c VID \u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u662f\u552f\u4e00\u7684\u3002 \u63d2\u5165\u8fb9 INSERT EDGE <edge_type> (<property_name>[, <property_name>...]) {VALUES | VALUE} <src_vid> -> <dst_vid>[@<rank>] : (<property_value>[, <property_value>...]) [, <src_vid> -> <dst_vid>[@<rank> : (<property_name>[, <property_name>...]), ...];","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_8","text":"\u63d2\u5165\u4ee3\u8868\u7403\u5458\u548c\u7403\u961f\u7684\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player100\":(\"Tim Duncan\", 42); Execution succeeded (time spent 28196/30896 us) Wed, 24 Feb 2021 03:55:08 EST nebula> INSERT VERTEX player(name, age) VALUES \"player101\":(\"Tony Parker\", 36); Execution succeeded (time spent 2708/3834 us) Wed, 24 Feb 2021 03:55:20 EST nebula> INSERT VERTEX player(name, age) VALUES \"player102\":(\"LaMarcus Aldridge\", 33); Execution succeeded (time spent 1945/3294 us) Wed, 24 Feb 2021 03:55:32 EST nebula> INSERT VERTEX team(name) VALUES \"team200\":(\"Warriors\"), \"team201\":(\"Nuggets\"); Execution succeeded (time spent 2269/3310 us) Wed, 24 Feb 2021 03:55:47 EST \u63d2\u5165\u4ee3\u8868\u7403\u5458\u548c\u7403\u961f\u4e4b\u95f4\u5173\u7cfb\u7684\u8fb9\u3002 nebula> INSERT EDGE follow(degree) VALUES \"player100\" -> \"player101\":(95); Execution succeeded (time spent 3362/4542 us) Wed, 24 Feb 2021 03:57:36 EST nebula> INSERT EDGE follow(degree) VALUES \"player100\" -> \"player102\":(90); Execution succeeded (time spent 2974/4274 us) Wed, 24 Feb 2021 03:57:44 EST nebula> INSERT EDGE follow(degree) VALUES \"player102\" -> \"player101\":(75); Execution succeeded (time spent 1891/3096 us) Wed, 24 Feb 2021 03:57:52 EST nebula> INSERT EDGE serve(start_year, end_year) VALUES \"player100\" -> \"team200\":(1997, 2016), \"player101\" -> \"team201\":(1999, 2018); Execution succeeded (time spent 6064/7104 us) Wed, 24 Feb 2021 03:58:01 EST","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_9","text":"GO \u8bed\u53e5\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684\u6761\u4ef6\u904d\u5386\u6570\u636e\u5e93\u3002 GO \u8bed\u53e5\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u5f00\u59cb\uff0c\u6cbf\u7740\u4e00\u6761\u6216\u591a\u6761\u8fb9\u904d\u5386\uff0c\u8fd4\u56de YIELD \u5b50\u53e5\u4e2d\u6307\u5b9a\u7684\u4fe1\u606f\u3002 FETCH \u8bed\u53e5\u53ef\u4ee5\u83b7\u5f97\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 LOOKUP \u8bed\u53e5\u662f\u57fa\u4e8e \u7d22\u5f15 \u7684\uff0c\u548c WHERE \u5b50\u53e5\u4e00\u8d77\u4f7f\u7528\uff0c\u67e5\u627e\u7b26\u5408\u7279\u5b9a\u6761\u4ef6\u7684\u6570\u636e\u3002 MATCH \u8bed\u53e5\u662f\u67e5\u8be2\u56fe\u6570\u636e\u6700\u5e38\u7528\u7684\uff0c\u4f46\u662f\u5b83\u4f9d\u8d56 \u7d22\u5f15 \u53bb\u5339\u914dNebula Graph\u4e2d\u7684\u6570\u636e\u6a21\u578b\u3002","title":"\u67e5\u8be2\u6570\u636e"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_3","text":"GO GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [REVERSELY] [BIDIRECT] [WHERE <expression> [AND | OR expression ...])] YIELD [DISTINCT] <return_list>; FETCH \u67e5\u8be2\u6807\u7b7e\u5c5e\u6027 FETCH PROP ON {<tag_name> | <tag_name_list> | *} <vid_list> [YIELD [DISTINCT] <return_list>]; \u67e5\u8be2\u8fb9\u5c5e\u6027 FETCH PROP ON <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid> ...] [YIELD [DISTINCT] <return_list>]; LOOKUP LOOKUP ON {<tag_name> | <edge_type>} WHERE <expression> [AND expression ...])] [YIELD <return_list>]; MATCH MATCH <pattern> [<WHERE clause>] RETURN <output>;","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#go","text":"\u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u627e\u5230\u8fde\u63a5\u7684\u7403\u5458\u3002 nebula> GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ Got 2 rows (time spent 12097/14220 us) \u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u67e5\u627e\u5e74\u9f84\u5927\u4e8e\u6216\u7b49\u4e8e35\u5c81\u7684\u7403\u5458\uff0c\u5e76\u8fd4\u56de\u4ed6\u4eec\u7684\u59d3\u540d\u548c\u5e74\u9f84\uff0c\u540c\u65f6\u91cd\u547d\u540d\u5bf9\u5e94\u7684\u5217\u3002 nebula> GO FROM \"player100\" OVER follow WHERE $$.player.age >= 35 \\ -> YIELD $$.player.name AS Teammate, $$.player.age AS Age; +---------------+-----+ | Teammate | Age | +---------------+-----+ | \"Tony Parker\" | 36 | +---------------+-----+ Got 1 rows (time spent 8206/9335 us) \u5b50\u53e5/\u7b26\u53f7 \u8bf4\u660e YIELD \u6307\u5b9a\u8be5\u67e5\u8be2\u9700\u8981\u8fd4\u56de\u7684\u503c\u6216\u7ed3\u679c\u3002 $$ \u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 \\ \u8868\u793a\u6362\u884c\u7ee7\u7eed\u8f93\u5165\u3002 \u4eceVID\u4e3a player100 \u7684\u7403\u5458\u5f00\u59cb\uff0c\u6cbf\u7740\u8fb9 follow \u67e5\u627e\u8fde\u63a5\u7684\u7403\u5458\uff0c\u7136\u540e\u68c0\u7d22\u8fd9\u4e9b\u7403\u5458\u7684\u7403\u961f\u3002\u4e3a\u4e86\u5408\u5e76\u8fd9\u4e24\u4e2a\u67e5\u8be2\u8bf7\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u4e34\u65f6\u53d8\u91cf\u3002 \u4f7f\u7528\u7ba1\u9053\u7b26 nebula> GO FROM \"player100\" OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +-----------+---------------+ | Team | Player | +-----------+---------------+ | \"Nuggets\" | \"Tony Parker\" | +-----------+---------------+ Got 1 rows (time spent 5055/8203 us) \u5b50\u53e5/\u7b26\u53f7 \u8bf4\u660e $^ \u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 \\| \u7ec4\u5408\u591a\u4e2a\u67e5\u8be2\u7684\u7ba1\u9053\u7b26\uff0c\u5c06\u524d\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u7528\u4e8e\u540e\u4e00\u4e2a\u67e5\u8be2\u3002 $- \u8868\u793a\u7ba1\u9053\u7b26\u524d\u9762\u7684\u67e5\u8be2\u8f93\u51fa\u7684\u7ed3\u679c\u96c6\u3002 \u4f7f\u7528\u4e34\u65f6\u53d8\u91cf \u8bf4\u660e \uff1a\u5f53\u590d\u5408\u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u65f6\uff0c\u5176\u4e2d\u7684\u4e34\u65f6\u53d8\u91cf\u4f1a\u5728\u8bed\u53e5\u7ed3\u675f\u65f6\u88ab\u91ca\u653e\u3002 ngql nebula> $var = GO FROM \"player100\" OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+ Got 1 rows (time spent 3103/3711 us)","title":"GO\u8bed\u53e5\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#fetch","text":"\u67e5\u8be2VID\u4e3a player100 \u7684\u7403\u5458\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON player \"player100\"; +----------------------------------------------------+ | vertices_ | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ Got 1 rows (time spent 2006/2406 us) \u8bf4\u660e \uff1a LOOKUP \u548c MATCH \u7684\u793a\u4f8b\u5728\u4e0b\u6587\u7684 \u7d22\u5f15 \u90e8\u5206\u67e5\u770b\u3002","title":"FETCH\u8bed\u53e5\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_10","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 UPDATE \u8bed\u53e5\u6216 UPSERT \u8bed\u53e5\u4fee\u6539\u73b0\u6709\u6570\u636e\u3002 UPSERT \u662f UPDATE \u548c INSERT \u7684\u7ed3\u5408\u4f53\u3002\u5f53\u60a8\u4f7f\u7528 UPSERT \u66f4\u65b0\u4e00\u4e2a\u70b9\u6216\u8fb9\uff0c\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u70b9\u6216\u8fb9\u3002 \u8bf4\u660e \uff1a UPSERT \u64cd\u4f5c\u662f\u57fa\u4e8eNebula Graph\u7684\u5206\u533a\u8fdb\u884c\u4e32\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u6267\u884c\u901f\u5ea6\u6bd4\u5355\u72ec\u6267\u884c INSERT \u6216 UPDATE \u6162\u3002","title":"\u4fee\u6539\u70b9\u548c\u8fb9"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_4","text":"UPDATE \u70b9 UPDATE VERTEX <vid> SET <properties to be updated> [WHEN <condition>] [YIELD <columns>]; UPDATE \u8fb9 UPDATE EDGE <source vid> -> <destination vid> [@rank] OF <edge_type> SET <properties to be updated> [WHEN <condition>] [YIELD <columns to be output>]; UPSERT \u70b9\u6216\u8fb9 UPSERT {VERTEX <vid> | EDGE <edge_type>} SET <update_columns> [WHEN <condition>] [YIELD <columns>];","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_11","text":"\u7528 UPDATE \u4fee\u6539VID\u4e3a player100 \u7684\u7403\u5458\u7684 name \u5c5e\u6027\uff0c\u7136\u540e\u7528 FETCH \u8bed\u53e5\u68c0\u67e5\u7ed3\u679c\u3002 ```ngql nebula> UPDATE VERTEX \"player100\" SET player.name = \"Tim\"; Execution succeeded (time spent 3483/3914 us) Wed, 21 Oct 2020 10:53:14 UTC nebula> FETCH PROP ON player \"player100\"; +---------------------------------------------+ | vertices_ | +---------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim\"}) | +---------------------------------------------+ Got 1 rows (time spent 2463/3042 us) ``` \u7528 UPDATE \u4fee\u6539\u67d0\u6761\u8fb9\u7684 degree \u5c5e\u6027\uff0c\u7136\u540e\u7528 FETCH \u68c0\u67e5\u7ed3\u679c\u3002 nebula> UPDATE EDGE \"player100\" -> \"player101\" OF follow SET degree = 96; Execution succeeded (time spent 3932/4432 us) nebula> FETCH PROP ON follow \"player100\" -> \"player101\"; +----------------------------------------------------+ | edges_ | +----------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 96}] | +----------------------------------------------------+ Got 1 rows (time spent 2205/2800 us) \u7528 UPSERT \u63d2\u5165\u4e00\u4e2aVID\u4e3a player111 \u7684\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player111\":(\"Ben Simmons\", 22); Execution succeeded (time spent 2115/2900 us) Wed, 21 Oct 2020 11:11:50 UTC nebula> UPSERT VERTEX \"player111\" SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 \\ WHEN $^.player.name == \"Ben Simmons\" AND $^.player.age > 20 \\ YIELD $^.player.name AS Name, $^.player.age AS Age; +---------------+-----+ | Name | Age | +---------------+-----+ | Dwight Howard | 33 | +---------------+-----+ Got 1 rows (time spent 1815/2329 us)","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_12","text":"","title":"\u5220\u9664\u70b9\u548c\u8fb9"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_5","text":"\u5220\u9664\u70b9 DELETE VERTEX <vid1>[, <vid2>...] \u5220\u9664\u8fb9 DELETE EDGE <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid>...]","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_13","text":"\u5220\u9664\u70b9 nebula> DELETE VERTEX \"team1\", \"team2\"; Execution succeeded (time spent 4337/4782 us) \u5220\u9664\u8fb9 nebula> DELETE EDGE follow \"team1\" -> \"team2\"; Execution succeeded (time spent 3700/4101 us)","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#_14","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7 CREATE INDEX \u8bed\u53e5\u4e3a\u6807\u7b7e\uff08tag\uff09\u548c\u8fb9\u7c7b\u578b\uff08edge type\uff09\u589e\u52a0\u7d22\u5f15\u3002","title":"\u7d22\u5f15"},{"location":"2.quick-start/4.nebula-graph-crud/#_15","text":"MATCH \u548c LOOKUP \u8bed\u53e5\u7684\u6267\u884c\u90fd\u4f9d\u8d56\u7d22\u5f15\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 \u60a8 \u5fc5\u987b \u4e3a\u5df2\u5b58\u5728\u7684\u6570\u636e\u91cd\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u4e0d\u80fd\u7d22\u5f15\u5df2\u5b58\u5728\u7684\u6570\u636e\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5728 MATCH \u548c LOOKUP \u8bed\u53e5\u4e2d\u8fd4\u56de\u8fd9\u4e9b\u6570\u636e\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u91cd\u5efa\u7d22\u5f15 \u3002","title":"\u4f7f\u7528\u7d22\u5f15\u5fc5\u8bfb"},{"location":"2.quick-start/4.nebula-graph-crud/#ngql_6","text":"\u521b\u5efa\u7d22\u5f15 CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} (prop_name_list); \u91cd\u5efa\u7d22\u5f15 REBUILD {TAG | EDGE} INDEX <index_name>;","title":"nGQL\u8bed\u6cd5"},{"location":"2.quick-start/4.nebula-graph-crud/#_16","text":"\u4e3a\u6807\u7b7e player \u7684\u5c5e\u6027 name \u521b\u5efa\u7d22\u5f15\uff0c\u5e76\u4e14\u91cd\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_0 on player(name(20)); nebula> REBUILD TAG INDEX player_index_0; \u8bf4\u660e \uff1a\u4e3a\u6ca1\u6709\u6307\u5b9a\u957f\u5ea6\u7684\u53d8\u91cf\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002\u5728utf-8\u7f16\u7801\u4e2d\uff0c\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u5b57\u8282\uff0c\u8bf7\u6839\u636e\u53d8\u91cf\u5c5e\u6027\u957f\u5ea6\u8bbe\u7f6e\u5408\u9002\u7684\u7d22\u5f15\u957f\u5ea6\u3002\u4f8b\u598210\u4e2a\u4e2d\u6587\u5b57\u7b26\uff0c\u7d22\u5f15\u957f\u5ea6\u9700\u8981\u4e3a30\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u521b\u5efa\u7d22\u5f15 \u3002","title":"\u793a\u4f8b"},{"location":"2.quick-start/4.nebula-graph-crud/#lookupmatch","text":"\u786e\u4fdd LOOKUP \u6216 MATCH \u6709\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u5148\u521b\u5efa\u7d22\u5f15\u3002 \u627e\u5230\u6807\u7b7e\u4e3a player \u7684\u70b9\u7684\u4fe1\u606f\uff0c\u5b83\u7684 name \u5c5e\u6027\u503c\u4e3a Tony Parker \u3002 // \u4e3aname\u5c5e\u6027\u521b\u5efa\u7d22\u5f15player_name_0\u3002 nebula> CREATE TAG INDEX player_name_0 on player(name(10)); Execution succeeded (time spent 3465/4150 us) // \u91cd\u5efa\u7d22\u5f15\u786e\u4fdd\u80fd\u5bf9\u5df2\u5b58\u5728\u6570\u636e\u751f\u6548\u3002 nebula> REBUILD TAG INDEX player_name_0 +------------+ | New Job Id | +------------+ | 31 | +------------+ Got 1 rows (time spent 2379/3033 us) // \u4f7f\u7528LOOKUP\u8bed\u53e5\u68c0\u7d22\u70b9\u7684\u5c5e\u6027\u3002 nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; +-------------+---------------+------------+ | VertexID | player.name | player.age | +-------------+---------------+------------+ | \"player101\" | \"Tony Parker\" | 36 | +-------------+---------------+------------+ // \u4f7f\u7528MATCH\u8bed\u53e5\u68c0\u7d22\u70b9\u7684\u5c5e\u6027\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"}) RETURN v; +-----------------------------------------------------+ | v | +-----------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------+ Got 1 rows (time spent 5132/6246 us)","title":"\u57fa\u4e8e\u7d22\u5f15\u7684LOOKUP\u548cMATCH\u793a\u4f8b"},{"location":"2.quick-start/5.start-stop-service/","text":"\u7ba1\u7406Nebula Graph\u670d\u52a1 \u00b6 Nebula Graph\u4f7f\u7528\u811a\u672c nebula.service \u7ba1\u7406\u670d\u52a1\uff0c\u5305\u62ec\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u3001\u4e2d\u6b62\u548c\u67e5\u770b\u3002 nebula.service \u7684\u9ed8\u8ba4\u8def\u5f84\u662f /usr/local/nebula/scripts \uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5b89\u88c5\u8def\u5f84\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002 \u8bed\u6cd5 \u00b6 $ sudo /usr/local/nebula/scripts/nebula.service [ -v ] [ -c <config_file_path> ] <start | stop | restart | kill | status> <metad | graphd | storaged | all> \u53c2\u6570 \u8bf4\u660e -v \u663e\u793a\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f\u3002 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 start \u542f\u52a8\u670d\u52a1\u3002 stop \u505c\u6b62\u670d\u52a1\u3002 restart \u91cd\u542f\u670d\u52a1\u3002 kill \u4e2d\u6b62\u670d\u52a1\u3002 status \u67e5\u770b\u670d\u52a1\u72b6\u6001\u3002 metad \u7ba1\u7406Meta\u670d\u52a1\u3002 graphd \u7ba1\u7406Graph\u670d\u52a1\u3002 storaged \u7ba1\u7406Storage\u670d\u52a1\u3002 all \u7ba1\u7406\u6240\u6709\u670d\u52a1\u3002 \u542f\u52a8Nebula Graph\u670d\u52a1 \u00b6 \u975e\u5bb9\u5668\u90e8\u7f72 \u00b6 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\uff1a $ sudo /usr/local/nebula/scripts/nebula.service start all [ INFO ] Starting nebula-metad... [ INFO ] Done [ INFO ] Starting nebula-graphd... [ INFO ] Done [ INFO ] Starting nebula-storaged... [ INFO ] Done \u5bb9\u5668\u90e8\u7f72 \u00b6 \u5728 nebula-docker-compose/ \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\uff1a nebula-docker-compose ] $ docker-compose up -d Building with native build. Learn about native build in Compose here: https://docs.docker.com/go/compose-native-build/ Creating network \"nebula-docker-compose_nebula-net\" with the default driver Creating nebula-docker-compose_metad0_1 ... done Creating nebula-docker-compose_metad2_1 ... done Creating nebula-docker-compose_metad1_1 ... done Creating nebula-docker-compose_storaged2_1 ... done Creating nebula-docker-compose_graphd1_1 ... done Creating nebula-docker-compose_storaged1_1 ... done Creating nebula-docker-compose_storaged0_1 ... done Creating nebula-docker-compose_graphd2_1 ... done Creating nebula-docker-compose_graphd_1 ... done \u505c\u6b62Nebula Graph\u670d\u52a1 \u00b6 \u7981\u6b62 \uff1a\u8bf7\u52ff\u4f7f\u7528 kill -9 \u547d\u4ee4\u5f3a\u5236\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u5426\u5219\u53ef\u80fd\u8f83\u5c0f\u6982\u7387\u51fa\u73b0\u6570\u636e\u4e22\u5931\u3002 \u975e\u5bb9\u5668\u90e8\u7f72 \u00b6 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a $ sudo /usr/local/nebula/scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done \u5bb9\u5668\u90e8\u7f72 \u00b6 \u5728 nebula-docker-compose/ \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a nebula-docker-compose ] $ docker-compose down Stopping nebula-docker-compose_graphd_1 ... done Stopping nebula-docker-compose_graphd2_1 ... done Stopping nebula-docker-compose_storaged0_1 ... done Stopping nebula-docker-compose_storaged1_1 ... done Stopping nebula-docker-compose_graphd1_1 ... done Stopping nebula-docker-compose_storaged2_1 ... done Stopping nebula-docker-compose_metad1_1 ... done Stopping nebula-docker-compose_metad2_1 ... done Stopping nebula-docker-compose_metad0_1 ... done Removing nebula-docker-compose_graphd_1 ... done Removing nebula-docker-compose_graphd2_1 ... done Removing nebula-docker-compose_storaged0_1 ... done Removing nebula-docker-compose_storaged1_1 ... done Removing nebula-docker-compose_graphd1_1 ... done Removing nebula-docker-compose_storaged2_1 ... done Removing nebula-docker-compose_metad1_1 ... done Removing nebula-docker-compose_metad2_1 ... done Removing nebula-docker-compose_metad0_1 ... done Removing network nebula-docker-compose_nebula-net \u8bf4\u660e \uff1a\u547d\u4ee4 docker-compose down -v \u5c06\u4f1a \u5220\u9664 \u6240\u6709\u672c\u5730Nebula Graph\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fdeveloping\u6216nightly\u7248\u672c\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8bf7\u5c1d\u8bd5\u8fd9\u4e2a\u547d\u4ee4\u3002 \u67e5\u770bNebula Graph\u670d\u52a1 \u00b6 \u975e\u5bb9\u5668\u90e8\u7f72 \u00b6 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u670d\u52a1\u72b6\u6001\uff1a $ sudo /usr/local/nebula/scripts/nebula.service status all \u5982\u679c\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff0c\u8868\u793aNebula Graph\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u3002 [ INFO ] nebula-metad: Running as 26601 , Listening on 9559 [ INFO ] nebula-graphd: Running as 26644 , Listening on 9669 [ INFO ] nebula-storaged: Running as 26709 , Listening on 9779 \u5982\u679c\u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\uff0c\u8868\u793aNebula Graph\u670d\u52a1\u5f02\u5e38\uff0c\u53ef\u4ee5\u6839\u636e\u5f02\u5e38\u670d\u52a1\u4fe1\u606f\u8fdb\u4e00\u6b65\u6392\u67e5\uff0c\u6216\u8005\u5728 Nebula Graph\u793e\u533a \u5bfb\u6c42\u5e2e\u52a9\u3002 [ INFO ] nebula-metad: Running as 25600 , Listening on 9559 [ INFO ] nebula-graphd: Exited [ INFO ] nebula-storaged: Running as 25646 , Listening on 9779 Nebula Graph\u670d\u52a1\u7531Meta\u670d\u52a1\u3001Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u5171\u540c\u63d0\u4f9b\uff0c\u8fd9\u4e09\u79cd\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u90fd\u4fdd\u5b58\u5728\u5b89\u88c5\u76ee\u5f55\u7684 etc \u76ee\u5f55\u5185\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff0c\u60a8\u53ef\u4ee5\u68c0\u67e5\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6392\u67e5\u95ee\u9898\u3002 \u5bb9\u5668\u90e8\u7f72 \u00b6 \u5728 nebula-docker-compose \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u670d\u52a1\u72b6\u6001\uff1a nebula-docker-compose ] $ docker-compose ps Name Command State Ports --------------------------------------------------------------------------------------------------------------------------------------------------------------------- nebula-docker-compose_graphd1_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49223->19669/tcp, 0 .0.0.0:49222->19670/tcp, 0 .0.0.0:49224->9669/tcp nebula-docker-compose_graphd2_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49229->19669/tcp, 0 .0.0.0:49228->19670/tcp, 0 .0.0.0:49230->9669/tcp nebula-docker-compose_graphd_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49221->19669/tcp, 0 .0.0.0:49220->19670/tcp, 0 .0.0.0:9669->9669/tcp nebula-docker-compose_metad0_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49212->19559/tcp, 0 .0.0.0:49211->19560/tcp, 0 .0.0.0:49213->9559/tcp, 9560 /tcp nebula-docker-compose_metad1_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49209->19559/tcp, 0 .0.0.0:49208->19560/tcp, 0 .0.0.0:49210->9559/tcp, 9560 /tcp nebula-docker-compose_metad2_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49206->19559/tcp, 0 .0.0.0:49205->19560/tcp, 0 .0.0.0:49207->9559/tcp, 9560 /tcp nebula-docker-compose_storaged0_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49218->19779/tcp, 0 .0.0.0:49217->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49219->9779/tcp, 9780 /tcp nebula-docker-compose_storaged1_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49215->19779/tcp, 0 .0.0.0:49214->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49216->9779/tcp, 9780 /tcp nebula-docker-compose_storaged2_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49226->19779/tcp, 0 .0.0.0:49225->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49227->9779/tcp, 9780 /tcp \u5982\u679c\u670d\u52a1\u6709\u5f02\u5e38\uff0c\u60a8\u53ef\u4ee5\u5148\u786e\u8ba4\u5f02\u5e38\u7684\u5bb9\u5668\u540d\u79f0\uff08\u4f8b\u5982 nebula-docker-compose_graphd2_1 \uff09\uff0c\u7136\u540e\u6267\u884c docker ps \u67e5\u770b\u5bf9\u5e94\u7684 CONTAINER ID (\u793a\u4f8b\u4e3a 2a6c56c405f5 )\uff0c\u6700\u540e\u767b\u5f55\u5bb9\u5668\u6392\u67e5\u95ee\u9898\u3002 nebula-docker-compose ] $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2a6c56c405f5 vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:49230->9669/tcp, 0 .0.0.0:49229->19669/tcp, 0 .0.0.0:49228->19670/tcp nebula-docker-compose_graphd2_1 7042e0a8e83d vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49227->9779/tcp, 0 .0.0.0:49226->19779/tcp, 0 .0.0.0:49225->19780/tcp nebula-docker-compose_storaged2_1 18e3ea63ad65 vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49219->9779/tcp, 0 .0.0.0:49218->19779/tcp, 0 .0.0.0:49217->19780/tcp nebula-docker-compose_storaged0_1 4dcabfe8677a vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:49224->9669/tcp, 0 .0.0.0:49223->19669/tcp, 0 .0.0.0:49222->19670/tcp nebula-docker-compose_graphd1_1 a74054c6ae25 vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:9669->9669/tcp, 0 .0.0.0:49221->19669/tcp, 0 .0.0.0:49220->19670/tcp nebula-docker-compose_graphd_1 880025a3858c vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49216->9779/tcp, 0 .0.0.0:49215->19779/tcp, 0 .0.0.0:49214->19780/tcp nebula-docker-compose_storaged1_1 45736a32a23a vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49213->9559/tcp, 0 .0.0.0:49212->19559/tcp, 0 .0.0.0:49211->19560/tcp nebula-docker-compose_metad0_1 3b2c90eb073e vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49207->9559/tcp, 0 .0.0.0:49206->19559/tcp, 0 .0.0.0:49205->19560/tcp nebula-docker-compose_metad2_1 7bb31b7a5b3f vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49210->9559/tcp, 0 .0.0.0:49209->19559/tcp, 0 .0.0.0:49208->19560/tcp nebula-docker-compose_metad1_1 nebula-docker-compose ] $ docker exec -it 2a6c56c405f5 bash [ root@2a6c56c405f5 nebula ] #","title":"\u7ba1\u7406Nebula Graph\u670d\u52a1"},{"location":"2.quick-start/5.start-stop-service/#nebula_graph","text":"Nebula Graph\u4f7f\u7528\u811a\u672c nebula.service \u7ba1\u7406\u670d\u52a1\uff0c\u5305\u62ec\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u3001\u4e2d\u6b62\u548c\u67e5\u770b\u3002 nebula.service \u7684\u9ed8\u8ba4\u8def\u5f84\u662f /usr/local/nebula/scripts \uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5b89\u88c5\u8def\u5f84\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002","title":"\u7ba1\u7406Nebula Graph\u670d\u52a1"},{"location":"2.quick-start/5.start-stop-service/#_1","text":"$ sudo /usr/local/nebula/scripts/nebula.service [ -v ] [ -c <config_file_path> ] <start | stop | restart | kill | status> <metad | graphd | storaged | all> \u53c2\u6570 \u8bf4\u660e -v \u663e\u793a\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f\u3002 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 start \u542f\u52a8\u670d\u52a1\u3002 stop \u505c\u6b62\u670d\u52a1\u3002 restart \u91cd\u542f\u670d\u52a1\u3002 kill \u4e2d\u6b62\u670d\u52a1\u3002 status \u67e5\u770b\u670d\u52a1\u72b6\u6001\u3002 metad \u7ba1\u7406Meta\u670d\u52a1\u3002 graphd \u7ba1\u7406Graph\u670d\u52a1\u3002 storaged \u7ba1\u7406Storage\u670d\u52a1\u3002 all \u7ba1\u7406\u6240\u6709\u670d\u52a1\u3002","title":"\u8bed\u6cd5"},{"location":"2.quick-start/5.start-stop-service/#nebula_graph_1","text":"","title":"\u542f\u52a8Nebula Graph\u670d\u52a1"},{"location":"2.quick-start/5.start-stop-service/#_2","text":"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\uff1a $ sudo /usr/local/nebula/scripts/nebula.service start all [ INFO ] Starting nebula-metad... [ INFO ] Done [ INFO ] Starting nebula-graphd... [ INFO ] Done [ INFO ] Starting nebula-storaged... [ INFO ] Done","title":"\u975e\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/5.start-stop-service/#_3","text":"\u5728 nebula-docker-compose/ \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8Nebula Graph\u670d\u52a1\uff1a nebula-docker-compose ] $ docker-compose up -d Building with native build. Learn about native build in Compose here: https://docs.docker.com/go/compose-native-build/ Creating network \"nebula-docker-compose_nebula-net\" with the default driver Creating nebula-docker-compose_metad0_1 ... done Creating nebula-docker-compose_metad2_1 ... done Creating nebula-docker-compose_metad1_1 ... done Creating nebula-docker-compose_storaged2_1 ... done Creating nebula-docker-compose_graphd1_1 ... done Creating nebula-docker-compose_storaged1_1 ... done Creating nebula-docker-compose_storaged0_1 ... done Creating nebula-docker-compose_graphd2_1 ... done Creating nebula-docker-compose_graphd_1 ... done","title":"\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/5.start-stop-service/#nebula_graph_2","text":"\u7981\u6b62 \uff1a\u8bf7\u52ff\u4f7f\u7528 kill -9 \u547d\u4ee4\u5f3a\u5236\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u5426\u5219\u53ef\u80fd\u8f83\u5c0f\u6982\u7387\u51fa\u73b0\u6570\u636e\u4e22\u5931\u3002","title":"\u505c\u6b62Nebula Graph\u670d\u52a1"},{"location":"2.quick-start/5.start-stop-service/#_4","text":"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a $ sudo /usr/local/nebula/scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done","title":"\u975e\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/5.start-stop-service/#_5","text":"\u5728 nebula-docker-compose/ \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\uff1a nebula-docker-compose ] $ docker-compose down Stopping nebula-docker-compose_graphd_1 ... done Stopping nebula-docker-compose_graphd2_1 ... done Stopping nebula-docker-compose_storaged0_1 ... done Stopping nebula-docker-compose_storaged1_1 ... done Stopping nebula-docker-compose_graphd1_1 ... done Stopping nebula-docker-compose_storaged2_1 ... done Stopping nebula-docker-compose_metad1_1 ... done Stopping nebula-docker-compose_metad2_1 ... done Stopping nebula-docker-compose_metad0_1 ... done Removing nebula-docker-compose_graphd_1 ... done Removing nebula-docker-compose_graphd2_1 ... done Removing nebula-docker-compose_storaged0_1 ... done Removing nebula-docker-compose_storaged1_1 ... done Removing nebula-docker-compose_graphd1_1 ... done Removing nebula-docker-compose_storaged2_1 ... done Removing nebula-docker-compose_metad1_1 ... done Removing nebula-docker-compose_metad2_1 ... done Removing nebula-docker-compose_metad0_1 ... done Removing network nebula-docker-compose_nebula-net \u8bf4\u660e \uff1a\u547d\u4ee4 docker-compose down -v \u5c06\u4f1a \u5220\u9664 \u6240\u6709\u672c\u5730Nebula Graph\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fdeveloping\u6216nightly\u7248\u672c\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8bf7\u5c1d\u8bd5\u8fd9\u4e2a\u547d\u4ee4\u3002","title":"\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/5.start-stop-service/#nebula_graph_3","text":"","title":"\u67e5\u770bNebula Graph\u670d\u52a1"},{"location":"2.quick-start/5.start-stop-service/#_6","text":"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u670d\u52a1\u72b6\u6001\uff1a $ sudo /usr/local/nebula/scripts/nebula.service status all \u5982\u679c\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff0c\u8868\u793aNebula Graph\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u3002 [ INFO ] nebula-metad: Running as 26601 , Listening on 9559 [ INFO ] nebula-graphd: Running as 26644 , Listening on 9669 [ INFO ] nebula-storaged: Running as 26709 , Listening on 9779 \u5982\u679c\u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\uff0c\u8868\u793aNebula Graph\u670d\u52a1\u5f02\u5e38\uff0c\u53ef\u4ee5\u6839\u636e\u5f02\u5e38\u670d\u52a1\u4fe1\u606f\u8fdb\u4e00\u6b65\u6392\u67e5\uff0c\u6216\u8005\u5728 Nebula Graph\u793e\u533a \u5bfb\u6c42\u5e2e\u52a9\u3002 [ INFO ] nebula-metad: Running as 25600 , Listening on 9559 [ INFO ] nebula-graphd: Exited [ INFO ] nebula-storaged: Running as 25646 , Listening on 9779 Nebula Graph\u670d\u52a1\u7531Meta\u670d\u52a1\u3001Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u5171\u540c\u63d0\u4f9b\uff0c\u8fd9\u4e09\u79cd\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u90fd\u4fdd\u5b58\u5728\u5b89\u88c5\u76ee\u5f55\u7684 etc \u76ee\u5f55\u5185\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \uff0c\u60a8\u53ef\u4ee5\u68c0\u67e5\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6392\u67e5\u95ee\u9898\u3002","title":"\u975e\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/5.start-stop-service/#_7","text":"\u5728 nebula-docker-compose \u76ee\u5f55\u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u670d\u52a1\u72b6\u6001\uff1a nebula-docker-compose ] $ docker-compose ps Name Command State Ports --------------------------------------------------------------------------------------------------------------------------------------------------------------------- nebula-docker-compose_graphd1_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49223->19669/tcp, 0 .0.0.0:49222->19670/tcp, 0 .0.0.0:49224->9669/tcp nebula-docker-compose_graphd2_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49229->19669/tcp, 0 .0.0.0:49228->19670/tcp, 0 .0.0.0:49230->9669/tcp nebula-docker-compose_graphd_1 /usr/local/nebula/bin/nebu ... Up ( healthy ) 0 .0.0.0:49221->19669/tcp, 0 .0.0.0:49220->19670/tcp, 0 .0.0.0:9669->9669/tcp nebula-docker-compose_metad0_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49212->19559/tcp, 0 .0.0.0:49211->19560/tcp, 0 .0.0.0:49213->9559/tcp, 9560 /tcp nebula-docker-compose_metad1_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49209->19559/tcp, 0 .0.0.0:49208->19560/tcp, 0 .0.0.0:49210->9559/tcp, 9560 /tcp nebula-docker-compose_metad2_1 ./bin/nebula-metad --flagf ... Up ( healthy ) 0 .0.0.0:49206->19559/tcp, 0 .0.0.0:49205->19560/tcp, 0 .0.0.0:49207->9559/tcp, 9560 /tcp nebula-docker-compose_storaged0_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49218->19779/tcp, 0 .0.0.0:49217->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49219->9779/tcp, 9780 /tcp nebula-docker-compose_storaged1_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49215->19779/tcp, 0 .0.0.0:49214->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49216->9779/tcp, 9780 /tcp nebula-docker-compose_storaged2_1 ./bin/nebula-storaged --fl ... Up ( healthy ) 0 .0.0.0:49226->19779/tcp, 0 .0.0.0:49225->19780/tcp, 9777 /tcp, 9778 /tcp, 0 .0.0.0:49227->9779/tcp, 9780 /tcp \u5982\u679c\u670d\u52a1\u6709\u5f02\u5e38\uff0c\u60a8\u53ef\u4ee5\u5148\u786e\u8ba4\u5f02\u5e38\u7684\u5bb9\u5668\u540d\u79f0\uff08\u4f8b\u5982 nebula-docker-compose_graphd2_1 \uff09\uff0c\u7136\u540e\u6267\u884c docker ps \u67e5\u770b\u5bf9\u5e94\u7684 CONTAINER ID (\u793a\u4f8b\u4e3a 2a6c56c405f5 )\uff0c\u6700\u540e\u767b\u5f55\u5bb9\u5668\u6392\u67e5\u95ee\u9898\u3002 nebula-docker-compose ] $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2a6c56c405f5 vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:49230->9669/tcp, 0 .0.0.0:49229->19669/tcp, 0 .0.0.0:49228->19670/tcp nebula-docker-compose_graphd2_1 7042e0a8e83d vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49227->9779/tcp, 0 .0.0.0:49226->19779/tcp, 0 .0.0.0:49225->19780/tcp nebula-docker-compose_storaged2_1 18e3ea63ad65 vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49219->9779/tcp, 0 .0.0.0:49218->19779/tcp, 0 .0.0.0:49217->19780/tcp nebula-docker-compose_storaged0_1 4dcabfe8677a vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:49224->9669/tcp, 0 .0.0.0:49223->19669/tcp, 0 .0.0.0:49222->19670/tcp nebula-docker-compose_graphd1_1 a74054c6ae25 vesoft/nebula-graphd:v2-nightly \"/usr/local/nebula/b\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 0 .0.0.0:9669->9669/tcp, 0 .0.0.0:49221->19669/tcp, 0 .0.0.0:49220->19670/tcp nebula-docker-compose_graphd_1 880025a3858c vesoft/nebula-storaged:v2-nightly \"./bin/nebula-storag\u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9777 -9778/tcp, 9780 /tcp, 0 .0.0.0:49216->9779/tcp, 0 .0.0.0:49215->19779/tcp, 0 .0.0.0:49214->19780/tcp nebula-docker-compose_storaged1_1 45736a32a23a vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49213->9559/tcp, 0 .0.0.0:49212->19559/tcp, 0 .0.0.0:49211->19560/tcp nebula-docker-compose_metad0_1 3b2c90eb073e vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49207->9559/tcp, 0 .0.0.0:49206->19559/tcp, 0 .0.0.0:49205->19560/tcp nebula-docker-compose_metad2_1 7bb31b7a5b3f vesoft/nebula-metad:v2-nightly \"./bin/nebula-metad \u2026\" 36 minutes ago Up 36 minutes ( healthy ) 9560 /tcp, 0 .0.0.0:49210->9559/tcp, 0 .0.0.0:49209->19559/tcp, 0 .0.0.0:49208->19560/tcp nebula-docker-compose_metad1_1 nebula-docker-compose ] $ docker exec -it 2a6c56c405f5 bash [ root@2a6c56c405f5 nebula ] #","title":"\u5bb9\u5668\u90e8\u7f72"},{"location":"2.quick-start/6.useful-links/","text":"\u5468\u8fb9\u5de5\u5177\u4e0e\u5e38\u7528\u94fe\u63a5 \u00b6 Note \u672c\u9875\u9762\u8bb0\u5f55 Nebula Graph 2.0.0 \u5404 \u5468\u8fb9 \u5de5\u5177\u5bf9\u5e94\u7248\u672c\u7684\u53d1\u5e03\u60c5\u51b5\u3002\u672c\u9875\u66f4\u65b0\u65f6\u95f4\u89c1\u6587\u672b\u3002 Warning \u8bf7\u6ce8\u610f\u5176 commit ID, \u5e76\u67e5\u770b\u5176\u6587\u6863\u5173\u4e8e\u4e0eNebula Graph\u5185\u6838\u7248\u672c \u524d\u540e\u5411\u517c\u5bb9\u6027 \u7684\u8bf4\u660e\u3002 API \u00b6 \u94fe\u63a5 commit id C++ 7305c72 Go 542ed24 Python cb48e8a Java Client 923bc04 \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Rust Client Node.js Client HTTP Client \u5de5\u5177 \u00b6 \u94fe\u63a5 commit id \u547d\u4ee4\u884c 1f32236 \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Studio Dashboard [Graph Computing TODO] \u5927\u6570\u636e\u5bf9\u63a5 \u00b6 \u94fe\u63a5 commit id csv (importer) 1d87c7b Spark util af3fdf4 nebula-docker-compose 2c2549a \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. * Flink connector * Promethus connector \u6027\u80fd\u3001\u6d4b\u8bd5\u3001\u5907\u4efd\u4e0e\u6062\u590d \u00b6 \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Benchmark Chaos Test Backup&Restore \u5176\u4ed6 \u00b6 \u94fe\u63a5 commit id Nebula Graph 1.2.1 721ae51 \u793e\u533a","title":"\u5e38\u7528\u94fe\u63a5"},{"location":"2.quick-start/6.useful-links/#_1","text":"Note \u672c\u9875\u9762\u8bb0\u5f55 Nebula Graph 2.0.0 \u5404 \u5468\u8fb9 \u5de5\u5177\u5bf9\u5e94\u7248\u672c\u7684\u53d1\u5e03\u60c5\u51b5\u3002\u672c\u9875\u66f4\u65b0\u65f6\u95f4\u89c1\u6587\u672b\u3002 Warning \u8bf7\u6ce8\u610f\u5176 commit ID, \u5e76\u67e5\u770b\u5176\u6587\u6863\u5173\u4e8e\u4e0eNebula Graph\u5185\u6838\u7248\u672c \u524d\u540e\u5411\u517c\u5bb9\u6027 \u7684\u8bf4\u660e\u3002","title":"\u5468\u8fb9\u5de5\u5177\u4e0e\u5e38\u7528\u94fe\u63a5"},{"location":"2.quick-start/6.useful-links/#api","text":"\u94fe\u63a5 commit id C++ 7305c72 Go 542ed24 Python cb48e8a Java Client 923bc04 \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Rust Client Node.js Client HTTP Client","title":"API"},{"location":"2.quick-start/6.useful-links/#_2","text":"\u94fe\u63a5 commit id \u547d\u4ee4\u884c 1f32236 \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Studio Dashboard [Graph Computing TODO]","title":"\u5de5\u5177"},{"location":"2.quick-start/6.useful-links/#_3","text":"\u94fe\u63a5 commit id csv (importer) 1d87c7b Spark util af3fdf4 nebula-docker-compose 2c2549a \u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. * Flink connector * Promethus connector","title":"\u5927\u6570\u636e\u5bf9\u63a5"},{"location":"2.quick-start/6.useful-links/#_4","text":"\u4ee5\u4e0b\u9879\u76ee 2.0.0 \u8fd8\u672a\u53d1\u5e03. Benchmark Chaos Test Backup&Restore","title":"\u6027\u80fd\u3001\u6d4b\u8bd5\u3001\u5907\u4efd\u4e0e\u6062\u590d"},{"location":"2.quick-start/6.useful-links/#_5","text":"\u94fe\u63a5 commit id Nebula Graph 1.2.1 721ae51 \u793e\u533a","title":"\u5176\u4ed6"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/","text":"Nebula Graph\u67e5\u8be2\u8bed\u8a00\uff08nGQL\uff09 \u00b6 \u672c\u6587\u4ecb\u7ecdNebula Graph\u4f7f\u7528\u7684\u67e5\u8be2\u8bed\u8a00nGQL\uff08Nebula Graph Query Language\uff09\u3002 \u4ec0\u4e48\u662fnGQL \u00b6 nGQL\u662fNebula Graph\u4f7f\u7528\u7684\u7684\u58f0\u660e\u5f0f\u56fe\u67e5\u8be2\u8bed\u8a00\uff0c\u652f\u6301\u7075\u6d3b\u9ad8\u6548\u7684 \u56fe\u6a21\u5f0f \uff0c\u800c\u4e14nGQL\u662f\u4e3a\u5f00\u53d1\u548c\u8fd0\u7ef4\u4eba\u5458\u8bbe\u8ba1\u7684\u7c7bSQL\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u4e8e\u5b66\u4e60\u3002 nGQL\u662f\u4e00\u4e2a\u8fdb\u884c\u4e2d\u7684\u9879\u76ee\uff0c\u4f1a\u6301\u7eed\u53d1\u5e03\u65b0\u7279\u6027\u548c\u4f18\u5316\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u51fa\u73b0\u8bed\u6cd5\u548c\u5b9e\u9645\u64cd\u4f5c\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff0c\u5982\u679c\u9047\u5230\u6b64\u7c7b\u95ee\u9898\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002Nebula Graph 2.0\u53ca\u66f4\u65b0\u7248\u672c\u5c06\u652f\u6301 openCypher 9 \u3002 nGQL\u53ef\u4ee5\u505a\u4ec0\u4e48 \u00b6 \u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408 \u652f\u6301\u4fee\u6539\u56fe \u652f\u6301\u8bbf\u95ee\u63a7\u5236 \u652f\u6301\u805a\u5408\u67e5\u8be2 \u652f\u6301\u7d22\u5f15 \u652f\u6301\u5927\u90e8\u5206openCypher 9\u56fe\u67e5\u8be2\u8bed\u6cd5\uff08\u4e0d\u652f\u6301\u4fee\u6539\u548c\u63a7\u5236\u8bed\u6cd5\uff09 \u793a\u4f8b\u6570\u636e Basketballplayer \u00b6 \u60a8\u53ef\u4ee5\u4e0b\u8f7dNebula Graph\u793a\u4f8b\u6570\u636e basketballplayer\u6587\u4ef6 \uff0c\u7136\u540e\u4f7f\u7528 Nebula Graph Console \uff0c\u4f7f\u7528\u9009\u9879 -f \u6267\u884c\u811a\u672c\u3002 \u5360\u4f4d\u6807\u8bc6\u7b26\u548c\u5360\u4f4d\u7b26\u503c \u00b6 Nebula Graph\u67e5\u8be2\u8bed\u8a00nGQL\u53c2\u7167\u4ee5\u4e0b\u6807\u51c6\u8bbe\u8ba1\uff1a ISO/IEC 10646 ISO/IEC 39075 ISO/IEC NP 39075 (Draft) OpenCypher 9 \u5728\u6a21\u677f\u4ee3\u7801\u4e2d\uff0c\u4efb\u4f55\u975e\u5173\u952e\u5b57\u3001\u5b57\u9762\u503c\u6216\u6807\u70b9\u7b26\u53f7\u7684\u6807\u8bb0\u90fd\u662f\u5360\u4f4d\u7b26\u6807\u8bc6\u7b26\u6216\u5360\u4f4d\u7b26\u503c\u3002 nGQL\u7684\u7b26\u53f7\u8bf4\u660e\u5982\u4e0b\u3002 \u7b26\u53f7 \u542b\u4e49 < > \u8bed\u6cd5\u5143\u7d20\u7684\u540d\u79f0\u3002 ::= \u5b9a\u4e49\u5143\u7d20\u7684\u516c\u5f0f\u3002 [ ] \u53ef\u9009\u5143\u7d20\u3002 { } \u663e\u793a\u6307\u5b9a\u5143\u7d20\u3002 | \u6240\u6709\u53ef\u9009\u7684\u5143\u7d20\u3002 ... \u53ef\u4ee5\u91cd\u590d\u591a\u6b21\u3002 \u4f8b\u5982\u521b\u5efa\u70b9\u6216\u8fb9\u7684nGQL\u8bed\u6cd5\uff1a CREATE {TAG | EDGE} {<tag_name> | <edge_type>}(<property_name> <data_type> [, <property_name> <data_type> ...]); \u793a\u4f8b\u8bed\u53e5\uff1a nebula> CREATE TAG player(name string, age int);","title":"Nebula Graph\u67e5\u8be2\u8bed\u8a00\uff08nGQL\uff09"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/#nebula_graphngql","text":"\u672c\u6587\u4ecb\u7ecdNebula Graph\u4f7f\u7528\u7684\u67e5\u8be2\u8bed\u8a00nGQL\uff08Nebula Graph Query Language\uff09\u3002","title":"Nebula Graph\u67e5\u8be2\u8bed\u8a00\uff08nGQL\uff09"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/#ngql","text":"nGQL\u662fNebula Graph\u4f7f\u7528\u7684\u7684\u58f0\u660e\u5f0f\u56fe\u67e5\u8be2\u8bed\u8a00\uff0c\u652f\u6301\u7075\u6d3b\u9ad8\u6548\u7684 \u56fe\u6a21\u5f0f \uff0c\u800c\u4e14nGQL\u662f\u4e3a\u5f00\u53d1\u548c\u8fd0\u7ef4\u4eba\u5458\u8bbe\u8ba1\u7684\u7c7bSQL\u67e5\u8be2\u8bed\u8a00\uff0c\u6613\u4e8e\u5b66\u4e60\u3002 nGQL\u662f\u4e00\u4e2a\u8fdb\u884c\u4e2d\u7684\u9879\u76ee\uff0c\u4f1a\u6301\u7eed\u53d1\u5e03\u65b0\u7279\u6027\u548c\u4f18\u5316\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u51fa\u73b0\u8bed\u6cd5\u548c\u5b9e\u9645\u64cd\u4f5c\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff0c\u5982\u679c\u9047\u5230\u6b64\u7c7b\u95ee\u9898\uff0c\u8bf7\u63d0\u4ea4 issue \u901a\u77e5Nebula Graph\u56e2\u961f\u3002Nebula Graph 2.0\u53ca\u66f4\u65b0\u7248\u672c\u5c06\u652f\u6301 openCypher 9 \u3002","title":"\u4ec0\u4e48\u662fnGQL"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/#ngql_1","text":"\u652f\u6301\u56fe\u904d\u5386 \u652f\u6301\u6a21\u5f0f\u5339\u914d \u652f\u6301\u805a\u5408 \u652f\u6301\u4fee\u6539\u56fe \u652f\u6301\u8bbf\u95ee\u63a7\u5236 \u652f\u6301\u805a\u5408\u67e5\u8be2 \u652f\u6301\u7d22\u5f15 \u652f\u6301\u5927\u90e8\u5206openCypher 9\u56fe\u67e5\u8be2\u8bed\u6cd5\uff08\u4e0d\u652f\u6301\u4fee\u6539\u548c\u63a7\u5236\u8bed\u6cd5\uff09","title":"nGQL\u53ef\u4ee5\u505a\u4ec0\u4e48"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/#basketballplayer","text":"\u60a8\u53ef\u4ee5\u4e0b\u8f7dNebula Graph\u793a\u4f8b\u6570\u636e basketballplayer\u6587\u4ef6 \uff0c\u7136\u540e\u4f7f\u7528 Nebula Graph Console \uff0c\u4f7f\u7528\u9009\u9879 -f \u6267\u884c\u811a\u672c\u3002","title":"\u793a\u4f8b\u6570\u636e Basketballplayer"},{"location":"3.ngql-guide/1.nGQL-overview/1.overview/#_1","text":"Nebula Graph\u67e5\u8be2\u8bed\u8a00nGQL\u53c2\u7167\u4ee5\u4e0b\u6807\u51c6\u8bbe\u8ba1\uff1a ISO/IEC 10646 ISO/IEC 39075 ISO/IEC NP 39075 (Draft) OpenCypher 9 \u5728\u6a21\u677f\u4ee3\u7801\u4e2d\uff0c\u4efb\u4f55\u975e\u5173\u952e\u5b57\u3001\u5b57\u9762\u503c\u6216\u6807\u70b9\u7b26\u53f7\u7684\u6807\u8bb0\u90fd\u662f\u5360\u4f4d\u7b26\u6807\u8bc6\u7b26\u6216\u5360\u4f4d\u7b26\u503c\u3002 nGQL\u7684\u7b26\u53f7\u8bf4\u660e\u5982\u4e0b\u3002 \u7b26\u53f7 \u542b\u4e49 < > \u8bed\u6cd5\u5143\u7d20\u7684\u540d\u79f0\u3002 ::= \u5b9a\u4e49\u5143\u7d20\u7684\u516c\u5f0f\u3002 [ ] \u53ef\u9009\u5143\u7d20\u3002 { } \u663e\u793a\u6307\u5b9a\u5143\u7d20\u3002 | \u6240\u6709\u53ef\u9009\u7684\u5143\u7d20\u3002 ... \u53ef\u4ee5\u91cd\u590d\u591a\u6b21\u3002 \u4f8b\u5982\u521b\u5efa\u70b9\u6216\u8fb9\u7684nGQL\u8bed\u6cd5\uff1a CREATE {TAG | EDGE} {<tag_name> | <edge_type>}(<property_name> <data_type> [, <property_name> <data_type> ...]); \u793a\u4f8b\u8bed\u53e5\uff1a nebula> CREATE TAG player(name string, age int);","title":"\u5360\u4f4d\u6807\u8bc6\u7b26\u548c\u5360\u4f4d\u7b26\u503c"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/","text":"\u56fe\u5efa\u6a21 \u00b6 \u672c\u6587\u4ecb\u7ecd\u5728Nebula Graph\u9879\u76ee\u4e2d\u6210\u529f\u5e94\u7528\u7684\u4e00\u4e9b\u56fe\u5efa\u6a21\u901a\u7528\u5efa\u8bae\u3002 \u8bf4\u660e \uff1a\u672c\u6587\u5efa\u8bae\u662f\u901a\u7528\u7684\uff0c\u5728\u7279\u5b9a\u9886\u57df\u6709\u4f8b\u5916\uff0c\u8bf7\u7ed3\u5408\u5b9e\u9645\u4e1a\u52a1\u60c5\u51b5\u8fdb\u884c\u56fe\u5efa\u6a21\u3002 \u4ee5\u6027\u80fd\u4e3a\u76ee\u6807\u8fdb\u884c\u5efa\u6a21 \u00b6 \u76ee\u524dNebula Graph\u6ca1\u6709\u5b8c\u7f8e\u7684\u5efa\u6a21\u65b9\u6cd5\uff0c\u5982\u4f55\u5efa\u6a21\u53d6\u51b3\u4e8e\u60a8\u60f3\u4ece\u6570\u636e\u4e2d\u6316\u6398\u7684\u5185\u5bb9\u3002\u5206\u6790\u6570\u636e\u5e76\u6839\u636e\u4e1a\u52a1\u6a21\u578b\u521b\u5efa\u65b9\u4fbf\u76f4\u89c2\u7684\u6570\u636e\u6a21\u578b\uff0c\u6d4b\u8bd5\u6a21\u578b\u5e76\u4f18\u5316\uff0c\u9010\u6e10\u9002\u5e94\u4e1a\u52a1\u3002\u4e3a\u4e86\u66f4\u597d\u7684\u6027\u80fd\uff0c\u60a8\u53ef\u4ee5\u591a\u6b21\u66f4\u6539\u6216\u91cd\u65b0\u8bbe\u8ba1\u6a21\u578b\u3002 \u5408\u7406\u8bbe\u7f6e\u8fb9\u5c5e\u6027 \u00b6 \u6df1\u5ea6\u56fe\u904d\u5386\u7684\u6027\u80fd\u8f83\u4f4e\uff0c\u4e3a\u4e86\u51cf\u5c11\u904d\u5386\u6df1\u5ea6\uff0c\u8bf7\u4f7f\u7528\u70b9\u5c5e\u6027\u4ee3\u66ff\u8fb9\u3002\u4f8b\u5982\uff0c\u6a21\u578ba\u5305\u62ec\u59d3\u540d\u3001\u5e74\u9f84\u3001\u773c\u775b\u989c\u8272\u4e09\u79cd\u5c5e\u6027\uff0c\u5efa\u8bae\u60a8\u521b\u5efa\u4e00\u4e2a\u6807\u7b7e person \uff0c\u7136\u540e\u4e3a\u5b83\u6dfb\u52a0\u59d3\u540d\u3001\u5e74\u9f84\u3001\u773c\u775b\u989c\u8272\u7684\u5c5e\u6027\u3002\u5982\u679c\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u773c\u775b\u989c\u8272\u7684\u6807\u7b7e\u548c\u4e00\u4e2a\u8fb9\u7c7b\u578b has \uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u8fb9\u7528\u6765\u8868\u793a\u4eba\u62e5\u6709\u7684\u773c\u775b\u989c\u8272\uff0c\u8fd9\u79cd\u5efa\u6a21\u65b9\u6cd5\u4f1a\u964d\u4f4e\u904d\u5386\u6027\u80fd\u3002 \u4e3a\u8fb9\u521b\u5efa\u5c5e\u6027\u65f6\u8bf7\u52ff\u4f7f\u7528\u957f\u5b57\u7b26\u4e32\uff0cNebula Graph\u652f\u6301\u5728\u8fb9\u4e0a\u5b58\u50a8\u957f\u5b57\u7b26\u4e32\u5c5e\u6027\uff0c\u4f46\u662f\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u540c\u65f6\u4fdd\u5b58\u5728\u51fa\u8fb9\u548c\u5165\u8fb9\uff0c\u8bf7\u5c0f\u5fc3\u5199\u5165\u653e\u5927\uff08write amplification\uff09\u3002 \u5408\u7406\u8bbe\u7f6e\u6807\u7b7e\u5c5e\u6027 \u00b6 \u5728\u56fe\u5efa\u6a21\u4e2d\uff0c\u8bf7\u5c06\u4e00\u7ec4\u7c7b\u4f3c\u7684\u5e73\u7ea7\u5c5e\u6027\u653e\u5165\u540c\u4e00\u4e2a\u6807\u7b7e\uff0c\u5373\u6309\u4e0d\u540c\u6982\u5ff5\u8fdb\u884c\u5206\u7ec4\u3002 \u6b63\u786e\u4f7f\u7528\u7d22\u5f15 \u00b6 \u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u67e5\u8be2\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u4e0b\u964d90%\u751a\u81f3\u66f4\u591a\uff0c\u53ea\u6709\u5728\u6839\u636e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4f4d\u70b9\u6216\u8fb9\u65f6\u624d\u4f7f\u7528\u7d22\u5f15\u3002 \u6ce8\u610f \uff1a\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002","title":"\u56fe\u5efa\u6a21"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u5728Nebula Graph\u9879\u76ee\u4e2d\u6210\u529f\u5e94\u7528\u7684\u4e00\u4e9b\u56fe\u5efa\u6a21\u901a\u7528\u5efa\u8bae\u3002 \u8bf4\u660e \uff1a\u672c\u6587\u5efa\u8bae\u662f\u901a\u7528\u7684\uff0c\u5728\u7279\u5b9a\u9886\u57df\u6709\u4f8b\u5916\uff0c\u8bf7\u7ed3\u5408\u5b9e\u9645\u4e1a\u52a1\u60c5\u51b5\u8fdb\u884c\u56fe\u5efa\u6a21\u3002","title":"\u56fe\u5efa\u6a21"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/#_2","text":"\u76ee\u524dNebula Graph\u6ca1\u6709\u5b8c\u7f8e\u7684\u5efa\u6a21\u65b9\u6cd5\uff0c\u5982\u4f55\u5efa\u6a21\u53d6\u51b3\u4e8e\u60a8\u60f3\u4ece\u6570\u636e\u4e2d\u6316\u6398\u7684\u5185\u5bb9\u3002\u5206\u6790\u6570\u636e\u5e76\u6839\u636e\u4e1a\u52a1\u6a21\u578b\u521b\u5efa\u65b9\u4fbf\u76f4\u89c2\u7684\u6570\u636e\u6a21\u578b\uff0c\u6d4b\u8bd5\u6a21\u578b\u5e76\u4f18\u5316\uff0c\u9010\u6e10\u9002\u5e94\u4e1a\u52a1\u3002\u4e3a\u4e86\u66f4\u597d\u7684\u6027\u80fd\uff0c\u60a8\u53ef\u4ee5\u591a\u6b21\u66f4\u6539\u6216\u91cd\u65b0\u8bbe\u8ba1\u6a21\u578b\u3002","title":"\u4ee5\u6027\u80fd\u4e3a\u76ee\u6807\u8fdb\u884c\u5efa\u6a21"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/#_3","text":"\u6df1\u5ea6\u56fe\u904d\u5386\u7684\u6027\u80fd\u8f83\u4f4e\uff0c\u4e3a\u4e86\u51cf\u5c11\u904d\u5386\u6df1\u5ea6\uff0c\u8bf7\u4f7f\u7528\u70b9\u5c5e\u6027\u4ee3\u66ff\u8fb9\u3002\u4f8b\u5982\uff0c\u6a21\u578ba\u5305\u62ec\u59d3\u540d\u3001\u5e74\u9f84\u3001\u773c\u775b\u989c\u8272\u4e09\u79cd\u5c5e\u6027\uff0c\u5efa\u8bae\u60a8\u521b\u5efa\u4e00\u4e2a\u6807\u7b7e person \uff0c\u7136\u540e\u4e3a\u5b83\u6dfb\u52a0\u59d3\u540d\u3001\u5e74\u9f84\u3001\u773c\u775b\u989c\u8272\u7684\u5c5e\u6027\u3002\u5982\u679c\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u773c\u775b\u989c\u8272\u7684\u6807\u7b7e\u548c\u4e00\u4e2a\u8fb9\u7c7b\u578b has \uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u8fb9\u7528\u6765\u8868\u793a\u4eba\u62e5\u6709\u7684\u773c\u775b\u989c\u8272\uff0c\u8fd9\u79cd\u5efa\u6a21\u65b9\u6cd5\u4f1a\u964d\u4f4e\u904d\u5386\u6027\u80fd\u3002 \u4e3a\u8fb9\u521b\u5efa\u5c5e\u6027\u65f6\u8bf7\u52ff\u4f7f\u7528\u957f\u5b57\u7b26\u4e32\uff0cNebula Graph\u652f\u6301\u5728\u8fb9\u4e0a\u5b58\u50a8\u957f\u5b57\u7b26\u4e32\u5c5e\u6027\uff0c\u4f46\u662f\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u540c\u65f6\u4fdd\u5b58\u5728\u51fa\u8fb9\u548c\u5165\u8fb9\uff0c\u8bf7\u5c0f\u5fc3\u5199\u5165\u653e\u5927\uff08write amplification\uff09\u3002","title":"\u5408\u7406\u8bbe\u7f6e\u8fb9\u5c5e\u6027"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/#_4","text":"\u5728\u56fe\u5efa\u6a21\u4e2d\uff0c\u8bf7\u5c06\u4e00\u7ec4\u7c7b\u4f3c\u7684\u5e73\u7ea7\u5c5e\u6027\u653e\u5165\u540c\u4e00\u4e2a\u6807\u7b7e\uff0c\u5373\u6309\u4e0d\u540c\u6982\u5ff5\u8fdb\u884c\u5206\u7ec4\u3002","title":"\u5408\u7406\u8bbe\u7f6e\u6807\u7b7e\u5c5e\u6027"},{"location":"3.ngql-guide/1.nGQL-overview/2.graph-modeling/#_5","text":"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u67e5\u8be2\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u4e0b\u964d90%\u751a\u81f3\u66f4\u591a\uff0c\u53ea\u6709\u5728\u6839\u636e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4f4d\u70b9\u6216\u8fb9\u65f6\u624d\u4f7f\u7528\u7d22\u5f15\u3002 \u6ce8\u610f \uff1a\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002","title":"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/","text":"\u6a21\u5f0f \u00b6 \u6a21\u5f0f\uff08pattern\uff09\u548c\u56fe\u6a21\u5f0f\u5339\u914d\uff0c\u662f\u56fe\u67e5\u8be2\u8bed\u8a00\u7684\u6838\u5fc3\uff0c\u672c\u6587\u4ecb\u7ecdNebula Graph\u7684\u5404\u79cd\u6a21\u5f0f\u3002 \u5355\u70b9\u6a21\u5f0f \u00b6 \u70b9\u7528\u4e00\u5bf9\u62ec\u53f7\u6765\u63cf\u8ff0\uff0c\u901a\u5e38\u5305\u542b\u4e00\u4e2a\u540d\u79f0\u3002\u4f8b\u5982\uff1a (a) \u793a\u4f8b\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u5f0f\uff0c\u63cf\u8ff0\u4e86\u5355\u4e2a\u70b9\uff0c\u5e76\u4f7f\u7528\u53d8\u91cf a \u547d\u540d\u8be5\u70b9\u3002 \u591a\u70b9\u5173\u8054\u6a21\u5f0f \u00b6 \u591a\u4e2a\u70b9\u901a\u8fc7\u8fb9\u76f8\u8fde\u662f\u5e38\u89c1\u7684\u7ed3\u6784\uff0c\u6a21\u5f0f\u7528\u7bad\u5934\u6765\u63cf\u8ff0\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fb9\u3002\u4f8b\u5982\uff1a (a)-[]->(b) \u793a\u4f8b\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\uff1a\u4e24\u4e2a\u70b9\u548c\u4e00\u6761\u8fde\u63a5\u4e24\u4e2a\u70b9\u7684\u8fb9\uff0c\u4e24\u4e2a\u70b9\u5206\u522b\u4e3a a \u548c b \uff0c\u8fb9\u662f\u6709\u65b9\u5411\u7684\uff0c\u4ece a \u5230 b \u3002 \u8fd9\u79cd\u63cf\u8ff0\u70b9\u548c\u8fb9\u7684\u65b9\u5f0f\u53ef\u4ee5\u6269\u5c55\u5230\u4efb\u610f\u6570\u91cf\u7684\u70b9\u548c\u8fb9\uff0c\u4f8b\u5982\uff1a (a)-[]->(b)<-[]-(c) \u8fd9\u6837\u7684\u4e00\u7cfb\u5217\u70b9\u548c\u8fb9\u79f0\u4e3a \u8def\u5f84 \uff08path\uff09\u3002 \u53ea\u6709\u5728\u6d89\u53ca\u67d0\u4e2a\u70b9\u65f6\uff0c\u624d\u9700\u8981\u547d\u540d\u8fd9\u4e2a\u70b9\u3002\u5982\u679c\u4e0d\u6d89\u53ca\u8fd9\u4e2a\u70b9\uff0c\u5219\u53ef\u4ee5\u7701\u7565\u540d\u79f0\uff0c\u4f8b\u5982\uff1a (a)-[]->()<-[]-(c) \u6807\u7b7e\u6a21\u5f0f \u00b6 \u8bf4\u660e \uff1anGQL\u4e2d\u7684 tag \u6982\u5ff5\u4e0eopenCypher\u4e2d\u7684 label \u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u4f8b\u5982\uff0c\u60a8\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a tag \u4e4b\u540e\u624d\u80fd\u4f7f\u7528\u5b83\uff0c\u800c\u4e14 tag \u8fd8\u5b9a\u4e49\u4e86\u5c5e\u6027\u7684\u7c7b\u578b\u3002 \u6a21\u5f0f\u9664\u4e86\u7b80\u5355\u5730\u63cf\u8ff0\u56fe\u4e2d\u7684\u70b9\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u70b9\u7684\u6807\u7b7e\u3002\u4f8b\u5982\uff1a (a:User)-[]->(b) \u6a21\u5f0f\u4e5f\u53ef\u4ee5\u63cf\u8ff0\u6709\u591a\u4e2a\u6807\u7b7e\u7684\u70b9\uff0c\u4f8b\u5982\uff1a (a:User:Admin)-[]->(b) \u5c5e\u6027\u6a21\u5f0f \u00b6 \u70b9\u548c\u8fb9\u662f\u56fe\u7684\u57fa\u672c\u7ed3\u6784\u3002nGQL\u5728\u8fd9\u4e24\u79cd\u7ed3\u6784\u4e0a\u90fd\u53ef\u4ee5\u589e\u52a0\u5c5e\u6027\uff0c\u65b9\u4fbf\u5b9e\u73b0\u66f4\u4e30\u5bcc\u7684\u6a21\u578b\u3002 \u5728\u6a21\u5f0f\u4e2d\uff0c\u5c5e\u6027\u7684\u8868\u793a\u65b9\u5f0f\u4e3a\uff1a\u7528\u82b1\u62ec\u53f7\u62ec\u8d77\u4e00\u4e9b\u952e\u503c\u5bf9\uff0c\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u4f8b\u5982\u4e00\u4e2a\u70b9\u6709\u4e24\u4e2a\u5c5e\u6027\uff1a (a {name: 'Andres', sport: 'Brazilian Ju-Jitsu'}) \u5728\u8fd9\u4e2a\u70b9\u4e0a\u53ef\u4ee5\u6709\u4e00\u6761\u8fb9\u662f\uff1a (a)-[{blocked: false}]->(b) \u8fb9\u6a21\u5f0f \u00b6 \u63cf\u8ff0\u4e00\u6761\u8fb9\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u7bad\u5934\u8fde\u63a5\u4e24\u4e2a\u70b9\u3002 \u60a8\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\u63cf\u8ff0\u8fb9\u4ee5\u53ca\u5b83\u7684\u65b9\u5411\u6027\u3002\u5982\u679c\u60a8\u4e0d\u5173\u5fc3\u8fb9\u7684\u65b9\u5411\uff0c\u53ef\u4ee5\u7701\u7565\u7bad\u5934\uff0c\u4f8b\u5982\uff1a (a)-[]-(b) \u548c\u70b9\u4e00\u6837\uff0c\u8fb9\u4e5f\u53ef\u4ee5\u547d\u540d\u3002\u4e00\u5bf9\u65b9\u62ec\u53f7\u7528\u4e8e\u5206\u9694\u7bad\u5934\uff0c\u53d8\u91cf\u653e\u5728\u4e24\u8005\u4e4b\u95f4\u3002\u4f8b\u5982\uff1a (a)-[r]->(b) \u548c\u70b9\u4e0a\u7684\u6807\u7b7e\u4e00\u6837\uff0c\u8fb9\u4e5f\u53ef\u4ee5\u6709\u7c7b\u578b\u3002\u63cf\u8ff0\u8fb9\u7684\u7c7b\u578b\uff0c\u4f8b\u5982\uff1a (a)-[r:REL_TYPE]->(b) \u548c\u70b9\u4e0a\u7684\u6807\u7b7e\u4e0d\u540c\uff0c\u4e00\u6761\u8fb9\u53ea\u80fd\u6709\u4e00\u79cd\u8fb9\u7c7b\u578b\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u63cf\u8ff0\u591a\u4e2a\u53ef\u9009\u8fb9\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528\u7ba1\u9053\u7b26\u53f7\uff08|\uff09\u5c06\u53ef\u9009\u503c\u5206\u5f00\uff0c\u4f8b\u5982\uff1a (a)-[r:TYPE1|TYPE2]->(b) \u548c\u70b9\u4e00\u6837\uff0c\u8fb9\u7684\u540d\u79f0\u53ef\u4ee5\u7701\u7565\uff0c\u4f8b\u5982\uff1a (a)-[:REL_TYPE]->(b) \u53d8\u957f\u6a21\u5f0f \u00b6 \u5728\u56fe\u4e2d\u6307\u5b9a\u8fb9\u7684\u957f\u5ea6\u6765\u63cf\u8ff0\u591a\u6761\u8fb9\uff08\u4ee5\u53ca\u4e2d\u95f4\u7684\u70b9\uff09\u7ec4\u6210\u7684\u4e00\u6761\u957f\u8def\u5f84\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u591a\u4e2a\u70b9\u548c\u8fb9\u6765\u63cf\u8ff0\u3002\u4f8b\u5982\uff1a (a)-[*2]->(b) \u8be5\u6a21\u5f0f\u63cf\u8ff0\u4e863\u70b92\u8fb9\u7ec4\u6210\u7684\u56fe\uff0c\u5b83\u4eec\u90fd\u5728\u4e00\u6761\u8def\u5f84\u4e0a\uff08\u957f\u5ea6\u4e3a2\uff09\uff0c\u7b49\u4ef7\u4e8e: (a)-[]->()-[]->(b) \u4e5f\u53ef\u4ee5\u6307\u5b9a\u957f\u5ea6\u8303\u56f4\uff0c\u8fd9\u6837\u7684\u8fb9\u6a21\u5f0f\u79f0\u4e3a variable-length edges \uff0c\u4f8b\u5982\uff1a (a)-[*3..5]->(b) *3..5 \u8868\u793a\u6700\u5c0f\u957f\u5ea6\u4e3a3\uff0c\u6700\u5927\u957f\u5ea6\u4e3a5\u3002 \u8be5\u6a21\u5f0f\u63cf\u8ff0\u4e864\u70b93\u8fb9\u30015\u70b94\u8fb9\u62166\u70b95\u8fb9\u7ec4\u6210\u7684\u56fe\u3002 \u60a8\u4e5f\u53ef\u4ee5\u5ffd\u7565\u6700\u5c0f\u957f\u5ea6\uff0c\u53ea\u6307\u5b9a\u6700\u5927\u957f\u5ea6\uff0c\u4f8b\u5982\uff1a (a)-[*..5]->(b) \u8bf4\u660e \uff1a\u5fc5\u987b\u6307\u5b9a\u6700\u5927\u957f\u5ea6\uff0c \u4e0d\u652f\u6301 \u4ec5\u6307\u5b9a\u6700\u5c0f\u957f\u5ea6\uff08 (a)-[*3..]->(b) \uff09\u6216\u90fd\u4e0d\u6307\u5b9a\uff08 (a)-[*]->(b) \uff09\u3002 \u8def\u5f84\u53d8\u91cf \u00b6 \u4e00\u7cfb\u5217\u8fde\u63a5\u7684\u70b9\u548c\u8fb9\u79f0\u4e3a \u8def\u5f84 \u3002nGQL\u5141\u8bb8\u4f7f\u7528\u53d8\u91cf\u6765\u547d\u540d\u8def\u5f84\uff0c\u4f8b\u5982\uff1a p = (a)-[*3..5]->(b) \u60a8\u53ef\u4ee5\u5728MATCH\u8bed\u53e5\u4e2d\u4f7f\u7528\u8def\u5f84\u53d8\u91cf\u3002","title":"\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_1","text":"\u6a21\u5f0f\uff08pattern\uff09\u548c\u56fe\u6a21\u5f0f\u5339\u914d\uff0c\u662f\u56fe\u67e5\u8be2\u8bed\u8a00\u7684\u6838\u5fc3\uff0c\u672c\u6587\u4ecb\u7ecdNebula Graph\u7684\u5404\u79cd\u6a21\u5f0f\u3002","title":"\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_2","text":"\u70b9\u7528\u4e00\u5bf9\u62ec\u53f7\u6765\u63cf\u8ff0\uff0c\u901a\u5e38\u5305\u542b\u4e00\u4e2a\u540d\u79f0\u3002\u4f8b\u5982\uff1a (a) \u793a\u4f8b\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u5f0f\uff0c\u63cf\u8ff0\u4e86\u5355\u4e2a\u70b9\uff0c\u5e76\u4f7f\u7528\u53d8\u91cf a \u547d\u540d\u8be5\u70b9\u3002","title":"\u5355\u70b9\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_3","text":"\u591a\u4e2a\u70b9\u901a\u8fc7\u8fb9\u76f8\u8fde\u662f\u5e38\u89c1\u7684\u7ed3\u6784\uff0c\u6a21\u5f0f\u7528\u7bad\u5934\u6765\u63cf\u8ff0\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fb9\u3002\u4f8b\u5982\uff1a (a)-[]->(b) \u793a\u4f8b\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\uff1a\u4e24\u4e2a\u70b9\u548c\u4e00\u6761\u8fde\u63a5\u4e24\u4e2a\u70b9\u7684\u8fb9\uff0c\u4e24\u4e2a\u70b9\u5206\u522b\u4e3a a \u548c b \uff0c\u8fb9\u662f\u6709\u65b9\u5411\u7684\uff0c\u4ece a \u5230 b \u3002 \u8fd9\u79cd\u63cf\u8ff0\u70b9\u548c\u8fb9\u7684\u65b9\u5f0f\u53ef\u4ee5\u6269\u5c55\u5230\u4efb\u610f\u6570\u91cf\u7684\u70b9\u548c\u8fb9\uff0c\u4f8b\u5982\uff1a (a)-[]->(b)<-[]-(c) \u8fd9\u6837\u7684\u4e00\u7cfb\u5217\u70b9\u548c\u8fb9\u79f0\u4e3a \u8def\u5f84 \uff08path\uff09\u3002 \u53ea\u6709\u5728\u6d89\u53ca\u67d0\u4e2a\u70b9\u65f6\uff0c\u624d\u9700\u8981\u547d\u540d\u8fd9\u4e2a\u70b9\u3002\u5982\u679c\u4e0d\u6d89\u53ca\u8fd9\u4e2a\u70b9\uff0c\u5219\u53ef\u4ee5\u7701\u7565\u540d\u79f0\uff0c\u4f8b\u5982\uff1a (a)-[]->()<-[]-(c)","title":"\u591a\u70b9\u5173\u8054\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_4","text":"\u8bf4\u660e \uff1anGQL\u4e2d\u7684 tag \u6982\u5ff5\u4e0eopenCypher\u4e2d\u7684 label \u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u4f8b\u5982\uff0c\u60a8\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a tag \u4e4b\u540e\u624d\u80fd\u4f7f\u7528\u5b83\uff0c\u800c\u4e14 tag \u8fd8\u5b9a\u4e49\u4e86\u5c5e\u6027\u7684\u7c7b\u578b\u3002 \u6a21\u5f0f\u9664\u4e86\u7b80\u5355\u5730\u63cf\u8ff0\u56fe\u4e2d\u7684\u70b9\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u70b9\u7684\u6807\u7b7e\u3002\u4f8b\u5982\uff1a (a:User)-[]->(b) \u6a21\u5f0f\u4e5f\u53ef\u4ee5\u63cf\u8ff0\u6709\u591a\u4e2a\u6807\u7b7e\u7684\u70b9\uff0c\u4f8b\u5982\uff1a (a:User:Admin)-[]->(b)","title":"\u6807\u7b7e\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_5","text":"\u70b9\u548c\u8fb9\u662f\u56fe\u7684\u57fa\u672c\u7ed3\u6784\u3002nGQL\u5728\u8fd9\u4e24\u79cd\u7ed3\u6784\u4e0a\u90fd\u53ef\u4ee5\u589e\u52a0\u5c5e\u6027\uff0c\u65b9\u4fbf\u5b9e\u73b0\u66f4\u4e30\u5bcc\u7684\u6a21\u578b\u3002 \u5728\u6a21\u5f0f\u4e2d\uff0c\u5c5e\u6027\u7684\u8868\u793a\u65b9\u5f0f\u4e3a\uff1a\u7528\u82b1\u62ec\u53f7\u62ec\u8d77\u4e00\u4e9b\u952e\u503c\u5bf9\uff0c\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u4f8b\u5982\u4e00\u4e2a\u70b9\u6709\u4e24\u4e2a\u5c5e\u6027\uff1a (a {name: 'Andres', sport: 'Brazilian Ju-Jitsu'}) \u5728\u8fd9\u4e2a\u70b9\u4e0a\u53ef\u4ee5\u6709\u4e00\u6761\u8fb9\u662f\uff1a (a)-[{blocked: false}]->(b)","title":"\u5c5e\u6027\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_6","text":"\u63cf\u8ff0\u4e00\u6761\u8fb9\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u7bad\u5934\u8fde\u63a5\u4e24\u4e2a\u70b9\u3002 \u60a8\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\u63cf\u8ff0\u8fb9\u4ee5\u53ca\u5b83\u7684\u65b9\u5411\u6027\u3002\u5982\u679c\u60a8\u4e0d\u5173\u5fc3\u8fb9\u7684\u65b9\u5411\uff0c\u53ef\u4ee5\u7701\u7565\u7bad\u5934\uff0c\u4f8b\u5982\uff1a (a)-[]-(b) \u548c\u70b9\u4e00\u6837\uff0c\u8fb9\u4e5f\u53ef\u4ee5\u547d\u540d\u3002\u4e00\u5bf9\u65b9\u62ec\u53f7\u7528\u4e8e\u5206\u9694\u7bad\u5934\uff0c\u53d8\u91cf\u653e\u5728\u4e24\u8005\u4e4b\u95f4\u3002\u4f8b\u5982\uff1a (a)-[r]->(b) \u548c\u70b9\u4e0a\u7684\u6807\u7b7e\u4e00\u6837\uff0c\u8fb9\u4e5f\u53ef\u4ee5\u6709\u7c7b\u578b\u3002\u63cf\u8ff0\u8fb9\u7684\u7c7b\u578b\uff0c\u4f8b\u5982\uff1a (a)-[r:REL_TYPE]->(b) \u548c\u70b9\u4e0a\u7684\u6807\u7b7e\u4e0d\u540c\uff0c\u4e00\u6761\u8fb9\u53ea\u80fd\u6709\u4e00\u79cd\u8fb9\u7c7b\u578b\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u63cf\u8ff0\u591a\u4e2a\u53ef\u9009\u8fb9\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528\u7ba1\u9053\u7b26\u53f7\uff08|\uff09\u5c06\u53ef\u9009\u503c\u5206\u5f00\uff0c\u4f8b\u5982\uff1a (a)-[r:TYPE1|TYPE2]->(b) \u548c\u70b9\u4e00\u6837\uff0c\u8fb9\u7684\u540d\u79f0\u53ef\u4ee5\u7701\u7565\uff0c\u4f8b\u5982\uff1a (a)-[:REL_TYPE]->(b)","title":"\u8fb9\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_7","text":"\u5728\u56fe\u4e2d\u6307\u5b9a\u8fb9\u7684\u957f\u5ea6\u6765\u63cf\u8ff0\u591a\u6761\u8fb9\uff08\u4ee5\u53ca\u4e2d\u95f4\u7684\u70b9\uff09\u7ec4\u6210\u7684\u4e00\u6761\u957f\u8def\u5f84\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u591a\u4e2a\u70b9\u548c\u8fb9\u6765\u63cf\u8ff0\u3002\u4f8b\u5982\uff1a (a)-[*2]->(b) \u8be5\u6a21\u5f0f\u63cf\u8ff0\u4e863\u70b92\u8fb9\u7ec4\u6210\u7684\u56fe\uff0c\u5b83\u4eec\u90fd\u5728\u4e00\u6761\u8def\u5f84\u4e0a\uff08\u957f\u5ea6\u4e3a2\uff09\uff0c\u7b49\u4ef7\u4e8e: (a)-[]->()-[]->(b) \u4e5f\u53ef\u4ee5\u6307\u5b9a\u957f\u5ea6\u8303\u56f4\uff0c\u8fd9\u6837\u7684\u8fb9\u6a21\u5f0f\u79f0\u4e3a variable-length edges \uff0c\u4f8b\u5982\uff1a (a)-[*3..5]->(b) *3..5 \u8868\u793a\u6700\u5c0f\u957f\u5ea6\u4e3a3\uff0c\u6700\u5927\u957f\u5ea6\u4e3a5\u3002 \u8be5\u6a21\u5f0f\u63cf\u8ff0\u4e864\u70b93\u8fb9\u30015\u70b94\u8fb9\u62166\u70b95\u8fb9\u7ec4\u6210\u7684\u56fe\u3002 \u60a8\u4e5f\u53ef\u4ee5\u5ffd\u7565\u6700\u5c0f\u957f\u5ea6\uff0c\u53ea\u6307\u5b9a\u6700\u5927\u957f\u5ea6\uff0c\u4f8b\u5982\uff1a (a)-[*..5]->(b) \u8bf4\u660e \uff1a\u5fc5\u987b\u6307\u5b9a\u6700\u5927\u957f\u5ea6\uff0c \u4e0d\u652f\u6301 \u4ec5\u6307\u5b9a\u6700\u5c0f\u957f\u5ea6\uff08 (a)-[*3..]->(b) \uff09\u6216\u90fd\u4e0d\u6307\u5b9a\uff08 (a)-[*]->(b) \uff09\u3002","title":"\u53d8\u957f\u6a21\u5f0f"},{"location":"3.ngql-guide/1.nGQL-overview/3.graph-patterns/#_8","text":"\u4e00\u7cfb\u5217\u8fde\u63a5\u7684\u70b9\u548c\u8fb9\u79f0\u4e3a \u8def\u5f84 \u3002nGQL\u5141\u8bb8\u4f7f\u7528\u53d8\u91cf\u6765\u547d\u540d\u8def\u5f84\uff0c\u4f8b\u5982\uff1a p = (a)-[*3..5]->(b) \u60a8\u53ef\u4ee5\u5728MATCH\u8bed\u53e5\u4e2d\u4f7f\u7528\u8def\u5f84\u53d8\u91cf\u3002","title":"\u8def\u5f84\u53d8\u91cf"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/","text":"CREATE TAG \u00b6 CREATE TAG \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u6807\u7b7e\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 nGQL\u4e2d\u7684tag\u548copenCypher\u4e2d\u7684label\u76f8\u4f3c\uff0c\u4f46\u53c8\u6709\u6240\u4e0d\u540c\uff0c\u4f8b\u5982\u5b83\u4eec\u7684\u521b\u5efa\u65b9\u5f0f\u3002 openCypher\u4e2d\u7684label\u9700\u8981\u5728 CREATE \u8bed\u53e5\u4e2d\u4e0e\u70b9\u4e00\u8d77\u521b\u5efa\u3002 nGQL\u4e2d\u7684tag\u9700\u8981\u4f7f\u7528 CREATE TAG \u8bed\u53e5\u72ec\u7acb\u521b\u5efa\u3002tag\u66f4\u50cf\u662fMySQL\u4e2d\u7684\u8868\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u6267\u884c CREATE TAG \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u521b\u5efa\u6807\u7b7e\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8bed\u6cd5 \u00b6 \u521b\u5efa\u6807\u7b7e\u524d\uff0c\u9700\u8981\u5148\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5de5\u4f5c\u7a7a\u95f4\u3002 CREATE TAG [IF NOT EXISTS] <tag_name> ([<create_definition>, ...]) [tag_options]; <create_definition> ::= <prop_name> <data_type> [NULL | NOT NULL] <tag_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> \u6807\u7b7e\u540d\u79f0 \u00b6 IF NOT EXISTS \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u6807\u7b7e\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u6807\u7b7e\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002 tag_name \uff1a\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u5185\u7684\u6807\u7b7e\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u6807\u7b7e\u540d\u79f0\u8bbe\u7f6e\u540e\u65e0\u6cd5\u4fee\u6539\u3002\u5141\u8bb8\u7684\u6807\u7b7e\u540d\u79f0\u89c4\u5219\u4e0e\u56fe\u7a7a\u95f4\u540d\u79f0\u89c4\u5219\u76f8\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u3002 \u6807\u7b7e\u5c5e\u6027 \u00b6 prop_name \u5c5e\u6027\u540d\u79f0\u3002\u6bcf\u4e2a\u6807\u7b7e\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u552f\u4e00\u3002 data_type \u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u6570\u636e\u7c7b\u578b\u7684\u5b8c\u6574\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u6570\u503c\u7c7b\u578b \u3001 \u5e03\u5c14 \u7b49\u6587\u6863\u3002 NULL | NOT NULL \u6307\u5b9a\u5c5e\u6027\u503c\u662f\u5426\u652f\u6301\u4e3a NULL \u3002\u9ed8\u8ba4\u503c\u4e3a NULL \u3002 DEFAULT \u6307\u5b9a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u5b57\u503c\u6216Nebula Graph\u652f\u6301\u7684\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u63d2\u5165\u70b9\u65f6\u6ca1\u6709\u6307\u5b9a\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002 TTL\uff08Time-To-Live\uff09 \u00b6 TTL_DURATION \u6307\u5b9a\u5c5e\u6027\u5b58\u6d3b\u65f6\u95f4\u3002\u8d85\u65f6\u7684\u5c5e\u6027\u5c06\u4f1a\u8fc7\u671f\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002 TTL_COL \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 \u4e00\u4e2a\u6807\u7b7e\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u5b57\u6bb5\u4e3a TTL_COL \u3002\u66f4\u591aTTL\u7684\u4fe1\u606f\u8bf7\u53c2\u89c1 TTL \u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG player(name string, age int); # \u521b\u5efa\u6ca1\u6709\u5c5e\u6027\u7684\u6807\u7b7e\u3002 nebula> CREATE TAG no_property(); # \u521b\u5efa\u5305\u542b\u9ed8\u8ba4\u503c\u7684\u6807\u7b7e\u3002 nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); # \u5bf9\u5b57\u6bb5create_time\u8bbe\u7f6eTTL\u4e3a100\u79d2\u3002 nebula> CREATE TAG woman(name string, age int, \\ married bool, salary double, create_time timestamp) \\ TTL_DURATION = 100, TTL_COL = \"create_time\"; \u521b\u5efa\u6807\u7b7e\u8bf4\u660e \u00b6 \u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u6807\u7b7e\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u6807\u7b7e\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW TAGS \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u6807\u7b7e\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"CREATE TAG"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#create_tag","text":"CREATE TAG \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u6807\u7b7e\u3002","title":"CREATE TAG"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#opencypher","text":"nGQL\u4e2d\u7684tag\u548copenCypher\u4e2d\u7684label\u76f8\u4f3c\uff0c\u4f46\u53c8\u6709\u6240\u4e0d\u540c\uff0c\u4f8b\u5982\u5b83\u4eec\u7684\u521b\u5efa\u65b9\u5f0f\u3002 openCypher\u4e2d\u7684label\u9700\u8981\u5728 CREATE \u8bed\u53e5\u4e2d\u4e0e\u70b9\u4e00\u8d77\u521b\u5efa\u3002 nGQL\u4e2d\u7684tag\u9700\u8981\u4f7f\u7528 CREATE TAG \u8bed\u53e5\u72ec\u7acb\u521b\u5efa\u3002tag\u66f4\u50cf\u662fMySQL\u4e2d\u7684\u8868\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_1","text":"\u6267\u884c CREATE TAG \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u521b\u5efa\u6807\u7b7e\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_2","text":"\u521b\u5efa\u6807\u7b7e\u524d\uff0c\u9700\u8981\u5148\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5de5\u4f5c\u7a7a\u95f4\u3002 CREATE TAG [IF NOT EXISTS] <tag_name> ([<create_definition>, ...]) [tag_options]; <create_definition> ::= <prop_name> <data_type> [NULL | NOT NULL] <tag_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value>","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_3","text":"IF NOT EXISTS \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 IF NOT EXISTS \u5173\u952e\u5b57\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u6807\u7b7e\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u6807\u7b7e\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002 tag_name \uff1a\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u5185\u7684\u6807\u7b7e\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u6807\u7b7e\u540d\u79f0\u8bbe\u7f6e\u540e\u65e0\u6cd5\u4fee\u6539\u3002\u5141\u8bb8\u7684\u6807\u7b7e\u540d\u79f0\u89c4\u5219\u4e0e\u56fe\u7a7a\u95f4\u540d\u79f0\u89c4\u5219\u76f8\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u3002","title":"\u6807\u7b7e\u540d\u79f0"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_4","text":"prop_name \u5c5e\u6027\u540d\u79f0\u3002\u6bcf\u4e2a\u6807\u7b7e\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u552f\u4e00\u3002 data_type \u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u6570\u636e\u7c7b\u578b\u7684\u5b8c\u6574\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u6570\u503c\u7c7b\u578b \u3001 \u5e03\u5c14 \u7b49\u6587\u6863\u3002 NULL | NOT NULL \u6307\u5b9a\u5c5e\u6027\u503c\u662f\u5426\u652f\u6301\u4e3a NULL \u3002\u9ed8\u8ba4\u503c\u4e3a NULL \u3002 DEFAULT \u6307\u5b9a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u5b57\u503c\u6216Nebula Graph\u652f\u6301\u7684\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u63d2\u5165\u70b9\u65f6\u6ca1\u6709\u6307\u5b9a\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002","title":"\u6807\u7b7e\u5c5e\u6027"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#ttltime-to-live","text":"TTL_DURATION \u6307\u5b9a\u5c5e\u6027\u5b58\u6d3b\u65f6\u95f4\u3002\u8d85\u65f6\u7684\u5c5e\u6027\u5c06\u4f1a\u8fc7\u671f\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002 TTL_COL \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 \u4e00\u4e2a\u6807\u7b7e\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u5b57\u6bb5\u4e3a TTL_COL \u3002\u66f4\u591aTTL\u7684\u4fe1\u606f\u8bf7\u53c2\u89c1 TTL \u3002","title":"TTL\uff08Time-To-Live\uff09"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_5","text":"nebula> CREATE TAG player(name string, age int); # \u521b\u5efa\u6ca1\u6709\u5c5e\u6027\u7684\u6807\u7b7e\u3002 nebula> CREATE TAG no_property(); # \u521b\u5efa\u5305\u542b\u9ed8\u8ba4\u503c\u7684\u6807\u7b7e\u3002 nebula> CREATE TAG player_with_default(name string, age int DEFAULT 20); # \u5bf9\u5b57\u6bb5create_time\u8bbe\u7f6eTTL\u4e3a100\u79d2\u3002 nebula> CREATE TAG woman(name string, age int, \\ married bool, salary double, create_time timestamp) \\ TTL_DURATION = 100, TTL_COL = \"create_time\";","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/10.tag-statements/1.create-tag/#_6","text":"\u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u6807\u7b7e\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u6807\u7b7e\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW TAGS \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u6807\u7b7e\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"\u521b\u5efa\u6807\u7b7e\u8bf4\u660e"},{"location":"3.ngql-guide/10.tag-statements/2.drop-tag/","text":"DROP TAG \u00b6 DROP TAG \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u5185\u7684\u6307\u5b9a\u6807\u7b7e\u3002 \u4e00\u4e2a\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\u3002 \u5982\u679c\u70b9\u53ea\u6709\u4e00\u4e2a\u6807\u7b7e\uff0c\u5220\u9664\u8fd9\u4e2a\u6807\u7b7e\u540e\uff0c\u60a8\u5c31 \u65e0\u6cd5\u8bbf\u95ee \u8fd9\u4e2a\u70b9\uff0c\u4e0b\u6b21Compaction\u64cd\u4f5c\u65f6\u4f1a\u5220\u9664\u8be5\u70b9\u3002\u70b9\u4e0a\u7684\u8fb9\u4ecd\u7136\u5b58\u5728\u3002 \u5982\u679c\u70b9\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u5220\u9664\u5176\u4e2d\u4e00\u4e2a\u6807\u7b7e\uff0c\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u70b9\uff0c\u4f46\u662f \u65e0\u6cd5\u8bbf\u95ee \u5df2\u5220\u9664\u6807\u7b7e\u5b9a\u4e49\u7684\u6240\u6709\u5c5e\u6027\u3002 \u5220\u9664\u6807\u7b7e\u64cd\u4f5c\u4ec5\u5220\u9664Schema\u6570\u636e\uff0c\u786c\u76d8\u4e0a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\uff0c\u800c\u662f\u5728\u4e0b\u4e00\u6b21Compaction\u64cd\u4f5c\u65f6\u5220\u9664\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DROP TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u6807\u7b7e\u4e0d\u5305\u542b\u4efb\u4f55\u7d22\u5f15\uff0c\u5426\u5219 DROP TAG \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002 \u8bed\u6cd5 \u00b6 DROP TAG [IF EXISTS] <tag_name>; IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u6807\u7b7e\u3002 tag_name \uff1a\u6307\u5b9a\u8981\u5220\u9664\u7684\u6807\u7b7e\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u5220\u9664\u4e00\u4e2a\u6807\u7b7e\u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG test(p1 string, p2 int); nebula> DROP TAG test;","title":"DROP TAGS"},{"location":"3.ngql-guide/10.tag-statements/2.drop-tag/#drop_tag","text":"DROP TAG \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u5185\u7684\u6307\u5b9a\u6807\u7b7e\u3002 \u4e00\u4e2a\u70b9\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\u3002 \u5982\u679c\u70b9\u53ea\u6709\u4e00\u4e2a\u6807\u7b7e\uff0c\u5220\u9664\u8fd9\u4e2a\u6807\u7b7e\u540e\uff0c\u60a8\u5c31 \u65e0\u6cd5\u8bbf\u95ee \u8fd9\u4e2a\u70b9\uff0c\u4e0b\u6b21Compaction\u64cd\u4f5c\u65f6\u4f1a\u5220\u9664\u8be5\u70b9\u3002\u70b9\u4e0a\u7684\u8fb9\u4ecd\u7136\u5b58\u5728\u3002 \u5982\u679c\u70b9\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u5220\u9664\u5176\u4e2d\u4e00\u4e2a\u6807\u7b7e\uff0c\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u70b9\uff0c\u4f46\u662f \u65e0\u6cd5\u8bbf\u95ee \u5df2\u5220\u9664\u6807\u7b7e\u5b9a\u4e49\u7684\u6240\u6709\u5c5e\u6027\u3002 \u5220\u9664\u6807\u7b7e\u64cd\u4f5c\u4ec5\u5220\u9664Schema\u6570\u636e\uff0c\u786c\u76d8\u4e0a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\uff0c\u800c\u662f\u5728\u4e0b\u4e00\u6b21Compaction\u64cd\u4f5c\u65f6\u5220\u9664\u3002","title":"DROP TAG"},{"location":"3.ngql-guide/10.tag-statements/2.drop-tag/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DROP TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u6807\u7b7e\u4e0d\u5305\u542b\u4efb\u4f55\u7d22\u5f15\uff0c\u5426\u5219 DROP TAG \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/10.tag-statements/2.drop-tag/#_2","text":"DROP TAG [IF EXISTS] <tag_name>; IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u6807\u7b7e\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u6807\u7b7e\u3002 tag_name \uff1a\u6307\u5b9a\u8981\u5220\u9664\u7684\u6807\u7b7e\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u5220\u9664\u4e00\u4e2a\u6807\u7b7e\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/10.tag-statements/2.drop-tag/#_3","text":"nebula> CREATE TAG test(p1 string, p2 int); nebula> DROP TAG test;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/","text":"ALTER TAG \u00b6 ALTER TAG \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u6807\u7b7e\u7684\u7ed3\u6784\u3002\u4f8b\u5982\u589e\u5220\u5c5e\u6027\u3001\u4fee\u6539\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u5c5e\u6027\u8bbe\u7f6e\u3001\u4fee\u6539 TTL \uff08Time-To-Live\uff09\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c ALTER TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8981\u4fee\u6539\u7684\u5c5e\u6027\u4e0d\u5305\u542b\u7d22\u5f15\uff0c\u5426\u5219 ALTER TAG \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002 \u8bed\u6cd5 \u00b6 ALTER TAG <tag_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ]; alter_definition: | ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition: TTL_DURATION = ttl_duration, TTL_COL = prop_name tag_name \uff1a\u6307\u5b9a\u8981\u4fee\u6539\u7684\u6807\u7b7e\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002\u8bf7\u786e\u4fdd\u8981\u4fee\u6539\u7684\u6807\u7b7e\u5728\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u53ef\u4ee5\u5728\u4e00\u4e2a ALTER TAG \u8bed\u53e5\u4e2d\u4f7f\u7528\u591a\u4e2a ADD \u3001 DROP \u548c CHANGE \u5b50\u53e5\uff0c\u5b50\u53e5\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG t1 (p1 string, p2 int); nebula> ALTER TAG t1 ADD (p3 int, p4 string); nebula> ALTER TAG t1 TTL_DURATION = 2, TTL_COL = \"p2\"; \u4fee\u6539\u6807\u7b7e\u8bf4\u660e \u00b6 \u5c1d\u8bd5\u4f7f\u7528\u521a\u4fee\u6539\u7684\u6807\u7b7e\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u4fee\u6539\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u6807\u7b7e\u7684\u4fee\u6539\uff0c\u4e3a\u4e86\u786e\u4fdd\u4fee\u6539\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 DESCRIBE TAG \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u770b\u6807\u7b7e\u4fe1\u606f\uff0c\u786e\u8ba4\u4fee\u6539\u6210\u529f\u3002\u5982\u679c\u6ca1\u6709\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"ALTER TAG"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/#alter_tag","text":"ALTER TAG \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u6807\u7b7e\u7684\u7ed3\u6784\u3002\u4f8b\u5982\u589e\u5220\u5c5e\u6027\u3001\u4fee\u6539\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u5c5e\u6027\u8bbe\u7f6e\u3001\u4fee\u6539 TTL \uff08Time-To-Live\uff09\u3002","title":"ALTER TAG"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c ALTER TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8981\u4fee\u6539\u7684\u5c5e\u6027\u4e0d\u5305\u542b\u7d22\u5f15\uff0c\u5426\u5219 ALTER TAG \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/#_2","text":"ALTER TAG <tag_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ]; alter_definition: | ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition: TTL_DURATION = ttl_duration, TTL_COL = prop_name tag_name \uff1a\u6307\u5b9a\u8981\u4fee\u6539\u7684\u6807\u7b7e\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002\u8bf7\u786e\u4fdd\u8981\u4fee\u6539\u7684\u6807\u7b7e\u5728\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u53ef\u4ee5\u5728\u4e00\u4e2a ALTER TAG \u8bed\u53e5\u4e2d\u4f7f\u7528\u591a\u4e2a ADD \u3001 DROP \u548c CHANGE \u5b50\u53e5\uff0c\u5b50\u53e5\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/#_3","text":"nebula> CREATE TAG t1 (p1 string, p2 int); nebula> ALTER TAG t1 ADD (p3 int, p4 string); nebula> ALTER TAG t1 TTL_DURATION = 2, TTL_COL = \"p2\";","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/10.tag-statements/3.alter-tag/#_4","text":"\u5c1d\u8bd5\u4f7f\u7528\u521a\u4fee\u6539\u7684\u6807\u7b7e\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u4fee\u6539\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u6807\u7b7e\u7684\u4fee\u6539\uff0c\u4e3a\u4e86\u786e\u4fdd\u4fee\u6539\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 DESCRIBE TAG \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u770b\u6807\u7b7e\u4fe1\u606f\uff0c\u786e\u8ba4\u4fee\u6539\u6210\u529f\u3002\u5982\u679c\u6ca1\u6709\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"\u4fee\u6539\u6807\u7b7e\u8bf4\u660e"},{"location":"3.ngql-guide/10.tag-statements/4.show-tags/","text":"SHOW TAGS \u00b6 SHOW TAGS \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u540d\u79f0\u3002 \u6267\u884c SHOW TAGS \u8bed\u53e5\u4e0d\u9700\u8981\u4efb\u4f55\u6743\u9650\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u7531\u60a8\u767b\u5f55\u7684\u7528\u6237 \u6743\u9650 \u51b3\u5b9a\u3002 \u8bed\u6cd5 \u00b6 SHOW TAGS; \u793a\u4f8b \u00b6 nebula> SHOW TAGS; +----------+ | Name | +----------+ | \"player\" | +----------+ | \"team\" | +----------+","title":"SHOW TAGS"},{"location":"3.ngql-guide/10.tag-statements/4.show-tags/#show_tags","text":"SHOW TAGS \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u540d\u79f0\u3002 \u6267\u884c SHOW TAGS \u8bed\u53e5\u4e0d\u9700\u8981\u4efb\u4f55\u6743\u9650\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u7531\u60a8\u767b\u5f55\u7684\u7528\u6237 \u6743\u9650 \u51b3\u5b9a\u3002","title":"SHOW TAGS"},{"location":"3.ngql-guide/10.tag-statements/4.show-tags/#_1","text":"SHOW TAGS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/10.tag-statements/4.show-tags/#_2","text":"nebula> SHOW TAGS; +----------+ | Name | +----------+ | \"player\" | +----------+ | \"team\" | +----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/10.tag-statements/5.describe-tag/","text":"DESCRIBE TAG \u00b6 DESCRIBE TAG \u663e\u793a\u6307\u5b9a\u6807\u7b7e\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5b57\u6bb5\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u7b49\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DESCRIBE TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 \u00b6 DESC[RIBE] TAG <tag_name>; DESCRIBE \u53ef\u4ee5\u7f29\u5199\u4e3a DESC \u3002 \u793a\u4f8b \u00b6 nebula> DESCRIBE TAG player; +--------+----------+-------+-----------+ | Field | Type | Null | Default | +--------+----------+-------+-----------+ | \"name\" | \"string\" | \"YES\" | __EMPTY__ | +--------+----------+-------+-----------+ | \"age\" | \"int64\" | \"YES\" | __EMPTY__ | +--------+----------+-------+-----------+","title":"DESCRIBE TAG"},{"location":"3.ngql-guide/10.tag-statements/5.describe-tag/#describe_tag","text":"DESCRIBE TAG \u663e\u793a\u6307\u5b9a\u6807\u7b7e\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5b57\u6bb5\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u7b49\u3002","title":"DESCRIBE TAG"},{"location":"3.ngql-guide/10.tag-statements/5.describe-tag/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DESCRIBE TAG \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/10.tag-statements/5.describe-tag/#_2","text":"DESC[RIBE] TAG <tag_name>; DESCRIBE \u53ef\u4ee5\u7f29\u5199\u4e3a DESC \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/10.tag-statements/5.describe-tag/#_3","text":"nebula> DESCRIBE TAG player; +--------+----------+-------+-----------+ | Field | Type | Null | Default | +--------+----------+-------+-----------+ | \"name\" | \"string\" | \"YES\" | __EMPTY__ | +--------+----------+-------+-----------+ | \"age\" | \"int64\" | \"YES\" | __EMPTY__ | +--------+----------+-------+-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/","text":"CREATE EDGE \u00b6 CREATE EDGE \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 nGQL\u4e2d\u7684\u8fb9\u7c7b\u578b\u548copenCypher\u4e2d\u7684\u5173\u7cfb\u7c7b\u578b\u76f8\u4f3c\uff0c\u4f46\u53c8\u6709\u6240\u4e0d\u540c\uff0c\u4f8b\u5982\u5b83\u4eec\u7684\u521b\u5efa\u65b9\u5f0f\u3002 openCypher\u4e2d\u7684\u5173\u7cfb\u7c7b\u578b\u9700\u8981\u5728 CREATE \u8bed\u53e5\u4e2d\u4e0e\u70b9\u4e00\u8d77\u521b\u5efa\u3002 nGQL\u4e2d\u7684\u8fb9\u7c7b\u578b\u9700\u8981\u4f7f\u7528 CREATE EDGE \u8bed\u53e5\u72ec\u7acb\u521b\u5efa\u3002\u8fb9\u7c7b\u578b\u66f4\u50cf\u662fMySQL\u4e2d\u7684\u8868\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u6267\u884c CREATE EDGE \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u521b\u5efa\u8fb9\u7c7b\u578b\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8bed\u6cd5 \u00b6 \u521b\u5efa\u8fb9\u7c7b\u578b\u524d\uff0c\u9700\u8981\u5148\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5de5\u4f5c\u7a7a\u95f4\u3002 CREATE EDGE [IF NOT EXISTS] <edge_type_name> ([<create_definition>, ...]) [edge_type_options]; <create_definition> ::= <prop_name> <data_type> <edge_type_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value> \u8fb9\u7c7b\u578b\u540d\u79f0 \u00b6 IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u8fb9\u7c7b\u578b\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u8fb9\u7c7b\u578b\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002 - edge_type_name \uff1a\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u5185\u7684\u8fb9\u7c7b\u578b\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u8fb9\u7c7b\u578b\u540d\u79f0\u8bbe\u7f6e\u540e\u65e0\u6cd5\u4fee\u6539\u3002\u5141\u8bb8\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u89c4\u5219\u4e0e\u56fe\u7a7a\u95f4\u540d\u79f0\u89c4\u5219\u76f8\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u3002 \u8fb9\u7c7b\u578b\u5c5e\u6027 \u00b6 prop_name \u5c5e\u6027\u540d\u79f0\u3002\u6bcf\u4e2a\u8fb9\u7c7b\u578b\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u552f\u4e00\u3002 data_type \u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u6570\u636e\u7c7b\u578b\u7684\u5b8c\u6574\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u6570\u503c\u7c7b\u578b \u3001 \u5e03\u5c14 \u7b49\u6587\u6863\u3002 NULL | NOT NULL \u6307\u5b9a\u5c5e\u6027\u503c\u662f\u5426\u652f\u6301\u4e3a NULL \u3002\u9ed8\u8ba4\u503c\u4e3a NULL \u3002 DEFAULT \u6307\u5b9a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u5b57\u503c\u6216Nebula Graph\u652f\u6301\u7684\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u63d2\u5165\u8fb9\u65f6\u6ca1\u6709\u6307\u5b9a\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002 TTL\uff08Time-To-Live\uff09 \u00b6 TTL_DURATION \u6307\u5b9a\u5c5e\u6027\u5b58\u6d3b\u65f6\u95f4\u3002\u8d85\u65f6\u7684\u5c5e\u6027\u5c06\u4f1a\u8fc7\u671f\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002 TTL_COL \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 \u4e00\u4e2a\u8fb9\u7c7b\u578b\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u5b57\u6bb5\u4e3a TTL_COL \u3002\u66f4\u591aTTL\u7684\u4fe1\u606f\u8bf7\u53c2\u89c1 TTL \u3002 \u793a\u4f8b \u00b6 nebula> CREATE EDGE follow(degree int); # \u521b\u5efa\u6ca1\u6709\u5c5e\u6027\u7684\u8fb9\u7c7b\u578b\u3002 nebula> CREATE EDGE no_property(); # \u521b\u5efa\u5305\u542b\u9ed8\u8ba4\u503c\u7684\u8fb9\u7c7b\u578b\u3002 nebula> CREATE EDGE follow_with_default(degree int DEFAULT 20); # \u5bf9\u5b57\u6bb5p2\u8bbe\u7f6eTTL\u4e3a100\u79d2\u3002 nebula> CREATE EDGE e1(p1 string, p2 int, p3 timestamp) \\ TTL_DURATION = 100, TTL_COL = \"p2\";","title":"CREATE EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#create_edge","text":"CREATE EDGE \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002","title":"CREATE EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#opencypher","text":"nGQL\u4e2d\u7684\u8fb9\u7c7b\u578b\u548copenCypher\u4e2d\u7684\u5173\u7cfb\u7c7b\u578b\u76f8\u4f3c\uff0c\u4f46\u53c8\u6709\u6240\u4e0d\u540c\uff0c\u4f8b\u5982\u5b83\u4eec\u7684\u521b\u5efa\u65b9\u5f0f\u3002 openCypher\u4e2d\u7684\u5173\u7cfb\u7c7b\u578b\u9700\u8981\u5728 CREATE \u8bed\u53e5\u4e2d\u4e0e\u70b9\u4e00\u8d77\u521b\u5efa\u3002 nGQL\u4e2d\u7684\u8fb9\u7c7b\u578b\u9700\u8981\u4f7f\u7528 CREATE EDGE \u8bed\u53e5\u72ec\u7acb\u521b\u5efa\u3002\u8fb9\u7c7b\u578b\u66f4\u50cf\u662fMySQL\u4e2d\u7684\u8868\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#_1","text":"\u6267\u884c CREATE EDGE \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u521b\u5efa\u8fb9\u7c7b\u578b\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#_2","text":"\u521b\u5efa\u8fb9\u7c7b\u578b\u524d\uff0c\u9700\u8981\u5148\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5de5\u4f5c\u7a7a\u95f4\u3002 CREATE EDGE [IF NOT EXISTS] <edge_type_name> ([<create_definition>, ...]) [edge_type_options]; <create_definition> ::= <prop_name> <data_type> <edge_type_options> ::= <option> [, <option> ...] <option> ::= TTL_DURATION [=] <ttl_duration> | TTL_COL [=] <prop_name> | DEFAULT <default_value>","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#_3","text":"IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u8fb9\u7c7b\u578b\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u8fb9\u7c7b\u578b\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002 - edge_type_name \uff1a\u6bcf\u4e2a\u56fe\u7a7a\u95f4\u5185\u7684\u8fb9\u7c7b\u578b\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u8fb9\u7c7b\u578b\u540d\u79f0\u8bbe\u7f6e\u540e\u65e0\u6cd5\u4fee\u6539\u3002\u5141\u8bb8\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u89c4\u5219\u4e0e\u56fe\u7a7a\u95f4\u540d\u79f0\u89c4\u5219\u76f8\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57 \u3002","title":"\u8fb9\u7c7b\u578b\u540d\u79f0"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#_4","text":"prop_name \u5c5e\u6027\u540d\u79f0\u3002\u6bcf\u4e2a\u8fb9\u7c7b\u578b\u4e2d\u7684\u5c5e\u6027\u540d\u79f0\u5fc5\u987b\u552f\u4e00\u3002 data_type \u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u3002\u6570\u636e\u7c7b\u578b\u7684\u5b8c\u6574\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u6570\u503c\u7c7b\u578b \u3001 \u5e03\u5c14 \u7b49\u6587\u6863\u3002 NULL | NOT NULL \u6307\u5b9a\u5c5e\u6027\u503c\u662f\u5426\u652f\u6301\u4e3a NULL \u3002\u9ed8\u8ba4\u503c\u4e3a NULL \u3002 DEFAULT \u6307\u5b9a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u5b57\u503c\u6216Nebula Graph\u652f\u6301\u7684\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u63d2\u5165\u8fb9\u65f6\u6ca1\u6709\u6307\u5b9a\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002","title":"\u8fb9\u7c7b\u578b\u5c5e\u6027"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#ttltime-to-live","text":"TTL_DURATION \u6307\u5b9a\u5c5e\u6027\u5b58\u6d3b\u65f6\u95f4\u3002\u8d85\u65f6\u7684\u5c5e\u6027\u5c06\u4f1a\u8fc7\u671f\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002 TTL_COL \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 \u4e00\u4e2a\u8fb9\u7c7b\u578b\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u5b57\u6bb5\u4e3a TTL_COL \u3002\u66f4\u591aTTL\u7684\u4fe1\u606f\u8bf7\u53c2\u89c1 TTL \u3002","title":"TTL\uff08Time-To-Live\uff09"},{"location":"3.ngql-guide/11.edge-type-statements/1.create-edge/#_5","text":"nebula> CREATE EDGE follow(degree int); # \u521b\u5efa\u6ca1\u6709\u5c5e\u6027\u7684\u8fb9\u7c7b\u578b\u3002 nebula> CREATE EDGE no_property(); # \u521b\u5efa\u5305\u542b\u9ed8\u8ba4\u503c\u7684\u8fb9\u7c7b\u578b\u3002 nebula> CREATE EDGE follow_with_default(degree int DEFAULT 20); # \u5bf9\u5b57\u6bb5p2\u8bbe\u7f6eTTL\u4e3a100\u79d2\u3002 nebula> CREATE EDGE e1(p1 string, p2 int, p3 timestamp) \\ TTL_DURATION = 100, TTL_COL = \"p2\";","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/11.edge-type-statements/2.drop-edge/","text":"DROP EDGE \u00b6 DROP EDGE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u5185\u7684\u6307\u5b9a\u8fb9\u7c7b\u578b\u3002 \u4e00\u4e2a\u8fb9\u53ea\u80fd\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\uff0c\u5220\u9664\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u540e\uff0c\u60a8\u5c31 \u65e0\u6cd5\u8bbf\u95ee \u8fd9\u4e2a\u8fb9\uff0c\u4e0b\u6b21Compaction\u64cd\u4f5c\u65f6\u4f1a\u5220\u9664\u8be5\u8fb9\u3002 \u5220\u9664\u8fb9\u7c7b\u578b\u64cd\u4f5c\u4ec5\u5220\u9664Schema\u6570\u636e\uff0c\u786c\u76d8\u4e0a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\uff0c\u800c\u662f\u5728\u4e0b\u4e00\u6b21Compaction\u64cd\u4f5c\u65f6\u5220\u9664\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DROP EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8fb9\u7c7b\u578b\u4e0d\u5305\u542b\u4efb\u4f55\u7d22\u5f15\uff0c\u5426\u5219 DROP EDGE \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002 \u8bed\u6cd5 \u00b6 DROP EDGE [IF EXISTS] <edge_type_name> IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u8fb9\u7c7b\u578b\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u8fb9\u7c7b\u578b\u3002 edge_type_name \uff1a\u6307\u5b9a\u8981\u5220\u9664\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u5220\u9664\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u793a\u4f8b \u00b6 nebula> CREATE EDGE e1(p1 string, p2 int); nebula> DROP EDGE e1;","title":"DROP EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/2.drop-edge/#drop_edge","text":"DROP EDGE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u5185\u7684\u6307\u5b9a\u8fb9\u7c7b\u578b\u3002 \u4e00\u4e2a\u8fb9\u53ea\u80fd\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\uff0c\u5220\u9664\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u540e\uff0c\u60a8\u5c31 \u65e0\u6cd5\u8bbf\u95ee \u8fd9\u4e2a\u8fb9\uff0c\u4e0b\u6b21Compaction\u64cd\u4f5c\u65f6\u4f1a\u5220\u9664\u8be5\u8fb9\u3002 \u5220\u9664\u8fb9\u7c7b\u578b\u64cd\u4f5c\u4ec5\u5220\u9664Schema\u6570\u636e\uff0c\u786c\u76d8\u4e0a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\uff0c\u800c\u662f\u5728\u4e0b\u4e00\u6b21Compaction\u64cd\u4f5c\u65f6\u5220\u9664\u3002","title":"DROP EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/2.drop-edge/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DROP EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8fb9\u7c7b\u578b\u4e0d\u5305\u542b\u4efb\u4f55\u7d22\u5f15\uff0c\u5426\u5219 DROP EDGE \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/11.edge-type-statements/2.drop-edge/#_2","text":"DROP EDGE [IF EXISTS] <edge_type_name> IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u8fb9\u7c7b\u578b\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u8fb9\u7c7b\u578b\u3002 edge_type_name \uff1a\u6307\u5b9a\u8981\u5220\u9664\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u5220\u9664\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/11.edge-type-statements/2.drop-edge/#_3","text":"nebula> CREATE EDGE e1(p1 string, p2 int); nebula> DROP EDGE e1;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/","text":"ALTER EDGE \u00b6 ALTER EDGE \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u3002\u4f8b\u5982\u589e\u5220\u5c5e\u6027\u3001\u4fee\u6539\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u5c5e\u6027\u8bbe\u7f6e\u3001\u4fee\u6539 TTL \uff08Time-To-Live\uff09\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c ALTER EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8981\u4fee\u6539\u7684\u5c5e\u6027\u4e0d\u5305\u542b\u7d22\u5f15\uff0c\u5426\u5219 ALTER EDGE \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002 \u8bed\u6cd5 \u00b6 ALTER EDGE <edge_type_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] alter_definition: | ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition: TTL_DURATION = ttl_duration, TTL_COL = prop_name edge_type_name \uff1a\u6307\u5b9a\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002\u8bf7\u786e\u4fdd\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u5728\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u53ef\u4ee5\u5728\u4e00\u4e2a ALTER EDGE \u8bed\u53e5\u4e2d\u4f7f\u7528\u591a\u4e2a ADD \u3001 DROP \u548c CHANGE \u5b50\u53e5\uff0c\u5b50\u53e5\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 \u793a\u4f8b \u00b6 nebula> CREATE EDGE e1(p1 string, p2 int); nebula> ALTER EDGE e1 ADD (p3 int, p4 string); nebula> ALTER EDGE e1 TTL_DURATION = 2, TTL_COL = \"p2\"; \u4fee\u6539\u8fb9\u7c7b\u578b\u8bf4\u660e \u00b6 \u5c1d\u8bd5\u4f7f\u7528\u521a\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u4fee\u6539\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u8fb9\u7c7b\u578b\u7684\u4fee\u6539\uff0c\u4e3a\u4e86\u786e\u4fdd\u4fee\u6539\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 DESCRIBE EDGE \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u770b\u8fb9\u7c7b\u578b\u4fe1\u606f\uff0c\u786e\u8ba4\u4fee\u6539\u6210\u529f\u3002\u5982\u679c\u6ca1\u6709\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"ALTER EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/#alter_edge","text":"ALTER EDGE \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u3002\u4f8b\u5982\u589e\u5220\u5c5e\u6027\u3001\u4fee\u6539\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u5c5e\u6027\u8bbe\u7f6e\u3001\u4fee\u6539 TTL \uff08Time-To-Live\uff09\u3002","title":"ALTER EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c ALTER EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u786e\u4fdd\u8981\u4fee\u6539\u7684\u5c5e\u6027\u4e0d\u5305\u542b\u7d22\u5f15\uff0c\u5426\u5219 ALTER EDGE \u65f6\u4f1a\u62a5\u51b2\u7a81\u9519\u8bef [ERROR (-8)]: Conflict! \u3002\u5220\u9664\u7d22\u5f15\u8bf7\u53c2\u89c1 drop index \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/#_2","text":"ALTER EDGE <edge_type_name> <alter_definition> [, alter_definition] ...] [ttl_definition [, ttl_definition] ... ] alter_definition: | ADD (prop_name data_type) | DROP (prop_name) | CHANGE (prop_name data_type) ttl_definition: TTL_DURATION = ttl_duration, TTL_COL = prop_name edge_type_name \uff1a\u6307\u5b9a\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002\u8bf7\u786e\u4fdd\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u5728\u5f53\u524d\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5b58\u5728\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u53ef\u4ee5\u5728\u4e00\u4e2a ALTER EDGE \u8bed\u53e5\u4e2d\u4f7f\u7528\u591a\u4e2a ADD \u3001 DROP \u548c CHANGE \u5b50\u53e5\uff0c\u5b50\u53e5\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/#_3","text":"nebula> CREATE EDGE e1(p1 string, p2 int); nebula> ALTER EDGE e1 ADD (p3 int, p4 string); nebula> ALTER EDGE e1 TTL_DURATION = 2, TTL_COL = \"p2\";","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/11.edge-type-statements/3.alter-edge/#_4","text":"\u5c1d\u8bd5\u4f7f\u7528\u521a\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u4fee\u6539\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u8fb9\u7c7b\u578b\u7684\u4fee\u6539\uff0c\u4e3a\u4e86\u786e\u4fdd\u4fee\u6539\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 DESCRIBE EDGE \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u770b\u8fb9\u7c7b\u578b\u4fe1\u606f\uff0c\u786e\u8ba4\u4fee\u6539\u6210\u529f\u3002\u5982\u679c\u6ca1\u6709\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"\u4fee\u6539\u8fb9\u7c7b\u578b\u8bf4\u660e"},{"location":"3.ngql-guide/11.edge-type-statements/4.show-edges/","text":"SHOW EDGES \u00b6 SHOW EDGES \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 \u6267\u884c SHOW EDGES \u8bed\u53e5\u4e0d\u9700\u8981\u4efb\u4f55\u6743\u9650\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u7531\u60a8\u767b\u5f55\u7684\u7528\u6237 \u6743\u9650 \u51b3\u5b9a\u3002 \u8bed\u6cd5 \u00b6 SHOW EDGES; \u793a\u4f8b \u00b6 nebula> SHOW EDGES; +----------+ | Name | +----------+ | \"follow\" | +----------+ | \"serve\" | +----------+","title":"SHOW EDGES"},{"location":"3.ngql-guide/11.edge-type-statements/4.show-edges/#show_edges","text":"SHOW EDGES \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 \u6267\u884c SHOW EDGES \u8bed\u53e5\u4e0d\u9700\u8981\u4efb\u4f55\u6743\u9650\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u7531\u60a8\u767b\u5f55\u7684\u7528\u6237 \u6743\u9650 \u51b3\u5b9a\u3002","title":"SHOW EDGES"},{"location":"3.ngql-guide/11.edge-type-statements/4.show-edges/#_1","text":"SHOW EDGES;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/11.edge-type-statements/4.show-edges/#_2","text":"nebula> SHOW EDGES; +----------+ | Name | +----------+ | \"follow\" | +----------+ | \"serve\" | +----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/11.edge-type-statements/5.describe-edge/","text":"DESCRIBE EDGE \u00b6 DESCRIBE EDGE \u663e\u793a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5b57\u6bb5\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u7b49\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DESCRIBE EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 \u00b6 DESC[RIBE] EDGE <edge_type_name> DESCRIBE \u53ef\u4ee5\u7f29\u5199\u4e3a DESC \u3002 \u793a\u4f8b \u00b6 nebula> DESCRIBE EDGE follow; +----------+---------+-------+-----------+ | Field | Type | Null | Default | +----------+---------+-------+-----------+ | \"degree\" | \"int64\" | \"YES\" | __EMPTY__ | +----------+---------+-------+-----------+","title":"DESCRIBE EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/5.describe-edge/#describe_edge","text":"DESCRIBE EDGE \u663e\u793a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5b57\u6bb5\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u7b49\u3002","title":"DESCRIBE EDGE"},{"location":"3.ngql-guide/11.edge-type-statements/5.describe-edge/#_1","text":"\u60a8\u767b\u5f55\u7684\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5bf9\u5e94\u6743\u9650\u624d\u80fd\u6267\u884c DESCRIBE EDGE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/11.edge-type-statements/5.describe-edge/#_2","text":"DESC[RIBE] EDGE <edge_type_name> DESCRIBE \u53ef\u4ee5\u7f29\u5199\u4e3a DESC \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/11.edge-type-statements/5.describe-edge/#_3","text":"nebula> DESCRIBE EDGE follow; +----------+---------+-------+-----------+ | Field | Type | Null | Default | +----------+---------+-------+-----------+ | \"degree\" | \"int64\" | \"YES\" | __EMPTY__ | +----------+---------+-------+-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/12.vertex-statements/1.insert-vertex/","text":"INSERT VERTEX \u00b6 INSERT VERTEX \u8bed\u53e5\u53ef\u4ee5\u5728Nebula Graph\u5b9e\u4f8b\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u3002 \u63d2\u5165\u4e00\u4e2aVID\u5df2\u5b58\u5728\u7684\u70b9\u65f6\uff0c INSERT VERTEX \u5c06\u8986\u76d6\u539f\u6709\u7684\u70b9\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u6267\u884c INSERT VERTEX \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u63d2\u5165\u70b9\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8bed\u6cd5 \u00b6 INSERT VERTEX <tag_name> (<prop_name_list>) [, <tag_name> (<prop_name_list>), ...] {VALUES | VALUE} VID: (<prop_value_list>[, <prop_value_list>]) prop_name_list: [prop_name [, prop_name] ...] prop_value_list: [prop_value [, prop_value] ...] tag_name \uff1a\u70b9\u5173\u8054\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u6807\u7b7e\u5fc5\u987b\u63d0\u524d\u521b\u5efa\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u3002 prop_name_list \uff1a\u9700\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u540d\u79f0\u5217\u8868\u3002 VID \uff1a\u70b9ID\u3002\u5728Nebula Graph 2.0\u4e2d\u652f\u6301\u5b57\u7b26\u4e32\u548c\u6574\u6570\uff0c\u9700\u8981\u5728\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE SPACE \u3002 prop_value_list \uff1a\u6839\u636e prop_name_list \u586b\u5199\u5c5e\u6027\u503c\u3002\u5982\u679c\u5c5e\u6027\u503c\u548c\u6807\u7b7e\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u5982\u679c\u6ca1\u6709\u586b\u5199\u5c5e\u6027\u503c\uff0c\u800c\u6807\u7b7e\u4e2d\u5bf9\u5e94\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a NOT NULL \uff0c\u4e5f\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u3002 \u793a\u4f8b \u00b6 # \u63d2\u5165\u4e0d\u5305\u542b\u5c5e\u6027\u7684\u70b9\u3002 nebula> CREATE TAG t1(); nebula> INSERT VERTEX t1() VALUE \"10\":(); nebula> CREATE TAG t2 (name string, age int); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n1\", 12); # \u521b\u5efa\u5931\u8d25\uff0c\u56e0\u4e3a\"a13\"\u4e0d\u662fint\u7c7b\u578b\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"12\":(\"n1\", \"a13\"); # \u4e00\u6b21\u63d2\u51652\u4e2a\u70b9\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"13\":(\"n3\", 12), \"14\":(\"n4\", 8); nebula> CREATE TAG t3(p1 int); nebula> CREATE TAG t4(p2 string); # \u4e00\u6b21\u63d2\u5165\u4e24\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5230\u540c\u4e00\u4e2a\u70b9\u3002 nebula> INSERT VERTEX t3 (p1), t4(p2) VALUES \"21\": (321, \"hello\"); \u4e00\u4e2a\u70b9\u53ef\u4ee5\u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\uff0c\u4ee5\u6700\u540e\u4e00\u6b21\u4e3a\u51c6\u3002 # \u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n2\", 13); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n3\", 14); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n4\", 15); nebula> FETCH PROP ON t2 \"11\"; +---------------------------------+ | vertices_ | +---------------------------------+ | (\"11\" :t2{age: 15, name: \"n4\"}) | +---------------------------------+ nebula> CREATE TAG t5(p1 fixed_string(5) NOT NULL, p2 int, p3 int DEFAULT NULL); nebula> INSERT VERTEX t5(p1, p2, p3) VALUES \"001\":(\"Abe\", 2, 3); # \u63d2\u5165\u5931\u8d25\uff0c\u56e0\u4e3a\u5c5e\u6027p1\u4e0d\u80fd\u4e3aNULL\u3002 nebula> INSERT VERTEX t5(p1, p2, p3) VALUES \"002\":(NULL, 4, 5); [ERROR (-8)]: Storage Error: The not null field cannot be null. # \u5c5e\u6027p3\u4e3a\u9ed8\u8ba4\u503cNULL\u3002 nebula> INSERT VERTEX t5(p1, p2) VALUES \"003\":(\"cd\", 5); nebula> FETCH PROP ON t5 \"003\"; +--------------------------------------------+ | vertices_ | +--------------------------------------------+ | (\"003\" :t5{p1: \"cd\", p2: 5, p3: __NULL__}) | +--------------------------------------------+ # \u5c5e\u6027p1\u6700\u5927\u957f\u5ea6\u4e3a5\uff0c\u56e0\u6b64\u4f1a\u88ab\u622a\u65ad\u3002 nebula> INSERT VERTEX t5(p1, p2) VALUES \"004\":(\"shalalalala\", 4); nebula> FETCH PROP on t5 \"004\"; +-----------------------------------------------+ | vertices_ | +-----------------------------------------------+ | (\"004\" :t5{p1: \"shala\", p2: 4, p3: __NULL__}) | +-----------------------------------------------+","title":"INSERT VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/1.insert-vertex/#insert_vertex","text":"INSERT VERTEX \u8bed\u53e5\u53ef\u4ee5\u5728Nebula Graph\u5b9e\u4f8b\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u3002 \u63d2\u5165\u4e00\u4e2aVID\u5df2\u5b58\u5728\u7684\u70b9\u65f6\uff0c INSERT VERTEX \u5c06\u8986\u76d6\u539f\u6709\u7684\u70b9\u3002","title":"INSERT VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/1.insert-vertex/#_1","text":"\u6267\u884c INSERT VERTEX \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u63d2\u5165\u70b9\u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/12.vertex-statements/1.insert-vertex/#_2","text":"INSERT VERTEX <tag_name> (<prop_name_list>) [, <tag_name> (<prop_name_list>), ...] {VALUES | VALUE} VID: (<prop_value_list>[, <prop_value_list>]) prop_name_list: [prop_name [, prop_name] ...] prop_value_list: [prop_value [, prop_value] ...] tag_name \uff1a\u70b9\u5173\u8054\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u6807\u7b7e\u5fc5\u987b\u63d0\u524d\u521b\u5efa\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u3002 prop_name_list \uff1a\u9700\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u540d\u79f0\u5217\u8868\u3002 VID \uff1a\u70b9ID\u3002\u5728Nebula Graph 2.0\u4e2d\u652f\u6301\u5b57\u7b26\u4e32\u548c\u6574\u6570\uff0c\u9700\u8981\u5728\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE SPACE \u3002 prop_value_list \uff1a\u6839\u636e prop_name_list \u586b\u5199\u5c5e\u6027\u503c\u3002\u5982\u679c\u5c5e\u6027\u503c\u548c\u6807\u7b7e\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u5982\u679c\u6ca1\u6709\u586b\u5199\u5c5e\u6027\u503c\uff0c\u800c\u6807\u7b7e\u4e2d\u5bf9\u5e94\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a NOT NULL \uff0c\u4e5f\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/12.vertex-statements/1.insert-vertex/#_3","text":"# \u63d2\u5165\u4e0d\u5305\u542b\u5c5e\u6027\u7684\u70b9\u3002 nebula> CREATE TAG t1(); nebula> INSERT VERTEX t1() VALUE \"10\":(); nebula> CREATE TAG t2 (name string, age int); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n1\", 12); # \u521b\u5efa\u5931\u8d25\uff0c\u56e0\u4e3a\"a13\"\u4e0d\u662fint\u7c7b\u578b\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"12\":(\"n1\", \"a13\"); # \u4e00\u6b21\u63d2\u51652\u4e2a\u70b9\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"13\":(\"n3\", 12), \"14\":(\"n4\", 8); nebula> CREATE TAG t3(p1 int); nebula> CREATE TAG t4(p2 string); # \u4e00\u6b21\u63d2\u5165\u4e24\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5230\u540c\u4e00\u4e2a\u70b9\u3002 nebula> INSERT VERTEX t3 (p1), t4(p2) VALUES \"21\": (321, \"hello\"); \u4e00\u4e2a\u70b9\u53ef\u4ee5\u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\uff0c\u4ee5\u6700\u540e\u4e00\u6b21\u4e3a\u51c6\u3002 # \u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\u3002 nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n2\", 13); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n3\", 14); nebula> INSERT VERTEX t2 (name, age) VALUES \"11\":(\"n4\", 15); nebula> FETCH PROP ON t2 \"11\"; +---------------------------------+ | vertices_ | +---------------------------------+ | (\"11\" :t2{age: 15, name: \"n4\"}) | +---------------------------------+ nebula> CREATE TAG t5(p1 fixed_string(5) NOT NULL, p2 int, p3 int DEFAULT NULL); nebula> INSERT VERTEX t5(p1, p2, p3) VALUES \"001\":(\"Abe\", 2, 3); # \u63d2\u5165\u5931\u8d25\uff0c\u56e0\u4e3a\u5c5e\u6027p1\u4e0d\u80fd\u4e3aNULL\u3002 nebula> INSERT VERTEX t5(p1, p2, p3) VALUES \"002\":(NULL, 4, 5); [ERROR (-8)]: Storage Error: The not null field cannot be null. # \u5c5e\u6027p3\u4e3a\u9ed8\u8ba4\u503cNULL\u3002 nebula> INSERT VERTEX t5(p1, p2) VALUES \"003\":(\"cd\", 5); nebula> FETCH PROP ON t5 \"003\"; +--------------------------------------------+ | vertices_ | +--------------------------------------------+ | (\"003\" :t5{p1: \"cd\", p2: 5, p3: __NULL__}) | +--------------------------------------------+ # \u5c5e\u6027p1\u6700\u5927\u957f\u5ea6\u4e3a5\uff0c\u56e0\u6b64\u4f1a\u88ab\u622a\u65ad\u3002 nebula> INSERT VERTEX t5(p1, p2) VALUES \"004\":(\"shalalalala\", 4); nebula> FETCH PROP on t5 \"004\"; +-----------------------------------------------+ | vertices_ | +-----------------------------------------------+ | (\"004\" :t5{p1: \"shala\", p2: 4, p3: __NULL__}) | +-----------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/12.vertex-statements/2.update-vertex/","text":"UPDATE VERTEX \u00b6 UPDATE VERTEX \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u70b9\u4e0a\u6807\u7b7e\u7684\u5c5e\u6027\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002 Nebula Graph\u652f\u6301CAS\uff08compare and set\uff09\u64cd\u4f5c\u3002 \u8bed\u6cd5 \u00b6 UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>]; vid \uff1a\u9700\u8981\u4fee\u6539\u7684\u70b9ID\u3002 update_columns \uff1a\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u5c06 tag1.col1 \u4fee\u6539\u4e3a tag2.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981\u66f4\u65b0\u7684\u70b9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u4fee\u6539\u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002 \u793a\u4f8b \u00b6 nebula> UPDATE VERTEX \"player100\" \\ SET player.age = $^.player.age + 1 \\ WHEN $^.player.name == \"Tim Duncan\" \\ YIELD $^.player.name AS name, $^.player.age AS age; +--------------+-----+ | name | age | +--------------+-----+ | \"Tim Duncan\" | 43 | +--------------+-----+","title":"UPDATE VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/2.update-vertex/#update_vertex","text":"UPDATE VERTEX \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u70b9\u4e0a\u6807\u7b7e\u7684\u5c5e\u6027\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002 Nebula Graph\u652f\u6301CAS\uff08compare and set\uff09\u64cd\u4f5c\u3002","title":"UPDATE VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/2.update-vertex/#_1","text":"UPDATE VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>]; vid \uff1a\u9700\u8981\u4fee\u6539\u7684\u70b9ID\u3002 update_columns \uff1a\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u5c06 tag1.col1 \u4fee\u6539\u4e3a tag2.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981\u66f4\u65b0\u7684\u70b9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u4fee\u6539\u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/12.vertex-statements/2.update-vertex/#_2","text":"nebula> UPDATE VERTEX \"player100\" \\ SET player.age = $^.player.age + 1 \\ WHEN $^.player.name == \"Tim Duncan\" \\ YIELD $^.player.name AS name, $^.player.age AS age; +--------------+-----+ | name | age | +--------------+-----+ | \"Tim Duncan\" | 43 | +--------------+-----+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/12.vertex-statements/3.upsert-vertex/","text":"UPSERT VERTEX \u00b6 UPSERT VERTEX \u8bed\u53e5\u7ed3\u5408 UPDATE \u548c INSERT \uff0c\u5982\u679c\u70b9\u5b58\u5728\uff0c\u4f1a\u66f4\u65b0\u70b9\u7684\u5c5e\u6027\uff1b\u5982\u679c\u70b9\u4e0d\u5b58\u5728\uff0c\u4f1a\u63d2\u5165\u65b0\u7684\u70b9\u3002 UPSERT VERTEX \u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002 UPSERT VERTEX \u6027\u80fd\u8fdc\u4f4e\u4e8e INSERT \uff0c\u56e0\u4e3a UPSERT \u662f\u4e00\u7ec4\u5206\u7247\u7ea7\u522b\u7684\u8bfb\u53d6\u3001\u4fee\u6539\u3001\u5199\u5165\u64cd\u4f5c\u3002 \u7981\u6b62 \uff1a\u7981\u6b62\u5728\u9ad8\u5e76\u53d1\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 UPSERT \u8bed\u53e5\u3002 \u8bed\u6cd5 \u00b6 UPSERT VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>]; vid \uff1a\u9700\u8981 UPSERT \u7684\u70b9ID\u3002 update_columns \uff1a\u9700\u8981 UPSERT \u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u5c06 tag1.col1 \u4fee\u6539\u4e3a tag2.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981 UPSERT \u7684\u70b9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c UPSERT \u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u5982\u679c\u70b9\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u8bba WHEN \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u70b9\u3002\u6ca1\u6709\u88ab SET \u8bed\u53e5\u6307\u5b9a\u7684\u5c5e\u6027\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u503c\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u70b9\u5b58\u5728\uff0c\u800c\u4e14\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4fee\u6539\u8fd9\u4e2a\u70b9\u7684\u5c5e\u6027\u3002 \u5982\u679c\u70b9\u5b58\u5728\uff0c\u4f46\u662f\u4e0d\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4e0d\u4f1a\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u3002 \u793a\u4f8b \u00b6 nebula> INSERT VERTEX player(name, age) VALUES \"player111\":(\"Ben Simmons\", 22); nebula> UPSERT VERTEX \"player111\" \\ SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 \\ WHEN $^.player.name == \"Ben Simmons\" \\ AND $^.player.age > 20 \\ YIELD $^.player.name AS Name, $^.player.age AS Age; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Dwight Howard\" | 33 | +-----------------+-----+ nebula> FETCH PROP ON * \"player123\"; Empty set (Time spent: 3.069/4.382 ms) nebula> UPSERT VERTEX \"player123\" SET player.age = $^.player.age + 1; \u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u70b9 player123 \u4e0d\u5b58\u5728\uff0c age \u7684\u9ed8\u8ba4\u503c\u4e3a NULL \uff0c\u5219 player123 \u7684 player.age \u4e3a NULL \uff1b\u5982\u679c age \u6709\u9ed8\u8ba4\u503c\uff0c\u5219 player.age \u4e3a \u9ed8\u8ba4\u503c+1 \u3002 # age\u9ed8\u8ba4\u503c\u4e3a0\u3002 nebula> CREATE TAG person(followers int, age int DEFAULT 0); # \u987a\u5e8f\u6267\u884c\uff0c\u5373followers\u4e3a1\uff080+1\uff09\uff0cage\u4e3a8\u3002 nebula> UPSERT VERTEX \"300\" SET person.followers = $^.person.age + 1, person.age = 8; # \u987a\u5e8f\u6267\u884c\uff0c\u5373age\u4e3a8\uff0cfollowers\u4e3a9\uff088+1\uff09\u3002 nebula> UPSERT VERTEX \"300\" SET person.age = 8, person.followers = $^.person.age + 1;","title":"UPSERT VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/3.upsert-vertex/#upsert_vertex","text":"UPSERT VERTEX \u8bed\u53e5\u7ed3\u5408 UPDATE \u548c INSERT \uff0c\u5982\u679c\u70b9\u5b58\u5728\uff0c\u4f1a\u66f4\u65b0\u70b9\u7684\u5c5e\u6027\uff1b\u5982\u679c\u70b9\u4e0d\u5b58\u5728\uff0c\u4f1a\u63d2\u5165\u65b0\u7684\u70b9\u3002 UPSERT VERTEX \u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u6807\u7b7e\u3002 UPSERT VERTEX \u6027\u80fd\u8fdc\u4f4e\u4e8e INSERT \uff0c\u56e0\u4e3a UPSERT \u662f\u4e00\u7ec4\u5206\u7247\u7ea7\u522b\u7684\u8bfb\u53d6\u3001\u4fee\u6539\u3001\u5199\u5165\u64cd\u4f5c\u3002 \u7981\u6b62 \uff1a\u7981\u6b62\u5728\u9ad8\u5e76\u53d1\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 UPSERT \u8bed\u53e5\u3002","title":"UPSERT VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/3.upsert-vertex/#_1","text":"UPSERT VERTEX <vid> SET <update_columns> [WHEN <condition>] [YIELD <columns>]; vid \uff1a\u9700\u8981 UPSERT \u7684\u70b9ID\u3002 update_columns \uff1a\u9700\u8981 UPSERT \u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 tag1.col1 = $^.tag2.col2 + 1 \u8868\u793a\u5c06 tag1.col1 \u4fee\u6539\u4e3a tag2.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981 UPSERT \u7684\u70b9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c UPSERT \u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/12.vertex-statements/3.upsert-vertex/#_2","text":"\u5982\u679c\u70b9\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u8bba WHEN \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u70b9\u3002\u6ca1\u6709\u88ab SET \u8bed\u53e5\u6307\u5b9a\u7684\u5c5e\u6027\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u503c\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u70b9\u5b58\u5728\uff0c\u800c\u4e14\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4fee\u6539\u8fd9\u4e2a\u70b9\u7684\u5c5e\u6027\u3002 \u5982\u679c\u70b9\u5b58\u5728\uff0c\u4f46\u662f\u4e0d\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4e0d\u4f1a\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"3.ngql-guide/12.vertex-statements/3.upsert-vertex/#_3","text":"nebula> INSERT VERTEX player(name, age) VALUES \"player111\":(\"Ben Simmons\", 22); nebula> UPSERT VERTEX \"player111\" \\ SET player.name = \"Dwight Howard\", player.age = $^.player.age + 11 \\ WHEN $^.player.name == \"Ben Simmons\" \\ AND $^.player.age > 20 \\ YIELD $^.player.name AS Name, $^.player.age AS Age; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Dwight Howard\" | 33 | +-----------------+-----+ nebula> FETCH PROP ON * \"player123\"; Empty set (Time spent: 3.069/4.382 ms) nebula> UPSERT VERTEX \"player123\" SET player.age = $^.player.age + 1; \u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u70b9 player123 \u4e0d\u5b58\u5728\uff0c age \u7684\u9ed8\u8ba4\u503c\u4e3a NULL \uff0c\u5219 player123 \u7684 player.age \u4e3a NULL \uff1b\u5982\u679c age \u6709\u9ed8\u8ba4\u503c\uff0c\u5219 player.age \u4e3a \u9ed8\u8ba4\u503c+1 \u3002 # age\u9ed8\u8ba4\u503c\u4e3a0\u3002 nebula> CREATE TAG person(followers int, age int DEFAULT 0); # \u987a\u5e8f\u6267\u884c\uff0c\u5373followers\u4e3a1\uff080+1\uff09\uff0cage\u4e3a8\u3002 nebula> UPSERT VERTEX \"300\" SET person.followers = $^.person.age + 1, person.age = 8; # \u987a\u5e8f\u6267\u884c\uff0c\u5373age\u4e3a8\uff0cfollowers\u4e3a9\uff088+1\uff09\u3002 nebula> UPSERT VERTEX \"300\" SET person.age = 8, person.followers = $^.person.age + 1;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/12.vertex-statements/4.delete-vertex/","text":"DELETE VERTEX \u00b6 DELETE VERTEX \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u70b9\uff0c\u4ee5\u53ca\u70b9\u5173\u8054\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 DELETE VERTEX \u8bed\u53e5\u4e00\u6b21\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u3002\u60a8\u53ef\u4ee5\u7ed3\u5408\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 \u8bed\u6cd5 \u00b6 DELETE VERTEX <vid> [, <vid> ...]; \u793a\u4f8b \u00b6 nebula> DELETE VERTEX \"team1\"; # \u7ed3\u5408\u7ba1\u9053\u7b26\uff0c\u5220\u9664\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u3002 nebula> GO FROM \"player100\" OVER serve YIELD serve._dst AS id | DELETE VERTEX $-.id; \u5220\u9664\u8fc7\u7a0b \u00b6 Nebula Graph\u68c0\u7d22\u70b9\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u5e76\u5220\u9664\u8fd9\u4e9b\u8fb9\uff0c\u7136\u540e\u5220\u9664\u70b9\u7684\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u8fd8\u4e0d\u80fd\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5982\u679c\u53d1\u751f\u6545\u969c\u8bf7\u91cd\u8bd5\u3002","title":"DELETE VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/4.delete-vertex/#delete_vertex","text":"DELETE VERTEX \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u70b9\uff0c\u4ee5\u53ca\u70b9\u5173\u8054\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 DELETE VERTEX \u8bed\u53e5\u4e00\u6b21\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u3002\u60a8\u53ef\u4ee5\u7ed3\u5408\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002","title":"DELETE VERTEX"},{"location":"3.ngql-guide/12.vertex-statements/4.delete-vertex/#_1","text":"DELETE VERTEX <vid> [, <vid> ...];","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/12.vertex-statements/4.delete-vertex/#_2","text":"nebula> DELETE VERTEX \"team1\"; # \u7ed3\u5408\u7ba1\u9053\u7b26\uff0c\u5220\u9664\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u3002 nebula> GO FROM \"player100\" OVER serve YIELD serve._dst AS id | DELETE VERTEX $-.id;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/12.vertex-statements/4.delete-vertex/#_3","text":"Nebula Graph\u68c0\u7d22\u70b9\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u5e76\u5220\u9664\u8fd9\u4e9b\u8fb9\uff0c\u7136\u540e\u5220\u9664\u70b9\u7684\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u8fd8\u4e0d\u80fd\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5982\u679c\u53d1\u751f\u6545\u969c\u8bf7\u91cd\u8bd5\u3002","title":"\u5220\u9664\u8fc7\u7a0b"},{"location":"3.ngql-guide/13.edge-statements/1.insert-edge/","text":"INSERT EDGE \u00b6 INSERT EDGE \u8bed\u53e5\u53ef\u4ee5\u5728Nebula Graph\u5b9e\u4f8b\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8fb9\u3002\u8fb9\u662f\u6709\u65b9\u5411\u7684\uff0c\u4ece\u8d77\u59cb\u70b9\uff08src_vid\uff09\u5230\u76ee\u7684\u70b9\uff08dst_vid\uff09\u3002 INSERT EDGE \u7684\u6267\u884c\u65b9\u5f0f\u4e3a\u8986\u76d6\u5f0f\u63d2\u5165\u3002\u5982\u679c\u5df2\u6709\u8fb9\u7c7b\u578b\u3001\u8d77\u70b9\u3001\u7ec8\u70b9\u3001rank\u90fd\u76f8\u540c\u7684\u8fb9\uff0c\u5219 \u8986\u76d6 \u539f\u8fb9\u3002 \u8bed\u6cd5 \u00b6 INSERT EDGE <edge_type> ( <prop_name_list> ) {VALUES | VALUE} <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ) [, <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ), ...]; <prop_name_list> ::= [ <prop_name> [, <prop_name> ] ...] <prop_value_list> ::= [ <prop_value> [, <prop_value> ] ...] <edge_type> \uff1a\u8fb9\u5173\u8054\u7684\u8fb9\u7c7b\u578b\uff0c\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002\u8fb9\u7c7b\u578b\u5fc5\u987b\u63d0\u524d\u521b\u5efa\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE EDGE \u3002 <prop_name_list> \uff1a\u9700\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u540d\u79f0\u5217\u8868\u3002 src_vid \uff1a\u8d77\u59cb\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 dst_vid \uff1a\u76ee\u7684\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 rank \uff1a\u53ef\u9009\u9879\u3002\u8fb9\u7684rank\u503c\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \u3002rank\u503c\u53ef\u4ee5\u7528\u6765\u533a\u5206\u8fb9\u7c7b\u578b\u3001\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u90fd\u76f8\u540c\u7684\u8fb9\u3002 openCypher\u517c\u5bb9\u6027 \uff1aopenCypher\u4e2d\u6ca1\u6709rank\u7684\u6982\u5ff5\u3002 <prop_value_list> \uff1a\u6839\u636e prop_name_list \u586b\u5199\u5c5e\u6027\u503c\u3002\u5982\u679c\u5c5e\u6027\u503c\u548c\u8fb9\u7c7b\u578b\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u5982\u679c\u6ca1\u6709\u586b\u5199\u5c5e\u6027\u503c\uff0c\u800c\u8fb9\u7c7b\u578b\u4e2d\u5bf9\u5e94\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a NOT NULL \uff0c\u4e5f\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE EDGE \u3002 \u793a\u4f8b \u00b6 # \u63d2\u5165\u4e0d\u5305\u542b\u5c5e\u6027\u7684\u8fb9\u3002 nebula> CREATE EDGE e1(); nebula> INSERT EDGE e1 () VALUES \"10\"->\"11\":(); # \u63d2\u5165rank\u4e3a1\u7684\u8fb9\u3002 nebula> INSERT EDGE e1 () VALUES \"10\"->\"11\"@1:(); nebula> CREATE EDGE e2 (name string, age int); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 1); # \u4e00\u6b21\u63d2\u51652\u6761\u8fb9\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \\ \"12\"->\"13\":(\"n1\", 1), \"13\"->\"14\":(\"n2\", 2); # \u521b\u5efa\u5931\u8d25\uff0c\u56e0\u4e3a\"a13\"\u4e0d\u662fint\u7c7b\u578b\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", \"a13\"); \u4e00\u6761\u8fb9\u53ef\u4ee5\u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\uff0c\u4ee5\u6700\u540e\u4e00\u6b21\u4e3a\u51c6\u3002 # \u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 12); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 13); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 14); nebula> FETCH PROP ON e2 \"11\"->\"13\"; +-------------------------------------------+ | edges_ | +-------------------------------------------+ | [:e2 \"11\"->\"13\" @0 {age: 14, name: \"n1\"}] | +-------------------------------------------+","title":"INSERT EDGE"},{"location":"3.ngql-guide/13.edge-statements/1.insert-edge/#insert_edge","text":"INSERT EDGE \u8bed\u53e5\u53ef\u4ee5\u5728Nebula Graph\u5b9e\u4f8b\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8fb9\u3002\u8fb9\u662f\u6709\u65b9\u5411\u7684\uff0c\u4ece\u8d77\u59cb\u70b9\uff08src_vid\uff09\u5230\u76ee\u7684\u70b9\uff08dst_vid\uff09\u3002 INSERT EDGE \u7684\u6267\u884c\u65b9\u5f0f\u4e3a\u8986\u76d6\u5f0f\u63d2\u5165\u3002\u5982\u679c\u5df2\u6709\u8fb9\u7c7b\u578b\u3001\u8d77\u70b9\u3001\u7ec8\u70b9\u3001rank\u90fd\u76f8\u540c\u7684\u8fb9\uff0c\u5219 \u8986\u76d6 \u539f\u8fb9\u3002","title":"INSERT EDGE"},{"location":"3.ngql-guide/13.edge-statements/1.insert-edge/#_1","text":"INSERT EDGE <edge_type> ( <prop_name_list> ) {VALUES | VALUE} <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ) [, <src_vid> -> <dst_vid>[@<rank>] : ( <prop_value_list> ), ...]; <prop_name_list> ::= [ <prop_name> [, <prop_name> ] ...] <prop_value_list> ::= [ <prop_value> [, <prop_value> ] ...] <edge_type> \uff1a\u8fb9\u5173\u8054\u7684\u8fb9\u7c7b\u578b\uff0c\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002\u8fb9\u7c7b\u578b\u5fc5\u987b\u63d0\u524d\u521b\u5efa\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE EDGE \u3002 <prop_name_list> \uff1a\u9700\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u540d\u79f0\u5217\u8868\u3002 src_vid \uff1a\u8d77\u59cb\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 dst_vid \uff1a\u76ee\u7684\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 rank \uff1a\u53ef\u9009\u9879\u3002\u8fb9\u7684rank\u503c\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \u3002rank\u503c\u53ef\u4ee5\u7528\u6765\u533a\u5206\u8fb9\u7c7b\u578b\u3001\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u90fd\u76f8\u540c\u7684\u8fb9\u3002 openCypher\u517c\u5bb9\u6027 \uff1aopenCypher\u4e2d\u6ca1\u6709rank\u7684\u6982\u5ff5\u3002 <prop_value_list> \uff1a\u6839\u636e prop_name_list \u586b\u5199\u5c5e\u6027\u503c\u3002\u5982\u679c\u5c5e\u6027\u503c\u548c\u8fb9\u7c7b\u578b\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u5982\u679c\u6ca1\u6709\u586b\u5199\u5c5e\u6027\u503c\uff0c\u800c\u8fb9\u7c7b\u578b\u4e2d\u5bf9\u5e94\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a NOT NULL \uff0c\u4e5f\u4f1a\u8fd4\u56de\u9519\u8bef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE EDGE \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/13.edge-statements/1.insert-edge/#_2","text":"# \u63d2\u5165\u4e0d\u5305\u542b\u5c5e\u6027\u7684\u8fb9\u3002 nebula> CREATE EDGE e1(); nebula> INSERT EDGE e1 () VALUES \"10\"->\"11\":(); # \u63d2\u5165rank\u4e3a1\u7684\u8fb9\u3002 nebula> INSERT EDGE e1 () VALUES \"10\"->\"11\"@1:(); nebula> CREATE EDGE e2 (name string, age int); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 1); # \u4e00\u6b21\u63d2\u51652\u6761\u8fb9\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \\ \"12\"->\"13\":(\"n1\", 1), \"13\"->\"14\":(\"n2\", 2); # \u521b\u5efa\u5931\u8d25\uff0c\u56e0\u4e3a\"a13\"\u4e0d\u662fint\u7c7b\u578b\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", \"a13\"); \u4e00\u6761\u8fb9\u53ef\u4ee5\u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\uff0c\u4ee5\u6700\u540e\u4e00\u6b21\u4e3a\u51c6\u3002 # \u591a\u6b21\u63d2\u5165\u5c5e\u6027\u503c\u3002 nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 12); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 13); nebula> INSERT EDGE e2 (name, age) VALUES \"11\"->\"13\":(\"n1\", 14); nebula> FETCH PROP ON e2 \"11\"->\"13\"; +-------------------------------------------+ | edges_ | +-------------------------------------------+ | [:e2 \"11\"->\"13\" @0 {age: 14, name: \"n1\"}] | +-------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/13.edge-statements/2.update-edge/","text":"UPDATE EDGE \u00b6 UPDATE EDGE \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u8fb9\u4e0a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 Nebula Graph\u652f\u6301CAS\uff08compare and set\uff09\u64cd\u4f5c\u3002 \u8bed\u6cd5 \u00b6 UPDATE EDGE <src_vid> -> <dest_vid> [@<rank>] OF <edge_type> SET <update_properties> [WHEN <condition>] [YIELD <properties>]; update_properties \uff1a\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 e1.col1 = $^.e1.col2 + 1 \u8868\u793a\u5c06 e1.col1 \u4fee\u6539\u4e3a e1.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981\u66f4\u65b0\u7684\u8fb9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u4fee\u6539\u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 properties \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002 \u793a\u4f8b \u00b6 nebula> UPDATE EDGE \"player100\" -> \"team204\"@0 \\ OF serve \\ SET start_year = start_year + 1 \\ YIELD serve.start_year; +------------------+ | serve.start_year | +------------------+ | 1999 | +------------------+","title":"UPDATE EDGE"},{"location":"3.ngql-guide/13.edge-statements/2.update-edge/#update_edge","text":"UPDATE EDGE \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u8fb9\u4e0a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002\u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 Nebula Graph\u652f\u6301CAS\uff08compare and set\uff09\u64cd\u4f5c\u3002","title":"UPDATE EDGE"},{"location":"3.ngql-guide/13.edge-statements/2.update-edge/#_1","text":"UPDATE EDGE <src_vid> -> <dest_vid> [@<rank>] OF <edge_type> SET <update_properties> [WHEN <condition>] [YIELD <properties>]; update_properties \uff1a\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 e1.col1 = $^.e1.col2 + 1 \u8868\u793a\u5c06 e1.col1 \u4fee\u6539\u4e3a e1.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981\u66f4\u65b0\u7684\u8fb9. condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u4fee\u6539\u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 properties \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/13.edge-statements/2.update-edge/#_2","text":"nebula> UPDATE EDGE \"player100\" -> \"team204\"@0 \\ OF serve \\ SET start_year = start_year + 1 \\ YIELD serve.start_year; +------------------+ | serve.start_year | +------------------+ | 1999 | +------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/13.edge-statements/3.upsert-edge/","text":"UPSERT EDGE \u00b6 UPSERT EDGE \u8bed\u53e5\u7ed3\u5408 UPDATE \u548c INSERT \uff0c\u5982\u679c\u8fb9\u5b58\u5728\uff0c\u4f1a\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\uff1b\u5982\u679c\u8fb9\u4e0d\u5b58\u5728\uff0c\u4f1a\u63d2\u5165\u65b0\u7684\u8fb9\u3002 UPSERT EDGE \u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 UPSERT EDGE \u6027\u80fd\u8fdc\u4f4e\u4e8e INSERT \uff0c\u56e0\u4e3a UPSERT \u662f\u4e00\u7ec4\u5206\u7247\u7ea7\u522b\u7684\u8bfb\u53d6\u3001\u4fee\u6539\u3001\u5199\u5165\u64cd\u4f5c\u3002 \u7981\u6b62 \uff1a\u7981\u6b62\u5728\u9ad8\u5e76\u53d1\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 UPSERT \u8bed\u53e5\u3002 \u8bed\u6cd5 \u00b6 UPSERT EDGE <src_vid> -> <dst_vid> [@rank] OF <edge_type> SET <update_properties> [WHEN <condition>] [YIELD <properties>] update_properties \uff1a\u9700\u8981 UPSERT \u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 e1.col1 = $^.e1.col2 + 1 \u8868\u793a\u5c06 e1.col1 \u4fee\u6539\u4e3a e1.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981 UPSERT \u7684\u8fb9. - condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c UPSERT \u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u5982\u679c\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u8bba WHEN \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fb9\u3002\u6ca1\u6709\u88ab SET \u8bed\u53e5\u6307\u5b9a\u7684\u5c5e\u6027\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u503c\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u8fb9\u5b58\u5728\uff0c\u800c\u4e14\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4fee\u6539\u8fd9\u4e2a\u8fb9\u7684\u5c5e\u6027\u3002 \u5982\u679c\u8fb9\u5b58\u5728\uff0c\u4f46\u662f\u4e0d\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4e0d\u4f1a\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u3002 \u793a\u4f8b \u00b6 nebula> INSERT EDGE serve(start_year, end_year) VALUES \"player100\" -> \"team200\":(1997, 2016); nebula> UPSERT EDGE \"player100\" -> \"team200\" \\ OF serve \\ SET start_year = serve.start_year + 2 \\ WHEN serve.end_year == 2016 \\ YIELD serve.start_year AS Start, serve.end_year AS End; +-------+------+ | Start | End | +-------+------+ | 1999 | 2016 | +-------+------+ nebula> FETCH PROP ON serve \"player100\" -> \"team200\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team200\" @0 {end_year: 2016, start_year: 1999}] | +-----------------------------------------------------------------------+","title":"UPSERT EDGE"},{"location":"3.ngql-guide/13.edge-statements/3.upsert-edge/#upsert_edge","text":"UPSERT EDGE \u8bed\u53e5\u7ed3\u5408 UPDATE \u548c INSERT \uff0c\u5982\u679c\u8fb9\u5b58\u5728\uff0c\u4f1a\u66f4\u65b0\u8fb9\u7684\u5c5e\u6027\uff1b\u5982\u679c\u8fb9\u4e0d\u5b58\u5728\uff0c\u4f1a\u63d2\u5165\u65b0\u7684\u8fb9\u3002 UPSERT EDGE \u4e00\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 UPSERT EDGE \u6027\u80fd\u8fdc\u4f4e\u4e8e INSERT \uff0c\u56e0\u4e3a UPSERT \u662f\u4e00\u7ec4\u5206\u7247\u7ea7\u522b\u7684\u8bfb\u53d6\u3001\u4fee\u6539\u3001\u5199\u5165\u64cd\u4f5c\u3002 \u7981\u6b62 \uff1a\u7981\u6b62\u5728\u9ad8\u5e76\u53d1\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 UPSERT \u8bed\u53e5\u3002","title":"UPSERT EDGE"},{"location":"3.ngql-guide/13.edge-statements/3.upsert-edge/#_1","text":"UPSERT EDGE <src_vid> -> <dst_vid> [@rank] OF <edge_type> SET <update_properties> [WHEN <condition>] [YIELD <properties>] update_properties \uff1a\u9700\u8981 UPSERT \u7684\u5c5e\u6027\u548c\u503c\u3002\u4f8b\u5982 e1.col1 = $^.e1.col2 + 1 \u8868\u793a\u5c06 e1.col1 \u4fee\u6539\u4e3a e1.col2+1 \u3002 \u8bf4\u660e \uff1a $^ \u8868\u793a\u8981 UPSERT \u7684\u8fb9. - condition \uff1a\u7ed3\u5408 WHEN \u4f7f\u7528\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c UPSERT \u3002 condition \u652f\u6301\u8868\u8fbe\u5f0f\u3002 columns \uff1a\u7ed3\u5408 YIELD \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u8f93\u51fa\u7ed3\u679c\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/13.edge-statements/3.upsert-edge/#_2","text":"\u5982\u679c\u8fb9\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u8bba WHEN \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fb9\u3002\u6ca1\u6709\u88ab SET \u8bed\u53e5\u6307\u5b9a\u7684\u5c5e\u6027\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u503c\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u8fb9\u5b58\u5728\uff0c\u800c\u4e14\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4fee\u6539\u8fd9\u4e2a\u8fb9\u7684\u5c5e\u6027\u3002 \u5982\u679c\u8fb9\u5b58\u5728\uff0c\u4f46\u662f\u4e0d\u6ee1\u8db3 WHEN \u5b50\u53e5\u7684\u6761\u4ef6\uff0c\u5219\u4e0d\u4f1a\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"3.ngql-guide/13.edge-statements/3.upsert-edge/#_3","text":"nebula> INSERT EDGE serve(start_year, end_year) VALUES \"player100\" -> \"team200\":(1997, 2016); nebula> UPSERT EDGE \"player100\" -> \"team200\" \\ OF serve \\ SET start_year = serve.start_year + 2 \\ WHEN serve.end_year == 2016 \\ YIELD serve.start_year AS Start, serve.end_year AS End; +-------+------+ | Start | End | +-------+------+ | 1999 | 2016 | +-------+------+ nebula> FETCH PROP ON serve \"player100\" -> \"team200\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team200\" @0 {end_year: 2016, start_year: 1999}] | +-----------------------------------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/13.edge-statements/4.delete-edge/","text":"DELETE EDGE \u00b6 DELETE EDGE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u8fb9\u3002\u4e00\u6b21\u53ef\u4ee5\u5220\u9664\u4e00\u6761\u6216\u591a\u6761\u8fb9\u3002\u60a8\u53ef\u4ee5\u7ed3\u5408\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 \u5982\u679c\u9700\u8981\u5220\u9664\u4e00\u4e2a\u70b9\u7684\u6240\u6709\u51fa\u8fb9\uff0c\u8bf7\u5220\u9664\u8fd9\u4e2a\u70b9\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 DELETE VERTEX \u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u8fd8\u4e0d\u80fd\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5982\u679c\u53d1\u751f\u6545\u969c\u8bf7\u91cd\u8bd5\u3002 \u8bed\u6cd5 \u00b6 DELETE EDGE <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <edge_type> <src_vid> -> <dst_vid>[@<rank>] ...] \u793a\u4f8b \u00b6 nebula> DELETE EDGE serve \"player100\" -> \"team200\"@0; # \u7ed3\u5408\u7ba1\u9053\u7b26\uff0c\u5220\u9664\u7b26\u5408\u6761\u4ef6\u7684\u8fb9\u3002 nebula> GO FROM \"player100\" OVER follow \\ WHERE follow._dst == \"team200\" \\ YIELD follow._src AS src, follow._dst AS dst, follow._rank AS rank \\ | DELETE EDGE follow $-.src->$-.dst @ $-.rank;","title":"DELETE EDGE"},{"location":"3.ngql-guide/13.edge-statements/4.delete-edge/#delete_edge","text":"DELETE EDGE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u8fb9\u3002\u4e00\u6b21\u53ef\u4ee5\u5220\u9664\u4e00\u6761\u6216\u591a\u6761\u8fb9\u3002\u60a8\u53ef\u4ee5\u7ed3\u5408\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 \u5982\u679c\u9700\u8981\u5220\u9664\u4e00\u4e2a\u70b9\u7684\u6240\u6709\u51fa\u8fb9\uff0c\u8bf7\u5220\u9664\u8fd9\u4e2a\u70b9\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 DELETE VERTEX \u3002 \u8bf4\u660e \uff1a\u76ee\u524d\u8fd8\u4e0d\u80fd\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5982\u679c\u53d1\u751f\u6545\u969c\u8bf7\u91cd\u8bd5\u3002","title":"DELETE EDGE"},{"location":"3.ngql-guide/13.edge-statements/4.delete-edge/#_1","text":"DELETE EDGE <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <edge_type> <src_vid> -> <dst_vid>[@<rank>] ...]","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/13.edge-statements/4.delete-edge/#_2","text":"nebula> DELETE EDGE serve \"player100\" -> \"team200\"@0; # \u7ed3\u5408\u7ba1\u9053\u7b26\uff0c\u5220\u9664\u7b26\u5408\u6761\u4ef6\u7684\u8fb9\u3002 nebula> GO FROM \"player100\" OVER follow \\ WHERE follow._dst == \"team200\" \\ YIELD follow._src AS src, follow._dst AS dst, follow._rank AS rank \\ | DELETE EDGE follow $-.src->$-.dst @ $-.rank;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/","text":"\u7d22\u5f15\u4ecb\u7ecd \u00b6 \u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u56fe\u67e5\u8be2\uff0cNebula Graph\u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7d22\u5f15\uff1a\u539f\u751f\u7d22\u5f15\u548c\u5168\u6587\u7d22\u5f15\u3002 \u539f\u751f\u7d22\u5f15 \u00b6 \u539f\u751f\u7d22\u5f15\u53ef\u4ee5\u57fa\u4e8e\u6307\u5b9a\u7684\u5c5e\u6027\u67e5\u8be2\u6570\u636e\uff0c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u5305\u62ec\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002 \u5fc5\u987b\u624b\u52a8\u91cd\u5efa\u7d22\u5f15\uff08 REBUILD INDEX \uff09\u3002 \u652f\u6301\u521b\u5efa\u540c\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u591a\u4e2a\u5c5e\u6027\u7684\u7d22\u5f15\uff08\u590d\u5408\u7d22\u5f15\uff09\uff0c\u4f46\u662f\u4e0d\u80fd\u8de8\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u3002 \u590d\u5408\u7d22\u5f15\u53ef\u4ee5\u5b9e\u73b0\u90e8\u5206\u5339\u914d\u68c0\u7d22\uff0c\u9075\u5faa\u6700\u5de6\u5339\u914d\u539f\u5219\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LOOKUP FAQ \u3002 \u4e0d\u652f\u6301 CONTAINS \u548c STARTS WITH \u7b49\u5b57\u7b26\u4e32\u64cd\u4f5c\u7b26\u3002 \u539f\u751f\u7d22\u5f15\u64cd\u4f5c \u00b6 CREATE INDEX SHOW CREATE INDEX SHOW INDEXES DESCRIBE INDEX REBUILD INDEX SHOW INDEX STATUS DROP INDEX LOOKUP MATCH \u5168\u6587\u7d22\u5f15 \u00b6 \u5168\u6587\u7d22\u5f15\u7528\u4e8e\u5bf9\u5b57\u7b26\u4e32\u5c5e\u6027\u8fdb\u884c\u524d\u7f00\u641c\u7d22\u3001\u901a\u914d\u7b26\u641c\u7d22\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\u548c\u6a21\u7cca\u641c\u7d22\uff0c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u53ea\u5141\u8bb8\u521b\u5efa\u4e00\u4e2a\u5c5e\u6027\u7684\u7d22\u5f15\u3002 \u53ea\u80fd\u521b\u5efa\u6307\u5b9a\u957f\u5ea6\uff08\u4e0d\u8d85\u8fc7256\u5b57\u8282\uff09\u5b57\u7b26\u4e32\u7684\u7d22\u5f15\u3002 \u4e0d\u652f\u6301\u903b\u8f91\u64cd\u4f5c\uff0c\u4f8b\u5982 AND \u3001 OR \u3001 NOT \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u9700\u8981\u8fdb\u884c\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u5339\u914d\uff0c\u8bf7\u4f7f\u7528\u539f\u751f\u7d22\u5f15\u3002 \u5168\u6587\u7d22\u5f15\u64cd\u4f5c \u00b6 \u5728\u5bf9\u5168\u6587\u7d22\u5f15\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u7ecf\u90e8\u7f72\u5168\u6587\u7d22\u5f15\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u548c \u90e8\u7f72listener \u3002 \u90e8\u7f72\u5b8c\u6210\u540e\uff0cElasticsearch\u96c6\u7fa4\u4e0a\u4f1a\u81ea\u52a8\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002\u4e0d\u652f\u6301\u91cd\u5efa\u6216\u4fee\u6539\u5168\u6587\u7d22\u5f15\u3002\u5982\u679c\u9700\u8981\u5220\u9664\u5168\u6587\u7d22\u5f15\uff0c\u8bf7\u5728Elasticsearch\u96c6\u7fa4\u4e0a\u624b\u52a8\u5220\u9664\u3002 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u8bf7\u53c2\u89c1 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u67e5\u8be2 \u3002 NULL\u503c\u8bf4\u660e \u00b6 \u6682\u4e0d\u652f\u6301\u5bf9\u503c\u4e3aNULL\u7684\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 \u8303\u56f4\u67e5\u8be2 \u00b6 \u539f\u751f\u7d22\u5f15\u9664\u4e86\u53ef\u4ee5\u67e5\u8be2\u5355\u4e2a\u7ed3\u679c\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u6267\u884c\u8303\u56f4\u67e5\u8be2\u3002\u5f53\u524d\u4ec5\u652f\u6301\u5bf9\u6570\u5b57\u3001\u65e5\u671f\u548c\u65f6\u95f4\u7c7b\u578b\u7684\u5c5e\u6027\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u3002","title":"\u7d22\u5f15\u4ecb\u7ecd"},{"location":"3.ngql-guide/14.native-index-statements/#_1","text":"\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u56fe\u67e5\u8be2\uff0cNebula Graph\u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7d22\u5f15\uff1a\u539f\u751f\u7d22\u5f15\u548c\u5168\u6587\u7d22\u5f15\u3002","title":"\u7d22\u5f15\u4ecb\u7ecd"},{"location":"3.ngql-guide/14.native-index-statements/#_2","text":"\u539f\u751f\u7d22\u5f15\u53ef\u4ee5\u57fa\u4e8e\u6307\u5b9a\u7684\u5c5e\u6027\u67e5\u8be2\u6570\u636e\uff0c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u5305\u62ec\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002 \u5fc5\u987b\u624b\u52a8\u91cd\u5efa\u7d22\u5f15\uff08 REBUILD INDEX \uff09\u3002 \u652f\u6301\u521b\u5efa\u540c\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u591a\u4e2a\u5c5e\u6027\u7684\u7d22\u5f15\uff08\u590d\u5408\u7d22\u5f15\uff09\uff0c\u4f46\u662f\u4e0d\u80fd\u8de8\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u3002 \u590d\u5408\u7d22\u5f15\u53ef\u4ee5\u5b9e\u73b0\u90e8\u5206\u5339\u914d\u68c0\u7d22\uff0c\u9075\u5faa\u6700\u5de6\u5339\u914d\u539f\u5219\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LOOKUP FAQ \u3002 \u4e0d\u652f\u6301 CONTAINS \u548c STARTS WITH \u7b49\u5b57\u7b26\u4e32\u64cd\u4f5c\u7b26\u3002","title":"\u539f\u751f\u7d22\u5f15"},{"location":"3.ngql-guide/14.native-index-statements/#_3","text":"CREATE INDEX SHOW CREATE INDEX SHOW INDEXES DESCRIBE INDEX REBUILD INDEX SHOW INDEX STATUS DROP INDEX LOOKUP MATCH","title":"\u539f\u751f\u7d22\u5f15\u64cd\u4f5c"},{"location":"3.ngql-guide/14.native-index-statements/#_4","text":"\u5168\u6587\u7d22\u5f15\u7528\u4e8e\u5bf9\u5b57\u7b26\u4e32\u5c5e\u6027\u8fdb\u884c\u524d\u7f00\u641c\u7d22\u3001\u901a\u914d\u7b26\u641c\u7d22\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\u548c\u6a21\u7cca\u641c\u7d22\uff0c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u53ea\u5141\u8bb8\u521b\u5efa\u4e00\u4e2a\u5c5e\u6027\u7684\u7d22\u5f15\u3002 \u53ea\u80fd\u521b\u5efa\u6307\u5b9a\u957f\u5ea6\uff08\u4e0d\u8d85\u8fc7256\u5b57\u8282\uff09\u5b57\u7b26\u4e32\u7684\u7d22\u5f15\u3002 \u4e0d\u652f\u6301\u903b\u8f91\u64cd\u4f5c\uff0c\u4f8b\u5982 AND \u3001 OR \u3001 NOT \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u9700\u8981\u8fdb\u884c\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u5339\u914d\uff0c\u8bf7\u4f7f\u7528\u539f\u751f\u7d22\u5f15\u3002","title":"\u5168\u6587\u7d22\u5f15"},{"location":"3.ngql-guide/14.native-index-statements/#_5","text":"\u5728\u5bf9\u5168\u6587\u7d22\u5f15\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u7ecf\u90e8\u7f72\u5168\u6587\u7d22\u5f15\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u548c \u90e8\u7f72listener \u3002 \u90e8\u7f72\u5b8c\u6210\u540e\uff0cElasticsearch\u96c6\u7fa4\u4e0a\u4f1a\u81ea\u52a8\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002\u4e0d\u652f\u6301\u91cd\u5efa\u6216\u4fee\u6539\u5168\u6587\u7d22\u5f15\u3002\u5982\u679c\u9700\u8981\u5220\u9664\u5168\u6587\u7d22\u5f15\uff0c\u8bf7\u5728Elasticsearch\u96c6\u7fa4\u4e0a\u624b\u52a8\u5220\u9664\u3002 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u8bf7\u53c2\u89c1 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u67e5\u8be2 \u3002","title":"\u5168\u6587\u7d22\u5f15\u64cd\u4f5c"},{"location":"3.ngql-guide/14.native-index-statements/#null","text":"\u6682\u4e0d\u652f\u6301\u5bf9\u503c\u4e3aNULL\u7684\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002","title":"NULL\u503c\u8bf4\u660e"},{"location":"3.ngql-guide/14.native-index-statements/#_6","text":"\u539f\u751f\u7d22\u5f15\u9664\u4e86\u53ef\u4ee5\u67e5\u8be2\u5355\u4e2a\u7ed3\u679c\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u6267\u884c\u8303\u56f4\u67e5\u8be2\u3002\u5f53\u524d\u4ec5\u652f\u6301\u5bf9\u6570\u5b57\u3001\u65e5\u671f\u548c\u65f6\u95f4\u7c7b\u578b\u7684\u5c5e\u6027\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u3002","title":"\u8303\u56f4\u67e5\u8be2"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/","text":"CREATE INDEX \u00b6 CREATE INDEX \u8bed\u53e5\u53ef\u4ee5\u4e3a\u73b0\u5b58\u7684\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u6216\u5c5e\u6027\u521b\u5efa\u539f\u751f\u7d22\u5f15\u3002 \u5927\u591a\u6570\u56fe\u67e5\u8be2\u90fd\u662f\u4ece\u5c5e\u6027\u6807\u8bc6\u7684\u70b9\u6216\u8fb9\u7684\u5217\u8868\u5f00\u59cb\u68c0\u7d22\u7684\u3002\u7d22\u5f15\u53ef\u4ee5\u8ba9\u5927\u89c4\u6a21\u56fe\u6570\u636e\u5e93\u7684\u5168\u5c40\u68c0\u7d22\u66f4\u52a0\u9ad8\u6548\u3002 \u8bf4\u660e \uff1a\u5982\u4f55\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff0c\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u521b\u5efa\u7d22\u5f15\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u76f8\u5173\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002\u5982\u4f55\u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 CREATE TAG \u548c CREATE EDGE \u3002 \u4f7f\u7528\u7d22\u5f15\u5fc5\u8bfb \u00b6 \u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u67e5\u8be2\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u4e0b\u964d90%\u751a\u81f3\u66f4\u591a\uff0c\u53ea\u6709\u5728\u6839\u636e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4f4d\u70b9\u6216\u8fb9\u65f6\u624d\u4f7f\u7528\u7d22\u5f15\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 \u5982\u679c\u60a8\u5fc5\u987b\u4f7f\u7528\u7d22\u5f15\uff0c\u5efa\u8bae\u60a8\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\uff1a \u5bfc\u5165\u6570\u636e\u81f3Nebula Graph\u3002 \u521b\u5efa\u7d22\u5f15\u3002 \u91cd\u5efa\u7d22\u5f15 \u3002 \u4f7f\u7528 LOOKUP \u6216 MATCH \u8bed\u53e5\u67e5\u8be2\u6570\u636e\u3002 \u5148\u521b\u5efa\u7d22\u5f15\u518d\u5bfc\u5165\u6570\u636e\uff0c\u4f1a\u56e0\u4e3a\u5199\u6027\u80fd\u7684\u4e0b\u964d\u5bfc\u81f4\u5bfc\u5165\u901f\u5ea6\u6781\u6162\u3002 \u521b\u5efa\u7d22\u5f15\u540e\uff0c\u60a8 \u5fc5\u987b \u4e3a\u5df2\u5b58\u5728\u7684\u6570\u636e\u91cd\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u4e0d\u80fd\u7d22\u5f15\u5df2\u5b58\u5728\u7684\u6570\u636e\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5728 MATCH \u548c LOOKUP \u8bed\u53e5\u4e2d\u8fd4\u56de\u8fd9\u4e9b\u6570\u636e\u3002 \u60a8\u4e0d\u9700\u8981\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\uff0cNebula Graph\u4f1a\u81ea\u52a8\u8ba1\u7b97\u3002 \u8bed\u6cd5 \u00b6 CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} ([prop_name_list]); index_name \uff1a\u7d22\u5f15\u540d\u3002\u7d22\u5f15\u540d\u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u63a8\u8350\u7684\u547d\u540d\u65b9\u5f0f\u4e3a i_tagName_propName \u3002 IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u7d22\u5f15\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u7d22\u5f15\u3002 prop_name_list : \u4e3a \u53d8\u957f \u5b57\u7b26\u4e32\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u5fc5\u987b\u7528 prop_name(length) \u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 \u8bf4\u660e \uff1a\u957f\u7d22\u5f15\u4f1a\u964d\u4f4eStorage\u670d\u52a1\u7684\u626b\u63cf\u6027\u80fd\uff0c\u4ee5\u53ca\u5360\u7528\u66f4\u591a\u5185\u5b58\u3002\u5efa\u8bae\u60a8\u5c06\u7d22\u5f15\u957f\u5ea6\u8bbe\u7f6e\u4e3a\u548c\u8981\u7d22\u5f15\u7684\u6700\u957f\u5b57\u7b26\u4e32\u76f8\u540c\u3002\u7d22\u5f15\u957f\u5ea6\u6700\u957f\u4e3a255\uff0c\u8d85\u8fc7\u90e8\u5206\u4f1a\u88ab\u622a\u65ad\u3002 \u4e3a \u5b9a\u957f \u5b57\u7b26\u4e32\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u4f7f\u7528 prop_name \u8bbe\u7f6e\u8981\u7d22\u5f15\u7684\u5c5e\u6027\u5373\u53ef\uff0c\u7d22\u5f15\u957f\u5ea6\u4e3a\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 \u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u672c\u8eab\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u8bf7\u5ffd\u7565 prop_name_list \u3002 \u7981\u6b62 \uff1a\u5982\u679c\u60a8\u5df2\u7ecf\u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e2d\u7684\u4efb\u4f55\u5c5e\u6027\u521b\u5efa\u4e86\u7d22\u5f15\uff0c\u8bf7\u4e0d\u8981\u518d\u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u672c\u8eab\u521b\u5efa\u7d22\u5f15\u3002 \u521b\u5efa\u7d22\u5f15\u8bf4\u660e \u00b6 \u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u7d22\u5f15\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u7d22\u5f15\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW TAG/EDGE INDEXES \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u7d22\u5f15\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002 \u521b\u5efa\u6807\u7b7e/\u8fb9\u7c7b\u578b\u7d22\u5f15 \u00b6 nebula> CREATE TAG INDEX player_index on player(); nebula> CREATE EDGE INDEX like_index on like(); \u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 LOOKUP \u8bed\u53e5\u68c0\u7d22\u5e26\u6709\u6807\u7b7e\u7684\u6240\u6709\u70b9\u7684ID\uff0c\u6216\u8005\u8d77\u59cb\u70b9ID\u3001\u76ee\u7684\u70b9ID\uff0c\u4ee5\u53ca\u5e26\u6709\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u7684rank\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LOOKUP \u3002 \u521b\u5efa\u5355\u4e2a\u5c5e\u6027\u7d22\u5f15 \u00b6 nebula> CREATE TAG INDEX player_index_0 on player(name(10)); \u4e0a\u8ff0\u793a\u4f8b\u662f\u4e3a\u6240\u6709\u5305\u542b\u6807\u7b7e player \u7684\u70b9\u521b\u5efa\u5c5e\u6027 name \u7684\u7d22\u5f15\uff0c\u7d22\u5f15\u957f\u5ea6\u4e3a10\uff0c\u5373\u4f7f\u7528\u5c5e\u6027 name \u7684\u524d10\u4e2a\u5b57\u7b26\u521b\u5efa\u7d22\u5f15\u3002 # \u53d8\u957f\u5b57\u7b26\u4e32\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 nebula> CREATE TAG var_string(p1 string); nebula> CREATE TAG INDEX var ON var_string(p1(10)); # \u5b9a\u957f\u5b57\u7b26\u4e32\u4e0d\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 nebula> CREATE TAG fix_string(p1 FIXED_STRING(10)); nebula> CREATE TAG INDEX fix ON fix_string(p1); nebula> CREATE EDGE INDEX follow_index_0 on follow(degree); \u521b\u5efa\u590d\u5408\u5c5e\u6027\u7d22\u5f15 \u00b6 \u591a\u4e2a\u5c5e\u6027\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u590d\u5408\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e0d\u652f\u6301\u8de8\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u521b\u5efa\u590d\u5408\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_1 on player(name(10), age);","title":"CREATE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#create_index","text":"CREATE INDEX \u8bed\u53e5\u53ef\u4ee5\u4e3a\u73b0\u5b58\u7684\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u6216\u5c5e\u6027\u521b\u5efa\u539f\u751f\u7d22\u5f15\u3002 \u5927\u591a\u6570\u56fe\u67e5\u8be2\u90fd\u662f\u4ece\u5c5e\u6027\u6807\u8bc6\u7684\u70b9\u6216\u8fb9\u7684\u5217\u8868\u5f00\u59cb\u68c0\u7d22\u7684\u3002\u7d22\u5f15\u53ef\u4ee5\u8ba9\u5927\u89c4\u6a21\u56fe\u6570\u636e\u5e93\u7684\u5168\u5c40\u68c0\u7d22\u66f4\u52a0\u9ad8\u6548\u3002 \u8bf4\u660e \uff1a\u5982\u4f55\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff0c\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u3002","title":"CREATE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_1","text":"\u521b\u5efa\u7d22\u5f15\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u76f8\u5173\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002\u5982\u4f55\u521b\u5efa\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 CREATE TAG \u548c CREATE EDGE \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_2","text":"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u67e5\u8be2\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u4e0b\u964d90%\u751a\u81f3\u66f4\u591a\uff0c\u53ea\u6709\u5728\u6839\u636e\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4f4d\u70b9\u6216\u8fb9\u65f6\u624d\u4f7f\u7528\u7d22\u5f15\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 \u5982\u679c\u60a8\u5fc5\u987b\u4f7f\u7528\u7d22\u5f15\uff0c\u5efa\u8bae\u60a8\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\uff1a \u5bfc\u5165\u6570\u636e\u81f3Nebula Graph\u3002 \u521b\u5efa\u7d22\u5f15\u3002 \u91cd\u5efa\u7d22\u5f15 \u3002 \u4f7f\u7528 LOOKUP \u6216 MATCH \u8bed\u53e5\u67e5\u8be2\u6570\u636e\u3002 \u5148\u521b\u5efa\u7d22\u5f15\u518d\u5bfc\u5165\u6570\u636e\uff0c\u4f1a\u56e0\u4e3a\u5199\u6027\u80fd\u7684\u4e0b\u964d\u5bfc\u81f4\u5bfc\u5165\u901f\u5ea6\u6781\u6162\u3002 \u521b\u5efa\u7d22\u5f15\u540e\uff0c\u60a8 \u5fc5\u987b \u4e3a\u5df2\u5b58\u5728\u7684\u6570\u636e\u91cd\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u4e0d\u80fd\u7d22\u5f15\u5df2\u5b58\u5728\u7684\u6570\u636e\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5728 MATCH \u548c LOOKUP \u8bed\u53e5\u4e2d\u8fd4\u56de\u8fd9\u4e9b\u6570\u636e\u3002 \u60a8\u4e0d\u9700\u8981\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\uff0cNebula Graph\u4f1a\u81ea\u52a8\u8ba1\u7b97\u3002","title":"\u4f7f\u7528\u7d22\u5f15\u5fc5\u8bfb"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_3","text":"CREATE {TAG | EDGE} INDEX [IF NOT EXISTS] <index_name> ON {<tag_name> | <edge_name>} ([prop_name_list]); index_name \uff1a\u7d22\u5f15\u540d\u3002\u7d22\u5f15\u540d\u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u63a8\u8350\u7684\u547d\u540d\u65b9\u5f0f\u4e3a i_tagName_propName \u3002 IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u7d22\u5f15\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u7d22\u5f15\u3002 prop_name_list : \u4e3a \u53d8\u957f \u5b57\u7b26\u4e32\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u5fc5\u987b\u7528 prop_name(length) \u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 \u8bf4\u660e \uff1a\u957f\u7d22\u5f15\u4f1a\u964d\u4f4eStorage\u670d\u52a1\u7684\u626b\u63cf\u6027\u80fd\uff0c\u4ee5\u53ca\u5360\u7528\u66f4\u591a\u5185\u5b58\u3002\u5efa\u8bae\u60a8\u5c06\u7d22\u5f15\u957f\u5ea6\u8bbe\u7f6e\u4e3a\u548c\u8981\u7d22\u5f15\u7684\u6700\u957f\u5b57\u7b26\u4e32\u76f8\u540c\u3002\u7d22\u5f15\u957f\u5ea6\u6700\u957f\u4e3a255\uff0c\u8d85\u8fc7\u90e8\u5206\u4f1a\u88ab\u622a\u65ad\u3002 \u4e3a \u5b9a\u957f \u5b57\u7b26\u4e32\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u4f7f\u7528 prop_name \u8bbe\u7f6e\u8981\u7d22\u5f15\u7684\u5c5e\u6027\u5373\u53ef\uff0c\u7d22\u5f15\u957f\u5ea6\u4e3a\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 \u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u672c\u8eab\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u8bf7\u5ffd\u7565 prop_name_list \u3002 \u7981\u6b62 \uff1a\u5982\u679c\u60a8\u5df2\u7ecf\u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e2d\u7684\u4efb\u4f55\u5c5e\u6027\u521b\u5efa\u4e86\u7d22\u5f15\uff0c\u8bf7\u4e0d\u8981\u518d\u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u672c\u8eab\u521b\u5efa\u7d22\u5f15\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_4","text":"\u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u7d22\u5f15\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u7d22\u5f15\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW TAG/EDGE INDEXES \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u7d22\u5f15\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"\u521b\u5efa\u7d22\u5f15\u8bf4\u660e"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_5","text":"nebula> CREATE TAG INDEX player_index on player(); nebula> CREATE EDGE INDEX like_index on like(); \u4e3a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 LOOKUP \u8bed\u53e5\u68c0\u7d22\u5e26\u6709\u6807\u7b7e\u7684\u6240\u6709\u70b9\u7684ID\uff0c\u6216\u8005\u8d77\u59cb\u70b9ID\u3001\u76ee\u7684\u70b9ID\uff0c\u4ee5\u53ca\u5e26\u6709\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u7684rank\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LOOKUP \u3002","title":"\u521b\u5efa\u6807\u7b7e/\u8fb9\u7c7b\u578b\u7d22\u5f15"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_6","text":"nebula> CREATE TAG INDEX player_index_0 on player(name(10)); \u4e0a\u8ff0\u793a\u4f8b\u662f\u4e3a\u6240\u6709\u5305\u542b\u6807\u7b7e player \u7684\u70b9\u521b\u5efa\u5c5e\u6027 name \u7684\u7d22\u5f15\uff0c\u7d22\u5f15\u957f\u5ea6\u4e3a10\uff0c\u5373\u4f7f\u7528\u5c5e\u6027 name \u7684\u524d10\u4e2a\u5b57\u7b26\u521b\u5efa\u7d22\u5f15\u3002 # \u53d8\u957f\u5b57\u7b26\u4e32\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 nebula> CREATE TAG var_string(p1 string); nebula> CREATE TAG INDEX var ON var_string(p1(10)); # \u5b9a\u957f\u5b57\u7b26\u4e32\u4e0d\u9700\u8981\u6307\u5b9a\u7d22\u5f15\u957f\u5ea6\u3002 nebula> CREATE TAG fix_string(p1 FIXED_STRING(10)); nebula> CREATE TAG INDEX fix ON fix_string(p1); nebula> CREATE EDGE INDEX follow_index_0 on follow(degree);","title":"\u521b\u5efa\u5355\u4e2a\u5c5e\u6027\u7d22\u5f15"},{"location":"3.ngql-guide/14.native-index-statements/1.create-native-index/#_7","text":"\u591a\u4e2a\u5c5e\u6027\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u590d\u5408\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e0d\u652f\u6301\u8de8\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u521b\u5efa\u590d\u5408\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX player_index_1 on player(name(10), age);","title":"\u521b\u5efa\u590d\u5408\u5c5e\u6027\u7d22\u5f15"},{"location":"3.ngql-guide/14.native-index-statements/2.1.show-create-index/","text":"SHOW CREATE INDEX \u00b6 SHOW CREATE INDEX \u5c55\u793a\u521b\u5efa\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u65f6\u4f7f\u7528\u7684nGQL\u8bed\u53e5,\u5176\u4e2d\u5305\u542b\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5176\u5173\u8054\u7684\u5c5e\u6027\u3002 \u8bed\u6cd5 \u00b6 SHOW CREATE {TAG | EDGE} INDEX <index_name>; \u793a\u4f8b \u00b6 \u60a8\u53ef\u4ee5\u5148\u8fd0\u884c SHOW TAG INDEXES \u67e5\u770b\u6709\u54ea\u4e9b\u6807\u7b7e\u7d22\u5f15\uff0c\u7136\u540e\u7528 SHOW CREATE TAG INDEX \u67e5\u770b\u6307\u5b9a\u7d22\u5f15\u7684\u521b\u5efa\u4fe1\u606f\u3002 nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"player_index_0\" | +------------------+ | \"player_index_1\" | +------------------+ nebula> SHOW CREATE TAG INDEX player_index_1; +------------------+--------------------------------------------------+ | Tag Index Name | Create Tag Index | +------------------+--------------------------------------------------+ | \"player_index_1\" | \"CREATE TAG INDEX `player_index_1` ON `player` ( | | | `name(20)` | | | )\" | +------------------+--------------------------------------------------+ \u8fb9\u7c7b\u578b\u7d22\u5f15\u53ef\u4ee5\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u67e5\u8be2\uff1a nebula> SHOW EDGE INDEXES; +----------------+ | Names | +----------------+ | \"index_follow\" | +----------------+ nebula> SHOW CREATE EDGE INDEX index index_follow; +-----------------+-------------------------------------------------+ | Edge Index Name | Create Edge Index | +-----------------+-------------------------------------------------+ | \"index_follow\" | \"CREATE EDGE INDEX `index_follow` ON `follow` ( | | | `degree` | | | )\" | +-----------------+-------------------------------------------------+","title":"SHOW CREATE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/2.1.show-create-index/#show_create_index","text":"SHOW CREATE INDEX \u5c55\u793a\u521b\u5efa\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u65f6\u4f7f\u7528\u7684nGQL\u8bed\u53e5,\u5176\u4e2d\u5305\u542b\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u5176\u5173\u8054\u7684\u5c5e\u6027\u3002","title":"SHOW CREATE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/2.1.show-create-index/#_1","text":"SHOW CREATE {TAG | EDGE} INDEX <index_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/2.1.show-create-index/#_2","text":"\u60a8\u53ef\u4ee5\u5148\u8fd0\u884c SHOW TAG INDEXES \u67e5\u770b\u6709\u54ea\u4e9b\u6807\u7b7e\u7d22\u5f15\uff0c\u7136\u540e\u7528 SHOW CREATE TAG INDEX \u67e5\u770b\u6307\u5b9a\u7d22\u5f15\u7684\u521b\u5efa\u4fe1\u606f\u3002 nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"player_index_0\" | +------------------+ | \"player_index_1\" | +------------------+ nebula> SHOW CREATE TAG INDEX player_index_1; +------------------+--------------------------------------------------+ | Tag Index Name | Create Tag Index | +------------------+--------------------------------------------------+ | \"player_index_1\" | \"CREATE TAG INDEX `player_index_1` ON `player` ( | | | `name(20)` | | | )\" | +------------------+--------------------------------------------------+ \u8fb9\u7c7b\u578b\u7d22\u5f15\u53ef\u4ee5\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u67e5\u8be2\uff1a nebula> SHOW EDGE INDEXES; +----------------+ | Names | +----------------+ | \"index_follow\" | +----------------+ nebula> SHOW CREATE EDGE INDEX index index_follow; +-----------------+-------------------------------------------------+ | Edge Index Name | Create Edge Index | +-----------------+-------------------------------------------------+ | \"index_follow\" | \"CREATE EDGE INDEX `index_follow` ON `follow` ( | | | `degree` | | | )\" | +-----------------+-------------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/2.show-native-indexes/","text":"SHOW INDEXES \u00b6 SHOW INDEXES \u8bed\u53e5\u53ef\u4ee5\u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff08\u5305\u62ec\u5c5e\u6027\uff09\u7684\u7d22\u5f15\u3002 \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEXES; \u793a\u4f8b \u00b6 nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"fix\" | +------------------+ | \"player_index_0\" | +------------------+ | \"player_index_1\" | +------------------+ | \"var\" | +------------------+ nebula> SHOW EDGE INDEXES; +------------------+ | Names | +------------------+ | \"follow_index_0\" | +------------------+","title":"SHOW INDEX"},{"location":"3.ngql-guide/14.native-index-statements/2.show-native-indexes/#show_indexes","text":"SHOW INDEXES \u8bed\u53e5\u53ef\u4ee5\u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\uff08\u5305\u62ec\u5c5e\u6027\uff09\u7684\u7d22\u5f15\u3002","title":"SHOW INDEXES"},{"location":"3.ngql-guide/14.native-index-statements/2.show-native-indexes/#_1","text":"SHOW {TAG | EDGE} INDEXES;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/2.show-native-indexes/#_2","text":"nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"fix\" | +------------------+ | \"player_index_0\" | +------------------+ | \"player_index_1\" | +------------------+ | \"var\" | +------------------+ nebula> SHOW EDGE INDEXES; +------------------+ | Names | +------------------+ | \"follow_index_0\" | +------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/3.describe-native-index/","text":"DESCRIBE INDEX \u00b6 DESCRIBE INDEX \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u6307\u5b9a\u7d22\u5f15\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u7d22\u5f15\u7684\u5c5e\u6027\u540d\u79f0\uff08Field\uff09\u548c\u6570\u636e\u7c7b\u578b\uff08Type\uff09\u3002 \u8bed\u6cd5 \u00b6 DESCRIBE {TAG | EDGE} INDEX <index_name>; \u793a\u4f8b \u00b6 nebula> DESCRIBE TAG INDEX player_index_0; +--------+--------------------+ | Field | Type | +--------+--------------------+ | \"name\" | \"fixed_string(30)\" | +--------+--------------------+ nebula> DESCRIBE TAG INDEX player_index_1; +--------+--------------------+ | Field | Type | +--------+--------------------+ | \"name\" | \"fixed_string(10)\" | +--------+--------------------+ | \"age\" | \"int64\" | +--------+--------------------+","title":"DESCRIBE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/3.describe-native-index/#describe_index","text":"DESCRIBE INDEX \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u6307\u5b9a\u7d22\u5f15\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u7d22\u5f15\u7684\u5c5e\u6027\u540d\u79f0\uff08Field\uff09\u548c\u6570\u636e\u7c7b\u578b\uff08Type\uff09\u3002","title":"DESCRIBE INDEX"},{"location":"3.ngql-guide/14.native-index-statements/3.describe-native-index/#_1","text":"DESCRIBE {TAG | EDGE} INDEX <index_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/3.describe-native-index/#_2","text":"nebula> DESCRIBE TAG INDEX player_index_0; +--------+--------------------+ | Field | Type | +--------+--------------------+ | \"name\" | \"fixed_string(30)\" | +--------+--------------------+ nebula> DESCRIBE TAG INDEX player_index_1; +--------+--------------------+ | Field | Type | +--------+--------------------+ | \"name\" | \"fixed_string(10)\" | +--------+--------------------+ | \"age\" | \"int64\" | +--------+--------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/4.rebuild-native-index/","text":"REBUILD INDEX \u00b6 \u4e3a\u4fdd\u969c\u670d\u52a1\u6027\u80fd\uff0c\u7d22\u5f15\u4e0d\u4f1a\u81ea\u52a8\u5bf9\u5176\u521b\u5efa\u4e4b\u524d\u5df2\u5b58\u5728\u7684\u6570\u636e\u751f\u6548\u3002\u8bf7\u5728\u521b\u5efa\u7d22\u5f15\u540e\uff0c\u9009\u62e9\u5408\u9002\u7684\u65f6\u95f4\u4e3a\u5b58\u91cf\u6570\u636e\u91cd\u5efa\u7d22\u5f15\u3002\u5728\u7d22\u5f15\u91cd\u5efa\u5b8c\u6210\u4e4b\u524d\uff0c\u65e0\u6cd5\u57fa\u4e8e\u8be5\u7d22\u5f15\u4f7f\u7528 LOOKUP \u548c MATCH \u8bed\u53e5\u67e5\u8be2\u5230\u5b58\u91cf\u6570\u636e\u3002\u4f7f\u7528\u7d22\u5f15\u7684\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE INDEX \u3002 \u8bf4\u660e \uff1a\u91cd\u5efa\u7d22\u5f15\u671f\u95f4\uff0c\u6240\u6709\u67e5\u8be2\u90fd\u4f1a\u8df3\u8fc7\u7d22\u5f15\u5e76\u6267\u884c\u987a\u5e8f\u626b\u63cf\uff0c\u8fd4\u56de\u7ed3\u679c\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002 \u8bed\u6cd5 \u00b6 REBUILD {TAG | EDGE} INDEX [<index_name_list>]; <index_name_list>::= [index_name [, index_name] ...] \u53ef\u4ee5\u4e00\u6b21\u91cd\u5efa\u591a\u4e2a\u7d22\u5f15\uff0c\u7d22\u5f15\u540d\u79f0\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\uff0c\u5c06\u4f1a\u91cd\u5efa\u6240\u6709\u7d22\u5f15\u3002 \u91cd\u5efa\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 SHOW {TAG | EDGE} INDEX STATUS \u68c0\u67e5\u7d22\u5f15\u662f\u5426\u91cd\u5efa\u5b8c\u6210\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW INDEX STATUS \u3002 \u793a\u4f8b \u00b6 nebula> CREATE TAG person(name string, age int, gender string, email string); nebula> CREATE TAG INDEX single_person_index ON person(name(10)); # \u91cd\u5efa\u7d22\u5f15\uff0c\u8fd4\u56de\u4efb\u52a1ID\u3002 nebula> REBUILD TAG INDEX single_person_index; +------------+ | New Job Id | +------------+ | 66 | +------------+ # \u67e5\u770b\u7d22\u5f15\u72b6\u6001\u3002 nebula> SHOW TAG INDEX STATUS; +-----------------------+--------------+ | Name | Index Status | +-----------------------+--------------+ | \"single_person_index\" | \"FINISHED\" | +-----------------------+--------------+ # \u4e5f\u53ef\u4ee5\u4f7f\u7528SHOW JOB <job_id>\u67e5\u770b\u91cd\u5efa\u7d22\u5f15\u7684\u4efb\u52a1\u72b6\u6001\u3002 nebula> SHOW JOB 66; +----------------+---------------------+------------+-------------------------+-------------------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------------+------------+-------------------------+-------------------------+ | 66 | \"REBUILD_TAG_INDEX\" | \"FINISHED\" | 2021-03-31T03:35:21.000 | 2021-03-31T03:35:21.000 | +----------------+---------------------+------------+-------------------------+-------------------------+ Nebula Graph\u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\u53bb\u91cd\u5efa\u7d22\u5f15\uff0c\u56e0\u6b64\u53ef\u4ee5\u6839\u636e\u8fd4\u56de\u7684\u4efb\u52a1ID\uff0c\u901a\u8fc7 SHOW JOB <job_id> \u8bed\u53e5\u67e5\u770b\u4efb\u52a1\u72b6\u6001\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW JOB \u3002 \u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027 \u00b6 \u5728Nebula Graph 2.0\u4e2d\uff0c\u4e0d\u9700\u8981\u4e5f\u4e0d\u652f\u6301\u9009\u9879 OFFLINE \u3002","title":"REBUILD INDEX"},{"location":"3.ngql-guide/14.native-index-statements/4.rebuild-native-index/#rebuild_index","text":"\u4e3a\u4fdd\u969c\u670d\u52a1\u6027\u80fd\uff0c\u7d22\u5f15\u4e0d\u4f1a\u81ea\u52a8\u5bf9\u5176\u521b\u5efa\u4e4b\u524d\u5df2\u5b58\u5728\u7684\u6570\u636e\u751f\u6548\u3002\u8bf7\u5728\u521b\u5efa\u7d22\u5f15\u540e\uff0c\u9009\u62e9\u5408\u9002\u7684\u65f6\u95f4\u4e3a\u5b58\u91cf\u6570\u636e\u91cd\u5efa\u7d22\u5f15\u3002\u5728\u7d22\u5f15\u91cd\u5efa\u5b8c\u6210\u4e4b\u524d\uff0c\u65e0\u6cd5\u57fa\u4e8e\u8be5\u7d22\u5f15\u4f7f\u7528 LOOKUP \u548c MATCH \u8bed\u53e5\u67e5\u8be2\u5230\u5b58\u91cf\u6570\u636e\u3002\u4f7f\u7528\u7d22\u5f15\u7684\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE INDEX \u3002 \u8bf4\u660e \uff1a\u91cd\u5efa\u7d22\u5f15\u671f\u95f4\uff0c\u6240\u6709\u67e5\u8be2\u90fd\u4f1a\u8df3\u8fc7\u7d22\u5f15\u5e76\u6267\u884c\u987a\u5e8f\u626b\u63cf\uff0c\u8fd4\u56de\u7ed3\u679c\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002","title":"REBUILD INDEX"},{"location":"3.ngql-guide/14.native-index-statements/4.rebuild-native-index/#_1","text":"REBUILD {TAG | EDGE} INDEX [<index_name_list>]; <index_name_list>::= [index_name [, index_name] ...] \u53ef\u4ee5\u4e00\u6b21\u91cd\u5efa\u591a\u4e2a\u7d22\u5f15\uff0c\u7d22\u5f15\u540d\u79f0\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\uff0c\u5c06\u4f1a\u91cd\u5efa\u6240\u6709\u7d22\u5f15\u3002 \u91cd\u5efa\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 SHOW {TAG | EDGE} INDEX STATUS \u68c0\u67e5\u7d22\u5f15\u662f\u5426\u91cd\u5efa\u5b8c\u6210\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW INDEX STATUS \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/4.rebuild-native-index/#_2","text":"nebula> CREATE TAG person(name string, age int, gender string, email string); nebula> CREATE TAG INDEX single_person_index ON person(name(10)); # \u91cd\u5efa\u7d22\u5f15\uff0c\u8fd4\u56de\u4efb\u52a1ID\u3002 nebula> REBUILD TAG INDEX single_person_index; +------------+ | New Job Id | +------------+ | 66 | +------------+ # \u67e5\u770b\u7d22\u5f15\u72b6\u6001\u3002 nebula> SHOW TAG INDEX STATUS; +-----------------------+--------------+ | Name | Index Status | +-----------------------+--------------+ | \"single_person_index\" | \"FINISHED\" | +-----------------------+--------------+ # \u4e5f\u53ef\u4ee5\u4f7f\u7528SHOW JOB <job_id>\u67e5\u770b\u91cd\u5efa\u7d22\u5f15\u7684\u4efb\u52a1\u72b6\u6001\u3002 nebula> SHOW JOB 66; +----------------+---------------------+------------+-------------------------+-------------------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------------+------------+-------------------------+-------------------------+ | 66 | \"REBUILD_TAG_INDEX\" | \"FINISHED\" | 2021-03-31T03:35:21.000 | 2021-03-31T03:35:21.000 | +----------------+---------------------+------------+-------------------------+-------------------------+ Nebula Graph\u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\u53bb\u91cd\u5efa\u7d22\u5f15\uff0c\u56e0\u6b64\u53ef\u4ee5\u6839\u636e\u8fd4\u56de\u7684\u4efb\u52a1ID\uff0c\u901a\u8fc7 SHOW JOB <job_id> \u8bed\u53e5\u67e5\u770b\u4efb\u52a1\u72b6\u6001\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW JOB \u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/4.rebuild-native-index/#_3","text":"\u5728Nebula Graph 2.0\u4e2d\uff0c\u4e0d\u9700\u8981\u4e5f\u4e0d\u652f\u6301\u9009\u9879 OFFLINE \u3002","title":"\u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/14.native-index-statements/5.show-native-index-status/","text":"SHOW INDEX STATUS \u00b6 SHOW INDEX STATUS \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u7d22\u5f15\u540d\u79f0\u548c\u5bf9\u5e94\u7684\u72b6\u6001\u3002 \u7d22\u5f15\u72b6\u6001\u5305\u62ec\uff1a QUEUE \uff1a\u961f\u5217\u4e2d RUNNING \uff1a\u6267\u884c\u4e2d FINISHED \uff1a\u5df2\u5b8c\u6210 FAILED \uff1a\u5931\u8d25 STOPPED \uff1a\u505c\u6b62 INVALID \uff1a\u5931\u6548 \u8bf4\u660e \uff1a\u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u89c1 CREATE INDEX \u3002 \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEX STATUS; \u793a\u4f8b \u00b6 nebula> SHOW TAG INDEX STATUS; +----------------------+--------------+ | Name | Index Status | +----------------------+--------------+ | \"player_index_0\" | \"FINISHED\" | +----------------------+--------------+ | \"player_index_1\" | \"FINISHED\" | +----------------------+--------------+","title":"SHOW INDEX STATUS"},{"location":"3.ngql-guide/14.native-index-statements/5.show-native-index-status/#show_index_status","text":"SHOW INDEX STATUS \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u7d22\u5f15\u540d\u79f0\u548c\u5bf9\u5e94\u7684\u72b6\u6001\u3002 \u7d22\u5f15\u72b6\u6001\u5305\u62ec\uff1a QUEUE \uff1a\u961f\u5217\u4e2d RUNNING \uff1a\u6267\u884c\u4e2d FINISHED \uff1a\u5df2\u5b8c\u6210 FAILED \uff1a\u5931\u8d25 STOPPED \uff1a\u505c\u6b62 INVALID \uff1a\u5931\u6548 \u8bf4\u660e \uff1a\u5982\u4f55\u521b\u5efa\u7d22\u5f15\u8bf7\u53c2\u89c1 CREATE INDEX \u3002","title":"SHOW INDEX STATUS"},{"location":"3.ngql-guide/14.native-index-statements/5.show-native-index-status/#_1","text":"SHOW {TAG | EDGE} INDEX STATUS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/5.show-native-index-status/#_2","text":"nebula> SHOW TAG INDEX STATUS; +----------------------+--------------+ | Name | Index Status | +----------------------+--------------+ | \"player_index_0\" | \"FINISHED\" | +----------------------+--------------+ | \"player_index_1\" | \"FINISHED\" | +----------------------+--------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/14.native-index-statements/6.drop-native-index/","text":"DROP INDEX \u00b6 DROP INDEX \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u5df2\u5b58\u5728\u7684\u7d22\u5f15\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u6267\u884c DROP INDEX \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 DROP TAG INDEX \u548c DROP EDGE INDEX \u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8bed\u6cd5 \u00b6 DROP {TAG | EDGE} INDEX [IF EXISTS] <index_name>; IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u7d22\u5f15\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u7d22\u5f15\u3002 \u793a\u4f8b \u00b6 nebula> DROP TAG INDEX player_index_0;","title":"DROP INDEX"},{"location":"3.ngql-guide/14.native-index-statements/6.drop-native-index/#drop_index","text":"DROP INDEX \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u5df2\u5b58\u5728\u7684\u7d22\u5f15\u3002","title":"DROP INDEX"},{"location":"3.ngql-guide/14.native-index-statements/6.drop-native-index/#_1","text":"\u6267\u884c DROP INDEX \u8bed\u53e5\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 DROP TAG INDEX \u548c DROP EDGE INDEX \u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/14.native-index-statements/6.drop-native-index/#_2","text":"DROP {TAG | EDGE} INDEX [IF EXISTS] <index_name>; IF NOT EXISTS \uff1a\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u7d22\u5f15\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u7d22\u5f15\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/14.native-index-statements/6.drop-native-index/#_3","text":"nebula> DROP TAG INDEX player_index_0;","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/","text":"\u5168\u6587\u641c\u7d22 \u00b6 \u5168\u6587\u641c\u7d22\u662f\u57fa\u4e8e\u5168\u6587\u7d22\u5f15\u5bf9\u503c\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5c5e\u6027\u8fdb\u884c\u524d\u7f00\u641c\u7d22\u3001\u901a\u914d\u7b26\u641c\u7d22\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\u548c\u6a21\u7cca\u641c\u7d22\u3002 \u5728 LOOKUP \u6216 MATCH \u8bed\u53e5\u4e2d\uff0c\u4f7f\u7528 WHERE \u5b50\u53e5\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u641c\u7d22\u6761\u4ef6\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u8bf7\u786e\u4fdd\u5df2\u7ecf\u90e8\u7f72\u5168\u6587\u7d22\u5f15\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u548c \u90e8\u7f72listener \u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\uff0c\u8bf7\u786e\u8ba4\u60a8\u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002 \u81ea\u7136\u8bed\u8a00\u5168\u6587\u641c\u7d22 \u00b6 \u81ea\u7136\u8bed\u8a00\u641c\u7d22\u5c06\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u89e3\u91ca\u4e3a\u81ea\u7136\u4eba\u7c7b\u8bed\u8a00\u4e2d\u7684\u77ed\u8bed\u3002\u641c\u7d22\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 \u8bed\u6cd5 \u00b6 LOOKUP ON {<tag> | <edge_type>} WHERE <expression> [YIELD <return_list>]; <expression> ::= PREFIX | WILDCARD | REGEXP | FUZZY <return_list> <prop_name> [AS <prop_alias>] [, <prop_name> [AS <prop_alias>] ...] PREFIX(schema_name.prop_name, prefix_string, row_limit, timeout) WILDCARD(schema_name.prop_name, wildcard_string, row_limit, timeout) REGEXP(schema_name.prop_name, regexp_string, row_limit, timeout) FUZZY(schema_name.prop_name, fuzzy_string, fuzziness, operator, row_limit, timeout) fuzziness \uff1a\u53ef\u9009\u9879\u3002\u5141\u8bb8\u5339\u914d\u7684\u6700\u5927\u7f16\u8f91\u8ddd\u79bb\u3002\u9ed8\u8ba4\u503c\u4e3a AUTO \u3002\u67e5\u770b\u5176\u4ed6\u53ef\u9009\u503c\u548c\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002 operator \uff1a\u53ef\u9009\u9879\u3002\u89e3\u91ca\u6587\u672c\u7684\u5e03\u5c14\u903b\u8f91\u3002\u53ef\u9009\u503c\u4e3a OR (\u9ed8\u8ba4)\u548c and \u3002 row_limit \uff1a\u53ef\u9009\u9879\u3002\u6307\u5b9a\u8981\u8fd4\u56de\u7684\u884c\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a 100 \u3002 timeout \uff1a\u53ef\u9009\u9879\u3002\u6307\u5b9a\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u6beb\u79d2\uff08ms\uff09\u3002\u9ed8\u8ba4\u503c\u4e3a 200 \u3002 \u793a\u4f8b \u00b6 nebula> CREATE SPACE basketballplayer (partition_num=3,replica_factor=1, vid_type=fixed_string(30)); nebula> SIGN IN TEXT SERVICE (127.0.0.1:9200); nebula> USE basketballplayer; nebula> ADD LISTENER ELASTICSEARCH 192.168.8.5:46780; nebula> CREATE TAG player(name string, age int); nebula> CREATE TAG INDEX name ON player(name(20)); nebula> INSERT VERTEX player(name, age) VALUES \\ \"Russell Westbrook\": (\"Russell Westbrook\", 30), \\ \"Chris Paul\": (\"Chris Paul\", 33),\\ \"Boris Diaw\": (\"Boris Diaw\", 36),\\ \"David West\": (\"David West\", 38),\\ \"Danny Green\": (\"Danny Green\", 31),\\ \"Tim Duncan\": (\"Tim Duncan\", 42),\\ \"James Harden\": (\"James Harden\", 29),\\ \"Tony Parker\": (\"Tony Parker\", 36),\\ \"Aron Baynes\": (\"Aron Baynes\", 32),\\ \"Ben Simmons\": (\"Ben Simmons\", 22),\\ \"Blake Griffin\": (\"Blake Griffin\", 30); nebula> LOOKUP ON player WHERE PREFIX(player.name, \"B\"); +-----------------+ | _vid | +-----------------+ | \"Boris Diaw\" | +-----------------+ | \"Ben Simmons\" | +-----------------+ | \"Blake Griffin\" | +-----------------+ nebula> LOOKUP ON player WHERE WILDCARD(player.name, \"*ri*\") YIELD player.name, player.age; +-----------------+-----------------+-----+ | _vid | name | age | +-----------------+-----------------+-----+ | \"Chris Paul\" | \"Chris Paul\" | 33 | +-----------------+-----------------+-----+ | \"Boris Diaw\" | \"Boris Diaw\" | 36 | +-----------------+-----------------+-----+ | \"Blake Griffin\" | \"Blake Griffin\" | 30 | +-----------------+-----------------+-----+ nebula> LOOKUP ON player WHERE WILDCARD(player.name, \"*ri*\") | YIELD count(*); +----------+ | COUNT(*) | +----------+ | 3 | +----------+ nebula> LOOKUP ON player WHERE REGEXP(player.name, \"R.*\") YIELD player.name, player.age; +---------------------+---------------------+-----+ | _vid | name | age | +---------------------+---------------------+-----+ | \"Russell Westbrook\" | \"Russell Westbrook\" | 30 | +---------------------+---------------------+-----+ nebula> LOOKUP ON player WHERE REGEXP(player.name, \".*\"); +---------------------+ | _vid | +---------------------+ | \"Danny Green\" | +---------------------+ | \"David West\" | +---------------------+ | \"Russell Westbrook\" | +---------------------+ ... nebula> LOOKUP ON player WHERE FUZZY(player.name, \"Tim Dunncan\", AUTO, OR) YIELD player.name; +--------------+--------------+ | _vid | name | +--------------+--------------+ | \"Tim Duncan\" | \"Tim Duncan\" | +--------------+--------------+","title":"\u5168\u6587\u641c\u7d22"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_1","text":"\u5168\u6587\u641c\u7d22\u662f\u57fa\u4e8e\u5168\u6587\u7d22\u5f15\u5bf9\u503c\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5c5e\u6027\u8fdb\u884c\u524d\u7f00\u641c\u7d22\u3001\u901a\u914d\u7b26\u641c\u7d22\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\u548c\u6a21\u7cca\u641c\u7d22\u3002 \u5728 LOOKUP \u6216 MATCH \u8bed\u53e5\u4e2d\uff0c\u4f7f\u7528 WHERE \u5b50\u53e5\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u641c\u7d22\u6761\u4ef6\u3002","title":"\u5168\u6587\u641c\u7d22"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_2","text":"\u8bf7\u786e\u4fdd\u5df2\u7ecf\u90e8\u7f72\u5168\u6587\u7d22\u5f15\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u548c \u90e8\u7f72listener \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_3","text":"\u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\uff0c\u8bf7\u786e\u8ba4\u60a8\u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_4","text":"\u81ea\u7136\u8bed\u8a00\u641c\u7d22\u5c06\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u89e3\u91ca\u4e3a\u81ea\u7136\u4eba\u7c7b\u8bed\u8a00\u4e2d\u7684\u77ed\u8bed\u3002\u641c\u7d22\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002","title":"\u81ea\u7136\u8bed\u8a00\u5168\u6587\u641c\u7d22"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_5","text":"LOOKUP ON {<tag> | <edge_type>} WHERE <expression> [YIELD <return_list>]; <expression> ::= PREFIX | WILDCARD | REGEXP | FUZZY <return_list> <prop_name> [AS <prop_alias>] [, <prop_name> [AS <prop_alias>] ...] PREFIX(schema_name.prop_name, prefix_string, row_limit, timeout) WILDCARD(schema_name.prop_name, wildcard_string, row_limit, timeout) REGEXP(schema_name.prop_name, regexp_string, row_limit, timeout) FUZZY(schema_name.prop_name, fuzzy_string, fuzziness, operator, row_limit, timeout) fuzziness \uff1a\u53ef\u9009\u9879\u3002\u5141\u8bb8\u5339\u914d\u7684\u6700\u5927\u7f16\u8f91\u8ddd\u79bb\u3002\u9ed8\u8ba4\u503c\u4e3a AUTO \u3002\u67e5\u770b\u5176\u4ed6\u53ef\u9009\u503c\u548c\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002 operator \uff1a\u53ef\u9009\u9879\u3002\u89e3\u91ca\u6587\u672c\u7684\u5e03\u5c14\u903b\u8f91\u3002\u53ef\u9009\u503c\u4e3a OR (\u9ed8\u8ba4)\u548c and \u3002 row_limit \uff1a\u53ef\u9009\u9879\u3002\u6307\u5b9a\u8981\u8fd4\u56de\u7684\u884c\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a 100 \u3002 timeout \uff1a\u53ef\u9009\u9879\u3002\u6307\u5b9a\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u6beb\u79d2\uff08ms\uff09\u3002\u9ed8\u8ba4\u503c\u4e3a 200 \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/15.full-text-index-statements/1.search-with-text-based-index/#_6","text":"nebula> CREATE SPACE basketballplayer (partition_num=3,replica_factor=1, vid_type=fixed_string(30)); nebula> SIGN IN TEXT SERVICE (127.0.0.1:9200); nebula> USE basketballplayer; nebula> ADD LISTENER ELASTICSEARCH 192.168.8.5:46780; nebula> CREATE TAG player(name string, age int); nebula> CREATE TAG INDEX name ON player(name(20)); nebula> INSERT VERTEX player(name, age) VALUES \\ \"Russell Westbrook\": (\"Russell Westbrook\", 30), \\ \"Chris Paul\": (\"Chris Paul\", 33),\\ \"Boris Diaw\": (\"Boris Diaw\", 36),\\ \"David West\": (\"David West\", 38),\\ \"Danny Green\": (\"Danny Green\", 31),\\ \"Tim Duncan\": (\"Tim Duncan\", 42),\\ \"James Harden\": (\"James Harden\", 29),\\ \"Tony Parker\": (\"Tony Parker\", 36),\\ \"Aron Baynes\": (\"Aron Baynes\", 32),\\ \"Ben Simmons\": (\"Ben Simmons\", 22),\\ \"Blake Griffin\": (\"Blake Griffin\", 30); nebula> LOOKUP ON player WHERE PREFIX(player.name, \"B\"); +-----------------+ | _vid | +-----------------+ | \"Boris Diaw\" | +-----------------+ | \"Ben Simmons\" | +-----------------+ | \"Blake Griffin\" | +-----------------+ nebula> LOOKUP ON player WHERE WILDCARD(player.name, \"*ri*\") YIELD player.name, player.age; +-----------------+-----------------+-----+ | _vid | name | age | +-----------------+-----------------+-----+ | \"Chris Paul\" | \"Chris Paul\" | 33 | +-----------------+-----------------+-----+ | \"Boris Diaw\" | \"Boris Diaw\" | 36 | +-----------------+-----------------+-----+ | \"Blake Griffin\" | \"Blake Griffin\" | 30 | +-----------------+-----------------+-----+ nebula> LOOKUP ON player WHERE WILDCARD(player.name, \"*ri*\") | YIELD count(*); +----------+ | COUNT(*) | +----------+ | 3 | +----------+ nebula> LOOKUP ON player WHERE REGEXP(player.name, \"R.*\") YIELD player.name, player.age; +---------------------+---------------------+-----+ | _vid | name | age | +---------------------+---------------------+-----+ | \"Russell Westbrook\" | \"Russell Westbrook\" | 30 | +---------------------+---------------------+-----+ nebula> LOOKUP ON player WHERE REGEXP(player.name, \".*\"); +---------------------+ | _vid | +---------------------+ | \"Danny Green\" | +---------------------+ | \"David West\" | +---------------------+ | \"Russell Westbrook\" | +---------------------+ ... nebula> LOOKUP ON player WHERE FUZZY(player.name, \"Tim Dunncan\", AUTO, OR) YIELD player.name; +--------------+--------------+ | _vid | name | +--------------+--------------+ | \"Tim Duncan\" | \"Tim Duncan\" | +--------------+--------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/16.subgraph-and-path/1.get-subgraph/","text":"GET SUBGRAPH \u00b6 GET SUBGRAPH \u8bed\u53e5\u68c0\u7d22\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8d77\u59cb\u70b9\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\uff0c\u8fd4\u56de\u5b50\u56fe\u4fe1\u606f\u3002 \u8bed\u6cd5 \u00b6 GET SUBGRAPH [<step_count> STEPS] FROM {<vid>, <vid>...} [IN <edge_type>, <edge_type>...] [OUT <edge_type>, <edge_type>...] [BOTH <edge_type>, <edge_type>...]; step_count \uff1a\u6307\u5b9a\u4ece\u8d77\u59cb\u70b9\u5f00\u59cb\u7684\u8df3\u6570\uff0c\u8fd4\u56de\u4ece0\u5230 step_count \u8df3\u7684\u5b50\u56fe\u3002\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a1\u3002 vid \uff1a\u6307\u5b9a\u8d77\u59cb\u70b9ID\u3002 edge_type \uff1a\u6307\u5b9a\u8fb9\u7c7b\u578b\u3002\u53ef\u4ee5\u7528 IN \u3001 OUT \u548c BOTH \u6765\u6307\u5b9a\u8d77\u59cb\u70b9\u4e0a\u8be5\u8fb9\u7c7b\u578b\u7684\u65b9\u5411\u3002\u9ed8\u8ba4\u4e3a BOTH \u3002 \u793a\u4f8b \u00b6 \u4ee5\u4e0b\u9762\u7684\u793a\u4f8b\u56fe\u8fdb\u884c\u6f14\u793a\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001\u6240\u6709\u8fb9\u7c7b\u578b\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\"; +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | _vertices | _edges | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | [(player100) player.name:Tim,player.age:42] | [player100-[follow]->player101@0 degree:96,player100-[follow]->player102@0 degree:90,player100-[serve]->team200@0 end_year:2016,start_year:1997] | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | [(player101) player.age:36,player.name:Tony Parker,(player102) player.age:33,player.name:LaMarcus Aldridge,(team200) team.name:Warriors] | [player102-[follow]->player101@0 degree:75] | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ \u8fd4\u56de\u7684\u5b50\u56fe\u5982\u4e0b\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001 follow \u7c7b\u578b\u7684\u5165\u8fb9\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\" IN follow; +-----------+--------+ | _vertices | _edges | +-----------+--------+ | [] | [] | +-----------+--------+ | [] | [] | +-----------+--------+ \u56e0\u4e3a player100 \u6ca1\u6709 follow \u7c7b\u578b\u7684\u5165\u8fb9\u3002\u6240\u4ee5\u8fd4\u56de\u7684\u5b50\u56fe\u4e3a\u7a7a\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001 serve \u7c7b\u578b\u7684\u51fa\u8fb9\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\" OUT serve; +---------------------------------------------+--------------------------------------------------------------+ | _vertices | _edges | +---------------------------------------------+--------------------------------------------------------------+ | [(player100) player.age:42,player.name:Tim] | [player100-[serve]->team200@0 start_year:1997,end_year:2016] | +---------------------------------------------+--------------------------------------------------------------+ | [(team200) team.name:Warriors] | [] | +---------------------------------------------+--------------------------------------------------------------+ \u8fd4\u56de\u7684\u5b50\u56fe\u5982\u4e0b\u3002","title":"GET SUBGRAPH"},{"location":"3.ngql-guide/16.subgraph-and-path/1.get-subgraph/#get_subgraph","text":"GET SUBGRAPH \u8bed\u53e5\u68c0\u7d22\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8d77\u59cb\u70b9\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\uff0c\u8fd4\u56de\u5b50\u56fe\u4fe1\u606f\u3002","title":"GET SUBGRAPH"},{"location":"3.ngql-guide/16.subgraph-and-path/1.get-subgraph/#_1","text":"GET SUBGRAPH [<step_count> STEPS] FROM {<vid>, <vid>...} [IN <edge_type>, <edge_type>...] [OUT <edge_type>, <edge_type>...] [BOTH <edge_type>, <edge_type>...]; step_count \uff1a\u6307\u5b9a\u4ece\u8d77\u59cb\u70b9\u5f00\u59cb\u7684\u8df3\u6570\uff0c\u8fd4\u56de\u4ece0\u5230 step_count \u8df3\u7684\u5b50\u56fe\u3002\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a1\u3002 vid \uff1a\u6307\u5b9a\u8d77\u59cb\u70b9ID\u3002 edge_type \uff1a\u6307\u5b9a\u8fb9\u7c7b\u578b\u3002\u53ef\u4ee5\u7528 IN \u3001 OUT \u548c BOTH \u6765\u6307\u5b9a\u8d77\u59cb\u70b9\u4e0a\u8be5\u8fb9\u7c7b\u578b\u7684\u65b9\u5411\u3002\u9ed8\u8ba4\u4e3a BOTH \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/16.subgraph-and-path/1.get-subgraph/#_2","text":"\u4ee5\u4e0b\u9762\u7684\u793a\u4f8b\u56fe\u8fdb\u884c\u6f14\u793a\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001\u6240\u6709\u8fb9\u7c7b\u578b\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\"; +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | _vertices | _edges | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | [(player100) player.name:Tim,player.age:42] | [player100-[follow]->player101@0 degree:96,player100-[follow]->player102@0 degree:90,player100-[serve]->team200@0 end_year:2016,start_year:1997] | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ | [(player101) player.age:36,player.name:Tony Parker,(player102) player.age:33,player.name:LaMarcus Aldridge,(team200) team.name:Warriors] | [player102-[follow]->player101@0 degree:75] | +--------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+ \u8fd4\u56de\u7684\u5b50\u56fe\u5982\u4e0b\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001 follow \u7c7b\u578b\u7684\u5165\u8fb9\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\" IN follow; +-----------+--------+ | _vertices | _edges | +-----------+--------+ | [] | [] | +-----------+--------+ | [] | [] | +-----------+--------+ \u56e0\u4e3a player100 \u6ca1\u6709 follow \u7c7b\u578b\u7684\u5165\u8fb9\u3002\u6240\u4ee5\u8fd4\u56de\u7684\u5b50\u56fe\u4e3a\u7a7a\u3002 \u67e5\u8be2\u4ece\u70b9 player100 \u5f00\u59cb\u30010~1\u8df3\u3001 serve \u7c7b\u578b\u7684\u51fa\u8fb9\u7684\u5b50\u56fe\u3002 nebula> GET SUBGRAPH 1 STEPS FROM \"player100\" OUT serve; +---------------------------------------------+--------------------------------------------------------------+ | _vertices | _edges | +---------------------------------------------+--------------------------------------------------------------+ | [(player100) player.age:42,player.name:Tim] | [player100-[serve]->team200@0 start_year:1997,end_year:2016] | +---------------------------------------------+--------------------------------------------------------------+ | [(team200) team.name:Warriors] | [] | +---------------------------------------------+--------------------------------------------------------------+ \u8fd4\u56de\u7684\u5b50\u56fe\u5982\u4e0b\u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/","text":"FIND PATH \u00b6 FIND PATH \u8bed\u53e5\u67e5\u627e\u6307\u5b9a\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u3002 \u8bed\u6cd5 \u00b6 FIND { SHORTEST | ALL | NOLOOP } PATH FROM <vertex_id_list> TO <vertex_id_list> OVER <edge_type_list> [REVERSELY | BIDIRECT] [UPTO <N> STEPS] [| ORDER BY $-.path] [| LIMIT <M>]; <vertex_id_list> ::= [vertex_id [, vertex_id] ...] SHORTEST \uff1a\u67e5\u627e\u6700\u77ed\u8def\u5f84\u3002 ALL \uff1a\u67e5\u627e\u6240\u6709\u8def\u5f84\u3002 NOLOOP \uff1a\u67e5\u627e\u975e\u5faa\u73af\u8def\u5f84\u3002 <vertex_id_list> \uff1a\u70b9ID\u5217\u8868.\u591a\u4e2a\u70b9\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u652f\u6301 $- \u548c $var \u3002 <edge_type_list> \uff1a\u8fb9\u7c7b\u578b\u5217\u8868.\u591a\u4e2a\u8fb9\u7c7b\u578b\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 * \u8868\u793a\u6240\u6709\u8fb9\u7c7b\u578b\u3002 REVERSELY | BIDIRECT \uff1a REVERSELY \u8868\u793a\u53cd\u5411\uff0c BIDIRECT \u8868\u793a\u53cc\u5411\u3002 <N> \uff1a\u8def\u5f84\u7684\u6700\u5927\u8df3\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a 5 \u3002 <M> \uff1a\u6307\u5b9a\u8fd4\u56de\u7684\u6700\u5927\u884c\u6570\u3002 \u9650\u5236 \u00b6 \u6307\u5b9a\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u7684\u5217\u8868\u540e\uff0c\u4f1a\u8fd4\u56de\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u6240\u6709\u7ec4\u5408\u7684\u8def\u5f84\u3002 \u641c\u7d22\u6240\u6709\u8def\u5f84\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u5faa\u73af\u3002 \u4e0d\u652f\u6301\u8fc7\u6ee4\u5c5e\u6027\u3002 \u8def\u5f84\u7684\u67e5\u627e\u662f\u5355\u7ebf\u7a0b\uff0c\u4f1a\u5360\u7528\u5f88\u591a\u5185\u5b58\u3002 \u793a\u4f8b \u00b6 \u8fd4\u56de\u7684\u8def\u5f84\u683c\u5f0f\u7c7b\u4f3c\u4e8e (<vertex_id>)-[:<edge_type_name>@<rank>]->(<vertex_id) \u3002 nebula> FIND SHORTEST PATH FROM \"player102\" TO \"team201\" OVER *; +------------------------------------------------------------------+ | path | +------------------------------------------------------------------+ | (\"player102\")-[:follow@0]->(\"player101\")-[:serve@0]->(\"team201\") | +------------------------------------------------------------------+ nebula> FIND SHORTEST PATH FROM \"team200\" TO \"player100\" OVER * REVERSELY; +---------------------------------------+ | path | +---------------------------------------+ | (\"team200\")<-[:serve@0]-(\"player100\") | +---------------------------------------+ nebula> FIND ALL PATH FROM \"player100\" TO \"team200\" OVER *; +---------------------------------------+ | path | +---------------------------------------+ | (\"player100\")-[:serve@0]->(\"team200\") | +---------------------------------------+ nebula> FIND NOLOOP PATH FROM \"player100\" TO \"team200\" OVER *; +---------------------------------------+ | path | +---------------------------------------+ | (\"player100\")-[:serve@0]->(\"team200\") | +---------------------------------------+ FAQ \u00b6 \u662f\u5426\u652f\u6301WHERE\u5b50\u53e5\uff0c\u4ee5\u5b9e\u73b0\u56fe\u904d\u5386\u8fc7\u7a0b\u4e2d\u7684\u6761\u4ef6\u8fc7\u6ee4? \u00b6 \u4e0d\u652f\u6301WHERE\u5b50\u53e5\uff0c\u56e0\u6b64\u4e0d\u80fd\u5728\u904d\u5386\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u6761\u4ef6\u8fc7\u6ee4\u3002","title":"FIND PATH"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#find_path","text":"FIND PATH \u8bed\u53e5\u67e5\u627e\u6307\u5b9a\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u3002","title":"FIND PATH"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#_1","text":"FIND { SHORTEST | ALL | NOLOOP } PATH FROM <vertex_id_list> TO <vertex_id_list> OVER <edge_type_list> [REVERSELY | BIDIRECT] [UPTO <N> STEPS] [| ORDER BY $-.path] [| LIMIT <M>]; <vertex_id_list> ::= [vertex_id [, vertex_id] ...] SHORTEST \uff1a\u67e5\u627e\u6700\u77ed\u8def\u5f84\u3002 ALL \uff1a\u67e5\u627e\u6240\u6709\u8def\u5f84\u3002 NOLOOP \uff1a\u67e5\u627e\u975e\u5faa\u73af\u8def\u5f84\u3002 <vertex_id_list> \uff1a\u70b9ID\u5217\u8868.\u591a\u4e2a\u70b9\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u652f\u6301 $- \u548c $var \u3002 <edge_type_list> \uff1a\u8fb9\u7c7b\u578b\u5217\u8868.\u591a\u4e2a\u8fb9\u7c7b\u578b\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 * \u8868\u793a\u6240\u6709\u8fb9\u7c7b\u578b\u3002 REVERSELY | BIDIRECT \uff1a REVERSELY \u8868\u793a\u53cd\u5411\uff0c BIDIRECT \u8868\u793a\u53cc\u5411\u3002 <N> \uff1a\u8def\u5f84\u7684\u6700\u5927\u8df3\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a 5 \u3002 <M> \uff1a\u6307\u5b9a\u8fd4\u56de\u7684\u6700\u5927\u884c\u6570\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#_2","text":"\u6307\u5b9a\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u7684\u5217\u8868\u540e\uff0c\u4f1a\u8fd4\u56de\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u6240\u6709\u7ec4\u5408\u7684\u8def\u5f84\u3002 \u641c\u7d22\u6240\u6709\u8def\u5f84\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u5faa\u73af\u3002 \u4e0d\u652f\u6301\u8fc7\u6ee4\u5c5e\u6027\u3002 \u8def\u5f84\u7684\u67e5\u627e\u662f\u5355\u7ebf\u7a0b\uff0c\u4f1a\u5360\u7528\u5f88\u591a\u5185\u5b58\u3002","title":"\u9650\u5236"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#_3","text":"\u8fd4\u56de\u7684\u8def\u5f84\u683c\u5f0f\u7c7b\u4f3c\u4e8e (<vertex_id>)-[:<edge_type_name>@<rank>]->(<vertex_id) \u3002 nebula> FIND SHORTEST PATH FROM \"player102\" TO \"team201\" OVER *; +------------------------------------------------------------------+ | path | +------------------------------------------------------------------+ | (\"player102\")-[:follow@0]->(\"player101\")-[:serve@0]->(\"team201\") | +------------------------------------------------------------------+ nebula> FIND SHORTEST PATH FROM \"team200\" TO \"player100\" OVER * REVERSELY; +---------------------------------------+ | path | +---------------------------------------+ | (\"team200\")<-[:serve@0]-(\"player100\") | +---------------------------------------+ nebula> FIND ALL PATH FROM \"player100\" TO \"team200\" OVER *; +---------------------------------------+ | path | +---------------------------------------+ | (\"player100\")-[:serve@0]->(\"team200\") | +---------------------------------------+ nebula> FIND NOLOOP PATH FROM \"player100\" TO \"team200\" OVER *; +---------------------------------------+ | path | +---------------------------------------+ | (\"player100\")-[:serve@0]->(\"team200\") | +---------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#faq","text":"","title":"FAQ"},{"location":"3.ngql-guide/16.subgraph-and-path/2.find-path/#where","text":"\u4e0d\u652f\u6301WHERE\u5b50\u53e5\uff0c\u56e0\u6b64\u4e0d\u80fd\u5728\u904d\u5386\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u6761\u4ef6\u8fc7\u6ee4\u3002","title":"\u662f\u5426\u652f\u6301WHERE\u5b50\u53e5\uff0c\u4ee5\u5b9e\u73b0\u56fe\u904d\u5386\u8fc7\u7a0b\u4e2d\u7684\u6761\u4ef6\u8fc7\u6ee4?"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/","text":"EXPLAIN\u548cPROFILE \u00b6 EXPLAIN \u8bed\u53e5\u8f93\u51fanGQL\u8bed\u53e5\u7684\u6267\u884c\u8ba1\u5212\uff0c\u4f46\u4e0d\u4f1a\u6267\u884cnGQL\u8bed\u53e5\u3002 PROFILE \u8bed\u53e5\u6267\u884cnGQL\u8bed\u53e5\uff0c\u7136\u540e\u8f93\u51fa\u6267\u884c\u8ba1\u5212\u548c\u6267\u884c\u6982\u8981\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u6267\u884c\u8ba1\u5212\u548c\u6267\u884c\u6982\u8981\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002 \u6267\u884c\u8ba1\u5212 \u00b6 \u6267\u884c\u8ba1\u5212\u7531Nebula Graph\u67e5\u8be2\u5f15\u64ce\u4e2d\u7684\u6267\u884c\u8ba1\u5212\u5668\u51b3\u5b9a\u3002 \u6267\u884c\u8ba1\u5212\u5668\u5c06\u89e3\u6790\u540e\u7684nGQL\u8bed\u53e5\u5904\u7406\u4e3a action \u3002 action \u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u5143\u3002\u5178\u578b\u7684 action \u5305\u62ec\u83b7\u53d6\u6307\u5b9a\u70b9\u7684\u6240\u6709\u90bb\u5c45\u3001\u83b7\u53d6\u8fb9\u7684\u5c5e\u6027\u3001\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u70b9\u6216\u8fb9\u7b49\u3002\u6bcf\u4e2a action \u90fd\u88ab\u5206\u914d\u7ed9\u4e00\u4e2a operator \u3002 \u4f8b\u5982 SHOW TAGS \u8bed\u53e5\u5206\u4e3a\u4e24\u4e2a action \uff0c operator \u4e3a Start \u548c ShowTags \u3002\u66f4\u590d\u6742\u7684 GO \u8bed\u53e5\u53ef\u80fd\u4f1a\u88ab\u5904\u7406\u621010\u4e2a\u4ee5\u4e0a\u7684 action \u3002 \u8bed\u6cd5 \u00b6 EXPLAIN EXPLAIN [format=\"row\" | \"dot\"] <your_nGQL_statement>; PROFILE PROFILE [format=\"row\" | \"dot\"] <your_nGQL_statement>; \u8f93\u51fa\u683c\u5f0f \u00b6 EXPLAIN \u6216 PROFILE \u8bed\u53e5\u7684\u8f93\u51fa\u6709\u4e24\u79cd\u683c\u5f0f\uff1a row \uff08\u9ed8\u8ba4\uff09\u548c dot \u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 format \u9009\u9879\u4fee\u6539\u8f93\u51fa\u683c\u5f0f\u3002 row \u683c\u5f0f \u00b6 row \u683c\u5f0f\u5c06\u8fd4\u56de\u4fe1\u606f\u8f93\u51fa\u5230\u4e00\u4e2a\u8868\u683c\u4e2d\u3002 EXPLAIN nebula> EXPLAIN format=\"row\" SHOW TAGS; Execution succeeded (time spent 327/892 us) Execution Plan -----+----------+--------------+----------------+---------------------------------------------------------------------- | id | name | dependencies | profiling data | operator info | -----+----------+--------------+----------------+---------------------------------------------------------------------- | 1 | ShowTags | 0 | | outputVar: [{\"colNames\":[],\"name\":\"__ShowTags_1\",\"type\":\"DATASET\"}] | | | | | | inputVar: | -----+----------+--------------+----------------+---------------------------------------------------------------------- | 0 | Start | | | outputVar: [{\"colNames\":[],\"name\":\"__Start_0\",\"type\":\"DATASET\"}] | -----+----------+--------------+----------------+---------------------------------------------------------------------- PROFILE nebula> PROFILE format=\"row\" SHOW TAGS; +--------+ | Name | +--------+ | player | +--------+ | team | +--------+ Got 2 rows (time spent 2038/2728 us) Execution Plan -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | id | name | dependencies | profiling data | operator info | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | 1 | ShowTags | 0 | ver: 0, rows: 1, execTime: 42us, totalTime: 1177us | outputVar: [{\"colNames\":[],\"name\":\"__ShowTags_1\",\"type\":\"DATASET\"}] | | | | | | inputVar: | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | 0 | Start | | ver: 0, rows: 0, execTime: 1us, totalTime: 57us | outputVar: [{\"colNames\":[],\"name\":\"__Start_0\",\"type\":\"DATASET\"}] | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- \u53c2\u6570 \u8bf4\u660e id operator \u7684ID\u3002 name operator \u7684\u540d\u79f0\u3002 dependencies \u5f53\u524d operator \u6240\u4f9d\u8d56\u7684 operator \u7684ID\u3002 profiling data \u6267\u884c\u6982\u8981\u6587\u4ef6\u5185\u5bb9\u3002 ver \u8868\u793a operator \u7684\u7248\u672c\uff1b rows \u8868\u793a operator \u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\uff1b execTime \u8868\u793a\u6267\u884c action \u7684\u65f6\u95f4\uff1b totalTime \u8868\u793a\u6267\u884c action \u7684\u65f6\u95f4\u3001\u7cfb\u7edf\u8c03\u5ea6\u65f6\u95f4\u3001\u6392\u961f\u65f6\u95f4\u7684\u603b\u548c\u3002 operator info operator \u7684\u8be6\u7ec6\u4fe1\u606f\u3002 dot \u683c\u5f0f \u00b6 dot \u683c\u5f0f\u5c06\u8fd4\u56deDOT\u8bed\u8a00\u7684\u4fe1\u606f\uff0c\u7136\u540e\u60a8\u53ef\u4ee5\u4f7f\u7528Graphviz\u751f\u6210\u8ba1\u5212\u56fe\u3002 \u8bf4\u660e \uff1aGraphviz\u662f\u4e00\u6b3e\u5f00\u6e90\u53ef\u89c6\u5316\u56fe\u5de5\u5177\uff0c\u53ef\u4ee5\u7ed8\u5236DOT\u8bed\u8a00\u811a\u672c\u63cf\u8ff0\u7684\u56fe\u3002Graphviz\u63d0\u4f9b\u4e00\u4e2a\u5728\u7ebf\u5de5\u5177\uff0c\u53ef\u4ee5\u9884\u89c8DOT\u8bed\u8a00\u6587\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u5bfc\u51fa\u4e3aSVG\u6216JSON\u7b49\u5176\u4ed6\u683c\u5f0f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Graphviz Online \u3002 nebula> EXPLAIN format=\"dot\" SHOW TAGS; Execution succeeded (time spent 161/665 us) Execution Plan --------------------------------------------------------------------------------------------------------------------------------------------- ------------- plan --------------------------------------------------------------------------------------------------------------------------------------------- ------------- digraph exec_plan { rankdir=LR; \"ShowTags_0\"[label=\"ShowTags_0|outputVar: \\[\\{\\\"colNames\\\":\\[\\],\\\"name\\\":\\\"__ShowTags_0\\\",\\\"type\\\":\\\"DATASET\\\"\\}\\]\\l|inputVar:\\l\", shape=Mrecord]; \"Start_2\"->\"ShowTags_0\"; \"Start_2\"[label=\"Start_2|outputVar: \\[\\{\\\"colNames\\\":\\[\\],\\\"name\\\":\\\"__Start_2\\\",\\\"type\\\":\\\"DATASET\\\"\\}\\]\\l|inputVar: \\l\", shape=Mrecord]; } --------------------------------------------------------------------------------------------------------------------------------------------- ------------- \u5c06\u4e0a\u8ff0\u793a\u4f8b\u7684DOT\u8bed\u8a00\u8f6c\u6362\u4e3aGraphviz\u56fe\uff0c\u5982\u4e0b\u6240\u793a\u3002","title":"EXPLAIN\u548cPROFILE"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#explainprofile","text":"EXPLAIN \u8bed\u53e5\u8f93\u51fanGQL\u8bed\u53e5\u7684\u6267\u884c\u8ba1\u5212\uff0c\u4f46\u4e0d\u4f1a\u6267\u884cnGQL\u8bed\u53e5\u3002 PROFILE \u8bed\u53e5\u6267\u884cnGQL\u8bed\u53e5\uff0c\u7136\u540e\u8f93\u51fa\u6267\u884c\u8ba1\u5212\u548c\u6267\u884c\u6982\u8981\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u6267\u884c\u8ba1\u5212\u548c\u6267\u884c\u6982\u8981\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002","title":"EXPLAIN\u548cPROFILE"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#_1","text":"\u6267\u884c\u8ba1\u5212\u7531Nebula Graph\u67e5\u8be2\u5f15\u64ce\u4e2d\u7684\u6267\u884c\u8ba1\u5212\u5668\u51b3\u5b9a\u3002 \u6267\u884c\u8ba1\u5212\u5668\u5c06\u89e3\u6790\u540e\u7684nGQL\u8bed\u53e5\u5904\u7406\u4e3a action \u3002 action \u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u5143\u3002\u5178\u578b\u7684 action \u5305\u62ec\u83b7\u53d6\u6307\u5b9a\u70b9\u7684\u6240\u6709\u90bb\u5c45\u3001\u83b7\u53d6\u8fb9\u7684\u5c5e\u6027\u3001\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u70b9\u6216\u8fb9\u7b49\u3002\u6bcf\u4e2a action \u90fd\u88ab\u5206\u914d\u7ed9\u4e00\u4e2a operator \u3002 \u4f8b\u5982 SHOW TAGS \u8bed\u53e5\u5206\u4e3a\u4e24\u4e2a action \uff0c operator \u4e3a Start \u548c ShowTags \u3002\u66f4\u590d\u6742\u7684 GO \u8bed\u53e5\u53ef\u80fd\u4f1a\u88ab\u5904\u7406\u621010\u4e2a\u4ee5\u4e0a\u7684 action \u3002","title":"\u6267\u884c\u8ba1\u5212"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#_2","text":"EXPLAIN EXPLAIN [format=\"row\" | \"dot\"] <your_nGQL_statement>; PROFILE PROFILE [format=\"row\" | \"dot\"] <your_nGQL_statement>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#_3","text":"EXPLAIN \u6216 PROFILE \u8bed\u53e5\u7684\u8f93\u51fa\u6709\u4e24\u79cd\u683c\u5f0f\uff1a row \uff08\u9ed8\u8ba4\uff09\u548c dot \u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 format \u9009\u9879\u4fee\u6539\u8f93\u51fa\u683c\u5f0f\u3002","title":"\u8f93\u51fa\u683c\u5f0f"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#row","text":"row \u683c\u5f0f\u5c06\u8fd4\u56de\u4fe1\u606f\u8f93\u51fa\u5230\u4e00\u4e2a\u8868\u683c\u4e2d\u3002 EXPLAIN nebula> EXPLAIN format=\"row\" SHOW TAGS; Execution succeeded (time spent 327/892 us) Execution Plan -----+----------+--------------+----------------+---------------------------------------------------------------------- | id | name | dependencies | profiling data | operator info | -----+----------+--------------+----------------+---------------------------------------------------------------------- | 1 | ShowTags | 0 | | outputVar: [{\"colNames\":[],\"name\":\"__ShowTags_1\",\"type\":\"DATASET\"}] | | | | | | inputVar: | -----+----------+--------------+----------------+---------------------------------------------------------------------- | 0 | Start | | | outputVar: [{\"colNames\":[],\"name\":\"__Start_0\",\"type\":\"DATASET\"}] | -----+----------+--------------+----------------+---------------------------------------------------------------------- PROFILE nebula> PROFILE format=\"row\" SHOW TAGS; +--------+ | Name | +--------+ | player | +--------+ | team | +--------+ Got 2 rows (time spent 2038/2728 us) Execution Plan -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | id | name | dependencies | profiling data | operator info | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | 1 | ShowTags | 0 | ver: 0, rows: 1, execTime: 42us, totalTime: 1177us | outputVar: [{\"colNames\":[],\"name\":\"__ShowTags_1\",\"type\":\"DATASET\"}] | | | | | | inputVar: | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- | 0 | Start | | ver: 0, rows: 0, execTime: 1us, totalTime: 57us | outputVar: [{\"colNames\":[],\"name\":\"__Start_0\",\"type\":\"DATASET\"}] | -----+----------+--------------+----------------------------------------------------+---------------------------------------------------------------------- \u53c2\u6570 \u8bf4\u660e id operator \u7684ID\u3002 name operator \u7684\u540d\u79f0\u3002 dependencies \u5f53\u524d operator \u6240\u4f9d\u8d56\u7684 operator \u7684ID\u3002 profiling data \u6267\u884c\u6982\u8981\u6587\u4ef6\u5185\u5bb9\u3002 ver \u8868\u793a operator \u7684\u7248\u672c\uff1b rows \u8868\u793a operator \u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\uff1b execTime \u8868\u793a\u6267\u884c action \u7684\u65f6\u95f4\uff1b totalTime \u8868\u793a\u6267\u884c action \u7684\u65f6\u95f4\u3001\u7cfb\u7edf\u8c03\u5ea6\u65f6\u95f4\u3001\u6392\u961f\u65f6\u95f4\u7684\u603b\u548c\u3002 operator info operator \u7684\u8be6\u7ec6\u4fe1\u606f\u3002","title":"row\u683c\u5f0f"},{"location":"3.ngql-guide/17.query-tuning-statements/1.explain-and-profile/#dot","text":"dot \u683c\u5f0f\u5c06\u8fd4\u56deDOT\u8bed\u8a00\u7684\u4fe1\u606f\uff0c\u7136\u540e\u60a8\u53ef\u4ee5\u4f7f\u7528Graphviz\u751f\u6210\u8ba1\u5212\u56fe\u3002 \u8bf4\u660e \uff1aGraphviz\u662f\u4e00\u6b3e\u5f00\u6e90\u53ef\u89c6\u5316\u56fe\u5de5\u5177\uff0c\u53ef\u4ee5\u7ed8\u5236DOT\u8bed\u8a00\u811a\u672c\u63cf\u8ff0\u7684\u56fe\u3002Graphviz\u63d0\u4f9b\u4e00\u4e2a\u5728\u7ebf\u5de5\u5177\uff0c\u53ef\u4ee5\u9884\u89c8DOT\u8bed\u8a00\u6587\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u5bfc\u51fa\u4e3aSVG\u6216JSON\u7b49\u5176\u4ed6\u683c\u5f0f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Graphviz Online \u3002 nebula> EXPLAIN format=\"dot\" SHOW TAGS; Execution succeeded (time spent 161/665 us) Execution Plan --------------------------------------------------------------------------------------------------------------------------------------------- ------------- plan --------------------------------------------------------------------------------------------------------------------------------------------- ------------- digraph exec_plan { rankdir=LR; \"ShowTags_0\"[label=\"ShowTags_0|outputVar: \\[\\{\\\"colNames\\\":\\[\\],\\\"name\\\":\\\"__ShowTags_0\\\",\\\"type\\\":\\\"DATASET\\\"\\}\\]\\l|inputVar:\\l\", shape=Mrecord]; \"Start_2\"->\"ShowTags_0\"; \"Start_2\"[label=\"Start_2|outputVar: \\[\\{\\\"colNames\\\":\\[\\],\\\"name\\\":\\\"__Start_2\\\",\\\"type\\\":\\\"DATASET\\\"\\}\\]\\l|inputVar: \\l\", shape=Mrecord]; } --------------------------------------------------------------------------------------------------------------------------------------------- ------------- \u5c06\u4e0a\u8ff0\u793a\u4f8b\u7684DOT\u8bed\u8a00\u8f6c\u6362\u4e3aGraphviz\u56fe\uff0c\u5982\u4e0b\u6240\u793a\u3002","title":"dot\u683c\u5f0f"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/2.balance-syntax/","text":"BALANCE \u00b6 BALANCE \u8bed\u53e5\u53ef\u4ee5\u8ba9Nebula Graph\u7684Storage\u670d\u52a1\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002\u66f4\u591a BALANCE \u8bed\u53e5\u793a\u4f8b\u548cStorage\u8d1f\u8f7d\u5747\u8861\uff0c\u8bf7\u53c2\u89c1 Storage\u8d1f\u8f7d\u5747\u8861 \u3002 BALANCE \u8bed\u6cd5\u8bf4\u660e\u5982\u4e0b\u3002 \u8bed\u6cd5 \u8bf4\u660e BALANCE DATA \u542f\u52a8\u4efb\u52a1\u5747\u8861\u5206\u5e03Nebula Graph\u96c6\u7fa4\u91cc\u7684\u6240\u6709\u5206\u7247\u3002\u8be5\u547d\u4ee4\u4f1a\u8fd4\u56de\u4efb\u52a1ID\uff08 balance_id \uff09\u3002 BALANCE DATA <balance_id> \u663e\u793a BALANCE DATA \u4efb\u52a1\u7684\u72b6\u6001\u3002 BALANCE DATA STOP \u505c\u6b62 BALANCE DATA \u4efb\u52a1\u3002 BALANCE DATA REMOVE <host_list> \u5728Nebula Graph\u96c6\u7fa4\u4e2d\u626b\u63cf\u5e76\u89e3\u7ed1\u6307\u5b9a\u7684Storage\u4e3b\u673a\u3002 BALANCE LEADER \u5728Nebula Graph\u96c6\u7fa4\u4e2d\u5747\u8861\u5206\u5e03leader\u3002","title":"BALANCE"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/2.balance-syntax/#balance","text":"BALANCE \u8bed\u53e5\u53ef\u4ee5\u8ba9Nebula Graph\u7684Storage\u670d\u52a1\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002\u66f4\u591a BALANCE \u8bed\u53e5\u793a\u4f8b\u548cStorage\u8d1f\u8f7d\u5747\u8861\uff0c\u8bf7\u53c2\u89c1 Storage\u8d1f\u8f7d\u5747\u8861 \u3002 BALANCE \u8bed\u6cd5\u8bf4\u660e\u5982\u4e0b\u3002 \u8bed\u6cd5 \u8bf4\u660e BALANCE DATA \u542f\u52a8\u4efb\u52a1\u5747\u8861\u5206\u5e03Nebula Graph\u96c6\u7fa4\u91cc\u7684\u6240\u6709\u5206\u7247\u3002\u8be5\u547d\u4ee4\u4f1a\u8fd4\u56de\u4efb\u52a1ID\uff08 balance_id \uff09\u3002 BALANCE DATA <balance_id> \u663e\u793a BALANCE DATA \u4efb\u52a1\u7684\u72b6\u6001\u3002 BALANCE DATA STOP \u505c\u6b62 BALANCE DATA \u4efb\u52a1\u3002 BALANCE DATA REMOVE <host_list> \u5728Nebula Graph\u96c6\u7fa4\u4e2d\u626b\u63cf\u5e76\u89e3\u7ed1\u6307\u5b9a\u7684Storage\u4e3b\u673a\u3002 BALANCE LEADER \u5728Nebula Graph\u96c6\u7fa4\u4e2d\u5747\u8861\u5206\u5e03leader\u3002","title":"BALANCE"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/","text":"\u4f5c\u4e1a\u7ba1\u7406 \u00b6 \u5728Storage\u670d\u52a1\u4e0a\u957f\u671f\u8fd0\u884c\u7684\u4efb\u52a1\u79f0\u4e3a\u4f5c\u4e1a\uff0c\u4f8b\u5982 COMPACT \u3001 FLUSH \u548c STATS \u3002 \u5982\u679c\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u91cf\u5f88\u5927\uff0c\u8fd9\u4e9b\u4f5c\u4e1a\u53ef\u80fd\u8017\u65f6\u5f88\u957f\u3002\u4f5c\u4e1a\u7ba1\u7406\u53ef\u4ee5\u5e2e\u52a9\u60a8\u6267\u884c\u3001\u67e5\u770b\u3001\u505c\u6b62\u548c\u6062\u590d\u4f5c\u4e1a\u3002 SUBMIT JOB COMPACT \u00b6 SUBMIT JOB COMPACT\u8bed\u53e5 \u4f1a\u89e6\u53d1RocksDB\u7684\u957f\u8017\u65f6 compact \u64cd\u4f5c\u3002 compact \u914d\u7f6e\u8be6\u60c5\u8bf7\u53c2\u89c1 Storage\u670d\u52a1\u914d\u7f6e \u3002 \u793a\u4f8b \u00b6 nebula> SUBMIT JOB COMPACT; +------------+ | New Job Id | +------------+ | 40 | +------------+ SUBMIT JOB FLUSH \u00b6 SUBMIT JOB FLUSH \u8bed\u53e5\u5c06\u5185\u5b58\u4e2d\u7684RocksDB memfile\u5199\u5165\u786c\u76d8\u3002 \u793a\u4f8b \u00b6 nebula> SUBMIT JOB FLUSH; +------------+ | New Job Id | +------------+ | 96 | +------------+ SUBMIT JOB STATS \u00b6 SUBMIT JOB STATS \u8bed\u53e5\u542f\u52a8\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u8be5\u4f5c\u4e1a\u5bf9\u5f53\u524d\u56fe\u7a7a\u95f4\u8fdb\u884c\u7edf\u8ba1\u3002\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 SHOW STATS \u8bed\u53e5\u5217\u51fa\u7edf\u8ba1\u7ed3\u679c\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW STATS \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5b58\u50a8\u5728Nebula Graph\u4e2d\u7684\u6570\u636e\u6709\u53d8\u5316\uff0c\u4e3a\u4e86\u83b7\u53d6\u6700\u65b0\u7684\u7edf\u8ba1\u7ed3\u679c\uff0c\u8bf7\u91cd\u65b0\u6267\u884c SUBMIT JOB STATS \u3002 \u793a\u4f8b \u00b6 nebula> SUBMIT JOB STATS; +------------+ | New Job Id | +------------+ | 97 | +------------+ SHOW JOB \u00b6 Meta\u670d\u52a1\u5c06 SUBMIT JOB \u8bf7\u6c42\u89e3\u6790\u4e3a\u591a\u4e2a\u4efb\u52a1\uff0c\u7136\u540e\u5206\u914d\u7ed9\u8fdb\u7a0bnebula-storaged\u3002 SHOW JOB <job_id> \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u4f5c\u4e1a\u548c\u76f8\u5173\u4efb\u52a1\u7684\u4fe1\u606f\u3002 job_id \u5728\u6267\u884c SUBMIT JOB \u8bed\u53e5\u65f6\u4f1a\u8fd4\u56de\u3002 \u793a\u4f8b \u00b6 nebula> SHOW JOB 96; +----------------+---------------+------------+-------------------------+-------------------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------+------------+-------------------------+-------------------------+ | 96 | \"FLUSH\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ | 0 | \"storaged2\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+-------------------------+------------+-------------------------+ | 1 | \"storaged0\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ | 2 | \"storaged1\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ \u53c2\u6570 \u8bf4\u660e Job Id(TaskId) \u7b2c\u4e00\u884c\u663e\u793a\u4f5c\u4e1aID\uff0c\u5176\u4ed6\u884c\u663e\u793a\u4f5c\u4e1a\u76f8\u5173\u7684\u4efb\u52a1ID\u3002 Command(Dest) \u7b2c\u4e00\u884c\u663e\u793a\u6267\u884c\u7684\u4f5c\u4e1a\u547d\u4ee4\u540d\u79f0\uff0c\u5176\u4ed6\u884c\u663e\u793a\u4efb\u52a1\u5bf9\u5e94\u7684nebula-storaged\u8fdb\u7a0b\u3002 Status \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u7684\u72b6\u6001\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u4f5c\u4e1a\u72b6\u6001 \u3002 Start Time \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u7684\u65f6\u95f4\u3002 Stop Time \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u7ed3\u675f\u6267\u884c\u7684\u65f6\u95f4\uff0c\u7ed3\u675f\u540e\u7684\u72b6\u6001\u5305\u62ec FINISHED \u3001 FAILED \u6216 STOPPED \u3002 \u4f5c\u4e1a\u72b6\u6001 \u00b6 \u4f5c\u4e1a\u72b6\u6001\u7684\u8bf4\u660e\u5982\u4e0b\u3002 \u72b6\u6001 \u8bf4\u660e QUEUE \u4f5c\u4e1a\u6216\u4efb\u52a1\u5728\u7b49\u5f85\u961f\u5217\u4e2d\u3002\u6b64\u9636\u6bb5 Start Time \u4e3a\u7a7a\u3002 RUNNING \u4f5c\u4e1a\u6216\u4efb\u52a1\u5728\u6267\u884c\u4e2d\u3002 Start Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 FINISHED \u4f5c\u4e1a\u6216\u4efb\u52a1\u6210\u529f\u5b8c\u6210\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 FAILED \u4f5c\u4e1a\u6216\u4efb\u52a1\u5931\u8d25\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 STOPPED \u4f5c\u4e1a\u6216\u4efb\u52a1\u505c\u6b62\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 REMOVED \u4f5c\u4e1a\u6216\u4efb\u52a1\u88ab\u5220\u9664\u3002 \u72b6\u6001\u8f6c\u6362\u7684\u8bf4\u660e\u5982\u4e0b\u3002 Queue -- running -- finished -- removed \\ \\ / \\ \\ -- failed -- / \\ \\ / \\ ---------- stopped -/ SHOW JOBS \u00b6 SHOW JOBS \u8bed\u53e5\u5217\u51fa\u6240\u6709\u672a\u8fc7\u671f\u7684\u4f5c\u4e1a\u3002 \u4f5c\u4e1a\u7684\u9ed8\u8ba4\u8fc7\u671f\u65f6\u95f4\u4e3a\u4e00\u5468\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\u8fc7\u671f\u65f6\u95f4\uff0c\u8bf7\u4fee\u6539Meta\u670d\u52a1\u7684\u53c2\u6570 job_expired_secs \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Meta\u670d\u52a1\u914d\u7f6e \u3002 \u793a\u4f8b \u00b6 nebula> SHOW JOBS; +--------+----------------------+------------+-------------------------+-------------------------+ | Job Id | Command | Status | Start Time | Stop Time | +--------+----------------------+------------+-------------------------+-------------------------+ | 97 | \"STATS\" | \"FINISHED\" | 2020-11-28T14:48:52.000 | 2020-11-28T14:48:52.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 96 | \"FLUSH\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 95 | \"STATS\" | \"FINISHED\" | 2020-11-28T13:02:11.000 | 2020-11-28T13:02:11.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 86 | \"REBUILD_EDGE_INDEX\" | \"FINISHED\" | 2020-11-26T13:38:24.000 | 2020-11-26T13:38:24.000 | +--------+----------------------+------------+-------------------------+-------------------------+ STOP JOB \u00b6 STOP JOB \u8bed\u53e5\u53ef\u4ee5\u505c\u6b62\u672a\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002 \u793a\u4f8b \u00b6 nebula> STOP JOB 22; +---------------+ | Result | +---------------+ | \"Job stopped\" | +---------------+ RECOVER JOB \u00b6 RECOVER JOB \u8bed\u53e5\u4f1a\u91cd\u65b0\u6267\u884c\u5931\u8d25\u7684\u4f5c\u4e1a\uff0c\u5e76\u8fd4\u56de\u5df2\u6062\u590d\u7684\u4f5c\u4e1a\u6570\u91cf\u3002 \u793a\u4f8b \u00b6 nebula> RECOVER JOB; +-------------------+ | Recovered job num | +-------------------+ | 5 job recovered | +-------------------+ FAQ \u00b6 \u5982\u4f55\u6392\u67e5\u4f5c\u4e1a\u95ee\u9898\uff1f \u00b6 SUBMIT JOB \u64cd\u4f5c\u4f7f\u7528\u7684\u662fHTTP\u7aef\u53e3\uff0c\u8bf7\u68c0\u67e5Storage\u670d\u52a1\u673a\u5668\u4e0a\u7684HTTP\u7aef\u53e3\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8c03\u8bd5\uff1a curl \"http://{storaged-ip}:19779/admin?space={space_name}&op=compact\"","title":"\u4f5c\u4e1a\u7ba1\u7406"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_1","text":"\u5728Storage\u670d\u52a1\u4e0a\u957f\u671f\u8fd0\u884c\u7684\u4efb\u52a1\u79f0\u4e3a\u4f5c\u4e1a\uff0c\u4f8b\u5982 COMPACT \u3001 FLUSH \u548c STATS \u3002 \u5982\u679c\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u91cf\u5f88\u5927\uff0c\u8fd9\u4e9b\u4f5c\u4e1a\u53ef\u80fd\u8017\u65f6\u5f88\u957f\u3002\u4f5c\u4e1a\u7ba1\u7406\u53ef\u4ee5\u5e2e\u52a9\u60a8\u6267\u884c\u3001\u67e5\u770b\u3001\u505c\u6b62\u548c\u6062\u590d\u4f5c\u4e1a\u3002","title":"\u4f5c\u4e1a\u7ba1\u7406"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#submit_job_compact","text":"SUBMIT JOB COMPACT\u8bed\u53e5 \u4f1a\u89e6\u53d1RocksDB\u7684\u957f\u8017\u65f6 compact \u64cd\u4f5c\u3002 compact \u914d\u7f6e\u8be6\u60c5\u8bf7\u53c2\u89c1 Storage\u670d\u52a1\u914d\u7f6e \u3002","title":"SUBMIT JOB COMPACT"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_2","text":"nebula> SUBMIT JOB COMPACT; +------------+ | New Job Id | +------------+ | 40 | +------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#submit_job_flush","text":"SUBMIT JOB FLUSH \u8bed\u53e5\u5c06\u5185\u5b58\u4e2d\u7684RocksDB memfile\u5199\u5165\u786c\u76d8\u3002","title":"SUBMIT JOB FLUSH"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_3","text":"nebula> SUBMIT JOB FLUSH; +------------+ | New Job Id | +------------+ | 96 | +------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#submit_job_stats","text":"SUBMIT JOB STATS \u8bed\u53e5\u542f\u52a8\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u8be5\u4f5c\u4e1a\u5bf9\u5f53\u524d\u56fe\u7a7a\u95f4\u8fdb\u884c\u7edf\u8ba1\u3002\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 SHOW STATS \u8bed\u53e5\u5217\u51fa\u7edf\u8ba1\u7ed3\u679c\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SHOW STATS \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5b58\u50a8\u5728Nebula Graph\u4e2d\u7684\u6570\u636e\u6709\u53d8\u5316\uff0c\u4e3a\u4e86\u83b7\u53d6\u6700\u65b0\u7684\u7edf\u8ba1\u7ed3\u679c\uff0c\u8bf7\u91cd\u65b0\u6267\u884c SUBMIT JOB STATS \u3002","title":"SUBMIT JOB STATS"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_4","text":"nebula> SUBMIT JOB STATS; +------------+ | New Job Id | +------------+ | 97 | +------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#show_job","text":"Meta\u670d\u52a1\u5c06 SUBMIT JOB \u8bf7\u6c42\u89e3\u6790\u4e3a\u591a\u4e2a\u4efb\u52a1\uff0c\u7136\u540e\u5206\u914d\u7ed9\u8fdb\u7a0bnebula-storaged\u3002 SHOW JOB <job_id> \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u4f5c\u4e1a\u548c\u76f8\u5173\u4efb\u52a1\u7684\u4fe1\u606f\u3002 job_id \u5728\u6267\u884c SUBMIT JOB \u8bed\u53e5\u65f6\u4f1a\u8fd4\u56de\u3002","title":"SHOW JOB"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_5","text":"nebula> SHOW JOB 96; +----------------+---------------+------------+-------------------------+-------------------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------+------------+-------------------------+-------------------------+ | 96 | \"FLUSH\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ | 0 | \"storaged2\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+-------------------------+------------+-------------------------+ | 1 | \"storaged0\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ | 2 | \"storaged1\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +----------------+---------------+------------+-------------------------+-------------------------+ \u53c2\u6570 \u8bf4\u660e Job Id(TaskId) \u7b2c\u4e00\u884c\u663e\u793a\u4f5c\u4e1aID\uff0c\u5176\u4ed6\u884c\u663e\u793a\u4f5c\u4e1a\u76f8\u5173\u7684\u4efb\u52a1ID\u3002 Command(Dest) \u7b2c\u4e00\u884c\u663e\u793a\u6267\u884c\u7684\u4f5c\u4e1a\u547d\u4ee4\u540d\u79f0\uff0c\u5176\u4ed6\u884c\u663e\u793a\u4efb\u52a1\u5bf9\u5e94\u7684nebula-storaged\u8fdb\u7a0b\u3002 Status \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u7684\u72b6\u6001\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u4f5c\u4e1a\u72b6\u6001 \u3002 Start Time \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u7684\u65f6\u95f4\u3002 Stop Time \u663e\u793a\u4f5c\u4e1a\u6216\u4efb\u52a1\u7ed3\u675f\u6267\u884c\u7684\u65f6\u95f4\uff0c\u7ed3\u675f\u540e\u7684\u72b6\u6001\u5305\u62ec FINISHED \u3001 FAILED \u6216 STOPPED \u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_6","text":"\u4f5c\u4e1a\u72b6\u6001\u7684\u8bf4\u660e\u5982\u4e0b\u3002 \u72b6\u6001 \u8bf4\u660e QUEUE \u4f5c\u4e1a\u6216\u4efb\u52a1\u5728\u7b49\u5f85\u961f\u5217\u4e2d\u3002\u6b64\u9636\u6bb5 Start Time \u4e3a\u7a7a\u3002 RUNNING \u4f5c\u4e1a\u6216\u4efb\u52a1\u5728\u6267\u884c\u4e2d\u3002 Start Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 FINISHED \u4f5c\u4e1a\u6216\u4efb\u52a1\u6210\u529f\u5b8c\u6210\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 FAILED \u4f5c\u4e1a\u6216\u4efb\u52a1\u5931\u8d25\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 STOPPED \u4f5c\u4e1a\u6216\u4efb\u52a1\u505c\u6b62\u3002 Stop Time \u4e3a\u8be5\u9636\u6bb5\u7684\u8d77\u59cb\u65f6\u95f4\u3002 REMOVED \u4f5c\u4e1a\u6216\u4efb\u52a1\u88ab\u5220\u9664\u3002 \u72b6\u6001\u8f6c\u6362\u7684\u8bf4\u660e\u5982\u4e0b\u3002 Queue -- running -- finished -- removed \\ \\ / \\ \\ -- failed -- / \\ \\ / \\ ---------- stopped -/","title":"\u4f5c\u4e1a\u72b6\u6001"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#show_jobs","text":"SHOW JOBS \u8bed\u53e5\u5217\u51fa\u6240\u6709\u672a\u8fc7\u671f\u7684\u4f5c\u4e1a\u3002 \u4f5c\u4e1a\u7684\u9ed8\u8ba4\u8fc7\u671f\u65f6\u95f4\u4e3a\u4e00\u5468\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\u8fc7\u671f\u65f6\u95f4\uff0c\u8bf7\u4fee\u6539Meta\u670d\u52a1\u7684\u53c2\u6570 job_expired_secs \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Meta\u670d\u52a1\u914d\u7f6e \u3002","title":"SHOW JOBS"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_7","text":"nebula> SHOW JOBS; +--------+----------------------+------------+-------------------------+-------------------------+ | Job Id | Command | Status | Start Time | Stop Time | +--------+----------------------+------------+-------------------------+-------------------------+ | 97 | \"STATS\" | \"FINISHED\" | 2020-11-28T14:48:52.000 | 2020-11-28T14:48:52.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 96 | \"FLUSH\" | \"FINISHED\" | 2020-11-28T14:14:29.000 | 2020-11-28T14:14:29.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 95 | \"STATS\" | \"FINISHED\" | 2020-11-28T13:02:11.000 | 2020-11-28T13:02:11.000 | +--------+----------------------+------------+-------------------------+-------------------------+ | 86 | \"REBUILD_EDGE_INDEX\" | \"FINISHED\" | 2020-11-26T13:38:24.000 | 2020-11-26T13:38:24.000 | +--------+----------------------+------------+-------------------------+-------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#stop_job","text":"STOP JOB \u8bed\u53e5\u53ef\u4ee5\u505c\u6b62\u672a\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002","title":"STOP JOB"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_8","text":"nebula> STOP JOB 22; +---------------+ | Result | +---------------+ | \"Job stopped\" | +---------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#recover_job","text":"RECOVER JOB \u8bed\u53e5\u4f1a\u91cd\u65b0\u6267\u884c\u5931\u8d25\u7684\u4f5c\u4e1a\uff0c\u5e76\u8fd4\u56de\u5df2\u6062\u590d\u7684\u4f5c\u4e1a\u6570\u91cf\u3002","title":"RECOVER JOB"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_9","text":"nebula> RECOVER JOB; +-------------------+ | Recovered job num | +-------------------+ | 5 job recovered | +-------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#faq","text":"","title":"FAQ"},{"location":"3.ngql-guide/18.operation-and-maintenance-statements/4.job-statements/#_10","text":"SUBMIT JOB \u64cd\u4f5c\u4f7f\u7528\u7684\u662fHTTP\u7aef\u53e3\uff0c\u8bf7\u68c0\u67e5Storage\u670d\u52a1\u673a\u5668\u4e0a\u7684HTTP\u7aef\u53e3\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8c03\u8bd5\uff1a curl \"http://{storaged-ip}:19779/admin?space={space_name}&op=compact\"","title":"\u5982\u4f55\u6392\u67e5\u4f5c\u4e1a\u95ee\u9898\uff1f"},{"location":"3.ngql-guide/20.appendix/comments/","text":"\u6ce8\u91ca \u00b6 \u672c\u6587\u4ecb\u7ecdnGQL\u4e2d\u7684\u6ce8\u91ca\u65b9\u5f0f\u3002 \u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027 \u00b6 Nebula Graph 1.0\u652f\u6301\u56db\u79cd\u6ce8\u91ca\u65b9\u5f0f: # \u3001 -- \u3001 // \u3001 /* */ \u3002 Nebula Graph 2.0\u4e2d\uff0c -- \u4e0d\u518d\u662f\u6ce8\u91ca\u7b26\uff0c\u800c\u662f\u4ee3\u8868 \u8fb9\u6a21\u5f0f \u3002 Examples \u00b6 nebula> # \u8fd9\u884c\u4ec0\u4e48\u90fd\u4e0d\u505a\u3002 nebula> RETURN 1+1; # \u8fd9\u6761\u6ce8\u91ca\u5ef6\u7eed\u5230\u884c\u5c3e\u3002 nebula> RETURN 1+1; // \u8fd9\u6761\u6ce8\u91ca\u5ef6\u7eed\u5230\u884c\u5c3e\u3002 nebula> RETURN 1 /* \u8fd9\u662f\u4e00\u6761\u884c\u5185\u6ce8\u91ca */ + 1 == 2; nebula> RETURN 11 + \\ /* \u591a\u884c\u6ce8\u91ca \\ \u7528\u53cd\u659c\u7ebf\u6765\u6362\u884c\u3002 \\ */ 12; nGQL\u8bed\u53e5\u4e2d\u7684\u53cd\u659c\u7ebf\uff08\\\uff09\u4ee3\u8868\u6362\u884c\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 \u5728nGQL\u4e2d\uff0c\u60a8\u5fc5\u987b\u5728\u884c\u672b\u4f7f\u7528\u53cd\u659c\u7ebf\uff08\\\uff09\u6765\u6362\u884c\uff0c\u5373\u4f7f\u662f\u5728\u4f7f\u7528 \\* *\\ \u7b26\u53f7\u7684\u591a\u884c\u6ce8\u91ca\u5185\u3002 \u5728openCypher\u4e2d\u4e0d\u9700\u8981\u4f7f\u7528\u53cd\u659c\u7ebf\u6362\u884c\u3002 /* openCypher\u98ce\u683c\uff1a \u8fd9\u6761\u6ce8\u91ca \u5ef6\u7eed\u4e86\u4e0d\u6b62 \u4e00\u884c */ MATCH (n:label) RETURN n; /* nGQL\u98ce\u683c\uff1a \\ \u8fd9\u6761\u6ce8\u91ca \\ \u5ef6\u7eed\u4e86\u4e0d\u6b62 \\ \u4e00\u884c */ \\ MATCH (n:tag) \\ RETURN n;","title":"\u6ce8\u91ca"},{"location":"3.ngql-guide/20.appendix/comments/#_1","text":"\u672c\u6587\u4ecb\u7ecdnGQL\u4e2d\u7684\u6ce8\u91ca\u65b9\u5f0f\u3002","title":"\u6ce8\u91ca"},{"location":"3.ngql-guide/20.appendix/comments/#_2","text":"Nebula Graph 1.0\u652f\u6301\u56db\u79cd\u6ce8\u91ca\u65b9\u5f0f: # \u3001 -- \u3001 // \u3001 /* */ \u3002 Nebula Graph 2.0\u4e2d\uff0c -- \u4e0d\u518d\u662f\u6ce8\u91ca\u7b26\uff0c\u800c\u662f\u4ee3\u8868 \u8fb9\u6a21\u5f0f \u3002","title":"\u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/20.appendix/comments/#examples","text":"nebula> # \u8fd9\u884c\u4ec0\u4e48\u90fd\u4e0d\u505a\u3002 nebula> RETURN 1+1; # \u8fd9\u6761\u6ce8\u91ca\u5ef6\u7eed\u5230\u884c\u5c3e\u3002 nebula> RETURN 1+1; // \u8fd9\u6761\u6ce8\u91ca\u5ef6\u7eed\u5230\u884c\u5c3e\u3002 nebula> RETURN 1 /* \u8fd9\u662f\u4e00\u6761\u884c\u5185\u6ce8\u91ca */ + 1 == 2; nebula> RETURN 11 + \\ /* \u591a\u884c\u6ce8\u91ca \\ \u7528\u53cd\u659c\u7ebf\u6765\u6362\u884c\u3002 \\ */ 12; nGQL\u8bed\u53e5\u4e2d\u7684\u53cd\u659c\u7ebf\uff08\\\uff09\u4ee3\u8868\u6362\u884c\u3002","title":"Examples"},{"location":"3.ngql-guide/20.appendix/comments/#opencypher","text":"\u5728nGQL\u4e2d\uff0c\u60a8\u5fc5\u987b\u5728\u884c\u672b\u4f7f\u7528\u53cd\u659c\u7ebf\uff08\\\uff09\u6765\u6362\u884c\uff0c\u5373\u4f7f\u662f\u5728\u4f7f\u7528 \\* *\\ \u7b26\u53f7\u7684\u591a\u884c\u6ce8\u91ca\u5185\u3002 \u5728openCypher\u4e2d\u4e0d\u9700\u8981\u4f7f\u7528\u53cd\u659c\u7ebf\u6362\u884c\u3002 /* openCypher\u98ce\u683c\uff1a \u8fd9\u6761\u6ce8\u91ca \u5ef6\u7eed\u4e86\u4e0d\u6b62 \u4e00\u884c */ MATCH (n:label) RETURN n; /* nGQL\u98ce\u683c\uff1a \\ \u8fd9\u6761\u6ce8\u91ca \\ \u5ef6\u7eed\u4e86\u4e0d\u6b62 \\ \u4e00\u884c */ \\ MATCH (n:tag) \\ RETURN n;","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/20.appendix/identifier-case-sensitivity/","text":"\u5927\u5c0f\u5199\u533a\u5206 \u00b6 \u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199 \u00b6 \u4ee5\u4e0b\u8bed\u53e5\u4f1a\u51fa\u73b0\u9519\u8bef\uff0c\u56e0\u4e3a my_space \u548c MY_SPACE \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u3002 nebula> CREATE SPACE my_space; nebula> use MY_SPACE; [ERROR (-8)]: SpaceNotFound: \u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199 \u00b6 \u4ee5\u4e0b\u8bed\u53e5\u662f\u7b49\u4ef7\u7684\uff0c\u56e0\u4e3a show \u548c spaces \u662f\u5173\u952e\u5b57\u3002 nebula> show spaces; nebula> SHOW SPACES; nebula> SHOW spaces; nebula> show SPACES;","title":"\u5927\u5c0f\u5199\u533a\u5206"},{"location":"3.ngql-guide/20.appendix/identifier-case-sensitivity/#_1","text":"","title":"\u5927\u5c0f\u5199\u533a\u5206"},{"location":"3.ngql-guide/20.appendix/identifier-case-sensitivity/#_2","text":"\u4ee5\u4e0b\u8bed\u53e5\u4f1a\u51fa\u73b0\u9519\u8bef\uff0c\u56e0\u4e3a my_space \u548c MY_SPACE \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u56fe\u7a7a\u95f4\u3002 nebula> CREATE SPACE my_space; nebula> use MY_SPACE; [ERROR (-8)]: SpaceNotFound:","title":"\u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199"},{"location":"3.ngql-guide/20.appendix/identifier-case-sensitivity/#_3","text":"\u4ee5\u4e0b\u8bed\u53e5\u662f\u7b49\u4ef7\u7684\uff0c\u56e0\u4e3a show \u548c spaces \u662f\u5173\u952e\u5b57\u3002 nebula> show spaces; nebula> SHOW SPACES; nebula> SHOW spaces; nebula> show SPACES;","title":"\u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199"},{"location":"3.ngql-guide/20.appendix/keywords-and-reserved-words/","text":"\u5173\u952e\u5b57 \u00b6 \u5173\u952e\u5b57\u5728nGQL\u4e2d\u6709\u91cd\u8981\u610f\u4e49\uff0c\u5206\u4e3a\u4fdd\u7559\u5173\u952e\u5b57\u548c\u975e\u4fdd\u7559\u5173\u952e\u5b57\u3002 \u975e\u4fdd\u7559\u5173\u952e\u5b57\u4f5c\u4e3a\u6807\u8bc6\u7b26\u65f6\u53ef\u4ee5\u4e0d\u4f7f\u7528\u5f15\u53f7\u3002\u4fdd\u7559\u5173\u952e\u5b57\u4f5c\u4e3a\u6807\u8bc6\u7b26\u65f6\uff0c\u9700\u8981\u7528\u53cd\u5f15\u53f7\uff08`\uff09\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u4f8b\u5982`AND`\u3002 \u8bf4\u660e \uff1a\u5173\u952e\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 nebula> CREATE TAG TAG(name string); [ERROR (-7)]: SyntaxError: syntax error near `TAG' nebula> CREATE TAG `TAG` (name string); Execution succeeded nebula> CREATE TAG SPACE(name string); Execution succeeded TAG \u662f\u4fdd\u7559\u5173\u952e\u5b57\uff0c\u8981\u5c06 TAG \u4f5c\u4e3a\u6807\u8bc6\u7b26\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u53cd\u5f15\u53f7\uff08`\uff09\u62ec\u8d77\u6765\u3002 SPACE \u662f\u975e\u4fdd\u7559\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u6807\u8bc6\u7b26\u4f7f\u7528\u3002 \u4fdd\u7559\u5173\u952e\u5b57 \u00b6 ADD ALTER AND AS ASC BALANCE BOOL BY CASE CHANGE COMPACT CREATE DATE DATETIME DELETE DESC DESCRIBE DISTINCT DOUBLE DOWNLOAD DROP EDGE EDGES EXISTS EXPLAIN FETCH FIND FIXED_STRING FLOAT FLUSH FORMAT FROM GET GO GRANT IF IN INDEX INDEXES INGEST INSERT INT INT16 INT32 INT64 INT8 INTERSECT IS LIMIT LOOKUP MATCH MINUS NO NOT NULL OF OFFSET ON OR ORDER OVER OVERWRITE PROFILE PROP REBUILD RECOVER REMOVE RETURN REVERSELY REVOKE SET SHOW STEP STEPS STOP STRING SUBMIT TAG TAGS TIME TIMESTAMP TO UNION UPDATE UPSERT UPTO USE VERTEX WHEN WHERE WITH XOR YIELD \u975e\u4fdd\u7559\u5173\u952e\u5b57 \u00b6 ACCOUNT ADMIN ALL ANY ATOMIC_EDGE AUTO AVG BIDIRECT BIT_AND BIT_OR BIT_XOR BOTH CHARSET CLIENTS COLLATE COLLATION COLLECT COLLECT_SET CONFIGS CONTAINS COUNT COUNT_DISTINCT DATA DBA DEFAULT ELASTICSEARCH ELSE END ENDS FALSE FORCE FUZZY GOD GRAPH GROUP GROUPS GUEST HDFS HOST HOSTS INTO JOB JOBS LEADER LISTENER MAX META MIN NOLOOP NONE OPTIONAL OUT PART PARTITION_NUM PARTS PASSWORD PATH PLAN PREFIX REGEXP REPLICA_FACTOR RESET ROLE ROLES SEARCH SERVICE SHORTEST SIGN SINGLE SKIP SNAPSHOT SNAPSHOTS SPACE SPACES STARTS STATS STATUS STD STORAGE SUBGRAPH SUM TEXT TEXT_SEARCH THEN TRUE TTL_COL TTL_DURATION UNWIND USER USERS UUID VALUE VALUES VID_TYPE WILDCARD ZONE ZONES","title":"\u5173\u952e\u5b57"},{"location":"3.ngql-guide/20.appendix/keywords-and-reserved-words/#_1","text":"\u5173\u952e\u5b57\u5728nGQL\u4e2d\u6709\u91cd\u8981\u610f\u4e49\uff0c\u5206\u4e3a\u4fdd\u7559\u5173\u952e\u5b57\u548c\u975e\u4fdd\u7559\u5173\u952e\u5b57\u3002 \u975e\u4fdd\u7559\u5173\u952e\u5b57\u4f5c\u4e3a\u6807\u8bc6\u7b26\u65f6\u53ef\u4ee5\u4e0d\u4f7f\u7528\u5f15\u53f7\u3002\u4fdd\u7559\u5173\u952e\u5b57\u4f5c\u4e3a\u6807\u8bc6\u7b26\u65f6\uff0c\u9700\u8981\u7528\u53cd\u5f15\u53f7\uff08`\uff09\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u4f8b\u5982`AND`\u3002 \u8bf4\u660e \uff1a\u5173\u952e\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 nebula> CREATE TAG TAG(name string); [ERROR (-7)]: SyntaxError: syntax error near `TAG' nebula> CREATE TAG `TAG` (name string); Execution succeeded nebula> CREATE TAG SPACE(name string); Execution succeeded TAG \u662f\u4fdd\u7559\u5173\u952e\u5b57\uff0c\u8981\u5c06 TAG \u4f5c\u4e3a\u6807\u8bc6\u7b26\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u53cd\u5f15\u53f7\uff08`\uff09\u62ec\u8d77\u6765\u3002 SPACE \u662f\u975e\u4fdd\u7559\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u6807\u8bc6\u7b26\u4f7f\u7528\u3002","title":"\u5173\u952e\u5b57"},{"location":"3.ngql-guide/20.appendix/keywords-and-reserved-words/#_2","text":"ADD ALTER AND AS ASC BALANCE BOOL BY CASE CHANGE COMPACT CREATE DATE DATETIME DELETE DESC DESCRIBE DISTINCT DOUBLE DOWNLOAD DROP EDGE EDGES EXISTS EXPLAIN FETCH FIND FIXED_STRING FLOAT FLUSH FORMAT FROM GET GO GRANT IF IN INDEX INDEXES INGEST INSERT INT INT16 INT32 INT64 INT8 INTERSECT IS LIMIT LOOKUP MATCH MINUS NO NOT NULL OF OFFSET ON OR ORDER OVER OVERWRITE PROFILE PROP REBUILD RECOVER REMOVE RETURN REVERSELY REVOKE SET SHOW STEP STEPS STOP STRING SUBMIT TAG TAGS TIME TIMESTAMP TO UNION UPDATE UPSERT UPTO USE VERTEX WHEN WHERE WITH XOR YIELD","title":"\u4fdd\u7559\u5173\u952e\u5b57"},{"location":"3.ngql-guide/20.appendix/keywords-and-reserved-words/#_3","text":"ACCOUNT ADMIN ALL ANY ATOMIC_EDGE AUTO AVG BIDIRECT BIT_AND BIT_OR BIT_XOR BOTH CHARSET CLIENTS COLLATE COLLATION COLLECT COLLECT_SET CONFIGS CONTAINS COUNT COUNT_DISTINCT DATA DBA DEFAULT ELASTICSEARCH ELSE END ENDS FALSE FORCE FUZZY GOD GRAPH GROUP GROUPS GUEST HDFS HOST HOSTS INTO JOB JOBS LEADER LISTENER MAX META MIN NOLOOP NONE OPTIONAL OUT PART PARTITION_NUM PARTS PASSWORD PATH PLAN PREFIX REGEXP REPLICA_FACTOR RESET ROLE ROLES SEARCH SERVICE SHORTEST SIGN SINGLE SKIP SNAPSHOT SNAPSHOTS SPACE SPACES STARTS STATS STATUS STD STORAGE SUBGRAPH SUM TEXT TEXT_SEARCH THEN TRUE TTL_COL TTL_DURATION UNWIND USER USERS UUID VALUE VALUES VID_TYPE WILDCARD ZONE ZONES","title":"\u975e\u4fdd\u7559\u5173\u952e\u5b57"},{"location":"3.ngql-guide/20.appendix/vid-partition/","text":"\u70b9ID\u548c\u5206\u7247ID \u00b6 \u70b9ID\uff08 VID \uff09 \u00b6 \u5728Nebula Graph\u4e2d\uff0c\u63d2\u5165\u70b9\u65f6\u5fc5\u987b\u7528\u70b9ID\uff08 VID \uff09\u6807\u8bc6\u8fd9\u4e2a\u70b9\u3002 VID \u6709\u5982\u4e0b\u7279\u70b9\uff1a VID \u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u4e3a\u5b9a\u957f\u5b57\u7b26\u4e32\u621664\u4f4d\u6574\u6570\u3002 VID \u5728\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u552f\u4e00\u3002 \u4e00\u4e2a VID \u53ef\u4ee5\u6709\u591a\u4e2a\u6807\u7b7e\uff08 TAG \uff09\u3002\u4f8b\u5982\u4e00\u4e2a\u4eba\uff08 VID \uff09\u53ef\u4ee5\u6709\u4e24\u4e2a\u89d2\u8272\uff08 TAG \uff09\u3002 \u4e0d\u540c\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002 \u63d2\u5165\u70b9\u8bf7\u53c2\u89c1 INSERT VERTEX \u3002 \u5206\u7247ID \u00b6 \u70b9\u548c\u8fb9\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5206\u7247\uff0c\u5206\u7247\u5206\u5e03\u5728\u4e0d\u540c\u7684\u673a\u5668\u3002\u5982\u679c\u60a8\u9700\u8981\u5c06\u67d0\u4e9b\u70b9\u653e\u7f6e\u5728\u76f8\u540c\u7684\u5206\u7247\uff08\u4f8b\u5982\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff09\uff0c\u53ef\u4ee5\u53c2\u8003 \u516c\u5f0f\u6216\u4ee3\u7801 \u3002 \u4e0b\u6587\u7528\u7b80\u5355\u4ee3\u7801\u8bf4\u660eVID\u548c\u5206\u7247\u7684\u5173\u7cfb\u3002 // \u5982\u679cID\u957f\u5ea6\u4e3a8\uff0c\u4e3a\u4e86\u517c\u5bb91.0\uff0c\u5c06\u6570\u636e\u7c7b\u578b\u89c6\u4e3aint64\u3002 uint64_t vid = 0; if (id.size() == 8) { memcpy(static_cast<void*>(&vid), id.data(), 8); } else { MurmurHash2 hash; vid = hash(id.data()); } PartitionID pId = vid % numParts + 1; \u7b80\u5355\u6765\u8bf4\uff0c\u4e0a\u8ff0\u4ee3\u7801\u662f\u5c06\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u54c8\u5e0c\u8ba1\u7b97\uff0c\u8f6c\u6362\u6210\u6570\u636e\u7c7b\u578b\u4e3aint64\u7684\u6570\u5b57\uff08int64\u6570\u5b57\u7684\u54c8\u5e0c\u8ba1\u7b97\u7ed3\u679c\u662f\u6570\u5b57\u672c\u8eab\uff09\uff0c\u5c06\u6570\u5b57\u53d6\u6a21\uff0c\u7136\u540e\u52a01\uff0c\u5373\uff1a pId = vid % numParts + 1 ; \u793a\u4f8b\u7684\u90e8\u5206\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 \u53c2\u6570 \u8bf4\u660e % \u53d6\u6a21\u8fd0\u7b97\u3002 numParts VID \u6240\u5728\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\uff0c\u5373 CREATE SPACE \u8bed\u53e5\u4e2d\u7684 partition_num \u503c\u3002 pId VID \u6240\u5728\u5206\u7247\u7684ID\u3002 \u4f8b\u5982\u6709100\u4e2a\u5206\u7247\uff0c VID \u4e3a1\u3001101\u548c1001\u7684\u4e09\u4e2a\u70b9\u5c06\u4f1a\u5b58\u50a8\u5728\u76f8\u540c\u7684\u5206\u7247\u3002\u5206\u7247ID\u548c\u673a\u5668\u5730\u5740\u4e4b\u95f4\u7684\u6620\u5c04\u662f\u968f\u673a\u7684\uff0c\u6240\u4ee5\u60a8\u4e0d\u80fd\u5047\u5b9a\u4efb\u4f55\u4e24\u4e2a\u5206\u7247\u4f4d\u4e8e\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002","title":"\u70b9ID\u548c\u5206\u7247ID"},{"location":"3.ngql-guide/20.appendix/vid-partition/#idid","text":"","title":"\u70b9ID\u548c\u5206\u7247ID"},{"location":"3.ngql-guide/20.appendix/vid-partition/#idvid","text":"\u5728Nebula Graph\u4e2d\uff0c\u63d2\u5165\u70b9\u65f6\u5fc5\u987b\u7528\u70b9ID\uff08 VID \uff09\u6807\u8bc6\u8fd9\u4e2a\u70b9\u3002 VID \u6709\u5982\u4e0b\u7279\u70b9\uff1a VID \u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u4e3a\u5b9a\u957f\u5b57\u7b26\u4e32\u621664\u4f4d\u6574\u6570\u3002 VID \u5728\u56fe\u7a7a\u95f4\u4e2d\u5fc5\u987b\u552f\u4e00\u3002 \u4e00\u4e2a VID \u53ef\u4ee5\u6709\u591a\u4e2a\u6807\u7b7e\uff08 TAG \uff09\u3002\u4f8b\u5982\u4e00\u4e2a\u4eba\uff08 VID \uff09\u53ef\u4ee5\u6709\u4e24\u4e2a\u89d2\u8272\uff08 TAG \uff09\u3002 \u4e0d\u540c\u56fe\u7a7a\u95f4\u4e2d\u7684 VID \u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002 \u63d2\u5165\u70b9\u8bf7\u53c2\u89c1 INSERT VERTEX \u3002","title":"\u70b9ID\uff08VID\uff09"},{"location":"3.ngql-guide/20.appendix/vid-partition/#id","text":"\u70b9\u548c\u8fb9\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5206\u7247\uff0c\u5206\u7247\u5206\u5e03\u5728\u4e0d\u540c\u7684\u673a\u5668\u3002\u5982\u679c\u60a8\u9700\u8981\u5c06\u67d0\u4e9b\u70b9\u653e\u7f6e\u5728\u76f8\u540c\u7684\u5206\u7247\uff08\u4f8b\u5982\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff09\uff0c\u53ef\u4ee5\u53c2\u8003 \u516c\u5f0f\u6216\u4ee3\u7801 \u3002 \u4e0b\u6587\u7528\u7b80\u5355\u4ee3\u7801\u8bf4\u660eVID\u548c\u5206\u7247\u7684\u5173\u7cfb\u3002 // \u5982\u679cID\u957f\u5ea6\u4e3a8\uff0c\u4e3a\u4e86\u517c\u5bb91.0\uff0c\u5c06\u6570\u636e\u7c7b\u578b\u89c6\u4e3aint64\u3002 uint64_t vid = 0; if (id.size() == 8) { memcpy(static_cast<void*>(&vid), id.data(), 8); } else { MurmurHash2 hash; vid = hash(id.data()); } PartitionID pId = vid % numParts + 1; \u7b80\u5355\u6765\u8bf4\uff0c\u4e0a\u8ff0\u4ee3\u7801\u662f\u5c06\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u54c8\u5e0c\u8ba1\u7b97\uff0c\u8f6c\u6362\u6210\u6570\u636e\u7c7b\u578b\u4e3aint64\u7684\u6570\u5b57\uff08int64\u6570\u5b57\u7684\u54c8\u5e0c\u8ba1\u7b97\u7ed3\u679c\u662f\u6570\u5b57\u672c\u8eab\uff09\uff0c\u5c06\u6570\u5b57\u53d6\u6a21\uff0c\u7136\u540e\u52a01\uff0c\u5373\uff1a pId = vid % numParts + 1 ; \u793a\u4f8b\u7684\u90e8\u5206\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 \u53c2\u6570 \u8bf4\u660e % \u53d6\u6a21\u8fd0\u7b97\u3002 numParts VID \u6240\u5728\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\uff0c\u5373 CREATE SPACE \u8bed\u53e5\u4e2d\u7684 partition_num \u503c\u3002 pId VID \u6240\u5728\u5206\u7247\u7684ID\u3002 \u4f8b\u5982\u6709100\u4e2a\u5206\u7247\uff0c VID \u4e3a1\u3001101\u548c1001\u7684\u4e09\u4e2a\u70b9\u5c06\u4f1a\u5b58\u50a8\u5728\u76f8\u540c\u7684\u5206\u7247\u3002\u5206\u7247ID\u548c\u673a\u5668\u5730\u5740\u4e4b\u95f4\u7684\u6620\u5c04\u662f\u968f\u673a\u7684\uff0c\u6240\u4ee5\u60a8\u4e0d\u80fd\u5047\u5b9a\u4efb\u4f55\u4e24\u4e2a\u5206\u7247\u4f4d\u4e8e\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002","title":"\u5206\u7247ID"},{"location":"3.ngql-guide/3.data-types/1.numeric/","text":"\u6570\u503c\u7c7b\u578b \u00b6 int \u00b6 Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 int \u58f0\u660e64\u4f4d\u5e26\u7b26\u53f7\u6574\u6570\uff0c\u652f\u6301\u7684\u8303\u56f4\u662f[-9223372036854775808, 9223372036854775807]\u3002\u6574\u6570\u652f\u6301\u591a\u79cd\u8fdb\u5236\u8868\u793a\uff1a \u5341\u8fdb\u5236\uff0c\u4f8b\u5982 123456 \u3002 \u5341\u516d\u8fdb\u5236\uff0c\u4f8b\u5982 0x1e240 \u3002 \u516b\u8fdb\u5236\uff0c\u4f8b\u5982 0361100 \u3002 double \u00b6 Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 double \u58f0\u660e\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u4f8b\u5982 1.2 \u3001 -3.0000001 \u3002\u540c\u65f6\u652f\u6301\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u4f8b\u5982 1e2 \u3001 1.1e2 \u3001 .3e4 \u3001 1.e4 \u3001 -1234E-10 \u3002","title":"\u6570\u503c"},{"location":"3.ngql-guide/3.data-types/1.numeric/#_1","text":"","title":"\u6570\u503c\u7c7b\u578b"},{"location":"3.ngql-guide/3.data-types/1.numeric/#int","text":"Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 int \u58f0\u660e64\u4f4d\u5e26\u7b26\u53f7\u6574\u6570\uff0c\u652f\u6301\u7684\u8303\u56f4\u662f[-9223372036854775808, 9223372036854775807]\u3002\u6574\u6570\u652f\u6301\u591a\u79cd\u8fdb\u5236\u8868\u793a\uff1a \u5341\u8fdb\u5236\uff0c\u4f8b\u5982 123456 \u3002 \u5341\u516d\u8fdb\u5236\uff0c\u4f8b\u5982 0x1e240 \u3002 \u516b\u8fdb\u5236\uff0c\u4f8b\u5982 0361100 \u3002","title":"int"},{"location":"3.ngql-guide/3.data-types/1.numeric/#double","text":"Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 double \u58f0\u660e\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u4f8b\u5982 1.2 \u3001 -3.0000001 \u3002\u540c\u65f6\u652f\u6301\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u4f8b\u5982 1e2 \u3001 1.1e2 \u3001 .3e4 \u3001 1.e4 \u3001 -1234E-10 \u3002","title":"double"},{"location":"3.ngql-guide/3.data-types/2.boolean/","text":"\u5e03\u5c14 \u00b6 Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 bool \u58f0\u660e\u5e03\u5c14\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3a true \u6216 false \u3002","title":"\u5e03\u5c14"},{"location":"3.ngql-guide/3.data-types/2.boolean/#_1","text":"Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 bool \u58f0\u660e\u5e03\u5c14\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3a true \u6216 false \u3002","title":"\u5e03\u5c14"},{"location":"3.ngql-guide/3.data-types/3.string/","text":"\u5b57\u7b26\u4e32 \u00b6 Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 string \uff08\u53d8\u957f\uff09\u6216 fixed_string(<length>) \uff08\u5b9a\u957f\uff09\u58f0\u660e\u5b57\u7b26\u4e32\u7c7b\u578b\u6570\u636e\uff0c\u683c\u5f0f\u4e3a\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u5305\u88f9\u7684\u4efb\u610f\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"Shaquille O'Neal\" \u6216 'This is a double-quoted literal string' \u3002 \u5b57\u7b26\u4e32\u7c7b\u578b \u00b6 Nebula Graph\u652f\u6301\u5b9a\u957f\u5b57\u7b26\u4e32\u548c\u53d8\u957f\u5b57\u7b26\u4e32\u3002\u793a\u4f8b\u5982\u4e0b\uff1a \u5b9a\u957f\u5b57\u7b26\u4e32 nebula> CREATE TAG t1 (p1 fixed_string(10)); \u53d8\u957f\u5b57\u7b26\u4e32 nebula> CREATE TAG t2 (p2 string); \u8f6c\u4e49\u5b57\u7b26 \u00b6 \u5b57\u7b26\u4e32\u4e2d\u4e0d\u652f\u6301\u76f4\u63a5\u6362\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a \"\\n\\t\\r\\b\\f\" \"\\110ello world\" OpenCypher\u517c\u5bb9\u6027 \u00b6 openCypher\u3001Cypher\u548cnGQL\u4e4b\u95f4\u6709\u4e00\u4e9b\u7ec6\u5fae\u533a\u522b\uff0c\u4f8b\u5982\u4e0b\u9762openCypher\u7684\u793a\u4f8b\uff0c\u4e0d\u80fd\u5c06\u5355\u5f15\u53f7\u66ff\u6362\u4e3a\u53cc\u5f15\u53f7\u3002 ```ngql # File: Literals.feature Feature: Literals Background: Given any graph Scenario: Return a single-quoted string When executing query: \"\"\" RETURN '' AS literal \"\"\" Then the result should be, in any order: | literal | | '' | # Note: it should return single-quotes as openCypher required. And no side effects Cypher\u7684\u8fd4\u56de\u7ed3\u679c\u540c\u65f6\u652f\u6301\u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\uff0cnGQL\u9075\u5faaCypher\u7684\u65b9\u5f0f\u3002 ```ngql nebula > YIELD '' AS quote1, \"\" AS quote2, \"'\" AS quote3, '\"' AS quote4 +--------+--------+--------+--------+ | quote1 | quote2 | quote3 | quote4 | +--------+--------+--------+--------+ | \"\" | \"\" | \"'\" | \"\"\" | +--------+--------+--------+--------+","title":"\u5b57\u7b26\u4e32"},{"location":"3.ngql-guide/3.data-types/3.string/#_1","text":"Nebula Graph\u4f7f\u7528\u5173\u952e\u5b57 string \uff08\u53d8\u957f\uff09\u6216 fixed_string(<length>) \uff08\u5b9a\u957f\uff09\u58f0\u660e\u5b57\u7b26\u4e32\u7c7b\u578b\u6570\u636e\uff0c\u683c\u5f0f\u4e3a\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u5305\u88f9\u7684\u4efb\u610f\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"Shaquille O'Neal\" \u6216 'This is a double-quoted literal string' \u3002","title":"\u5b57\u7b26\u4e32"},{"location":"3.ngql-guide/3.data-types/3.string/#_2","text":"Nebula Graph\u652f\u6301\u5b9a\u957f\u5b57\u7b26\u4e32\u548c\u53d8\u957f\u5b57\u7b26\u4e32\u3002\u793a\u4f8b\u5982\u4e0b\uff1a \u5b9a\u957f\u5b57\u7b26\u4e32 nebula> CREATE TAG t1 (p1 fixed_string(10)); \u53d8\u957f\u5b57\u7b26\u4e32 nebula> CREATE TAG t2 (p2 string);","title":"\u5b57\u7b26\u4e32\u7c7b\u578b"},{"location":"3.ngql-guide/3.data-types/3.string/#_3","text":"\u5b57\u7b26\u4e32\u4e2d\u4e0d\u652f\u6301\u76f4\u63a5\u6362\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a \"\\n\\t\\r\\b\\f\" \"\\110ello world\"","title":"\u8f6c\u4e49\u5b57\u7b26"},{"location":"3.ngql-guide/3.data-types/3.string/#opencypher","text":"openCypher\u3001Cypher\u548cnGQL\u4e4b\u95f4\u6709\u4e00\u4e9b\u7ec6\u5fae\u533a\u522b\uff0c\u4f8b\u5982\u4e0b\u9762openCypher\u7684\u793a\u4f8b\uff0c\u4e0d\u80fd\u5c06\u5355\u5f15\u53f7\u66ff\u6362\u4e3a\u53cc\u5f15\u53f7\u3002 ```ngql # File: Literals.feature Feature: Literals Background: Given any graph Scenario: Return a single-quoted string When executing query: \"\"\" RETURN '' AS literal \"\"\" Then the result should be, in any order: | literal | | '' | # Note: it should return single-quotes as openCypher required. And no side effects Cypher\u7684\u8fd4\u56de\u7ed3\u679c\u540c\u65f6\u652f\u6301\u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\uff0cnGQL\u9075\u5faaCypher\u7684\u65b9\u5f0f\u3002 ```ngql nebula > YIELD '' AS quote1, \"\" AS quote2, \"'\" AS quote3, '\"' AS quote4 +--------+--------+--------+--------+ | quote1 | quote2 | quote3 | quote4 | +--------+--------+--------+--------+ | \"\" | \"\" | \"'\" | \"\"\" | +--------+--------+--------+--------+","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/","text":"\u65e5\u671f\u548c\u65f6\u95f4\u7c7b\u578b \u00b6 \u672c\u6587\u4ecb\u7ecd\u65e5\u671f\u548c\u65f6\u95f4\u7684\u7c7b\u578b\uff0c\u5305\u62ec DATE \u3001 TIME \u3001 DATETIME \u548c TIMESTAMP \u3002 \u5728\u63d2\u5165\u65f6\u95f4\u7c7b\u578b\u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e \u914d\u7f6e\u6587\u4ef6 \u4e2d timezone_name \u53c2\u6570\u6307\u5b9a\u7684\u65f6\u533a\uff0c\u5c06\u8be5\u65f6\u95f4\u503c\uff08 TIMESTAMP \u7c7b\u578b\u4f8b\u5916\uff09\u8f6c\u6362\u6210\u76f8\u5e94\u7684\u4e16\u754c\u534f\u8c03\u65f6\u95f4\uff08UTC\uff09\u65f6\u95f4\u3002\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u503c\u4e3aUTC\u65f6\u95f4\u3002 \u8bf4\u660e\uff1a \u5982\u9700\u4fee\u6539\u5f53\u524d\u65f6\u533a\uff0c\u8bf7\u540c\u65f6\u4fee\u6539\u6240\u6709\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 timezone_name \u53c2\u6570\u3002 \u7ed3\u5408 RETURN \u5b50\u53e5\uff0c\u51fd\u6570 date() \u3001 time() \u548c datetime() \u53ef\u4ee5\u7528\u7a7a\u503c\u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u6216\u65f6\u95f4\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 \u652f\u6301\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\uff0c\u4e0d\u652f\u6301\u6beb\u79d2\u3002 \u4e0d\u652f\u6301\u51fd\u6570 localdatetime() \u548c duration() \u3002 \u4e0d\u652f\u6301\u5927\u90e8\u5206\u5b57\u7b26\u4e32\u65f6\u95f4\u683c\u5f0f\uff0c\u4ec5\u652f\u6301 YYYY-MM-DDThh:mm:ss \u3002 DATE \u00b6 DATE \u5305\u542b\u65e5\u671f\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u65f6\u95f4\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a DATE \u7684\u683c\u5f0f\u4e3a YYYY-MM-DD \u3002\u652f\u6301\u7684\u8303\u56f4\u662f -32768-01-01 \u5230 32767-12-31 \u3002 TIME \u00b6 TIME \u5305\u542b\u65f6\u95f4\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u65e5\u671f\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a TIME \u7684\u683c\u5f0f\u4e3a hh:mm:ss.ususus \u3002\u652f\u6301\u7684\u8303\u56f4\u662f 00:00:00.000 \u5230 23:59:59.999 \u3002 DATETIME \u00b6 DATETIME \u5305\u542b\u65e5\u671f\u548c\u65f6\u95f4\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a DATETIME \u7684\u683c\u5f0f\u4e3a YYYY-MM-DDThh:mm:ss.ususus \u3002\u652f\u6301\u7684\u8303\u56f4\u662f -32768-01-01T00:00:00.000 \u5230 32767-12-31T23:59:59.999 \u3002 TIMESTAMP \u00b6 TIMESTAMP \u5305\u542b\u65e5\u671f\u548c\u65f6\u95f4\u3002\u652f\u6301\u7684\u8303\u56f4\u662fUTC\u65f6\u95f4\u7684 1970-01-01T00:00:01 \u5230 2262-04-11T23:47:16 \u3002 TIMESTAMP \u8fd8\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a \u4ee5\u65f6\u95f4\u6233\u5f62\u5f0f\u5b58\u50a8\u548c\u663e\u793a\u3002\u4f8b\u5982 1615974839 \uff0c\u8868\u793a 2021-03-17T17:53:59 \u3002 \u67e5\u8be2 TIMESTAMP \u7684\u65b9\u5f0f\u5305\u62ec\u65f6\u95f4\u6233\u548c timestamp() \u51fd\u6570\u3002 \u63d2\u5165 TIMESTAMP \u7684\u65b9\u5f0f\u5305\u62ec\u65f6\u95f4\u6233\u3001 timestamp() \u51fd\u6570\u548c now() \u51fd\u6570\u3002 \u5e95\u5c42\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u4e3a 64\u4f4dint \u3002 \u793a\u4f8b \u00b6 \u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a date1 \uff0c\u5305\u542b DATE \u3001 TIME \u548c DATETIME \u4e09\u79cd\u7c7b\u578b\u3002 nebula> CREATE TAG date1(p1 date, p2 time, p3 datetime); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a test1 \u3002 nebula> INSERT VERTEX date1(p1, p2, p3) VALUES \"test1\":(date(\"2021-03-17\"), time(\"17:53:59\"), datetime(\"2021-03-17T17:53:59\")); \u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a school \uff0c\u5305\u542b TIMESTAMP \u7c7b\u578b\u3002 nebula> CREATE TAG school(name string , found_time timestamp); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a DUT \uff0c\u5b58\u50a8\u65f6\u95f4\u4e3a \"1988-03-01T08:00:00\" \u3002 # \u65f6\u95f4\u6233\u5f62\u5f0f\u63d2\u5165\uff0c1988-03-01T08:00:00\u5bf9\u5e94\u7684\u65f6\u95f4\u6233\u4e3a573177600\uff0c\u8f6c\u6362\u4e3aUTC\u65f6\u95f4\u4e3a573206400\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"DUT\":(\"DUT\", 573206400); # \u65e5\u671f\u548c\u65f6\u95f4\u683c\u5f0f\u63d2\u5165\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"DUT\":(\"DUT\", timestamp(\"1988-03-01T08:00:00\")); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a dut \uff0c\u7528 now() \u51fd\u6570\u5b58\u50a8\u65f6\u95f4\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"dut\":(\"dut\", now()); \u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 WITH \u8bed\u53e5\u8bbe\u7f6e\u5177\u4f53\u65e5\u671f\u548c\u65f6\u95f4\uff0c\u4f8b\u5982\uff1a nebula> WITH time({hour: 12, minute: 31, second: 14}) AS d RETURN d; +--------------+ | d | +--------------+ | 12:31:14.000 | +--------------+ nebula> WITH date({year: 1984, month: 10, day: 11}) AS x RETURN x + 1; +------------+ | x | +------------+ | 1984-10-12 | +------------+","title":"\u65e5\u671f\u65f6\u95f4"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u65e5\u671f\u548c\u65f6\u95f4\u7684\u7c7b\u578b\uff0c\u5305\u62ec DATE \u3001 TIME \u3001 DATETIME \u548c TIMESTAMP \u3002 \u5728\u63d2\u5165\u65f6\u95f4\u7c7b\u578b\u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e \u914d\u7f6e\u6587\u4ef6 \u4e2d timezone_name \u53c2\u6570\u6307\u5b9a\u7684\u65f6\u533a\uff0c\u5c06\u8be5\u65f6\u95f4\u503c\uff08 TIMESTAMP \u7c7b\u578b\u4f8b\u5916\uff09\u8f6c\u6362\u6210\u76f8\u5e94\u7684\u4e16\u754c\u534f\u8c03\u65f6\u95f4\uff08UTC\uff09\u65f6\u95f4\u3002\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u503c\u4e3aUTC\u65f6\u95f4\u3002 \u8bf4\u660e\uff1a \u5982\u9700\u4fee\u6539\u5f53\u524d\u65f6\u533a\uff0c\u8bf7\u540c\u65f6\u4fee\u6539\u6240\u6709\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 timezone_name \u53c2\u6570\u3002 \u7ed3\u5408 RETURN \u5b50\u53e5\uff0c\u51fd\u6570 date() \u3001 time() \u548c datetime() \u53ef\u4ee5\u7528\u7a7a\u503c\u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u6216\u65f6\u95f4\u3002","title":"\u65e5\u671f\u548c\u65f6\u95f4\u7c7b\u578b"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#opencypher","text":"\u652f\u6301\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\uff0c\u4e0d\u652f\u6301\u6beb\u79d2\u3002 \u4e0d\u652f\u6301\u51fd\u6570 localdatetime() \u548c duration() \u3002 \u4e0d\u652f\u6301\u5927\u90e8\u5206\u5b57\u7b26\u4e32\u65f6\u95f4\u683c\u5f0f\uff0c\u4ec5\u652f\u6301 YYYY-MM-DDThh:mm:ss \u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#date","text":"DATE \u5305\u542b\u65e5\u671f\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u65f6\u95f4\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a DATE \u7684\u683c\u5f0f\u4e3a YYYY-MM-DD \u3002\u652f\u6301\u7684\u8303\u56f4\u662f -32768-01-01 \u5230 32767-12-31 \u3002","title":"DATE"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#time","text":"TIME \u5305\u542b\u65f6\u95f4\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u65e5\u671f\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a TIME \u7684\u683c\u5f0f\u4e3a hh:mm:ss.ususus \u3002\u652f\u6301\u7684\u8303\u56f4\u662f 00:00:00.000 \u5230 23:59:59.999 \u3002","title":"TIME"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#datetime","text":"DATETIME \u5305\u542b\u65e5\u671f\u548c\u65f6\u95f4\u3002Nebula Graph\u68c0\u7d22\u548c\u663e\u793a DATETIME \u7684\u683c\u5f0f\u4e3a YYYY-MM-DDThh:mm:ss.ususus \u3002\u652f\u6301\u7684\u8303\u56f4\u662f -32768-01-01T00:00:00.000 \u5230 32767-12-31T23:59:59.999 \u3002","title":"DATETIME"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#timestamp","text":"TIMESTAMP \u5305\u542b\u65e5\u671f\u548c\u65f6\u95f4\u3002\u652f\u6301\u7684\u8303\u56f4\u662fUTC\u65f6\u95f4\u7684 1970-01-01T00:00:01 \u5230 2262-04-11T23:47:16 \u3002 TIMESTAMP \u8fd8\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a \u4ee5\u65f6\u95f4\u6233\u5f62\u5f0f\u5b58\u50a8\u548c\u663e\u793a\u3002\u4f8b\u5982 1615974839 \uff0c\u8868\u793a 2021-03-17T17:53:59 \u3002 \u67e5\u8be2 TIMESTAMP \u7684\u65b9\u5f0f\u5305\u62ec\u65f6\u95f4\u6233\u548c timestamp() \u51fd\u6570\u3002 \u63d2\u5165 TIMESTAMP \u7684\u65b9\u5f0f\u5305\u62ec\u65f6\u95f4\u6233\u3001 timestamp() \u51fd\u6570\u548c now() \u51fd\u6570\u3002 \u5e95\u5c42\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u4e3a 64\u4f4dint \u3002","title":"TIMESTAMP"},{"location":"3.ngql-guide/3.data-types/4.date-and-time/#_2","text":"\u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a date1 \uff0c\u5305\u542b DATE \u3001 TIME \u548c DATETIME \u4e09\u79cd\u7c7b\u578b\u3002 nebula> CREATE TAG date1(p1 date, p2 time, p3 datetime); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a test1 \u3002 nebula> INSERT VERTEX date1(p1, p2, p3) VALUES \"test1\":(date(\"2021-03-17\"), time(\"17:53:59\"), datetime(\"2021-03-17T17:53:59\")); \u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a school \uff0c\u5305\u542b TIMESTAMP \u7c7b\u578b\u3002 nebula> CREATE TAG school(name string , found_time timestamp); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a DUT \uff0c\u5b58\u50a8\u65f6\u95f4\u4e3a \"1988-03-01T08:00:00\" \u3002 # \u65f6\u95f4\u6233\u5f62\u5f0f\u63d2\u5165\uff0c1988-03-01T08:00:00\u5bf9\u5e94\u7684\u65f6\u95f4\u6233\u4e3a573177600\uff0c\u8f6c\u6362\u4e3aUTC\u65f6\u95f4\u4e3a573206400\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"DUT\":(\"DUT\", 573206400); # \u65e5\u671f\u548c\u65f6\u95f4\u683c\u5f0f\u63d2\u5165\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"DUT\":(\"DUT\", timestamp(\"1988-03-01T08:00:00\")); \u63d2\u5165\u70b9\uff0c\u540d\u79f0\u4e3a dut \uff0c\u7528 now() \u51fd\u6570\u5b58\u50a8\u65f6\u95f4\u3002 nebula> INSERT VERTEX school(name, found_time) VALUES \"dut\":(\"dut\", now()); \u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 WITH \u8bed\u53e5\u8bbe\u7f6e\u5177\u4f53\u65e5\u671f\u548c\u65f6\u95f4\uff0c\u4f8b\u5982\uff1a nebula> WITH time({hour: 12, minute: 31, second: 14}) AS d RETURN d; +--------------+ | d | +--------------+ | 12:31:14.000 | +--------------+ nebula> WITH date({year: 1984, month: 10, day: 11}) AS x RETURN x + 1; +------------+ | x | +------------+ | 1984-10-12 | +------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/3.data-types/5.null/","text":"NULL \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u63d2\u5165\u70b9\u6216\u8fb9\u65f6\uff0c\u5c5e\u6027\u503c\u53ef\u4ee5\u4e3a NULL \uff0c\u60a8\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\u503c\u4e0d\u5141\u8bb8\u4e3a NULL \uff08 NOT NULL \uff09\uff0c\u5373\u63d2\u5165\u70b9\u6216\u8fb9\u65f6\u5fc5\u987b\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u9664\u975e\u521b\u5efa\u5c5e\u6027\u65f6\u5df2\u7ecf\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002 NULL\u7684\u903b\u8f91\u64cd\u4f5c \u00b6 AND \u3001 OR \u3001 XOR \u548c NOT \u7684\u771f\u503c\u8868\u5982\u4e0b\u3002 a b a AND b a OR b a XOR NOT a false false false false false true false null false null null true false true false true true true true false false true true false true null null true null false true true true true false false null false false null null null null null null null null null null true null true null null OpenCypher\u517c\u5bb9\u6027 \u00b6 Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u548c\u64cd\u4f5c\u4e0eopenCypher\u4e0d\u540c\uff0c\u540e\u7eed\u4e5f\u53ef\u80fd\u4f1a\u6709\u53d8\u5316\u3002 NULL\u7684\u6bd4\u8f83 \u00b6 Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u64cd\u4f5c\u4e0d\u517c\u5bb9openCypher\u3002 NULL\u7684\u64cd\u4f5c\u548c\u8fd4\u56de \u00b6 Nebula Graph\u4e2d\uff0c\u5bf9NULL\u7684\u64cd\u4f5c\u4ee5\u53ca\u8fd4\u56de\u7ed3\u679c\u4e0d\u517c\u5bb9openCypher\u3002 \u793a\u4f8b \u00b6 \u4f7f\u7528NOT NULL \u00b6 \u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a player \uff0c\u6307\u5b9a\u5c5e\u6027 name \u4e3a NOT NULL \u3002 nebula> CREATE TAG player(name string NOT NULL, age int); \u4f7f\u7528 SHOW \u547d\u4ee4\u67e5\u770b\u521b\u5efa\u6807\u7b7e\u8bed\u53e5\uff0c\u5c5e\u6027 name \u4e3a NOT NULL \uff0c\u5c5e\u6027 age \u4e3a\u9ed8\u8ba4\u7684 NULL \u3002 nebula> SHOW CREATE TAG player; +-----------+-----------------------------------+ | Tag | Create Tag | +-----------+-----------------------------------+ | \"student\" | \"CREATE TAG `player` ( | | | `name` string NOT NULL, | | | `age` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\"\" | +-----------+-----------------------------------+ \u63d2\u5165\u70b9 Kobe \uff0c\u5c5e\u6027 age \u53ef\u4ee5\u4e3a NULL \u3002 nebula> INSERT VERTEX player(name, age) VALUES \"Kobe\":(\"Kobe\",null); \u4f7f\u7528NOT NULL\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c \u00b6 \u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a player \uff0c\u6307\u5b9a\u5c5e\u6027 age \u4e3a NOT NULL \uff0c\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c 18 \u3002 nebula> CREATE TAG player(name string, age int NOT NULL DEFAULT 18); \u63d2\u5165\u70b9 Kobe \uff0c\u53ea\u8bbe\u7f6e\u5c5e\u6027 name \u3002 nebula> INSERT VERTEX player(name) VALUES \"Kobe\":(\"Kobe\"); \u67e5\u8be2\u70b9 Kobe \uff0c\u5c5e\u6027 age \u4e3a\u9ed8\u8ba4\u503c 18 \u3002 nebula> FETCH PROP ON player \"Kobe\" +-----------------------------------------+ | vertices_ | +-----------------------------------------+ | (\"Kobe\" :player{age: 18, name: \"Kobe\"}) | +-----------------------------------------+","title":"NULL"},{"location":"3.ngql-guide/3.data-types/5.null/#null","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u63d2\u5165\u70b9\u6216\u8fb9\u65f6\uff0c\u5c5e\u6027\u503c\u53ef\u4ee5\u4e3a NULL \uff0c\u60a8\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\u503c\u4e0d\u5141\u8bb8\u4e3a NULL \uff08 NOT NULL \uff09\uff0c\u5373\u63d2\u5165\u70b9\u6216\u8fb9\u65f6\u5fc5\u987b\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u9664\u975e\u521b\u5efa\u5c5e\u6027\u65f6\u5df2\u7ecf\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002","title":"NULL"},{"location":"3.ngql-guide/3.data-types/5.null/#null_1","text":"AND \u3001 OR \u3001 XOR \u548c NOT \u7684\u771f\u503c\u8868\u5982\u4e0b\u3002 a b a AND b a OR b a XOR NOT a false false false false false true false null false null null true false true false true true true true false false true true false true null null true null false true true true true false false null false false null null null null null null null null null null true null true null null","title":"NULL\u7684\u903b\u8f91\u64cd\u4f5c"},{"location":"3.ngql-guide/3.data-types/5.null/#opencypher","text":"Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u548c\u64cd\u4f5c\u4e0eopenCypher\u4e0d\u540c\uff0c\u540e\u7eed\u4e5f\u53ef\u80fd\u4f1a\u6709\u53d8\u5316\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/5.null/#null_2","text":"Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u64cd\u4f5c\u4e0d\u517c\u5bb9openCypher\u3002","title":"NULL\u7684\u6bd4\u8f83"},{"location":"3.ngql-guide/3.data-types/5.null/#null_3","text":"Nebula Graph\u4e2d\uff0c\u5bf9NULL\u7684\u64cd\u4f5c\u4ee5\u53ca\u8fd4\u56de\u7ed3\u679c\u4e0d\u517c\u5bb9openCypher\u3002","title":"NULL\u7684\u64cd\u4f5c\u548c\u8fd4\u56de"},{"location":"3.ngql-guide/3.data-types/5.null/#_1","text":"","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/3.data-types/5.null/#not_null","text":"\u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a player \uff0c\u6307\u5b9a\u5c5e\u6027 name \u4e3a NOT NULL \u3002 nebula> CREATE TAG player(name string NOT NULL, age int); \u4f7f\u7528 SHOW \u547d\u4ee4\u67e5\u770b\u521b\u5efa\u6807\u7b7e\u8bed\u53e5\uff0c\u5c5e\u6027 name \u4e3a NOT NULL \uff0c\u5c5e\u6027 age \u4e3a\u9ed8\u8ba4\u7684 NULL \u3002 nebula> SHOW CREATE TAG player; +-----------+-----------------------------------+ | Tag | Create Tag | +-----------+-----------------------------------+ | \"student\" | \"CREATE TAG `player` ( | | | `name` string NOT NULL, | | | `age` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\"\" | +-----------+-----------------------------------+ \u63d2\u5165\u70b9 Kobe \uff0c\u5c5e\u6027 age \u53ef\u4ee5\u4e3a NULL \u3002 nebula> INSERT VERTEX player(name, age) VALUES \"Kobe\":(\"Kobe\",null);","title":"\u4f7f\u7528NOT NULL"},{"location":"3.ngql-guide/3.data-types/5.null/#not_null_1","text":"\u521b\u5efa\u6807\u7b7e\uff0c\u540d\u79f0\u4e3a player \uff0c\u6307\u5b9a\u5c5e\u6027 age \u4e3a NOT NULL \uff0c\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c 18 \u3002 nebula> CREATE TAG player(name string, age int NOT NULL DEFAULT 18); \u63d2\u5165\u70b9 Kobe \uff0c\u53ea\u8bbe\u7f6e\u5c5e\u6027 name \u3002 nebula> INSERT VERTEX player(name) VALUES \"Kobe\":(\"Kobe\"); \u67e5\u8be2\u70b9 Kobe \uff0c\u5c5e\u6027 age \u4e3a\u9ed8\u8ba4\u503c 18 \u3002 nebula> FETCH PROP ON player \"Kobe\" +-----------------------------------------+ | vertices_ | +-----------------------------------------+ | (\"Kobe\" :player{age: 18, name: \"Kobe\"}) | +-----------------------------------------+","title":"\u4f7f\u7528NOT NULL\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c"},{"location":"3.ngql-guide/3.data-types/6.list/","text":"\u5217\u8868 \u00b6 \u5217\u8868\uff08List\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u5217\u8868\u662f\u4e00\u7ec4\u5143\u7d20\u7684\u5e8f\u5217\uff0c\u53ef\u4ee5\u901a\u8fc7\u5143\u7d20\u5728\u5e8f\u5217\u4e2d\u7684\u4f4d\u7f6e\u8bbf\u95ee\u5217\u8868\u4e2d\u7684\u5143\u7d20\u3002 \u5217\u8868\u7528\u5de6\u65b9\u62ec\u53f7\uff08[\uff09\u548c\u53f3\u65b9\u62ec\u53f7\uff08]\uff09\u5305\u88f9\u591a\u4e2a\u5143\u7d20\uff0c\u5404\u4e2a\u5143\u7d20\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002\u5143\u7d20\u524d\u540e\u7684\u7a7a\u683c\u5728\u5217\u8868\u4e2d\u88ab\u5ffd\u7565\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u548c\u7a7a\u683c\u8c03\u6574\u683c\u5f0f\u3002 \u793a\u4f8b \u00b6 # \u8fd4\u56de\u5217\u8868[1,2,3] nebula> RETURN [1, 2, 3] AS List; +-----------+ | List | +-----------+ | [1, 2, 3] | +-----------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u3002\u5217\u8868\u7684\u4f4d\u7f6e\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u5143\u7d20\u4e3a4\u3002 nebula> RETURN range(1,5)[3]; +---------------+ | range(1,5)[3] | +---------------+ | 4 | +---------------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u4e3a-2\u7684\u5143\u7d20\u3002\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\u4e0b\u6807\u662f-1\uff0c\u56e0\u6b64-2\u662f\u6307\u5012\u6570\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u53734\u3002 nebula> RETURN range(1,5)[-2]; +------------------+ | range(1,5)[-(2)] | +------------------+ | 4 | +------------------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u5927\u4e8e2\u7684\u5143\u7d20\u3002 nebula> RETURN [n IN range(1,5) WHERE n > 2] AS a; +-----------+ | a | +-----------+ | [3, 4, 5] | +-----------+ # \u7b5b\u9009\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u5927\u4e8e2\u7684\u5143\u7d20\uff0c\u5c06\u8fd9\u4e9b\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\u5e76\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1,5) WHERE n > 2 | n + 10] AS a; +--------------+ | a | +--------------+ | [13, 14, 15] | +--------------+ # \u5c06\u5217\u8868[1,2,3,4,5]\u4e2d\u7684\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1,5) | n + 10] AS a; +----------------------+ | a | +----------------------+ | [11, 12, 13, 14, 15] | +----------------------+ # \u5c06\u5217\u8868[1,2,3,4,5]\u4e2d\u7684\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u5c06\u5217\u8868\u53bb\u6389\u8868\u5934\u5e76\u8fd4\u56de\u3002 nebula> RETURN tail([n IN range(1, 5) | 2 * n - 10]) AS a; +-----------------+ | a | +-----------------+ | [-6, -4, -2, 0] | +-----------------+ # \u5c06\u5217\u8868[1,2,3]\u4e2d\u7684\u5143\u7d20\u5224\u65ad\u4e3a\u771f\uff0c\u7136\u540e\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1, 3) WHERE true | n] AS r; +-----------+ | r | +-----------+ | [1, 2, 3] | +-----------+ # \u8fd4\u56de\u5217\u8868[1,2,3]\u7684\u957f\u5ea6\u3002 nebula> RETURN size([1,2,3]); +---------------+ | size([1,2,3]) | +---------------+ | 3 | +---------------+ # \u5c06\u5217\u8868[92,90]\u4e2d\u7684\u5143\u7d20\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u5728where\u5b50\u53e5\u4e2d\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u3002 nebula> GO FROM \"player100\" OVER follow WHERE follow.degree NOT IN [x IN [92, 90] | x + $$.player.age] \\ YIELD follow._dst AS id, follow.degree AS degree; +-------------+--------+ | id | degree | +-------------+--------+ | \"player101\" | 95 | +-------------+--------+ | \"player102\" | 90 | +-------------+--------+ # \u5c06MATCH\u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u4f5c\u4e3a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\u5e76\u8fd4\u56de\u3002 nebula> MATCH p = (n:player{name:\"Tim Duncan\"})-[:follow]->(m) \\ RETURN [n IN nodes(p) | n.age + 100] AS r; +------------+ | r | +------------+ | [142, 136] | +------------+ | [142, 133] | +------------+ OpenCypher\u517c\u5bb9\u6027 \u00b6 \u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982set\u3001map\u3001list\uff09 \u4e0d\u80fd \u5b58\u50a8\u4e3a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0d\u652f\u6301\u4f7f\u7528 range() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u7684\u90e8\u5206\u5143\u7d20\u3002 nebula> RETURN range(0,5)[0..3]; [ERROR (-7)]: SyntaxError: syntax error near `3]' \u5728openCypher\u4e2d\uff0c\u67e5\u8be2\u8d8a\u754c\u5143\u7d20\u65f6\u8fd4\u56de null \uff0c\u800c\u5728nGQL\u4e2d\uff0c\u67e5\u8be2\u8d8a\u754c\u5143\u7d20\u65f6\u8fd4\u56de OUT_OF_RANGE \u3002 nebula> RETURN range(0,5)[-12]; +-------------------+ | range(0,5)[-(12)] | +-------------------+ | OUT_OF_RANGE | +-------------------+","title":"\u5217\u8868"},{"location":"3.ngql-guide/3.data-types/6.list/#_1","text":"\u5217\u8868\uff08List\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u5217\u8868\u662f\u4e00\u7ec4\u5143\u7d20\u7684\u5e8f\u5217\uff0c\u53ef\u4ee5\u901a\u8fc7\u5143\u7d20\u5728\u5e8f\u5217\u4e2d\u7684\u4f4d\u7f6e\u8bbf\u95ee\u5217\u8868\u4e2d\u7684\u5143\u7d20\u3002 \u5217\u8868\u7528\u5de6\u65b9\u62ec\u53f7\uff08[\uff09\u548c\u53f3\u65b9\u62ec\u53f7\uff08]\uff09\u5305\u88f9\u591a\u4e2a\u5143\u7d20\uff0c\u5404\u4e2a\u5143\u7d20\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002\u5143\u7d20\u524d\u540e\u7684\u7a7a\u683c\u5728\u5217\u8868\u4e2d\u88ab\u5ffd\u7565\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u548c\u7a7a\u683c\u8c03\u6574\u683c\u5f0f\u3002","title":"\u5217\u8868"},{"location":"3.ngql-guide/3.data-types/6.list/#_2","text":"# \u8fd4\u56de\u5217\u8868[1,2,3] nebula> RETURN [1, 2, 3] AS List; +-----------+ | List | +-----------+ | [1, 2, 3] | +-----------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u3002\u5217\u8868\u7684\u4f4d\u7f6e\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u5143\u7d20\u4e3a4\u3002 nebula> RETURN range(1,5)[3]; +---------------+ | range(1,5)[3] | +---------------+ | 4 | +---------------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u4e3a-2\u7684\u5143\u7d20\u3002\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\u4e0b\u6807\u662f-1\uff0c\u56e0\u6b64-2\u662f\u6307\u5012\u6570\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u53734\u3002 nebula> RETURN range(1,5)[-2]; +------------------+ | range(1,5)[-(2)] | +------------------+ | 4 | +------------------+ # \u8fd4\u56de\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u5927\u4e8e2\u7684\u5143\u7d20\u3002 nebula> RETURN [n IN range(1,5) WHERE n > 2] AS a; +-----------+ | a | +-----------+ | [3, 4, 5] | +-----------+ # \u7b5b\u9009\u5217\u8868[1,2,3,4,5]\u4e2d\u4f4d\u7f6e\u4e0b\u6807\u5927\u4e8e2\u7684\u5143\u7d20\uff0c\u5c06\u8fd9\u4e9b\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\u5e76\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1,5) WHERE n > 2 | n + 10] AS a; +--------------+ | a | +--------------+ | [13, 14, 15] | +--------------+ # \u5c06\u5217\u8868[1,2,3,4,5]\u4e2d\u7684\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1,5) | n + 10] AS a; +----------------------+ | a | +----------------------+ | [11, 12, 13, 14, 15] | +----------------------+ # \u5c06\u5217\u8868[1,2,3,4,5]\u4e2d\u7684\u5143\u7d20\u5206\u522b\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u5c06\u5217\u8868\u53bb\u6389\u8868\u5934\u5e76\u8fd4\u56de\u3002 nebula> RETURN tail([n IN range(1, 5) | 2 * n - 10]) AS a; +-----------------+ | a | +-----------------+ | [-6, -4, -2, 0] | +-----------------+ # \u5c06\u5217\u8868[1,2,3]\u4e2d\u7684\u5143\u7d20\u5224\u65ad\u4e3a\u771f\uff0c\u7136\u540e\u8fd4\u56de\u3002 nebula> RETURN [n IN range(1, 3) WHERE true | n] AS r; +-----------+ | r | +-----------+ | [1, 2, 3] | +-----------+ # \u8fd4\u56de\u5217\u8868[1,2,3]\u7684\u957f\u5ea6\u3002 nebula> RETURN size([1,2,3]); +---------------+ | size([1,2,3]) | +---------------+ | 3 | +---------------+ # \u5c06\u5217\u8868[92,90]\u4e2d\u7684\u5143\u7d20\u505a\u8fd0\u7b97\uff0c\u7136\u540e\u5728where\u5b50\u53e5\u4e2d\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u3002 nebula> GO FROM \"player100\" OVER follow WHERE follow.degree NOT IN [x IN [92, 90] | x + $$.player.age] \\ YIELD follow._dst AS id, follow.degree AS degree; +-------------+--------+ | id | degree | +-------------+--------+ | \"player101\" | 95 | +-------------+--------+ | \"player102\" | 90 | +-------------+--------+ # \u5c06MATCH\u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u4f5c\u4e3a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\u5e76\u8fd4\u56de\u3002 nebula> MATCH p = (n:player{name:\"Tim Duncan\"})-[:follow]->(m) \\ RETURN [n IN nodes(p) | n.age + 100] AS r; +------------+ | r | +------------+ | [142, 136] | +------------+ | [142, 133] | +------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/3.data-types/6.list/#opencypher","text":"\u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982set\u3001map\u3001list\uff09 \u4e0d\u80fd \u5b58\u50a8\u4e3a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0d\u652f\u6301\u4f7f\u7528 range() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u7684\u90e8\u5206\u5143\u7d20\u3002 nebula> RETURN range(0,5)[0..3]; [ERROR (-7)]: SyntaxError: syntax error near `3]' \u5728openCypher\u4e2d\uff0c\u67e5\u8be2\u8d8a\u754c\u5143\u7d20\u65f6\u8fd4\u56de null \uff0c\u800c\u5728nGQL\u4e2d\uff0c\u67e5\u8be2\u8d8a\u754c\u5143\u7d20\u65f6\u8fd4\u56de OUT_OF_RANGE \u3002 nebula> RETURN range(0,5)[-12]; +-------------------+ | range(0,5)[-(12)] | +-------------------+ | OUT_OF_RANGE | +-------------------+","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/7.set/","text":"\u96c6\u5408 \u00b6 \u96c6\u5408\uff08Set\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 \u5728OpenCypher\u4e2d\uff0c\u96c6\u5408\u4e0d\u662f\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u800c\u5728nGQL\u4e2d\uff0c\u96c6\u5408\u4ecd\u5728\u8bbe\u8ba1\u9636\u6bb5\u3002","title":"\u96c6\u5408"},{"location":"3.ngql-guide/3.data-types/7.set/#_1","text":"\u96c6\u5408\uff08Set\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\u3002","title":"\u96c6\u5408"},{"location":"3.ngql-guide/3.data-types/7.set/#opencypher","text":"\u5728OpenCypher\u4e2d\uff0c\u96c6\u5408\u4e0d\u662f\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u800c\u5728nGQL\u4e2d\uff0c\u96c6\u5408\u4ecd\u5728\u8bbe\u8ba1\u9636\u6bb5\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/8.map/","text":"\u6620\u5c04 \u00b6 \u6620\u5c04\uff08Map\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\u3002\u4e00\u4e2a\u6620\u5c04\u662f\u4e00\u7ec4\u952e\u503c\u5bf9\uff08Key-Value\uff09\u7684\u65e0\u5e8f\u96c6\u5408\u3002\u5728\u6620\u5c04\u4e2d\uff0cKey\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0cValue\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 map['<key>'] \u7684\u65b9\u6cd5\u83b7\u53d6\u6620\u5c04\u4e2d\u7684\u5143\u7d20\u3002 \u5b57\u9762\u503c\u6620\u5c04 \u00b6 nebula> YIELD {key: 'Value', listKey: [{inner: 'Map1'}, {inner: 'Map2'}]} +-------------------------------------------------------------+ | {key:Value,listKey:[{inner:Map1},{inner:Map2}]} | +-------------------------------------------------------------+ | {key: \"Value\", listKey: [{inner: \"Map1\"}, {inner: \"Map2\"}]} | +-------------------------------------------------------------+ OpenCypher\u517c\u5bb9\u6027 \u00b6 \u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982set\u3001map\u3001list\uff09 \u4e0d\u80fd \u5b58\u50a8\u4e3a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0d\u652f\u6301\u6620\u5c04\u6295\u5f71\uff08map projection\uff09\u3002","title":"\u6620\u5c04"},{"location":"3.ngql-guide/3.data-types/8.map/#_1","text":"\u6620\u5c04\uff08Map\uff09\u662f\u590d\u5408\u6570\u636e\u7c7b\u578b\u3002\u4e00\u4e2a\u6620\u5c04\u662f\u4e00\u7ec4\u952e\u503c\u5bf9\uff08Key-Value\uff09\u7684\u65e0\u5e8f\u96c6\u5408\u3002\u5728\u6620\u5c04\u4e2d\uff0cKey\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0cValue\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 map['<key>'] \u7684\u65b9\u6cd5\u83b7\u53d6\u6620\u5c04\u4e2d\u7684\u5143\u7d20\u3002","title":"\u6620\u5c04"},{"location":"3.ngql-guide/3.data-types/8.map/#_2","text":"nebula> YIELD {key: 'Value', listKey: [{inner: 'Map1'}, {inner: 'Map2'}]} +-------------------------------------------------------------+ | {key:Value,listKey:[{inner:Map1},{inner:Map2}]} | +-------------------------------------------------------------+ | {key: \"Value\", listKey: [{inner: \"Map1\"}, {inner: \"Map2\"}]} | +-------------------------------------------------------------+","title":"\u5b57\u9762\u503c\u6620\u5c04"},{"location":"3.ngql-guide/3.data-types/8.map/#opencypher","text":"\u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982set\u3001map\u3001list\uff09 \u4e0d\u80fd \u5b58\u50a8\u4e3a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u4e0d\u652f\u6301\u6620\u5c04\u6295\u5f71\uff08map projection\uff09\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/3.data-types/9.type-conversion/","text":"\u7c7b\u578b\u8f6c\u6362 \u00b6 \u7c7b\u578b\u8f6c\u6362\u662f\u6307\u5c06\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u8f6c\u6362\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002 \u9057\u7559\u517c\u5bb9\u95ee\u9898 \u00b6 nGQL 1.0\u4f7f\u7528C\u8bed\u8a00\u98ce\u683c\u7684\u7c7b\u578b\u8f6c\u6362\uff08\u663e\u793a\u6216\u9690\u5f0f\uff09\uff1a (type_name)expression \u3002\u4f8b\u5982 YIELD (int)(TRUE) \uff0c\u7ed3\u679c\u4e3a 1 \u3002\u4f46\u662f\u5bf9\u4e8e\u4e0d\u719f\u6089C\u8bed\u8a00\u7684\u7528\u6237\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\u3002 nGQL 2.0\u4f7f\u7528openCypher\u7684\u65b9\u5f0f\u8fdb\u884c\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u3002 \u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u51fd\u6570 \u00b6 \u51fd\u6570 \u8bf4\u660e toBoolean() \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5e03\u5c14\u3002 toFloat() \u5c06\u6574\u6570\u6216\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570\u3002 toInteger() \u5c06\u6d6e\u70b9\u6216\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u6570\u3002 type() \u8fd4\u56de\u5b57\u7b26\u4e32\u683c\u5f0f\u7684\u5173\u7cfb\u7c7b\u578b\u3002 \u793a\u4f8b \u00b6 nebula> UNWIND [true, false, 'true', 'false', NULL] AS b RETURN toBoolean(b) AS b; +----------+ | b | +----------+ | true | +----------+ | false | +----------+ | true | +----------+ | false | +----------+ | __NULL__ | +----------+ nebula> RETURN toFloat(1), toFloat('1.3'), toFloat('1e3'), toFloat('not a number'); +------------+----------------+----------------+-------------------------+ | toFloat(1) | toFloat(\"1.3\") | toFloat(\"1e3\") | toFloat(\"not a number\") | +------------+----------------+----------------+-------------------------+ | 1.0 | 1.3 | 1000.0 | __NULL__ | +------------+----------------+----------------+-------------------------+ nebula> RETURN toInteger(1), toInteger('1'), toInteger('1e3'), toInteger('not a number'); +--------------+----------------+------------------+---------------------------+ | toInteger(1) | toInteger(\"1\") | toInteger(\"1e3\") | toInteger(\"not a number\") | +--------------+----------------+------------------+---------------------------+ | 1 | 1 | 1000 | __NULL__ | +--------------+----------------+------------------+---------------------------+ nebula> MATCH (a:player)-[e]-() RETURN type(e); +----------+ | type(e) | +----------+ | \"follow\" | +----------+ | \"follow\" | nebula> MATCH (a:player {name: \"Tim Duncan\"}) WHERE toInteger(id(a)) == 100 RETURN a; +----------------------------------------------+ | a | +----------------------------------------------+ | (\"100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------+ nebula> MATCH (n:player) WITH n LIMIT toInteger(ceil(1.8)) RETURN count(*) AS count; +-------+ | count | +-------+ | 2 | +-------+","title":"\u7c7b\u578b\u8f6c\u6362"},{"location":"3.ngql-guide/3.data-types/9.type-conversion/#_1","text":"\u7c7b\u578b\u8f6c\u6362\u662f\u6307\u5c06\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u8f6c\u6362\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002","title":"\u7c7b\u578b\u8f6c\u6362"},{"location":"3.ngql-guide/3.data-types/9.type-conversion/#_2","text":"nGQL 1.0\u4f7f\u7528C\u8bed\u8a00\u98ce\u683c\u7684\u7c7b\u578b\u8f6c\u6362\uff08\u663e\u793a\u6216\u9690\u5f0f\uff09\uff1a (type_name)expression \u3002\u4f8b\u5982 YIELD (int)(TRUE) \uff0c\u7ed3\u679c\u4e3a 1 \u3002\u4f46\u662f\u5bf9\u4e8e\u4e0d\u719f\u6089C\u8bed\u8a00\u7684\u7528\u6237\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\u3002 nGQL 2.0\u4f7f\u7528openCypher\u7684\u65b9\u5f0f\u8fdb\u884c\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u3002","title":"\u9057\u7559\u517c\u5bb9\u95ee\u9898"},{"location":"3.ngql-guide/3.data-types/9.type-conversion/#_3","text":"\u51fd\u6570 \u8bf4\u660e toBoolean() \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5e03\u5c14\u3002 toFloat() \u5c06\u6574\u6570\u6216\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570\u3002 toInteger() \u5c06\u6d6e\u70b9\u6216\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u6570\u3002 type() \u8fd4\u56de\u5b57\u7b26\u4e32\u683c\u5f0f\u7684\u5173\u7cfb\u7c7b\u578b\u3002","title":"\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u51fd\u6570"},{"location":"3.ngql-guide/3.data-types/9.type-conversion/#_4","text":"nebula> UNWIND [true, false, 'true', 'false', NULL] AS b RETURN toBoolean(b) AS b; +----------+ | b | +----------+ | true | +----------+ | false | +----------+ | true | +----------+ | false | +----------+ | __NULL__ | +----------+ nebula> RETURN toFloat(1), toFloat('1.3'), toFloat('1e3'), toFloat('not a number'); +------------+----------------+----------------+-------------------------+ | toFloat(1) | toFloat(\"1.3\") | toFloat(\"1e3\") | toFloat(\"not a number\") | +------------+----------------+----------------+-------------------------+ | 1.0 | 1.3 | 1000.0 | __NULL__ | +------------+----------------+----------------+-------------------------+ nebula> RETURN toInteger(1), toInteger('1'), toInteger('1e3'), toInteger('not a number'); +--------------+----------------+------------------+---------------------------+ | toInteger(1) | toInteger(\"1\") | toInteger(\"1e3\") | toInteger(\"not a number\") | +--------------+----------------+------------------+---------------------------+ | 1 | 1 | 1000 | __NULL__ | +--------------+----------------+------------------+---------------------------+ nebula> MATCH (a:player)-[e]-() RETURN type(e); +----------+ | type(e) | +----------+ | \"follow\" | +----------+ | \"follow\" | nebula> MATCH (a:player {name: \"Tim Duncan\"}) WHERE toInteger(id(a)) == 100 RETURN a; +----------------------------------------------+ | a | +----------------------------------------------+ | (\"100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------+ nebula> MATCH (n:player) WITH n LIMIT toInteger(ceil(1.8)) RETURN count(*) AS count; +-------+ | count | +-------+ | 2 | +-------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/4.variable-and-composite-queries/1.composite-queries/","text":"\u590d\u5408\u67e5\u8be2\uff08\u5b50\u53e5\u7ed3\u6784\uff09 \u00b6 \u590d\u5408\u67e5\u8be2\u5c06\u6765\u81ea\u4e0d\u540c\u8bf7\u6c42\u7684\u6570\u636e\u653e\u5728\u4e00\u8d77\uff0c\u7136\u540e\u8fdb\u884c\u8fc7\u6ee4\u3001\u5206\u7ec4\u6216\u8005\u6392\u5e8f\u7b49\uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c\u3002 Nebula Graph\u652f\u6301\u4e09\u79cd\u65b9\u5f0f\u8fdb\u884c\u590d\u5408\u67e5\u8be2\uff08\u6216\u5b50\u67e5\u8be2\uff09\uff1a \uff08OpenCypher\u8bed\u53e5\uff09\u8fde\u63a5\u5404\u4e2a\u5b50\u53e5\uff0c\u8ba9\u5b83\u4eec\u5728\u5f7c\u6b64\u4e4b\u95f4\u63d0\u4f9b\u4e2d\u95f4\u7ed3\u679c\u96c6\u3002 \uff08nGQL\u6269\u5c55\uff09\u591a\u4e2a\u67e5\u8be2\u53ef\u4ee5\u5408\u5e76\u5904\u7406\uff0c\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u5206\u9694\uff0c\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u3002 \uff08nGQL\u6269\u5c55\uff09\u53ef\u4ee5\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u5c06\u591a\u4e2a\u67e5\u8be2\u8fde\u63a5\u8d77\u6765\uff0c\u4e0a\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u53ef\u4ee5\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u5165\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 \u5728\u590d\u5408\u67e5\u8be2\u4e2d\uff0c\u8bf7 \u4e0d\u8981 \u6df7\u7528OpenCypher\u8bed\u53e5\u548cnGQL\u6269\u5c55\u8bed\u53e5\uff0c\u4f8b\u5982 MATCH ... | GO ... | YIELD ... \uff0c\u6df7\u7528\u4e24\u79cd\u8bed\u53e5\uff0c\u884c\u4e3a\u662f\u672a\u5b9a\u4e49\u7684\u3002 \u5982\u679c\u60a8\u4f7f\u7528OpenCypher\u8bed\u53e5\uff08 MATCH \u3001 RETURN \u3001 WITH \u7b49\uff09\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u5206\u53f7\u7ec4\u5408\u5b50\u53e5\u3002 \u5982\u679c\u60a8\u4f7f\u7528nGQL\u6269\u5c55\u8bed\u53e5\uff08 FETCH \u3001 GO \u3001 LOOKUP \u7b49\uff09\uff0c\u5fc5\u987b\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u5206\u53f7\u7ec4\u5408\u5b50\u53e5\u3002 \u590d\u5408\u67e5\u8be2\u4e0d\u652f\u6301\u4e8b\u52a1 \u00b6 \u4f8b\u5982\u4e00\u4e2a\u67e5\u8be2\u7531\u4e09\u4e2a\u5b50\u67e5\u8be2A\u3001B\u3001C\u7ec4\u6210\uff0cA\u662f\u4e00\u4e2a\u8bfb\u64cd\u4f5c\uff0cB\u662f\u4e00\u4e2a\u8ba1\u7b97\u64cd\u4f5c\uff0cC\u662f\u4e00\u4e2a\u5199\u64cd\u4f5c\uff0c\u5982\u679c\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4efb\u4f55\u4e00\u4e2a\u64cd\u4f5c\u6267\u884c\u5931\u8d25\uff0c\u5219\u6574\u4e2a\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\uff1a\u6ca1\u6709\u56de\u6eda\uff0c\u800c\u4e14\u5199\u5165\u7684\u5185\u5bb9\u53d6\u51b3\u4e8e\u6267\u884c\u7a0b\u5e8f\u3002 \u8bf4\u660e \uff1aopenCypher\u6ca1\u6709\u4e8b\u52a1\u8981\u6c42\u3002 \u793a\u4f8b \u00b6 OpenCypher\u8bed\u53e5 # \u5b50\u53e5\u8fde\u63a5\u591a\u4e2a\u67e5\u8be2\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--() \\ WITH nodes(p) AS n \\ UNWIND n AS n1 \\ RETURN DISTINCT n1; nGQL\u6269\u5c55\uff08\u5206\u53f7\uff09 # \u53ea\u8fd4\u56de\u8fb9\u3002 nebula> SHOW TAGS; SHOW EDGES; # \u63d2\u5165\u591a\u4e2a\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player100\":(\"Tim Duncan\", 42); \\ INSERT VERTEX player(name, age) VALUES \"player101\":(\"Tony Parker\", 36); \\ INSERT VERTEX player(name, age) VALUES \"player102\":(\"LaMarcus Aldridge\", 33); nGQL\u6269\u5c55\uff08\u7ba1\u9053\u7b26\uff09 # \u7ba1\u9053\u7b26\u8fde\u63a5\u591a\u4e2a\u67e5\u8be2\u3002 nebula> GO FROM \"player100\" OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+","title":"\u590d\u5408\u67e5\u8be2"},{"location":"3.ngql-guide/4.variable-and-composite-queries/1.composite-queries/#_1","text":"\u590d\u5408\u67e5\u8be2\u5c06\u6765\u81ea\u4e0d\u540c\u8bf7\u6c42\u7684\u6570\u636e\u653e\u5728\u4e00\u8d77\uff0c\u7136\u540e\u8fdb\u884c\u8fc7\u6ee4\u3001\u5206\u7ec4\u6216\u8005\u6392\u5e8f\u7b49\uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c\u3002 Nebula Graph\u652f\u6301\u4e09\u79cd\u65b9\u5f0f\u8fdb\u884c\u590d\u5408\u67e5\u8be2\uff08\u6216\u5b50\u67e5\u8be2\uff09\uff1a \uff08OpenCypher\u8bed\u53e5\uff09\u8fde\u63a5\u5404\u4e2a\u5b50\u53e5\uff0c\u8ba9\u5b83\u4eec\u5728\u5f7c\u6b64\u4e4b\u95f4\u63d0\u4f9b\u4e2d\u95f4\u7ed3\u679c\u96c6\u3002 \uff08nGQL\u6269\u5c55\uff09\u591a\u4e2a\u67e5\u8be2\u53ef\u4ee5\u5408\u5e76\u5904\u7406\uff0c\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u5206\u9694\uff0c\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u3002 \uff08nGQL\u6269\u5c55\uff09\u53ef\u4ee5\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u5c06\u591a\u4e2a\u67e5\u8be2\u8fde\u63a5\u8d77\u6765\uff0c\u4e0a\u4e00\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\u53ef\u4ee5\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7684\u8f93\u5165\u3002","title":"\u590d\u5408\u67e5\u8be2\uff08\u5b50\u53e5\u7ed3\u6784\uff09"},{"location":"3.ngql-guide/4.variable-and-composite-queries/1.composite-queries/#opencypher","text":"\u5728\u590d\u5408\u67e5\u8be2\u4e2d\uff0c\u8bf7 \u4e0d\u8981 \u6df7\u7528OpenCypher\u8bed\u53e5\u548cnGQL\u6269\u5c55\u8bed\u53e5\uff0c\u4f8b\u5982 MATCH ... | GO ... | YIELD ... \uff0c\u6df7\u7528\u4e24\u79cd\u8bed\u53e5\uff0c\u884c\u4e3a\u662f\u672a\u5b9a\u4e49\u7684\u3002 \u5982\u679c\u60a8\u4f7f\u7528OpenCypher\u8bed\u53e5\uff08 MATCH \u3001 RETURN \u3001 WITH \u7b49\uff09\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u5206\u53f7\u7ec4\u5408\u5b50\u53e5\u3002 \u5982\u679c\u60a8\u4f7f\u7528nGQL\u6269\u5c55\u8bed\u53e5\uff08 FETCH \u3001 GO \u3001 LOOKUP \u7b49\uff09\uff0c\u5fc5\u987b\u4f7f\u7528\u7ba1\u9053\u7b26\u6216\u5206\u53f7\u7ec4\u5408\u5b50\u53e5\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/1.composite-queries/#_2","text":"\u4f8b\u5982\u4e00\u4e2a\u67e5\u8be2\u7531\u4e09\u4e2a\u5b50\u67e5\u8be2A\u3001B\u3001C\u7ec4\u6210\uff0cA\u662f\u4e00\u4e2a\u8bfb\u64cd\u4f5c\uff0cB\u662f\u4e00\u4e2a\u8ba1\u7b97\u64cd\u4f5c\uff0cC\u662f\u4e00\u4e2a\u5199\u64cd\u4f5c\uff0c\u5982\u679c\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4efb\u4f55\u4e00\u4e2a\u64cd\u4f5c\u6267\u884c\u5931\u8d25\uff0c\u5219\u6574\u4e2a\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\uff1a\u6ca1\u6709\u56de\u6eda\uff0c\u800c\u4e14\u5199\u5165\u7684\u5185\u5bb9\u53d6\u51b3\u4e8e\u6267\u884c\u7a0b\u5e8f\u3002 \u8bf4\u660e \uff1aopenCypher\u6ca1\u6709\u4e8b\u52a1\u8981\u6c42\u3002","title":"\u590d\u5408\u67e5\u8be2\u4e0d\u652f\u6301\u4e8b\u52a1"},{"location":"3.ngql-guide/4.variable-and-composite-queries/1.composite-queries/#_3","text":"OpenCypher\u8bed\u53e5 # \u5b50\u53e5\u8fde\u63a5\u591a\u4e2a\u67e5\u8be2\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--() \\ WITH nodes(p) AS n \\ UNWIND n AS n1 \\ RETURN DISTINCT n1; nGQL\u6269\u5c55\uff08\u5206\u53f7\uff09 # \u53ea\u8fd4\u56de\u8fb9\u3002 nebula> SHOW TAGS; SHOW EDGES; # \u63d2\u5165\u591a\u4e2a\u70b9\u3002 nebula> INSERT VERTEX player(name, age) VALUES \"player100\":(\"Tim Duncan\", 42); \\ INSERT VERTEX player(name, age) VALUES \"player101\":(\"Tony Parker\", 36); \\ INSERT VERTEX player(name, age) VALUES \"player102\":(\"LaMarcus Aldridge\", 33); nGQL\u6269\u5c55\uff08\u7ba1\u9053\u7b26\uff09 # \u7ba1\u9053\u7b26\u8fde\u63a5\u591a\u4e2a\u67e5\u8be2\u3002 nebula> GO FROM \"player100\" OVER follow YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/4.variable-and-composite-queries/2.user-defined-variables/","text":"\u81ea\u5b9a\u4e49\u53d8\u91cf \u00b6 Nebula Graph\u5141\u8bb8\u5c06\u4e00\u6761\u8bed\u53e5\u7684\u7ed3\u679c\u4f5c\u4e3a\u81ea\u5b9a\u4e49\u53d8\u91cf\u4f20\u9012\u7ed9\u53e6\u4e00\u6761\u8bed\u53e5\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 \u5f53\u60a8\u5f15\u7528\u4e00\u4e2a\u53d8\u91cf\u7684\u70b9\u3001\u8fb9\u6216\u8def\u5f84\uff0c\u9700\u8981\u5148\u7ed9\u5b83\u547d\u540d\u3002\u4f8b\u5982\uff1a nebula> MATCH (v:player{name:\"Tim Duncan\"}) RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ \u793a\u4f8b\u4e2d\u7684 v \u5c31\u662f\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002 nGQL\u6269\u5c55 \u00b6 nGQL\u6269\u5c55\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u53ef\u4ee5\u8868\u793a\u4e3a $<var_name> \uff0c var_name \u7531\u5b57\u6bcd\u6216\u6570\u5b57\u6784\u6210\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u5176\u4ed6\u5b57\u7b26\u3002 \u81ea\u5b9a\u4e49\u53d8\u91cf\u4ec5\u5728\u5f53\u524d\u6267\u884c\u6709\u6548\uff0c\u6267\u884c\u7ed3\u675f\u540e\u53d8\u91cf\u4e5f\u4f1a\u91ca\u653e\uff0c \u4e0d\u80fd \u5728\u5176\u4ed6\u5ba2\u6237\u7aef\u6216\u6267\u884c\u4e2d\u4f7f\u7528\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002 \u60a8\u53ef\u4ee5\u5728\u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002\u590d\u5408\u67e5\u8be2\u7684\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u89c1 \u590d\u5408\u67e5\u8be2 \u3002 \u8bf4\u660e \uff1a\u81ea\u5b9a\u4e49\u53d8\u91cf\u533a\u5206\u5927\u5c0f\u5199\u3002 \u793a\u4f8b \u00b6 nebula> $var = GO FROM \"player100\" OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+","title":"\u81ea\u5b9a\u4e49\u53d8\u91cf"},{"location":"3.ngql-guide/4.variable-and-composite-queries/2.user-defined-variables/#_1","text":"Nebula Graph\u5141\u8bb8\u5c06\u4e00\u6761\u8bed\u53e5\u7684\u7ed3\u679c\u4f5c\u4e3a\u81ea\u5b9a\u4e49\u53d8\u91cf\u4f20\u9012\u7ed9\u53e6\u4e00\u6761\u8bed\u53e5\u3002","title":"\u81ea\u5b9a\u4e49\u53d8\u91cf"},{"location":"3.ngql-guide/4.variable-and-composite-queries/2.user-defined-variables/#opencypher","text":"\u5f53\u60a8\u5f15\u7528\u4e00\u4e2a\u53d8\u91cf\u7684\u70b9\u3001\u8fb9\u6216\u8def\u5f84\uff0c\u9700\u8981\u5148\u7ed9\u5b83\u547d\u540d\u3002\u4f8b\u5982\uff1a nebula> MATCH (v:player{name:\"Tim Duncan\"}) RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ \u793a\u4f8b\u4e2d\u7684 v \u5c31\u662f\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/2.user-defined-variables/#ngql","text":"nGQL\u6269\u5c55\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u53ef\u4ee5\u8868\u793a\u4e3a $<var_name> \uff0c var_name \u7531\u5b57\u6bcd\u6216\u6570\u5b57\u6784\u6210\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u5176\u4ed6\u5b57\u7b26\u3002 \u81ea\u5b9a\u4e49\u53d8\u91cf\u4ec5\u5728\u5f53\u524d\u6267\u884c\u6709\u6548\uff0c\u6267\u884c\u7ed3\u675f\u540e\u53d8\u91cf\u4e5f\u4f1a\u91ca\u653e\uff0c \u4e0d\u80fd \u5728\u5176\u4ed6\u5ba2\u6237\u7aef\u6216\u6267\u884c\u4e2d\u4f7f\u7528\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002 \u60a8\u53ef\u4ee5\u5728\u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u3002\u590d\u5408\u67e5\u8be2\u7684\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u89c1 \u590d\u5408\u67e5\u8be2 \u3002 \u8bf4\u660e \uff1a\u81ea\u5b9a\u4e49\u53d8\u91cf\u533a\u5206\u5927\u5c0f\u5199\u3002","title":"nGQL\u6269\u5c55"},{"location":"3.ngql-guide/4.variable-and-composite-queries/2.user-defined-variables/#_2","text":"nebula> $var = GO FROM \"player100\" OVER follow YIELD follow._dst AS id; \\ GO FROM $var.id OVER serve YIELD $$.team.name AS Team, \\ $^.player.name AS Player; +---------+-------------+ | Team | Player | +---------+-------------+ | Nuggets | Tony Parker | +---------+-------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/","text":"\u5f15\u7528\u5c5e\u6027 \u00b6 \u60a8\u53ef\u4ee5\u5728 WHERE \u548c YIELD \u5b50\u53e5\u4e2d\u5f15\u7528\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u8bf4\u660e \uff1a\u672c\u529f\u80fd\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u5f15\u7528\u70b9\u7684\u5c5e\u6027 \u00b6 \u8d77\u59cb\u70b9 \u00b6 $^.<tag_name>.<prop_name> \u53c2\u6570 \u8bf4\u660e $^ \u8868\u793a\u8d77\u59cb\u70b9\u3002 tag_name \u70b9\u7684\u6807\u7b7e\u540d\u79f0\u3002 prop_name \u6807\u7b7e\u5185\u7684\u5c5e\u6027\u540d\u79f0\u3002 \u76ee\u7684\u70b9 \u00b6 $$.tag_name.prop_name \u53c2\u6570 \u8bf4\u660e $$ \u8868\u793a\u76ee\u7684\u70b9\u3002 tag_name \u70b9\u7684\u6807\u7b7e\u540d\u79f0\u3002 prop_name \u6807\u7b7e\u5185\u7684\u5c5e\u6027\u540d\u79f0\u3002 \u5f15\u7528\u8fb9\u7684\u5c5e\u6027 \u00b6 \u5f15\u7528\u81ea\u5b9a\u4e49\u7684\u8fb9\u5c5e\u6027 \u00b6 <edge_type>.<prop_name> \u53c2\u6570 \u8bf4\u660e edge_type \u8fb9\u7c7b\u578b\u3002 prop_name \u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\u3002 \u5f15\u7528\u5185\u7f6e\u7684\u8fb9\u5c5e\u6027 \u00b6 \u9664\u4e86\u81ea\u5b9a\u4e49\u7684\u8fb9\u5c5e\u6027\uff0c\u6bcf\u6761\u8fb9\u8fd8\u6709\u5982\u4e0b\u4e09\u79cd\u5185\u7f6e\u5c5e\u6027\uff1a \u53c2\u6570 \u8bf4\u660e _src \u8fb9\u7684\u8d77\u59cb\u70b9\u3002 _dst \u8fb9\u7684\u76ee\u7684\u70b9\u3002 _type \u8fb9\u7684\u7c7b\u578b\u5185\u90e8\u7f16\u7801\uff0c\u6b63\u8d1f\u53f7\u8868\u793a\u65b9\u5411\u3002 _rank \u8fb9\u7684rank\u503c\u3002 \u793a\u4f8b \u00b6 # \u8fd4\u56de\u8d77\u59cb\u70b9\u7684\u6807\u7b7eplayer\u7684name\u5c5e\u6027\u503c\u548c\u76ee\u7684\u70b9\u7684\u6807\u7b7eplayer\u7684age\u5c5e\u6027\u503c\u3002 nebula> GO FROM \"player100\" OVER follow YIELD $^.player.name AS startName, $$.player.age AS endAge; +--------------+--------+ | startName | endAge | +--------------+--------+ | \"Tim Duncan\" | 36 | +--------------+--------+ | \"Tim Duncan\" | 33 | +--------------+--------+ # \u8fd4\u56de\u8fb9\u7c7b\u578bfollow\u7684degree\u5c5e\u6027\u503c\u3002 nebula> GO FROM \"player100\" OVER follow YIELD follow.degree; +---------------+ | follow.degree | +---------------+ | 95 | +---------------+ | 90 | +---------------+ # \u8fd4\u56de\u8fb9\u7c7b\u578bfollow\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u3001\u8fb9\u7c7b\u578b\u7f16\u7801\u548c\u8fb9rank\u503c\u3002 ```ngql nebula> GO FROM \"player100\" OVER follow YIELD follow._src, follow._dst, follow._type, follow._rank; +-------------+-------------+--------------+--------------+ | follow._src | follow._dst | follow._type | follow._rank | +-------------+-------------+--------------+--------------+ | \"player100\" | \"player101\" | 136 | 0 | +-------------+-------------+--------------+--------------+ | \"player100\" | \"player102\" | 136 | 0 | +-------------+-------------+--------------+--------------+","title":"\u5f15\u7528\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_1","text":"\u60a8\u53ef\u4ee5\u5728 WHERE \u548c YIELD \u5b50\u53e5\u4e2d\u5f15\u7528\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 \u8bf4\u660e \uff1a\u672c\u529f\u80fd\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"\u5f15\u7528\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_2","text":"","title":"\u5f15\u7528\u70b9\u7684\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_3","text":"$^.<tag_name>.<prop_name> \u53c2\u6570 \u8bf4\u660e $^ \u8868\u793a\u8d77\u59cb\u70b9\u3002 tag_name \u70b9\u7684\u6807\u7b7e\u540d\u79f0\u3002 prop_name \u6807\u7b7e\u5185\u7684\u5c5e\u6027\u540d\u79f0\u3002","title":"\u8d77\u59cb\u70b9"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_4","text":"$$.tag_name.prop_name \u53c2\u6570 \u8bf4\u660e $$ \u8868\u793a\u76ee\u7684\u70b9\u3002 tag_name \u70b9\u7684\u6807\u7b7e\u540d\u79f0\u3002 prop_name \u6807\u7b7e\u5185\u7684\u5c5e\u6027\u540d\u79f0\u3002","title":"\u76ee\u7684\u70b9"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_5","text":"","title":"\u5f15\u7528\u8fb9\u7684\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_6","text":"<edge_type>.<prop_name> \u53c2\u6570 \u8bf4\u660e edge_type \u8fb9\u7c7b\u578b\u3002 prop_name \u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\u3002","title":"\u5f15\u7528\u81ea\u5b9a\u4e49\u7684\u8fb9\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_7","text":"\u9664\u4e86\u81ea\u5b9a\u4e49\u7684\u8fb9\u5c5e\u6027\uff0c\u6bcf\u6761\u8fb9\u8fd8\u6709\u5982\u4e0b\u4e09\u79cd\u5185\u7f6e\u5c5e\u6027\uff1a \u53c2\u6570 \u8bf4\u660e _src \u8fb9\u7684\u8d77\u59cb\u70b9\u3002 _dst \u8fb9\u7684\u76ee\u7684\u70b9\u3002 _type \u8fb9\u7684\u7c7b\u578b\u5185\u90e8\u7f16\u7801\uff0c\u6b63\u8d1f\u53f7\u8868\u793a\u65b9\u5411\u3002 _rank \u8fb9\u7684rank\u503c\u3002","title":"\u5f15\u7528\u5185\u7f6e\u7684\u8fb9\u5c5e\u6027"},{"location":"3.ngql-guide/4.variable-and-composite-queries/3.property-reference/#_8","text":"# \u8fd4\u56de\u8d77\u59cb\u70b9\u7684\u6807\u7b7eplayer\u7684name\u5c5e\u6027\u503c\u548c\u76ee\u7684\u70b9\u7684\u6807\u7b7eplayer\u7684age\u5c5e\u6027\u503c\u3002 nebula> GO FROM \"player100\" OVER follow YIELD $^.player.name AS startName, $$.player.age AS endAge; +--------------+--------+ | startName | endAge | +--------------+--------+ | \"Tim Duncan\" | 36 | +--------------+--------+ | \"Tim Duncan\" | 33 | +--------------+--------+ # \u8fd4\u56de\u8fb9\u7c7b\u578bfollow\u7684degree\u5c5e\u6027\u503c\u3002 nebula> GO FROM \"player100\" OVER follow YIELD follow.degree; +---------------+ | follow.degree | +---------------+ | 95 | +---------------+ | 90 | +---------------+ # \u8fd4\u56de\u8fb9\u7c7b\u578bfollow\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u3001\u8fb9\u7c7b\u578b\u7f16\u7801\u548c\u8fb9rank\u503c\u3002 ```ngql nebula> GO FROM \"player100\" OVER follow YIELD follow._src, follow._dst, follow._type, follow._rank; +-------------+-------------+--------------+--------------+ | follow._src | follow._dst | follow._type | follow._rank | +-------------+-------------+--------------+--------------+ | \"player100\" | \"player101\" | 136 | 0 | +-------------+-------------+--------------+--------------+ | \"player100\" | \"player102\" | 136 | 0 | +-------------+-------------+--------------+--------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/1.comparison/","text":"\u6bd4\u8f83\u7b26 \u00b6 Nebula Graph\u652f\u6301\u7684\u6bd4\u8f83\u7b26\u5982\u4e0b\u3002 \u7b26\u53f7 \u8bf4\u660e = \u8d4b\u503c + \u52a0\u6cd5 - \u51cf\u6cd5 * \u4e58\u6cd5 / \u9664\u6cd5 == \u76f8\u7b49 != , <> \u4e0d\u7b49\u4e8e < \u5c0f\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e % \u53d6\u6a21 - \u8d1f\u6570\u7b26\u53f7 IS NULL \u4e3aNULL IS NOT NULL \u4e0d\u4e3aNULL \u6bd4\u8f83\u64cd\u4f5c\u7684\u7ed3\u679c\u662f true \u6216\u8005 false \u3002 \u8bf4\u660e \uff1a\u6bd4\u8f83\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u901a\u5e38\u6ca1\u6709\u5b9a\u4e49\uff0c\u7ed3\u679c\u53ef\u80fd\u662fNULL\u6216\u5176\u5b83\u3002 OpenCypher\u517c\u5bb9\u6027 \u00b6 Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u64cd\u4f5c\u548copenCypher\u4e0d\u540c\uff0c\u884c\u4e3a\u4e5f\u53ef\u80fd\u4f1a\u6539\u53d8\u3002\u5728openCypher\u4e2d\uff0c IS [NOT] NULL \u901a\u5e38\u4e0e OPTIONAL MATCH \u4e00\u8d77\u4f7f\u7528\uff0c\u4f46\u662fnGQL\u4e0d\u652f\u6301 OPTIONAL MATCH \u3002 \u793a\u4f8b \u00b6 == \u00b6 \u5b57\u7b26\u4e32\u6bd4\u8f83\u65f6\uff0c\u4f1a\u533a\u5206\u5927\u5c0f\u5199\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u4e0d\u76f8\u7b49\u3002 \u8bf4\u660e \uff1anGQL\u4e2d\u7684\u76f8\u7b49\u7b26\u53f7\u662f == \uff0copenCypher\u4e2d\u7684\u76f8\u7b49\u7b26\u53f7\u662f = \u3002 nebula> RETURN 'A' == 'a', toUpper('A') == toUpper('a'), toLower('A') == toLower('a'); +------------+------------------------------+------------------------------+ | (\"A\"==\"a\") | (toUpper(\"A\")==toUpper(\"a\")) | (toLower(\"A\")==toLower(\"a\")) | +------------+------------------------------+------------------------------+ | false | true | true | +------------+------------------------------+------------------------------+ nebula> RETURN '2' == 2, toInteger('2') == 2; +----------+---------------------+ | (\"2\"==2) | (toInteger(\"2\")==2) | +----------+---------------------+ | false | true | +----------+---------------------+ > \u00b6 nebula> RETURN 3 > 2; +-------+ | (3>2) | +-------+ | true | +-------+ nebula> WITH 4 AS one, 3 AS two \\ RETURN one > two AS result; +--------+ | result | +--------+ | true | +--------+ >= \u00b6 nebula> RETURN 2 >= \"2\", 2 >= 2; +----------+--------+ | (2>=\"2\") | (2>=2) | +----------+--------+ | __NULL__ | true | +----------+--------+ < \u00b6 nebula> YIELD 2.0 < 1.9; +---------+ | (2<1.9) | +---------+ | false | +---------+ <= \u00b6 nebula> YIELD 0.11 <= 0.11; +--------------+ | (0.11<=0.11) | +--------------+ | true | +--------------+ != \u00b6 nebula> YIELD 1 != '1'; +--------+ | (1!=1) | +--------+ | true | +--------+ IS [NOT] NULL \u00b6 nebula> RETURN null IS NULL AS value1, null == null AS value2, null != null AS value3; +--------+----------+----------+ | value1 | value2 | value3 | +--------+----------+----------+ | true | __NULL__ | __NULL__ | +--------+----------+----------+ nebula> RETURN length(NULL), size(NULL), count(NULL), NULL IS NULL, NULL IS NOT NULL, sin(NULL), NULL + NULL, [1, NULL] IS NULL; +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ | length(NULL) | size(NULL) | COUNT(NULL) | NULL IS NULL | NULL IS NOT NULL | sin(NULL) | (NULL+NULL) | [1,NULL] IS NULL | +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ | BAD_TYPE | __NULL__ | 0 | true | false | BAD_TYPE | __NULL__ | false | +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ nebula> WITH {name: null} AS map \\ RETURN map.name IS NOT NULL; +----------------------+ | map.name IS NOT NULL | +----------------------+ | false | +----------------------+ nebula> WITH {name: 'Mats', name2: 'Pontus'} AS map1, \\ {name: null} AS map2, {notName: 0, notName2: null } AS map3 \\ RETURN map1.name IS NULL, map2.name IS NOT NULL, map3.name IS NULL; +-------------------+-----------------------+-------------------+ | map1.name IS NULL | map2.name IS NOT NULL | map3.name IS NULL | +-------------------+-----------------------+-------------------+ | false | false | true | +-------------------+-----------------------+-------------------+ nebula> MATCH (n:player) \\ RETURN n.age IS NULL, n.name IS NOT NULL, n.empty IS NULL; +---------------+--------------------+-----------------+ | n.age IS NULL | n.name IS NOT NULL | n.empty IS NULL | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ ...","title":"\u6bd4\u8f83\u7b26"},{"location":"3.ngql-guide/5.operators/1.comparison/#_1","text":"Nebula Graph\u652f\u6301\u7684\u6bd4\u8f83\u7b26\u5982\u4e0b\u3002 \u7b26\u53f7 \u8bf4\u660e = \u8d4b\u503c + \u52a0\u6cd5 - \u51cf\u6cd5 * \u4e58\u6cd5 / \u9664\u6cd5 == \u76f8\u7b49 != , <> \u4e0d\u7b49\u4e8e < \u5c0f\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e % \u53d6\u6a21 - \u8d1f\u6570\u7b26\u53f7 IS NULL \u4e3aNULL IS NOT NULL \u4e0d\u4e3aNULL \u6bd4\u8f83\u64cd\u4f5c\u7684\u7ed3\u679c\u662f true \u6216\u8005 false \u3002 \u8bf4\u660e \uff1a\u6bd4\u8f83\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u901a\u5e38\u6ca1\u6709\u5b9a\u4e49\uff0c\u7ed3\u679c\u53ef\u80fd\u662fNULL\u6216\u5176\u5b83\u3002","title":"\u6bd4\u8f83\u7b26"},{"location":"3.ngql-guide/5.operators/1.comparison/#opencypher","text":"Nebula Graph\u4e2d\uff0cNULL\u7684\u6bd4\u8f83\u64cd\u4f5c\u548copenCypher\u4e0d\u540c\uff0c\u884c\u4e3a\u4e5f\u53ef\u80fd\u4f1a\u6539\u53d8\u3002\u5728openCypher\u4e2d\uff0c IS [NOT] NULL \u901a\u5e38\u4e0e OPTIONAL MATCH \u4e00\u8d77\u4f7f\u7528\uff0c\u4f46\u662fnGQL\u4e0d\u652f\u6301 OPTIONAL MATCH \u3002","title":"OpenCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/5.operators/1.comparison/#_2","text":"","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/1.comparison/#_3","text":"\u5b57\u7b26\u4e32\u6bd4\u8f83\u65f6\uff0c\u4f1a\u533a\u5206\u5927\u5c0f\u5199\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u4e0d\u76f8\u7b49\u3002 \u8bf4\u660e \uff1anGQL\u4e2d\u7684\u76f8\u7b49\u7b26\u53f7\u662f == \uff0copenCypher\u4e2d\u7684\u76f8\u7b49\u7b26\u53f7\u662f = \u3002 nebula> RETURN 'A' == 'a', toUpper('A') == toUpper('a'), toLower('A') == toLower('a'); +------------+------------------------------+------------------------------+ | (\"A\"==\"a\") | (toUpper(\"A\")==toUpper(\"a\")) | (toLower(\"A\")==toLower(\"a\")) | +------------+------------------------------+------------------------------+ | false | true | true | +------------+------------------------------+------------------------------+ nebula> RETURN '2' == 2, toInteger('2') == 2; +----------+---------------------+ | (\"2\"==2) | (toInteger(\"2\")==2) | +----------+---------------------+ | false | true | +----------+---------------------+","title":"=="},{"location":"3.ngql-guide/5.operators/1.comparison/#_4","text":"nebula> RETURN 3 > 2; +-------+ | (3>2) | +-------+ | true | +-------+ nebula> WITH 4 AS one, 3 AS two \\ RETURN one > two AS result; +--------+ | result | +--------+ | true | +--------+","title":"&gt;"},{"location":"3.ngql-guide/5.operators/1.comparison/#_5","text":"nebula> RETURN 2 >= \"2\", 2 >= 2; +----------+--------+ | (2>=\"2\") | (2>=2) | +----------+--------+ | __NULL__ | true | +----------+--------+","title":"&gt;="},{"location":"3.ngql-guide/5.operators/1.comparison/#_6","text":"nebula> YIELD 2.0 < 1.9; +---------+ | (2<1.9) | +---------+ | false | +---------+","title":"&lt;"},{"location":"3.ngql-guide/5.operators/1.comparison/#_7","text":"nebula> YIELD 0.11 <= 0.11; +--------------+ | (0.11<=0.11) | +--------------+ | true | +--------------+","title":"&lt;="},{"location":"3.ngql-guide/5.operators/1.comparison/#_8","text":"nebula> YIELD 1 != '1'; +--------+ | (1!=1) | +--------+ | true | +--------+","title":"!="},{"location":"3.ngql-guide/5.operators/1.comparison/#is_not_null","text":"nebula> RETURN null IS NULL AS value1, null == null AS value2, null != null AS value3; +--------+----------+----------+ | value1 | value2 | value3 | +--------+----------+----------+ | true | __NULL__ | __NULL__ | +--------+----------+----------+ nebula> RETURN length(NULL), size(NULL), count(NULL), NULL IS NULL, NULL IS NOT NULL, sin(NULL), NULL + NULL, [1, NULL] IS NULL; +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ | length(NULL) | size(NULL) | COUNT(NULL) | NULL IS NULL | NULL IS NOT NULL | sin(NULL) | (NULL+NULL) | [1,NULL] IS NULL | +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ | BAD_TYPE | __NULL__ | 0 | true | false | BAD_TYPE | __NULL__ | false | +--------------+------------+-------------+--------------+------------------+-----------+-------------+------------------+ nebula> WITH {name: null} AS map \\ RETURN map.name IS NOT NULL; +----------------------+ | map.name IS NOT NULL | +----------------------+ | false | +----------------------+ nebula> WITH {name: 'Mats', name2: 'Pontus'} AS map1, \\ {name: null} AS map2, {notName: 0, notName2: null } AS map3 \\ RETURN map1.name IS NULL, map2.name IS NOT NULL, map3.name IS NULL; +-------------------+-----------------------+-------------------+ | map1.name IS NULL | map2.name IS NOT NULL | map3.name IS NULL | +-------------------+-----------------------+-------------------+ | false | false | true | +-------------------+-----------------------+-------------------+ nebula> MATCH (n:player) \\ RETURN n.age IS NULL, n.name IS NOT NULL, n.empty IS NULL; +---------------+--------------------+-----------------+ | n.age IS NULL | n.name IS NOT NULL | n.empty IS NULL | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ | false | true | true | +---------------+--------------------+-----------------+ ...","title":"IS [NOT] NULL"},{"location":"3.ngql-guide/5.operators/2.boolean/","text":"\u5e03\u5c14\u7b26 \u00b6 Nebula Graph\u652f\u6301\u7684\u5e03\u5c14\u7b26\u5982\u4e0b\u3002 \u7b26\u53f7 \u8bf4\u660e AND \u903b\u8f91\u4e0e OR \u903b\u8f91\u6216 NOT \u903b\u8f91\u975e XOR \u903b\u8f91\u5f02\u6216 \u5bf9\u4e8e\u4ee5\u4e0a\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff0c\u8bf7\u53c2\u89c1 \u8fd0\u7b97\u4f18\u5148\u7ea7 \u3002 \u5bf9\u4e8e\u5e26\u6709 NULL \u7684\u903b\u8f91\u8fd0\u7b97\uff0c\u8bf7\u53c2\u89c1 NULL \u3002 \u5386\u53f2\u517c\u5bb9\u95ee\u9898 \u00b6 \u5728Nebula Graph 2.0\u4e2d\uff0c\u975e0\u6570\u5b57\u4e0d\u80fd\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u3002","title":"\u5e03\u5c14\u7b26"},{"location":"3.ngql-guide/5.operators/2.boolean/#_1","text":"Nebula Graph\u652f\u6301\u7684\u5e03\u5c14\u7b26\u5982\u4e0b\u3002 \u7b26\u53f7 \u8bf4\u660e AND \u903b\u8f91\u4e0e OR \u903b\u8f91\u6216 NOT \u903b\u8f91\u975e XOR \u903b\u8f91\u5f02\u6216 \u5bf9\u4e8e\u4ee5\u4e0a\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff0c\u8bf7\u53c2\u89c1 \u8fd0\u7b97\u4f18\u5148\u7ea7 \u3002 \u5bf9\u4e8e\u5e26\u6709 NULL \u7684\u903b\u8f91\u8fd0\u7b97\uff0c\u8bf7\u53c2\u89c1 NULL \u3002","title":"\u5e03\u5c14\u7b26"},{"location":"3.ngql-guide/5.operators/2.boolean/#_2","text":"\u5728Nebula Graph 2.0\u4e2d\uff0c\u975e0\u6570\u5b57\u4e0d\u80fd\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u3002","title":"\u5386\u53f2\u517c\u5bb9\u95ee\u9898"},{"location":"3.ngql-guide/5.operators/4.pipe/","text":"\u7ba1\u9053\u7b26 \u00b6 nGQL\u652f\u6301\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u5c06\u591a\u4e2a\u67e5\u8be2\u7ec4\u5408\u8d77\u6765\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u7ba1\u9053\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u8bed\u6cd5 \u00b6 nGQL\u548cSQL\u4e4b\u95f4\u7684\u4e00\u4e2a\u4e3b\u8981\u533a\u522b\u662f\u5b50\u67e5\u8be2\u7684\u7ec4\u6210\u65b9\u5f0f\u3002 \u5728SQL\u4e2d\uff0c\u5b50\u67e5\u8be2\u662f\u5d4c\u5957\u5728\u67e5\u8be2\u8bed\u53e5\u4e2d\u7684\u3002 \u5728nGQL\u4e2d\uff0c\u5b50\u67e5\u8be2\u662f\u901a\u8fc7\u7c7b\u4f3cshell\u4e2d\u7684\u7ba1\u9053\u7b26\uff08 | \uff09\u5b9e\u73b0\u7684\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS dstid, $$.player.name AS Name | \\ GO FROM $-.dstid OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ \u60a8\u53ef\u4ee5\u4f7f\u7528 YIELD \u663e\u5f0f\u58f0\u660e\u9700\u8981\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 YIELD \uff0c\u9ed8\u8ba4\u8fd4\u56de\u76ee\u6807\u70b9ID\u3002 \u60a8\u5fc5\u987b\u5728 YIELD \u5b50\u53e5\u4e2d\u4e3a\u9700\u8981\u7684\u8fd4\u56de\u7ed3\u679c\u8bbe\u7f6e\u522b\u540d\uff0c\u624d\u80fd\u5728\u7ba1\u9053\u7b26\u53f3\u4fa7\u4f7f\u7528\u5f15\u7528\u7b26 $- \uff0c\u4f8b\u5982\u793a\u4f8b\u4e2d\u7684 $-.dstid \u3002","title":"\u7ba1\u9053\u7b26"},{"location":"3.ngql-guide/5.operators/4.pipe/#_1","text":"nGQL\u652f\u6301\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u5c06\u591a\u4e2a\u67e5\u8be2\u7ec4\u5408\u8d77\u6765\u3002","title":"\u7ba1\u9053\u7b26"},{"location":"3.ngql-guide/5.operators/4.pipe/#opencypher","text":"\u7ba1\u9053\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/5.operators/4.pipe/#_2","text":"nGQL\u548cSQL\u4e4b\u95f4\u7684\u4e00\u4e2a\u4e3b\u8981\u533a\u522b\u662f\u5b50\u67e5\u8be2\u7684\u7ec4\u6210\u65b9\u5f0f\u3002 \u5728SQL\u4e2d\uff0c\u5b50\u67e5\u8be2\u662f\u5d4c\u5957\u5728\u67e5\u8be2\u8bed\u53e5\u4e2d\u7684\u3002 \u5728nGQL\u4e2d\uff0c\u5b50\u67e5\u8be2\u662f\u901a\u8fc7\u7c7b\u4f3cshell\u4e2d\u7684\u7ba1\u9053\u7b26\uff08 | \uff09\u5b9e\u73b0\u7684\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/5.operators/4.pipe/#_3","text":"nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS dstid, $$.player.name AS Name | \\ GO FROM $-.dstid OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ \u60a8\u53ef\u4ee5\u4f7f\u7528 YIELD \u663e\u5f0f\u58f0\u660e\u9700\u8981\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 YIELD \uff0c\u9ed8\u8ba4\u8fd4\u56de\u76ee\u6807\u70b9ID\u3002 \u60a8\u5fc5\u987b\u5728 YIELD \u5b50\u53e5\u4e2d\u4e3a\u9700\u8981\u7684\u8fd4\u56de\u7ed3\u679c\u8bbe\u7f6e\u522b\u540d\uff0c\u624d\u80fd\u5728\u7ba1\u9053\u7b26\u53f3\u4fa7\u4f7f\u7528\u5f15\u7528\u7b26 $- \uff0c\u4f8b\u5982\u793a\u4f8b\u4e2d\u7684 $-.dstid \u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/5.property-reference/","text":"\u5f15\u7528\u7b26 \u00b6 nGQL\u63d0\u4f9b\u5f15\u7528\u7b26\u6765\u8868\u793a WHERE \u548c YIELD \u5b50\u53e5\u4e2d\u7684\u5c5e\u6027\uff0c\u6216\u8005\u590d\u5408\u67e5\u8be2\u4e2d\u7ba1\u9053\u7b26\u4e4b\u524d\u7684\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u5f15\u7528\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u5f15\u7528\u7b26\u5217\u8868 \u00b6 \u5f15\u7528\u7b26 \u8bf4\u660e $^ \u5f15\u7528\u8d77\u59cb\u70b9\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u5f15\u7528\u5c5e\u6027 \u3002 $$ \u5f15\u7528\u76ee\u7684\u70b9\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u5f15\u7528\u5c5e\u6027 \u3002 $- \u5f15\u7528\u590d\u5408\u67e5\u8be2\u4e2d\u7ba1\u9053\u7b26\u4e4b\u524d\u7684\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 \u793a\u4f8b \u00b6 # \u8fd4\u56de\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u7684\u5e74\u9f84\u3002 nebula> GO FROM \"player100\" OVER follow YIELD $^.player.name AS SrcAge, $$.player.age AS DestAge; +--------+---------+ | SrcAge | DestAge | +--------+---------+ | 42 | 36 | +--------+---------+ | 42 | 41 | +--------+---------+ # \u8fd4\u56deplayer100\u8ffd\u968f\u7684player\u7684\u540d\u79f0\u548c\u56e2\u961f\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve \\ YIELD $^.player.name AS Player, $$.team.name AS Team; +-----------------+-----------+ | Player | Team | +-----------------+-----------+ | \"Tony Parker\" | \"Spurs\" | +-----------------+-----------+ | \"Tony Parker\" | \"Hornets\" | +-----------------+-----------+ | \"Manu Ginobili\" | \"Spurs\" | +-----------------+-----------+","title":"\u5c5e\u6027\u5f15\u7528\u7b26"},{"location":"3.ngql-guide/5.operators/5.property-reference/#_1","text":"nGQL\u63d0\u4f9b\u5f15\u7528\u7b26\u6765\u8868\u793a WHERE \u548c YIELD \u5b50\u53e5\u4e2d\u7684\u5c5e\u6027\uff0c\u6216\u8005\u590d\u5408\u67e5\u8be2\u4e2d\u7ba1\u9053\u7b26\u4e4b\u524d\u7684\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u3002","title":"\u5f15\u7528\u7b26"},{"location":"3.ngql-guide/5.operators/5.property-reference/#opencypher","text":"\u5f15\u7528\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/5.operators/5.property-reference/#_2","text":"\u5f15\u7528\u7b26 \u8bf4\u660e $^ \u5f15\u7528\u8d77\u59cb\u70b9\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u5f15\u7528\u5c5e\u6027 \u3002 $$ \u5f15\u7528\u76ee\u7684\u70b9\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u5f15\u7528\u5c5e\u6027 \u3002 $- \u5f15\u7528\u590d\u5408\u67e5\u8be2\u4e2d\u7ba1\u9053\u7b26\u4e4b\u524d\u7684\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002","title":"\u5f15\u7528\u7b26\u5217\u8868"},{"location":"3.ngql-guide/5.operators/5.property-reference/#_3","text":"# \u8fd4\u56de\u8d77\u59cb\u70b9\u548c\u76ee\u7684\u70b9\u7684\u5e74\u9f84\u3002 nebula> GO FROM \"player100\" OVER follow YIELD $^.player.name AS SrcAge, $$.player.age AS DestAge; +--------+---------+ | SrcAge | DestAge | +--------+---------+ | 42 | 36 | +--------+---------+ | 42 | 41 | +--------+---------+ # \u8fd4\u56deplayer100\u8ffd\u968f\u7684player\u7684\u540d\u79f0\u548c\u56e2\u961f\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve \\ YIELD $^.player.name AS Player, $$.team.name AS Team; +-----------------+-----------+ | Player | Team | +-----------------+-----------+ | \"Tony Parker\" | \"Spurs\" | +-----------------+-----------+ | \"Tony Parker\" | \"Hornets\" | +-----------------+-----------+ | \"Manu Ginobili\" | \"Spurs\" | +-----------------+-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/6.set/","text":"\u96c6\u5408\u8fd0\u7b97\u7b26 \u00b6 \u5408\u5e76\u591a\u4e2a\u8bf7\u6c42\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u96c6\u5408\u8fd0\u7b97\u7b26\uff0c\u5305\u62ec UNION \u3001 UNION ALL \u3001 INTERSECT \u548c MINUS \u3002 \u6240\u6709\u96c6\u5408\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u5982\u679c\u4e00\u4e2anGQL\u8bed\u53e5\u4e2d\u6709\u591a\u4e2a\u96c6\u5408\u8fd0\u7b97\u7b26\uff0cNebula Graph\u4f1a\u4ece\u5de6\u5230\u53f3\u8fdb\u884c\u8ba1\u7b97\uff0c\u9664\u975e\u7528\u62ec\u53f7\u6307\u5b9a\u987a\u5e8f\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u96c6\u5408\u8fd0\u7b97\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 UNION\u3001UNION DISTINCT\u3001UNION ALL \u00b6 <left> UNION [DISTINCT | ALL] <right> [ UNION [DISTINCT | ALL] <right> ...] \u8fd0\u7b97\u7b26 UNION DISTINCT \uff08\u6216\u4f7f\u7528\u7f29\u5199 UNION \uff09\u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5e76\u96c6\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 \u8fd0\u7b97\u7b26 UNION ALL \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5e76\u96c6\uff0c\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 left \u548c right \u5fc5\u987b\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\u548c\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u9700\u8981\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 \u7c7b\u578b\u8f6c\u6362 \u3002 \u793a\u4f8b \u00b6 # \u8fd4\u56de\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u7684\u5e76\u96c6\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 nebula> GO FROM \"player102\" OVER follow \\ UNION \\ GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ # \u8fd4\u56de\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u7684\u5e76\u96c6\uff0c\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 nebula> GO FROM \"player102\" OVER follow \\ UNION ALL \\ GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ # UNION\u4e5f\u53ef\u4ee5\u548cYIELD\u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\uff0c\u53bb\u91cd\u65f6\u4f1a\u68c0\u67e5\u6bcf\u4e00\u884c\u7684\u6240\u6709\u5217\uff0c\u6bcf\u5217\u90fd\u76f8\u540c\u65f6\u624d\u4f1a\u53bb\u91cd\u3002 nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age \\ UNION /* DISTINCT */ \\ GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age; +-------------+--------+-----+ | id | Degree | Age | +-------------+--------+-----+ | \"player101\" | 75 | 36 | +-------------+--------+-----+ | \"player101\" | 96 | 36 | +-------------+--------+-----+ | \"player102\" | 90 | 33 | +-------------+--------+-----+ INTERSECT \u00b6 <left> INTERSECT <right> \u8fd0\u7b97\u7b26 INTERSECT \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u4ea4\u96c6\u3002 left \u548c right \u5fc5\u987b\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\u548c\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u9700\u8981\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 \u7c7b\u578b\u8f6c\u6362 \u3002 \u793a\u4f8b \u00b6 nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age \\ INTERSECT \\ GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age; Empty set (time spent 2990/3511 us) MINUS \u00b6 <left> MINUS <right> \u8fd0\u7b97\u7b26 MINUS \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5dee\u5f02\uff0c\u5373 A-B \u3002\u8bf7\u6ce8\u610f left \u548c right \u7684\u987a\u5e8f\uff0c A-B \u8868\u793a\u5728\u96c6\u5408A\u4e2d\uff0c\u4f46\u662f\u4e0d\u5728\u96c6\u5408B\u4e2d\u7684\u5143\u7d20\u3002 \u793a\u4f8b \u00b6 nebula> GO FROM \"player100\" OVER follow \\ MINUS \\ GO FROM \"player102\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player102\" | +-------------+ nebula> GO FROM \"player102\" OVER follow \\ MINUS \\ GO FROM \"player100\" OVER follow; Empty set (time spent 2243/3259 us) \u96c6\u5408\u8fd0\u7b97\u7b26\u548c\u7ba1\u9053\u7b26\u7684\u4f18\u5148\u7ea7 \u00b6 \u5f53\u67e5\u8be2\u5305\u542b\u96c6\u5408\u8fd0\u7b97\u7b26\u548c\u7ba1\u9053\u7b26\uff08|\uff09\u65f6\uff0c \u7ba1\u9053\u7b26 \u7684\u4f18\u5148\u7ea7\u9ad8\u3002\u4f8b\u5982 GO FROM 1 UNION GO FROM 2 | GO FROM 3 \u76f8\u5f53\u4e8e GO FROM 1 UNION (GO FROM 2 | GO FROM 3) \u3002 \u793a\u4f8b \u00b6 nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS play_dst \\ UNION \\ GO FROM \"team200\" OVER serve REVERSELY \\ YIELD serve._dst AS play_dst \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; +-------------+ | play_dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ \u8be5\u67e5\u8be2\u4f1a\u5148\u6267\u884c\u7ea2\u6846\u5185\u7684\u8bed\u53e5\uff0c\u7136\u540e\u6267\u884c\u7eff\u6846\u7684 UNION \u64cd\u4f5c\u3002 \u5706\u62ec\u53f7\u53ef\u4ee5\u4fee\u6539\u6267\u884c\u7684\u4f18\u5148\u7ea7\uff0c\u4f8b\u5982\uff1a nebula> (GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS play_dst \\ UNION \\ GO FROM \"team200\" OVER serve REVERSELY \\ YIELD serve._dst AS play_dst) \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u8be5\u67e5\u8be2\u4e2d\uff0c\u5706\u62ec\u53f7\u5305\u88f9\u7684\u90e8\u5206\u5148\u6267\u884c\uff0c\u5373\u5148\u6267\u884c UNION \u64cd\u4f5c\uff0c\u518d\u5c06\u7ed3\u679c\u7ed3\u5408\u7ba1\u9053\u7b26\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002","title":"\u96c6\u5408\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/6.set/#_1","text":"\u5408\u5e76\u591a\u4e2a\u8bf7\u6c42\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u96c6\u5408\u8fd0\u7b97\u7b26\uff0c\u5305\u62ec UNION \u3001 UNION ALL \u3001 INTERSECT \u548c MINUS \u3002 \u6240\u6709\u96c6\u5408\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u5982\u679c\u4e00\u4e2anGQL\u8bed\u53e5\u4e2d\u6709\u591a\u4e2a\u96c6\u5408\u8fd0\u7b97\u7b26\uff0cNebula Graph\u4f1a\u4ece\u5de6\u5230\u53f3\u8fdb\u884c\u8ba1\u7b97\uff0c\u9664\u975e\u7528\u62ec\u53f7\u6307\u5b9a\u987a\u5e8f\u3002","title":"\u96c6\u5408\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/6.set/#opencypher","text":"\u96c6\u5408\u8fd0\u7b97\u7b26\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/5.operators/6.set/#unionunion_distinctunion_all","text":"<left> UNION [DISTINCT | ALL] <right> [ UNION [DISTINCT | ALL] <right> ...] \u8fd0\u7b97\u7b26 UNION DISTINCT \uff08\u6216\u4f7f\u7528\u7f29\u5199 UNION \uff09\u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5e76\u96c6\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 \u8fd0\u7b97\u7b26 UNION ALL \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5e76\u96c6\uff0c\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 left \u548c right \u5fc5\u987b\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\u548c\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u9700\u8981\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 \u7c7b\u578b\u8f6c\u6362 \u3002","title":"UNION\u3001UNION DISTINCT\u3001UNION ALL"},{"location":"3.ngql-guide/5.operators/6.set/#_2","text":"# \u8fd4\u56de\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u7684\u5e76\u96c6\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 nebula> GO FROM \"player102\" OVER follow \\ UNION \\ GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ # \u8fd4\u56de\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u7684\u5e76\u96c6\uff0c\u5305\u542b\u91cd\u590d\u7684\u5143\u7d20\u3002 nebula> GO FROM \"player102\" OVER follow \\ UNION ALL \\ GO FROM \"player100\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ # UNION\u4e5f\u53ef\u4ee5\u548cYIELD\u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\uff0c\u53bb\u91cd\u65f6\u4f1a\u68c0\u67e5\u6bcf\u4e00\u884c\u7684\u6240\u6709\u5217\uff0c\u6bcf\u5217\u90fd\u76f8\u540c\u65f6\u624d\u4f1a\u53bb\u91cd\u3002 nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age \\ UNION /* DISTINCT */ \\ GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age; +-------------+--------+-----+ | id | Degree | Age | +-------------+--------+-----+ | \"player101\" | 75 | 36 | +-------------+--------+-----+ | \"player101\" | 96 | 36 | +-------------+--------+-----+ | \"player102\" | 90 | 33 | +-------------+--------+-----+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/6.set/#intersect","text":"<left> INTERSECT <right> \u8fd0\u7b97\u7b26 INTERSECT \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u4ea4\u96c6\u3002 left \u548c right \u5fc5\u987b\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\u548c\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u9700\u8981\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u53c2\u89c1 \u7c7b\u578b\u8f6c\u6362 \u3002","title":"INTERSECT"},{"location":"3.ngql-guide/5.operators/6.set/#_3","text":"nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age \\ INTERSECT \\ GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS id, follow.degree AS Degree, $$.player.age AS Age; Empty set (time spent 2990/3511 us)","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/6.set/#minus","text":"<left> MINUS <right> \u8fd0\u7b97\u7b26 MINUS \u8fd4\u56de\u4e24\u4e2a\u96c6\u5408A\u548cB\u7684\u5dee\u5f02\uff0c\u5373 A-B \u3002\u8bf7\u6ce8\u610f left \u548c right \u7684\u987a\u5e8f\uff0c A-B \u8868\u793a\u5728\u96c6\u5408A\u4e2d\uff0c\u4f46\u662f\u4e0d\u5728\u96c6\u5408B\u4e2d\u7684\u5143\u7d20\u3002","title":"MINUS"},{"location":"3.ngql-guide/5.operators/6.set/#_4","text":"nebula> GO FROM \"player100\" OVER follow \\ MINUS \\ GO FROM \"player102\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player102\" | +-------------+ nebula> GO FROM \"player102\" OVER follow \\ MINUS \\ GO FROM \"player100\" OVER follow; Empty set (time spent 2243/3259 us)","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/6.set/#_5","text":"\u5f53\u67e5\u8be2\u5305\u542b\u96c6\u5408\u8fd0\u7b97\u7b26\u548c\u7ba1\u9053\u7b26\uff08|\uff09\u65f6\uff0c \u7ba1\u9053\u7b26 \u7684\u4f18\u5148\u7ea7\u9ad8\u3002\u4f8b\u5982 GO FROM 1 UNION GO FROM 2 | GO FROM 3 \u76f8\u5f53\u4e8e GO FROM 1 UNION (GO FROM 2 | GO FROM 3) \u3002","title":"\u96c6\u5408\u8fd0\u7b97\u7b26\u548c\u7ba1\u9053\u7b26\u7684\u4f18\u5148\u7ea7"},{"location":"3.ngql-guide/5.operators/6.set/#_6","text":"nebula> GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS play_dst \\ UNION \\ GO FROM \"team200\" OVER serve REVERSELY \\ YIELD serve._dst AS play_dst \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; +-------------+ | play_dst | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ \u8be5\u67e5\u8be2\u4f1a\u5148\u6267\u884c\u7ea2\u6846\u5185\u7684\u8bed\u53e5\uff0c\u7136\u540e\u6267\u884c\u7eff\u6846\u7684 UNION \u64cd\u4f5c\u3002 \u5706\u62ec\u53f7\u53ef\u4ee5\u4fee\u6539\u6267\u884c\u7684\u4f18\u5148\u7ea7\uff0c\u4f8b\u5982\uff1a nebula> (GO FROM \"player102\" OVER follow \\ YIELD follow._dst AS play_dst \\ UNION \\ GO FROM \"team200\" OVER serve REVERSELY \\ YIELD serve._dst AS play_dst) \\ | GO FROM $-.play_dst OVER follow YIELD follow._dst AS play_dst; \u8be5\u67e5\u8be2\u4e2d\uff0c\u5706\u62ec\u53f7\u5305\u88f9\u7684\u90e8\u5206\u5148\u6267\u884c\uff0c\u5373\u5148\u6267\u884c UNION \u64cd\u4f5c\uff0c\u518d\u5c06\u7ed3\u679c\u7ed3\u5408\u7ba1\u9053\u7b26\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/7.string/","text":"\u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26 \u00b6 Nebula Graph\u652f\u6301\u4f7f\u7528\u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26\u8fdb\u884c\u8fde\u63a5\u3001\u641c\u7d22\u3001\u5339\u914d\u8fd0\u7b97\u3002\u652f\u6301\u7684\u8fd0\u7b97\u7b26\u5982\u4e0b\u3002 \u540d\u79f0 \u8bf4\u660e + \u8fde\u63a5\u5b57\u7b26\u4e32\u3002 CONTAINS \u5728\u5b57\u7b26\u4e32\u4e2d\u6267\u884c\u641c\u7d22\u3002 (NOT) IN \u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u503c\u3002 (NOT) STARTS WITH \u5728\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u6267\u884c\u5339\u914d\u3002 (NOT) ENDS WITH \u5728\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u6267\u884c\u5339\u914d\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f \u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u5b57\u7b26\u4e32\u3002 \u8bf4\u660e \uff1a\u6240\u6709\u641c\u7d22\u6216\u5339\u914d\u90fd\u533a\u5206\u5927\u5c0f\u5199\u3002 \u793a\u4f8b \u00b6 + \u00b6 nebula> RETURN 'a' + 'b'; +-------+ | (a+b) | +-------+ | \"ab\" | +-------+ nebula> UNWIND 'a' AS a UNWIND 'b' AS b RETURN a + b; +-------+ | (a+b) | +-------+ | \"ab\" | +-------+ CONTAINS \u00b6 CONTAINS \u8981\u6c42\u5f85\u8fd0\u7b97\u7684\u5de6\u53f3\u4e24\u8fb9\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 nebula> MATCH (s:player)-[e:serve]->(t:team) WHERE id(s) == \"player101\" \\ AND t.name CONTAINS \"ets\" RETURN s.name, e.start_year, e.end_year, t.name; +---------------+--------------+------------+-----------+ | s.name | e.start_year | e.end_year | t.name | +---------------+--------------+------------+-----------+ | \"Tony Parker\" | 2018 | 2019 | \"Hornets\" | +---------------+--------------+------------+-----------+ nebula> GO FROM \"player101\" OVER serve WHERE (STRING)serve.start_year CONTAINS \"19\" AND \\ $^.player.name CONTAINS \"ny\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; +----------------+------------------+----------------+--------------+ | $^.player.name | serve.start_year | serve.end_year | $$.team.name | +----------------+------------------+----------------+--------------+ | \"Tony Parker\" | 1999 | 2018 | \"Spurs\" | +----------------+------------------+----------------+--------------+ nebula> GO FROM \"player101\" OVER serve WHERE !($$.team.name CONTAINS \"ets\") \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; +----------------+------------------+----------------+--------------+ | $^.player.name | serve.start_year | serve.end_year | $$.team.name | +----------------+------------------+----------------+--------------+ | \"Tony Parker\" | 1999 | 2018 | \"Spurs\" | +----------------+------------------+----------------+--------------+ (NOT) IN \u00b6 nebula> RETURN 1 IN [1,2,3], \"Yao\" NOT IN [\"Yi\", \"Tim\", \"Kobe\"], NULL in [\"Yi\", \"Tim\", \"Kobe\"] +----------------+------------------------------------+-------------------------------+ | (1 IN [1,2,3]) | (\"Yao\" NOT IN [\"Yi\",\"Tim\",\"Kobe\"]) | (NULL IN [\"Yi\",\"Tim\",\"Kobe\"]) | +----------------+------------------------------------+-------------------------------+ | true | true | false | +----------------+------------------------------------+-------------------------------+ (NOT) STARTS WITH \u00b6 nebula> RETURN 'apple' STARTS WITH 'app', 'apple' STARTS WITH 'a', 'apple' STARTS WITH toUpper('a') +-----------------------------+---------------------------+------------------------------------+ | (\"apple\" STARTS WITH \"app\") | (\"apple\" STARTS WITH \"a\") | (\"apple\" STARTS WITH toUpper(\"a\")) | +-----------------------------+---------------------------+------------------------------------+ | true | true | false | +-----------------------------+---------------------------+------------------------------------+ nebula> RETURN 'apple' STARTS WITH 'b','apple' NOT STARTS WITH 'app' +---------------------------+---------------------------------+ | (\"apple\" STARTS WITH \"b\") | (\"apple\" NOT STARTS WITH \"app\") | +---------------------------+---------------------------------+ | false | false | +---------------------------+---------------------------------+ (NOT) ENDS WITH \u00b6 nebula> RETURN 'apple' ENDS WITH 'app', 'apple' ENDS WITH 'e', 'apple' ENDS WITH 'E', 'apple' ENDS WITH 'b' +---------------------------+-------------------------+-------------------------+-------------------------+ | (\"apple\" ENDS WITH \"app\") | (\"apple\" ENDS WITH \"e\") | (\"apple\" ENDS WITH \"E\") | (\"apple\" ENDS WITH \"b\") | +---------------------------+-------------------------+-------------------------+-------------------------+ | false | true | false | false | +---------------------------+-------------------------+-------------------------+-------------------------+ \u6b63\u5219\u8868\u8fbe\u5f0f \u00b6 \u8bf4\u660e \uff1a\u5f53\u524d\u4ec5openCypher\u8bed\u53e5\uff08 MATCH \u3001 WITH \u7b49\uff09\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0cnGQL\u6269\u5c55\u8bed\u53e5\uff08 FETCH \u3001 GO \u3001 LOOKUP \u7b49\uff09\u6682\u4e0d\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 Nebula Graph\u652f\u6301\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u8fc7\u6ee4\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u662f\u7ee7\u627f\u81ea std::regex \uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8bed\u6cd5 =~ '<regexp>' \u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u914d\u3002\u4f8b\u5982\uff1a nebula> RETURN \"384748.39\" =~ \"\\\\d+(\\\\.\\\\d{2})?\"; +----------------------------+ | (384748.39=~\\d+(\\.\\d{2})?) | +----------------------------+ | true | +----------------------------+ nebula> MATCH (v:player) WHERE v.name =~ 'Tony.*' RETURN v.name; +---------------+ | v.name | +---------------+ | \"Tony Parker\" | +---------------+","title":"\u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/7.string/#_1","text":"Nebula Graph\u652f\u6301\u4f7f\u7528\u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26\u8fdb\u884c\u8fde\u63a5\u3001\u641c\u7d22\u3001\u5339\u914d\u8fd0\u7b97\u3002\u652f\u6301\u7684\u8fd0\u7b97\u7b26\u5982\u4e0b\u3002 \u540d\u79f0 \u8bf4\u660e + \u8fde\u63a5\u5b57\u7b26\u4e32\u3002 CONTAINS \u5728\u5b57\u7b26\u4e32\u4e2d\u6267\u884c\u641c\u7d22\u3002 (NOT) IN \u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u503c\u3002 (NOT) STARTS WITH \u5728\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u6267\u884c\u5339\u914d\u3002 (NOT) ENDS WITH \u5728\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u6267\u884c\u5339\u914d\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f \u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u5b57\u7b26\u4e32\u3002 \u8bf4\u660e \uff1a\u6240\u6709\u641c\u7d22\u6216\u5339\u914d\u90fd\u533a\u5206\u5927\u5c0f\u5199\u3002","title":"\u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/7.string/#_2","text":"","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/7.string/#_3","text":"nebula> RETURN 'a' + 'b'; +-------+ | (a+b) | +-------+ | \"ab\" | +-------+ nebula> UNWIND 'a' AS a UNWIND 'b' AS b RETURN a + b; +-------+ | (a+b) | +-------+ | \"ab\" | +-------+","title":"+"},{"location":"3.ngql-guide/5.operators/7.string/#contains","text":"CONTAINS \u8981\u6c42\u5f85\u8fd0\u7b97\u7684\u5de6\u53f3\u4e24\u8fb9\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 nebula> MATCH (s:player)-[e:serve]->(t:team) WHERE id(s) == \"player101\" \\ AND t.name CONTAINS \"ets\" RETURN s.name, e.start_year, e.end_year, t.name; +---------------+--------------+------------+-----------+ | s.name | e.start_year | e.end_year | t.name | +---------------+--------------+------------+-----------+ | \"Tony Parker\" | 2018 | 2019 | \"Hornets\" | +---------------+--------------+------------+-----------+ nebula> GO FROM \"player101\" OVER serve WHERE (STRING)serve.start_year CONTAINS \"19\" AND \\ $^.player.name CONTAINS \"ny\" \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; +----------------+------------------+----------------+--------------+ | $^.player.name | serve.start_year | serve.end_year | $$.team.name | +----------------+------------------+----------------+--------------+ | \"Tony Parker\" | 1999 | 2018 | \"Spurs\" | +----------------+------------------+----------------+--------------+ nebula> GO FROM \"player101\" OVER serve WHERE !($$.team.name CONTAINS \"ets\") \\ YIELD $^.player.name, serve.start_year, serve.end_year, $$.team.name; +----------------+------------------+----------------+--------------+ | $^.player.name | serve.start_year | serve.end_year | $$.team.name | +----------------+------------------+----------------+--------------+ | \"Tony Parker\" | 1999 | 2018 | \"Spurs\" | +----------------+------------------+----------------+--------------+","title":"CONTAINS"},{"location":"3.ngql-guide/5.operators/7.string/#not_in","text":"nebula> RETURN 1 IN [1,2,3], \"Yao\" NOT IN [\"Yi\", \"Tim\", \"Kobe\"], NULL in [\"Yi\", \"Tim\", \"Kobe\"] +----------------+------------------------------------+-------------------------------+ | (1 IN [1,2,3]) | (\"Yao\" NOT IN [\"Yi\",\"Tim\",\"Kobe\"]) | (NULL IN [\"Yi\",\"Tim\",\"Kobe\"]) | +----------------+------------------------------------+-------------------------------+ | true | true | false | +----------------+------------------------------------+-------------------------------+","title":"(NOT) IN"},{"location":"3.ngql-guide/5.operators/7.string/#not_starts_with","text":"nebula> RETURN 'apple' STARTS WITH 'app', 'apple' STARTS WITH 'a', 'apple' STARTS WITH toUpper('a') +-----------------------------+---------------------------+------------------------------------+ | (\"apple\" STARTS WITH \"app\") | (\"apple\" STARTS WITH \"a\") | (\"apple\" STARTS WITH toUpper(\"a\")) | +-----------------------------+---------------------------+------------------------------------+ | true | true | false | +-----------------------------+---------------------------+------------------------------------+ nebula> RETURN 'apple' STARTS WITH 'b','apple' NOT STARTS WITH 'app' +---------------------------+---------------------------------+ | (\"apple\" STARTS WITH \"b\") | (\"apple\" NOT STARTS WITH \"app\") | +---------------------------+---------------------------------+ | false | false | +---------------------------+---------------------------------+","title":"(NOT) STARTS WITH"},{"location":"3.ngql-guide/5.operators/7.string/#not_ends_with","text":"nebula> RETURN 'apple' ENDS WITH 'app', 'apple' ENDS WITH 'e', 'apple' ENDS WITH 'E', 'apple' ENDS WITH 'b' +---------------------------+-------------------------+-------------------------+-------------------------+ | (\"apple\" ENDS WITH \"app\") | (\"apple\" ENDS WITH \"e\") | (\"apple\" ENDS WITH \"E\") | (\"apple\" ENDS WITH \"b\") | +---------------------------+-------------------------+-------------------------+-------------------------+ | false | true | false | false | +---------------------------+-------------------------+-------------------------+-------------------------+","title":"(NOT) ENDS WITH"},{"location":"3.ngql-guide/5.operators/7.string/#_4","text":"\u8bf4\u660e \uff1a\u5f53\u524d\u4ec5openCypher\u8bed\u53e5\uff08 MATCH \u3001 WITH \u7b49\uff09\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0cnGQL\u6269\u5c55\u8bed\u53e5\uff08 FETCH \u3001 GO \u3001 LOOKUP \u7b49\uff09\u6682\u4e0d\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 Nebula Graph\u652f\u6301\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u8fc7\u6ee4\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u662f\u7ee7\u627f\u81ea std::regex \uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8bed\u6cd5 =~ '<regexp>' \u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u914d\u3002\u4f8b\u5982\uff1a nebula> RETURN \"384748.39\" =~ \"\\\\d+(\\\\.\\\\d{2})?\"; +----------------------------+ | (384748.39=~\\d+(\\.\\d{2})?) | +----------------------------+ | true | +----------------------------+ nebula> MATCH (v:player) WHERE v.name =~ 'Tony.*' RETURN v.name; +---------------+ | v.name | +---------------+ | \"Tony Parker\" | +---------------+","title":"\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"3.ngql-guide/5.operators/8.list/","text":"\u5217\u8868\u8fd0\u7b97\u7b26 \u00b6 Nebula Graph\u652f\u6301\u4f7f\u7528\u5217\u8868\uff08List\uff09\u8fd0\u7b97\u7b26\u8fdb\u884c\u8fd0\u7b97\u3002\u652f\u6301\u7684\u8fd0\u7b97\u7b26\u5982\u4e0b\u3002 \u540d\u79f0 \u8bf4\u660e + \u8fde\u63a5\u5217\u8868\u3002 IN \u5143\u7d20\u662f\u5426\u5b58\u5728\u4e8e\u5217\u8868\u4e2d\u3002 [] \u4f7f\u7528\u4e0b\u6807\u64cd\u4f5c\u7b26\u8bbf\u95ee\u5217\u8868\u4e2d\u7684\u5143\u7d20\u3002 \u793a\u4f8b \u00b6 nebula> YIELD [1,2,3,4,5]+[6,7] AS myList; +-----------------------+ | myList | +-----------------------+ | [1, 2, 3, 4, 5, 6, 7] | +-----------------------+ nebula> RETURN size([NULL, 1, 2]); +------------------+ | size([NULL,1,2]) | +------------------+ | 3 | +------------------+ nebula> RETURN NULL IN [NULL, 1]; +--------------------+ | (NULL IN [NULL,1]) | +--------------------+ | true | +--------------------+ nebula> WITH [2, 3, 4, 5] AS numberlist \\ UNWIND numberlist AS number \\ WITH number \\ WHERE number IN [2, 3, 8] \\ RETURN number; +--------+ | number | +--------+ | 2 | +--------+ | 3 | +--------+ nebula> WITH ['Anne', 'John', 'Bill', 'Diane', 'Eve'] AS names RETURN names[1] AS result; +--------+ | result | +--------+ | \"John\" | +--------+","title":"\u5217\u8868\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/8.list/#_1","text":"Nebula Graph\u652f\u6301\u4f7f\u7528\u5217\u8868\uff08List\uff09\u8fd0\u7b97\u7b26\u8fdb\u884c\u8fd0\u7b97\u3002\u652f\u6301\u7684\u8fd0\u7b97\u7b26\u5982\u4e0b\u3002 \u540d\u79f0 \u8bf4\u660e + \u8fde\u63a5\u5217\u8868\u3002 IN \u5143\u7d20\u662f\u5426\u5b58\u5728\u4e8e\u5217\u8868\u4e2d\u3002 [] \u4f7f\u7528\u4e0b\u6807\u64cd\u4f5c\u7b26\u8bbf\u95ee\u5217\u8868\u4e2d\u7684\u5143\u7d20\u3002","title":"\u5217\u8868\u8fd0\u7b97\u7b26"},{"location":"3.ngql-guide/5.operators/8.list/#_2","text":"nebula> YIELD [1,2,3,4,5]+[6,7] AS myList; +-----------------------+ | myList | +-----------------------+ | [1, 2, 3, 4, 5, 6, 7] | +-----------------------+ nebula> RETURN size([NULL, 1, 2]); +------------------+ | size([NULL,1,2]) | +------------------+ | 3 | +------------------+ nebula> RETURN NULL IN [NULL, 1]; +--------------------+ | (NULL IN [NULL,1]) | +--------------------+ | true | +--------------------+ nebula> WITH [2, 3, 4, 5] AS numberlist \\ UNWIND numberlist AS number \\ WITH number \\ WHERE number IN [2, 3, 8] \\ RETURN number; +--------+ | number | +--------+ | 2 | +--------+ | 3 | +--------+ nebula> WITH ['Anne', 'John', 'Bill', 'Diane', 'Eve'] AS names RETURN names[1] AS result; +--------+ | result | +--------+ | \"John\" | +--------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/9.precedence/","text":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u00b6 nGQL\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u6392\u5217\u5982\u4e0b\uff08\u540c\u4e00\u884c\u7684\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u76f8\u540c\uff09\uff1a - \uff08\u8d1f\u6570\uff09 ! \u3001 NOT * \u3001 / \u3001 % - \u3001 + == \u3001 >= \u3001 > \u3001 <= \u3001 < \u3001 <> \u3001 != AND OR \u3001 XOR = \uff08\u8d4b\u503c\uff09 \u5982\u679c\u8868\u8fbe\u5f0f\u4e2d\u6709\u76f8\u540c\u4f18\u5148\u7ea7\u7684\u8fd0\u7b97\u7b26\uff0c\u8fd0\u7b97\u662f\u4ece\u5de6\u5230\u53f3\u8fdb\u884c\uff0c\u53ea\u6709\u8d4b\u503c\u64cd\u4f5c\u662f\u4f8b\u5916\uff08\u4ece\u53f3\u5230\u5de6\u8fd0\u7b97\uff09\u3002 \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u51b3\u5b9a\u8fd0\u7b97\u7684\u987a\u5e8f\uff0c\u8981\u663e\u5f0f\u4fee\u6539\u8fd0\u7b97\u987a\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5706\u62ec\u53f7\u3002 \u793a\u4f8b \u00b6 nebula> RETURN 2+3*5; +-----------+ | (2+(3*5)) | +-----------+ | 17 | +-----------+ nebula> RETURN (2+3)*5; +-----------+ | ((2+3)*5) | +-----------+ | 25 | +-----------+ openCypher\u517c\u5bb9\u6027 \u00b6 \u5728openCypher\u4e2d\uff0c\u6bd4\u8f83\u64cd\u4f5c\u53ef\u4ee5\u4efb\u610f\u8fde\u63a5\uff0c\u4f8b\u5982 x < y <= z \u7b49\u4ef7\u4e8e x < y AND y <= z \u3002 \u5728nGQL\u4e2d\uff0c x < y <= z \u7b49\u4ef7\u4e8e (x < y) <= z \uff0c (x < y) \u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u518d\u5c06\u5e03\u5c14\u503c\u548c z \u6bd4\u8f83\uff0c\u6700\u7ec8\u7ed3\u679c\u662f NULL \u3002","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7"},{"location":"3.ngql-guide/5.operators/9.precedence/#_1","text":"nGQL\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u6392\u5217\u5982\u4e0b\uff08\u540c\u4e00\u884c\u7684\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u76f8\u540c\uff09\uff1a - \uff08\u8d1f\u6570\uff09 ! \u3001 NOT * \u3001 / \u3001 % - \u3001 + == \u3001 >= \u3001 > \u3001 <= \u3001 < \u3001 <> \u3001 != AND OR \u3001 XOR = \uff08\u8d4b\u503c\uff09 \u5982\u679c\u8868\u8fbe\u5f0f\u4e2d\u6709\u76f8\u540c\u4f18\u5148\u7ea7\u7684\u8fd0\u7b97\u7b26\uff0c\u8fd0\u7b97\u662f\u4ece\u5de6\u5230\u53f3\u8fdb\u884c\uff0c\u53ea\u6709\u8d4b\u503c\u64cd\u4f5c\u662f\u4f8b\u5916\uff08\u4ece\u53f3\u5230\u5de6\u8fd0\u7b97\uff09\u3002 \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u51b3\u5b9a\u8fd0\u7b97\u7684\u987a\u5e8f\uff0c\u8981\u663e\u5f0f\u4fee\u6539\u8fd0\u7b97\u987a\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5706\u62ec\u53f7\u3002","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7"},{"location":"3.ngql-guide/5.operators/9.precedence/#_2","text":"nebula> RETURN 2+3*5; +-----------+ | (2+(3*5)) | +-----------+ | 17 | +-----------+ nebula> RETURN (2+3)*5; +-----------+ | ((2+3)*5) | +-----------+ | 25 | +-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/5.operators/9.precedence/#opencypher","text":"\u5728openCypher\u4e2d\uff0c\u6bd4\u8f83\u64cd\u4f5c\u53ef\u4ee5\u4efb\u610f\u8fde\u63a5\uff0c\u4f8b\u5982 x < y <= z \u7b49\u4ef7\u4e8e x < y AND y <= z \u3002 \u5728nGQL\u4e2d\uff0c x < y <= z \u7b49\u4ef7\u4e8e (x < y) <= z \uff0c (x < y) \u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u518d\u5c06\u5e03\u5c14\u503c\u548c z \u6bd4\u8f83\uff0c\u6700\u7ec8\u7ed3\u679c\u662f NULL \u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/6.functions-and-expressions/1.math/","text":"\u5185\u7f6e\u6570\u5b66\u51fd\u6570 \u00b6 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u6570\u5b66\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e double abs(double x) \u8fd4\u56dex\u7684\u7edd\u5bf9\u503c\u3002 double floor(double x) \u8fd4\u56de\u5c0f\u4e8e\u6216\u7b49\u4e8ex\u7684\u6700\u5927\u6574\u6570\u3002 double ceil(double x) \u8fd4\u56de\u5927\u4e8e\u6216\u7b49\u4e8ex\u7684\u6700\u5c0f\u6574\u6570\u3002 double round(double x) \u8fd4\u56de\u79bbx\u6700\u8fd1\u7684\u6574\u6570\u503c\uff0c\u5982\u679cx\u6070\u597d\u5728\u4e2d\u95f4\uff0c\u5219\u8fd4\u56de\u79bb0\u8f83\u8fdc\u7684\u6574\u6570\u3002 double sqrt(double x) \u8fd4\u56dex\u7684\u5e73\u65b9\u6839\u3002 double cbrt(double x) \u8fd4\u56dex\u7684\u7acb\u65b9\u6839\u3002 double hypot(double x, double y) \u8fd4\u56de\u76f4\u89d2\u4e09\u89d2\u5f62\uff08\u76f4\u89d2\u8fb9\u957f\u4e3ax\u548cy\uff09\u7684\u659c\u8fb9\u957f\u3002 double pow(double x, double y) \u8fd4\u56de$x^y$\u7684\u503c\u3002 double exp(double x) \u8fd4\u56de$e^x$\u7684\u503c\u3002 double exp2(double x) \u8fd4\u56de$2^x$\u7684\u503c\u3002 double log(double x) \u8fd4\u56de\u4ee5\u81ea\u7136\u6570e\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double log2(double x) \u8fd4\u56de\u4ee52\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double log10(double x) \u8fd4\u56de\u4ee510\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double sin(double x) \u8fd4\u56dex\u7684\u6b63\u5f26\u503c\u3002 double asin(double x) \u8fd4\u56dex\u7684\u53cd\u6b63\u5f26\u503c\u3002 double cos(double x) \u8fd4\u56dex\u7684\u4f59\u5f26\u503c\u3002 double acos(double x) \u8fd4\u56dex\u7684\u53cd\u4f59\u5f26\u503c\u3002 double tan(double x) \u8fd4\u56dex\u7684\u6b63\u5207\u503c\u3002 double atan(double x) \u8fd4\u56dex\u7684\u53cd\u6b63\u5207\u503c\u3002 double rand() \u8fd4\u56de[0,1)\u5185\u7684\u968f\u673a\u6d6e\u70b9\u6570\u3002 int rand32(int min, int max) \u8fd4\u56de [min, max) \u5185\u7684\u4e00\u4e2a\u968f\u673a32\u4f4d\u6574\u6570\u3002 \u60a8\u53ef\u4ee5\u53ea\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f1a\u5224\u5b9a\u4e3a max \uff0c\u6b64\u65f6 min \u9ed8\u8ba4\u4e3a 0 \u3002 \u5982\u679c\u60a8\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u6b64\u65f6\u4f1a\u4ece\u5e26\u7b26\u53f7\u768432\u4f4dint\u8303\u56f4\u5185\u968f\u673a\u8fd4\u56de\u3002 int rand64(int min, int max) \u8fd4\u56de [min, max) \u5185\u7684\u4e00\u4e2a\u968f\u673a64\u4f4d\u6574\u6570\u3002 \u60a8\u53ef\u4ee5\u53ea\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f1a\u5224\u5b9a\u4e3a max \uff0c\u6b64\u65f6 min \u9ed8\u8ba4\u4e3a 0 \u3002 \u5982\u679c\u60a8\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u6b64\u65f6\u4f1a\u4ece\u5e26\u7b26\u53f7\u768464\u4f4dint\u8303\u56f4\u5185\u968f\u673a\u8fd4\u56de\u3002 collect() \u5c06\u6536\u96c6\u7684\u6240\u6709\u503c\u653e\u5728\u4e00\u4e2a\u5217\u8868\u4e2d\u3002 avg() \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u5747\u503c\u3002 count() \u8fd4\u56de\u53c2\u6570\u7684\u6570\u91cf\u3002 max() \u8fd4\u56de\u53c2\u6570\u7684\u6700\u5927\u503c\u3002 min() \u8fd4\u56de\u53c2\u6570\u7684\u6700\u5c0f\u503c\u3002 std() \u8fd4\u56de\u53c2\u6570\u7684\u603b\u4f53\u6807\u51c6\u5dee\u3002 sum() \u8fd4\u56de\u53c2\u6570\u7684\u548c\u3002 bit_and() \u9010\u4f4d\u505aAND\u64cd\u4f5c\u3002 bit_or() \u9010\u4f4d\u505aOR\u64cd\u4f5c\u3002 bit_xor() \u9010\u4f4d\u505aXOR\u64cd\u4f5c\u3002 int size() \u8fd4\u56de\u5217\u8868\u6216\u6620\u5c04\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 int range(int start, int end, int step) \u8fd4\u56de [start,end] \u4e2d\u6307\u5b9a\u6b65\u957f\u7684\u503c\u7ec4\u6210\u7684\u5217\u8868\u3002\u6b65\u957f step \u9ed8\u8ba4\u4e3a1\u3002 int sign(double x) \u8fd4\u56dex\u7684\u6b63\u8d1f\u53f7\u3002 \u5982\u679cx\u4e3a 0 \uff0c\u5219\u8fd4\u56de 0 \u3002 \u5982\u679cx\u4e3a\u8d1f\u6570\uff0c\u5219\u8fd4\u56de -1 \u3002 \u5982\u679cx\u4e3a\u6b63\u6570\uff0c\u5219\u8fd4\u56de 1 \u3002 double e() \u8fd4\u56de\u81ea\u7136\u5bf9\u6570\u7684\u5e95e\uff082.718281828459045\uff09\u3002 double pi() \u8fd4\u56de\u6570\u5b66\u5e38\u6570\u03c0\uff083.141592653589793\uff09\u3002 double radians() \u5c06\u89d2\u5ea6\u8f6c\u6362\u4e3a\u5f27\u5ea6\u3002 radians(180) \u8fd4\u56de 3.141592653589793 \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002","title":"\u6570\u5b66\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/1.math/#_1","text":"Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u6570\u5b66\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e double abs(double x) \u8fd4\u56dex\u7684\u7edd\u5bf9\u503c\u3002 double floor(double x) \u8fd4\u56de\u5c0f\u4e8e\u6216\u7b49\u4e8ex\u7684\u6700\u5927\u6574\u6570\u3002 double ceil(double x) \u8fd4\u56de\u5927\u4e8e\u6216\u7b49\u4e8ex\u7684\u6700\u5c0f\u6574\u6570\u3002 double round(double x) \u8fd4\u56de\u79bbx\u6700\u8fd1\u7684\u6574\u6570\u503c\uff0c\u5982\u679cx\u6070\u597d\u5728\u4e2d\u95f4\uff0c\u5219\u8fd4\u56de\u79bb0\u8f83\u8fdc\u7684\u6574\u6570\u3002 double sqrt(double x) \u8fd4\u56dex\u7684\u5e73\u65b9\u6839\u3002 double cbrt(double x) \u8fd4\u56dex\u7684\u7acb\u65b9\u6839\u3002 double hypot(double x, double y) \u8fd4\u56de\u76f4\u89d2\u4e09\u89d2\u5f62\uff08\u76f4\u89d2\u8fb9\u957f\u4e3ax\u548cy\uff09\u7684\u659c\u8fb9\u957f\u3002 double pow(double x, double y) \u8fd4\u56de$x^y$\u7684\u503c\u3002 double exp(double x) \u8fd4\u56de$e^x$\u7684\u503c\u3002 double exp2(double x) \u8fd4\u56de$2^x$\u7684\u503c\u3002 double log(double x) \u8fd4\u56de\u4ee5\u81ea\u7136\u6570e\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double log2(double x) \u8fd4\u56de\u4ee52\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double log10(double x) \u8fd4\u56de\u4ee510\u4e3a\u5e95x\u7684\u5bf9\u6570\u3002 double sin(double x) \u8fd4\u56dex\u7684\u6b63\u5f26\u503c\u3002 double asin(double x) \u8fd4\u56dex\u7684\u53cd\u6b63\u5f26\u503c\u3002 double cos(double x) \u8fd4\u56dex\u7684\u4f59\u5f26\u503c\u3002 double acos(double x) \u8fd4\u56dex\u7684\u53cd\u4f59\u5f26\u503c\u3002 double tan(double x) \u8fd4\u56dex\u7684\u6b63\u5207\u503c\u3002 double atan(double x) \u8fd4\u56dex\u7684\u53cd\u6b63\u5207\u503c\u3002 double rand() \u8fd4\u56de[0,1)\u5185\u7684\u968f\u673a\u6d6e\u70b9\u6570\u3002 int rand32(int min, int max) \u8fd4\u56de [min, max) \u5185\u7684\u4e00\u4e2a\u968f\u673a32\u4f4d\u6574\u6570\u3002 \u60a8\u53ef\u4ee5\u53ea\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f1a\u5224\u5b9a\u4e3a max \uff0c\u6b64\u65f6 min \u9ed8\u8ba4\u4e3a 0 \u3002 \u5982\u679c\u60a8\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u6b64\u65f6\u4f1a\u4ece\u5e26\u7b26\u53f7\u768432\u4f4dint\u8303\u56f4\u5185\u968f\u673a\u8fd4\u56de\u3002 int rand64(int min, int max) \u8fd4\u56de [min, max) \u5185\u7684\u4e00\u4e2a\u968f\u673a64\u4f4d\u6574\u6570\u3002 \u60a8\u53ef\u4ee5\u53ea\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f1a\u5224\u5b9a\u4e3a max \uff0c\u6b64\u65f6 min \u9ed8\u8ba4\u4e3a 0 \u3002 \u5982\u679c\u60a8\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u6b64\u65f6\u4f1a\u4ece\u5e26\u7b26\u53f7\u768464\u4f4dint\u8303\u56f4\u5185\u968f\u673a\u8fd4\u56de\u3002 collect() \u5c06\u6536\u96c6\u7684\u6240\u6709\u503c\u653e\u5728\u4e00\u4e2a\u5217\u8868\u4e2d\u3002 avg() \u8fd4\u56de\u53c2\u6570\u7684\u5e73\u5747\u503c\u3002 count() \u8fd4\u56de\u53c2\u6570\u7684\u6570\u91cf\u3002 max() \u8fd4\u56de\u53c2\u6570\u7684\u6700\u5927\u503c\u3002 min() \u8fd4\u56de\u53c2\u6570\u7684\u6700\u5c0f\u503c\u3002 std() \u8fd4\u56de\u53c2\u6570\u7684\u603b\u4f53\u6807\u51c6\u5dee\u3002 sum() \u8fd4\u56de\u53c2\u6570\u7684\u548c\u3002 bit_and() \u9010\u4f4d\u505aAND\u64cd\u4f5c\u3002 bit_or() \u9010\u4f4d\u505aOR\u64cd\u4f5c\u3002 bit_xor() \u9010\u4f4d\u505aXOR\u64cd\u4f5c\u3002 int size() \u8fd4\u56de\u5217\u8868\u6216\u6620\u5c04\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 int range(int start, int end, int step) \u8fd4\u56de [start,end] \u4e2d\u6307\u5b9a\u6b65\u957f\u7684\u503c\u7ec4\u6210\u7684\u5217\u8868\u3002\u6b65\u957f step \u9ed8\u8ba4\u4e3a1\u3002 int sign(double x) \u8fd4\u56dex\u7684\u6b63\u8d1f\u53f7\u3002 \u5982\u679cx\u4e3a 0 \uff0c\u5219\u8fd4\u56de 0 \u3002 \u5982\u679cx\u4e3a\u8d1f\u6570\uff0c\u5219\u8fd4\u56de -1 \u3002 \u5982\u679cx\u4e3a\u6b63\u6570\uff0c\u5219\u8fd4\u56de 1 \u3002 double e() \u8fd4\u56de\u81ea\u7136\u5bf9\u6570\u7684\u5e95e\uff082.718281828459045\uff09\u3002 double pi() \u8fd4\u56de\u6570\u5b66\u5e38\u6570\u03c0\uff083.141592653589793\uff09\u3002 double radians() \u5c06\u89d2\u5ea6\u8f6c\u6362\u4e3a\u5f27\u5ea6\u3002 radians(180) \u8fd4\u56de 3.141592653589793 \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002","title":"\u5185\u7f6e\u6570\u5b66\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/10.collect/","text":"collect\u51fd\u6570 \u00b6 collect() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u7b26\u5408\u8868\u8fbe\u5f0f\u8fd4\u56de\u7ed3\u679c\u7684\u5217\u8868\u3002\u8be5\u51fd\u6570\u53ef\u4ee5\u5c06\u591a\u6761\u8bb0\u5f55\u6216\u503c\u5408\u5e76\u8fdb\u4e00\u4e2a\u5217\u8868\uff0c\u5b9e\u73b0\u6570\u636e\u805a\u5408\u3002 collect() \u662f\u4e00\u4e2a\u805a\u5408\u51fd\u6570\uff0c\u7c7b\u4f3cSQL\u4e2d\u7684 GROUP BY \u3002 \u793a\u4f8b \u00b6 nebula> UNWIND [1, 2, 1] AS a \\ RETURN a; +---+ | a | +---+ | 1 | +---+ | 2 | +---+ | 1 | +---+ nebula> UNWIND [1, 2, 1] AS a \\ RETURN collect(a); +------------+ | COLLECT(a) | +------------+ | [1, 2, 1] | +------------+ nebula> UNWIND [1, 2, 1] AS a \\ RETURN a, collect(a), size(collect(a)); +---+------------+------------------+ | a | COLLECT(a) | size(COLLECT(a)) | +---+------------+------------------+ | 2 | [2] | 1 | +---+------------+------------------+ | 1 | [1, 1] | 2 | +---+------------+------------------+ # \u964d\u5e8f\u6392\u5217\uff0c\u9650\u5236\u8f93\u51fa\u884c\u6570\u4e3a3\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u5217\u8868\u4e2d\u3002 nebula> UNWIND [\"c\", \"b\", \"a\", \"d\" ] AS p \\ WITH p AS q \\ ORDER BY q DESC LIMIT 3 \\ RETURN collect(q); +-----------------+ | COLLECT(q) | +-----------------+ | [\"d\", \"c\", \"b\"] | +-----------------+ nebula> WITH [1, 1, 2, 2] AS coll \\ UNWIND coll AS x \\ WITH DISTINCT x \\ RETURN collect(x) AS ss; +--------+ | ss | +--------+ | [1, 2] | +--------+ nebula> MATCH (n:player) \\ RETURN collect(n.age); +---------------------------------------------------------------+ | COLLECT(n.age) | ----------------------------------------------------------------+ | [32, 32, 34, 29, 41, 40, 33, 25, 40, 37, ... ... # \u57fa\u4e8e\u5e74\u9f84\u805a\u5408\u59d3\u540d\u3002 nebula> MATCH (n:player) \\ RETURN n.age AS age, collect(n.name); +-----+--------------------------------------------------------------------------+ | age | collect(n.name) | +-----+--------------------------------------------------------------------------+ | 24 | [\"Giannis Antetokounmpo\"] | +-----+--------------------------------------------------------------------------+ | 20 | [\"Luka Doncic\"] | +-----+--------------------------------------------------------------------------+ | 25 | [\"Joel Embiid\", \"Kyle Anderson\"] | +-----+--------------------------------------------------------------------------+ ...","title":"collect\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/10.collect/#collect","text":"collect() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u7b26\u5408\u8868\u8fbe\u5f0f\u8fd4\u56de\u7ed3\u679c\u7684\u5217\u8868\u3002\u8be5\u51fd\u6570\u53ef\u4ee5\u5c06\u591a\u6761\u8bb0\u5f55\u6216\u503c\u5408\u5e76\u8fdb\u4e00\u4e2a\u5217\u8868\uff0c\u5b9e\u73b0\u6570\u636e\u805a\u5408\u3002 collect() \u662f\u4e00\u4e2a\u805a\u5408\u51fd\u6570\uff0c\u7c7b\u4f3cSQL\u4e2d\u7684 GROUP BY \u3002","title":"collect\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/10.collect/#_1","text":"nebula> UNWIND [1, 2, 1] AS a \\ RETURN a; +---+ | a | +---+ | 1 | +---+ | 2 | +---+ | 1 | +---+ nebula> UNWIND [1, 2, 1] AS a \\ RETURN collect(a); +------------+ | COLLECT(a) | +------------+ | [1, 2, 1] | +------------+ nebula> UNWIND [1, 2, 1] AS a \\ RETURN a, collect(a), size(collect(a)); +---+------------+------------------+ | a | COLLECT(a) | size(COLLECT(a)) | +---+------------+------------------+ | 2 | [2] | 1 | +---+------------+------------------+ | 1 | [1, 1] | 2 | +---+------------+------------------+ # \u964d\u5e8f\u6392\u5217\uff0c\u9650\u5236\u8f93\u51fa\u884c\u6570\u4e3a3\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u5217\u8868\u4e2d\u3002 nebula> UNWIND [\"c\", \"b\", \"a\", \"d\" ] AS p \\ WITH p AS q \\ ORDER BY q DESC LIMIT 3 \\ RETURN collect(q); +-----------------+ | COLLECT(q) | +-----------------+ | [\"d\", \"c\", \"b\"] | +-----------------+ nebula> WITH [1, 1, 2, 2] AS coll \\ UNWIND coll AS x \\ WITH DISTINCT x \\ RETURN collect(x) AS ss; +--------+ | ss | +--------+ | [1, 2] | +--------+ nebula> MATCH (n:player) \\ RETURN collect(n.age); +---------------------------------------------------------------+ | COLLECT(n.age) | ----------------------------------------------------------------+ | [32, 32, 34, 29, 41, 40, 33, 25, 40, 37, ... ... # \u57fa\u4e8e\u5e74\u9f84\u805a\u5408\u59d3\u540d\u3002 nebula> MATCH (n:player) \\ RETURN n.age AS age, collect(n.name); +-----+--------------------------------------------------------------------------+ | age | collect(n.name) | +-----+--------------------------------------------------------------------------+ | 24 | [\"Giannis Antetokounmpo\"] | +-----+--------------------------------------------------------------------------+ | 20 | [\"Luka Doncic\"] | +-----+--------------------------------------------------------------------------+ | 25 | [\"Joel Embiid\", \"Kyle Anderson\"] | +-----+--------------------------------------------------------------------------+ ...","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/11.reduce/","text":"reduce\u51fd\u6570 \u00b6 reduce() \u5c06\u8868\u8fbe\u5f0f\u9010\u4e2a\u5e94\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff0c\u7136\u540e\u548c\u7d2f\u52a0\u5668\u4e2d\u7684\u5f53\u524d\u7ed3\u679c\u7d2f\u52a0\uff0c\u6700\u540e\u8fd4\u56de\u5b8c\u6574\u7ed3\u679c\u3002\u8be5\u51fd\u6570\u5c06\u904d\u5386\u7ed9\u5b9a\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20 e \uff0c\u5728 e \u4e0a\u8fd0\u884c\u8868\u8fbe\u5f0f\u5e76\u548c\u7d2f\u52a0\u5668\u7684\u5f53\u524d\u7ed3\u679c\u7d2f\u52a0\uff0c\u5c06\u65b0\u7684\u7ed3\u679c\u5b58\u50a8\u5728\u7d2f\u52a0\u5668\u4e2d\u3002\u8fd9\u4e2a\u51fd\u6570\u7c7b\u4f3c\u4e8e\u51fd\u6570\u5f0f\u8bed\u8a00\uff08\u5982Lisp\u548cScala\uff09\u4e2d\u7684fold\u6216reduce\u65b9\u6cd5\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u5728openCypher\u4e2d\uff0c reduce() \u51fd\u6570\u6ca1\u6709\u5b9a\u4e49\u3002nGQL\u4f7f\u7528\u4e86Cypher\u65b9\u5f0f\u5b9e\u73b0 reduce() \u51fd\u6570\u3002 \u8bed\u6cd5 \u00b6 reduce(<accumulator> = <initial>, <variable> IN <list> | <expression>) \u53c2\u6570 \u8bf4\u660e accumulator \u5728\u904d\u5386\u5217\u8868\u65f6\u4fdd\u5b58\u7d2f\u52a0\u7ed3\u679c\u3002 initial \u4e3a accumulator \u63d0\u4f9b\u521d\u59cb\u503c\u7684\u8868\u8fbe\u5f0f\u6216\u503c\u3002 variable \u4e3a\u5217\u8868\u5f15\u5165\u4e00\u4e2a\u53d8\u91cf\uff0c\u51b3\u5b9a\u4f7f\u7528\u5217\u8868\u4e2d\u7684\u54ea\u4e2a\u5143\u7d20\u3002 list \u5217\u8868\u6216\u5217\u8868\u8868\u8fbe\u5f0f\u3002 expression \u8be5\u8868\u8fbe\u5f0f\u5c06\u5bf9\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u8fd0\u884c\u4e00\u6b21\uff0c\u5e76\u5c06\u7ed3\u679c\u7d2f\u52a0\u81f3 accumulator \u3002 \u8bf4\u660e \uff1a\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u53d6\u51b3\u4e8e\u63d0\u4f9b\u7684\u53c2\u6570\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u8bed\u4e49\u3002 \u793a\u4f8b \u00b6 nebula> RETURN reduce(totalNum = 10, n IN range(1, 3) | totalNum + n) AS r; +----+ | r | +----+ | 16 | +----+ nebula> RETURN reduce(totalNum = -4 * 5, n IN [1, 2] | totalNum + n * 2) AS r; +-----+ | r | +-----+ | -14 | +-----+ nebula> MATCH p = (n:player{name:\"LeBron James\"})<-[:follow]-(m) \\ RETURN nodes(p)[0].age AS src1, nodes(p)[1].age AS dst2, \\ reduce(totalAge = 100, n IN nodes(p) | totalAge + n.age) AS sum; +------+------+-----+ | src1 | dst2 | sum | +------+------+-----+ | 34 | 31 | 165 | +------+------+-----+ | 34 | 29 | 163 | +------+------+-----+ | 34 | 33 | 167 | +------+------+-----+ | 34 | 26 | 160 | +------+------+-----+ | 34 | 34 | 168 | +------+------+-----+ | 34 | 37 | 171 | +------+------+-----+ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ | GO FROM $-.VertexID over follow \\ WHERE follow.degree != reduce(totalNum = 5, n IN range(1, 3) | $$.player.age + totalNum + n) \\ YIELD $$.player.name AS id, $$.player.age AS age, follow.degree AS degree; +---------------------+-----+--------+ | id | age | degree | +---------------------+-----+--------+ | \"Tim Duncan\" | 42 | 95 | +---------------------+-----+--------+ | \"LaMarcus Aldridge\" | 33 | 90 | +---------------------+-----+--------+ | \"Manu Ginobili\" | 41 | 95 | +---------------------+-----+--------+","title":"reduce\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/11.reduce/#reduce","text":"reduce() \u5c06\u8868\u8fbe\u5f0f\u9010\u4e2a\u5e94\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff0c\u7136\u540e\u548c\u7d2f\u52a0\u5668\u4e2d\u7684\u5f53\u524d\u7ed3\u679c\u7d2f\u52a0\uff0c\u6700\u540e\u8fd4\u56de\u5b8c\u6574\u7ed3\u679c\u3002\u8be5\u51fd\u6570\u5c06\u904d\u5386\u7ed9\u5b9a\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20 e \uff0c\u5728 e \u4e0a\u8fd0\u884c\u8868\u8fbe\u5f0f\u5e76\u548c\u7d2f\u52a0\u5668\u7684\u5f53\u524d\u7ed3\u679c\u7d2f\u52a0\uff0c\u5c06\u65b0\u7684\u7ed3\u679c\u5b58\u50a8\u5728\u7d2f\u52a0\u5668\u4e2d\u3002\u8fd9\u4e2a\u51fd\u6570\u7c7b\u4f3c\u4e8e\u51fd\u6570\u5f0f\u8bed\u8a00\uff08\u5982Lisp\u548cScala\uff09\u4e2d\u7684fold\u6216reduce\u65b9\u6cd5\u3002","title":"reduce\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/11.reduce/#opencypher","text":"\u5728openCypher\u4e2d\uff0c reduce() \u51fd\u6570\u6ca1\u6709\u5b9a\u4e49\u3002nGQL\u4f7f\u7528\u4e86Cypher\u65b9\u5f0f\u5b9e\u73b0 reduce() \u51fd\u6570\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/6.functions-and-expressions/11.reduce/#_1","text":"reduce(<accumulator> = <initial>, <variable> IN <list> | <expression>) \u53c2\u6570 \u8bf4\u660e accumulator \u5728\u904d\u5386\u5217\u8868\u65f6\u4fdd\u5b58\u7d2f\u52a0\u7ed3\u679c\u3002 initial \u4e3a accumulator \u63d0\u4f9b\u521d\u59cb\u503c\u7684\u8868\u8fbe\u5f0f\u6216\u503c\u3002 variable \u4e3a\u5217\u8868\u5f15\u5165\u4e00\u4e2a\u53d8\u91cf\uff0c\u51b3\u5b9a\u4f7f\u7528\u5217\u8868\u4e2d\u7684\u54ea\u4e2a\u5143\u7d20\u3002 list \u5217\u8868\u6216\u5217\u8868\u8868\u8fbe\u5f0f\u3002 expression \u8be5\u8868\u8fbe\u5f0f\u5c06\u5bf9\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u8fd0\u884c\u4e00\u6b21\uff0c\u5e76\u5c06\u7ed3\u679c\u7d2f\u52a0\u81f3 accumulator \u3002 \u8bf4\u660e \uff1a\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u53d6\u51b3\u4e8e\u63d0\u4f9b\u7684\u53c2\u6570\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u8bed\u4e49\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/6.functions-and-expressions/11.reduce/#_2","text":"nebula> RETURN reduce(totalNum = 10, n IN range(1, 3) | totalNum + n) AS r; +----+ | r | +----+ | 16 | +----+ nebula> RETURN reduce(totalNum = -4 * 5, n IN [1, 2] | totalNum + n * 2) AS r; +-----+ | r | +-----+ | -14 | +-----+ nebula> MATCH p = (n:player{name:\"LeBron James\"})<-[:follow]-(m) \\ RETURN nodes(p)[0].age AS src1, nodes(p)[1].age AS dst2, \\ reduce(totalAge = 100, n IN nodes(p) | totalAge + n.age) AS sum; +------+------+-----+ | src1 | dst2 | sum | +------+------+-----+ | 34 | 31 | 165 | +------+------+-----+ | 34 | 29 | 163 | +------+------+-----+ | 34 | 33 | 167 | +------+------+-----+ | 34 | 26 | 160 | +------+------+-----+ | 34 | 34 | 168 | +------+------+-----+ | 34 | 37 | 171 | +------+------+-----+ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ | GO FROM $-.VertexID over follow \\ WHERE follow.degree != reduce(totalNum = 5, n IN range(1, 3) | $$.player.age + totalNum + n) \\ YIELD $$.player.name AS id, $$.player.age AS age, follow.degree AS degree; +---------------------+-----+--------+ | id | age | degree | +---------------------+-----+--------+ | \"Tim Duncan\" | 42 | 95 | +---------------------+-----+--------+ | \"LaMarcus Aldridge\" | 33 | 90 | +---------------------+-----+--------+ | \"Manu Ginobili\" | 41 | 95 | +---------------------+-----+--------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/","text":"hash\u51fd\u6570 \u00b6 hash() \u51fd\u6570\u8fd4\u56de\u53c2\u6570\u7684\u54c8\u5e0c\u503c\u3002\u5176\u53c2\u6570\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5217\u8868\u3001\u5e03\u5c14\u503c\u3001NULL\u7b49\u7c7b\u578b\u7684\u503c\uff0c\u6216\u8005\u8ba1\u7b97\u7ed3\u679c\u4e3a\u8fd9\u4e9b\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u3002 hash() \u51fd\u6570\u91c7\u7528MurmurHash2\u7b97\u6cd5\uff0c\u79cd\u5b50\uff08seed\uff09\u4e3a 0xc70f6907UL \u3002\u60a8\u53ef\u4ee5\u5728 MurmurHahs2.h \u4e2d\u67e5\u770b\u5176\u6e90\u4ee3\u7801\u3002 \u8bf4\u660e\uff1a \u5728\u670910\u4ebf\u4e2a\u70b9\u7684\u60c5\u51b5\u4e0b\uff0c\u53d1\u751f\u78b0\u649e\u7684\u6982\u7387\u5927\u7ea6\u662f1/10\u3002\u8fb9\u7684\u6570\u91cf\u4e0e\u78b0\u649e\u7684\u6982\u7387\u65e0\u5173\u3002 \u5728Java\u4e2d\u7684\u8c03\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a MurmurHash2 . hash64 ( \"to_be_hashed\" . getBytes (), \"to_be_hashed\" . getBytes (). length , 0xc70f6907 ) \u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027 \u00b6 nGQL 1.0\u4e0d\u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b\u7684VID\uff0c\u4e00\u79cd\u5e38\u7528\u7684\u5904\u7406\u65b9\u5f0f\u662f\u7528hash\u51fd\u6570\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\uff0c\u7136\u540e\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3aVID\u3002\u4f46nGQL 2.0\u540c\u65f6\u652f\u6301\u4e86\u5b57\u7b26\u4e32\u548c\u6574\u6570\u7c7b\u578b\u7684VID\uff0c\u6240\u4ee5\u60a8\u65e0\u9700\u518d\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u8bbe\u7f6eVID\u3002 \u8ba1\u7b97\u6570\u5b57\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash(-123); +--------------+ | hash(-(123)) | +--------------+ | -123 | +--------------+ \u8ba1\u7b97\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash(\"to_be_hashed\"); +----------------------+ | hash(to_be_hashed) | +----------------------+ | -1098333533029391540 | +----------------------+ \u8ba1\u7b97\u5217\u8868\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash([1,2,3]); +----------------+ | hash([1,2,3]) | +----------------+ | 11093822460243 | +----------------+ \u8ba1\u7b97\u5e03\u5c14\u503c\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash(true); +------------+ | hash(true) | +------------+ | 1 | +------------+ nebula> YIELD hash(false); +-------------+ | hash(false) | +-------------+ | 0 | +-------------+ \u8ba1\u7b97NULL\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash(NULL); +------------+ | hash(NULL) | +------------+ | -1 | +------------+ \u8ba1\u7b97\u8868\u8fbe\u5f0f\u7684\u54c8\u5e0c\u503c \u00b6 nebula> YIELD hash(toLower(\"HELLO NEBULA\")); +-------------------------------+ | hash(toLower(\"HELLO NEBULA\")) | +-------------------------------+ | -8481157362655072082 | +-------------------------------+","title":"hash\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#hash","text":"hash() \u51fd\u6570\u8fd4\u56de\u53c2\u6570\u7684\u54c8\u5e0c\u503c\u3002\u5176\u53c2\u6570\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5217\u8868\u3001\u5e03\u5c14\u503c\u3001NULL\u7b49\u7c7b\u578b\u7684\u503c\uff0c\u6216\u8005\u8ba1\u7b97\u7ed3\u679c\u4e3a\u8fd9\u4e9b\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u3002 hash() \u51fd\u6570\u91c7\u7528MurmurHash2\u7b97\u6cd5\uff0c\u79cd\u5b50\uff08seed\uff09\u4e3a 0xc70f6907UL \u3002\u60a8\u53ef\u4ee5\u5728 MurmurHahs2.h \u4e2d\u67e5\u770b\u5176\u6e90\u4ee3\u7801\u3002 \u8bf4\u660e\uff1a \u5728\u670910\u4ebf\u4e2a\u70b9\u7684\u60c5\u51b5\u4e0b\uff0c\u53d1\u751f\u78b0\u649e\u7684\u6982\u7387\u5927\u7ea6\u662f1/10\u3002\u8fb9\u7684\u6570\u91cf\u4e0e\u78b0\u649e\u7684\u6982\u7387\u65e0\u5173\u3002 \u5728Java\u4e2d\u7684\u8c03\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a MurmurHash2 . hash64 ( \"to_be_hashed\" . getBytes (), \"to_be_hashed\" . getBytes (). length , 0xc70f6907 )","title":"hash\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_1","text":"nGQL 1.0\u4e0d\u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b\u7684VID\uff0c\u4e00\u79cd\u5e38\u7528\u7684\u5904\u7406\u65b9\u5f0f\u662f\u7528hash\u51fd\u6570\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\uff0c\u7136\u540e\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3aVID\u3002\u4f46nGQL 2.0\u540c\u65f6\u652f\u6301\u4e86\u5b57\u7b26\u4e32\u548c\u6574\u6570\u7c7b\u578b\u7684VID\uff0c\u6240\u4ee5\u60a8\u65e0\u9700\u518d\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u8bbe\u7f6eVID\u3002","title":"\u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_2","text":"nebula> YIELD hash(-123); +--------------+ | hash(-(123)) | +--------------+ | -123 | +--------------+","title":"\u8ba1\u7b97\u6570\u5b57\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_3","text":"nebula> YIELD hash(\"to_be_hashed\"); +----------------------+ | hash(to_be_hashed) | +----------------------+ | -1098333533029391540 | +----------------------+","title":"\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_4","text":"nebula> YIELD hash([1,2,3]); +----------------+ | hash([1,2,3]) | +----------------+ | 11093822460243 | +----------------+","title":"\u8ba1\u7b97\u5217\u8868\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_5","text":"nebula> YIELD hash(true); +------------+ | hash(true) | +------------+ | 1 | +------------+ nebula> YIELD hash(false); +-------------+ | hash(false) | +-------------+ | 0 | +-------------+","title":"\u8ba1\u7b97\u5e03\u5c14\u503c\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#null","text":"nebula> YIELD hash(NULL); +------------+ | hash(NULL) | +------------+ | -1 | +------------+","title":"\u8ba1\u7b97NULL\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/12.hash/#_6","text":"nebula> YIELD hash(toLower(\"HELLO NEBULA\")); +-------------------------------+ | hash(toLower(\"HELLO NEBULA\")) | +-------------------------------+ | -8481157362655072082 | +-------------------------------+","title":"\u8ba1\u7b97\u8868\u8fbe\u5f0f\u7684\u54c8\u5e0c\u503c"},{"location":"3.ngql-guide/6.functions-and-expressions/2.string/","text":"\u5185\u7f6e\u5b57\u7b26\u4e32\u51fd\u6570 \u00b6 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u5b57\u7b26\u4e32\u51fd\u6570\u3002 \u8bf4\u660e \uff1a\u548cSQL\u4e00\u6837\uff0cnGQL\u7684\u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 1 \u5f00\u59cb\u3002\u4f46\u662fC\u8bed\u8a00\u7684\u5b57\u7b26\u7d22\u5f15\u662f\u4ece 0 \u5f00\u59cb\u7684\u3002 \u51fd\u6570 \u8bf4\u660e int strcasecmp(string a, string b) \u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\uff08\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff09\u3002\u5f53a=b\u65f6\uff0c\u8fd4\u56de0\uff0c\u5f53a>b\u662f\uff0c\u8fd4\u56de\u5927\u4e8e0\u7684\u6570\uff0c\u5f53a<b\u65f6\uff0c\u8fd4\u56de\u5c0f\u4e8e0\u7684\u6570\u3002 string lower(string a) \u8fd4\u56de\u5c0f\u5199\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u3002 string toLower(string a) \u548c lower() \u76f8\u540c\u3002 string upper(string a) \u8fd4\u56de\u5927\u5199\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u3002 string toUpper(string a) \u548c upper() \u76f8\u540c\u3002 int length(string a) \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff0c\u8fd4\u56de\u7ed9\u5b9a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 string trim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5934\u90e8\u548c\u5c3e\u90e8\u7684\u7a7a\u683c\u3002 string ltrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5934\u90e8\u7684\u7a7a\u683c\u3002 string rtrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5c3e\u90e8\u7684\u7a7a\u683c\u3002 string left(string a, int count) \u8fd4\u56de\u5b57\u7b26\u4e32\u5de6\u4fa7 count \u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5b57\u7b26\u4e32\u3002\u5982\u679c count \u8d85\u8fc7\u5b57\u7b26\u4e32a\u7684\u957f\u5ea6\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32a\u3002 string right(string a, int count) \u8fd4\u56de\u5b57\u7b26\u4e32\u53f3\u4fa7 count \u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5b57\u7b26\u4e32\u3002\u5982\u679c count \u8d85\u8fc7\u5b57\u7b26\u4e32a\u7684\u957f\u5ea6\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32a\u3002 string lpad(string a, int size, string letters) \u5728\u5b57\u7b26\u4e32a\u7684\u5de6\u4fa7\u586b\u5145 letters \u5b57\u7b26\u4e32\uff0c\u5e76\u8fd4\u56de size \u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002 string rpad(string a, int size, string letters) \u5728\u5b57\u7b26\u4e32a\u7684\u53f3\u4fa7\u586b\u5145 letters \u5b57\u7b26\u4e32\uff0c\u5e76\u8fd4\u56de size \u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002 string substr(string a, int pos, int count) \u4ece\u5b57\u7b26\u4e32a\u7684\u6307\u5b9a\u4f4d\u7f6e pos \u5f00\u59cb\uff08\u4e0d\u5305\u62ec pos \u4f4d\u7f6e\u7684\u5b57\u7b26\uff09\uff0c\u63d0\u53d6\u53f3\u4fa7\u7684 count \u4e2a\u5b57\u7b26\uff0c\u7ec4\u6210\u65b0\u7684\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u3002 string substring(string a, int pos, int count) \u548c substr() \u76f8\u540c\u3002 string reverse(string) \u9006\u5e8f\u8fd4\u56de\u5b57\u7b26\u4e32\u3002 string replace(string a, string b, string c) \u5c06\u5b57\u7b26\u4e32a\u4e2d\u7684\u5b50\u5b57\u7b26\u4e32b\u66ff\u6362\u4e3a\u5b57\u7b26\u4e32c\u3002 list split(string a, string b) \u5728\u5b50\u5b57\u7b26\u4e32b\u5904\u62c6\u5206\u5b57\u7b26\u4e32a\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u5217\u8868\u3002 string toString() \u5c06\u4efb\u610f\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 int hash() \u83b7\u53d6\u4efb\u610f\u5bf9\u8c61\u7684\u54c8\u5e0c\u503c\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002 substr() \u548c substring() \u7684\u8fd4\u56de\u8bf4\u660e \u00b6 \u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 0 \u5f00\u59cb\u3002 \u5982\u679c pos \u4e3a0\uff0c\u5219\u8fd4\u56de\u6574\u4e2a\u5b57\u7b26\u4e32\u3002 \u5982\u679c pos \u5927\u4e8e\u6700\u5927\u5b57\u7b26\u7d22\u5f15\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u5982\u679c pos \u662f\u8d1f\u6570\uff0c\u5219\u8fd4\u56de BAD_DATA \u3002 \u5982\u679c\u7701\u7565 count \uff0c\u5219\u8fd4\u56de\u4ece pos \u4f4d\u7f6e\u5f00\u59cb\u5230\u5b57\u7b26\u4e32\u672b\u5c3e\u7684\u5b50\u5b57\u7b26\u4e32\u3002 \u5982\u679c count \u4e3a0\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u4f7f\u7528 NULL \u4f5c\u4e3a\u4efb\u4f55\u53c2\u6570\u4f1a\u51fa\u73b0 \u9519\u8bef \u3002 OpenCypher\u517c\u5bb9\u6027 \uff1a \u5728openCypher\u4e2d\uff0c\u5982\u679c\u5b57\u7b26\u4e32 a \u4e3a null \uff0c\u4f1a\u8fd4\u56de null \u3002 \u5728openCypher\u4e2d\uff0c\u5982\u679c pos \u4e3a0\uff0cIn openCypher, if pos is 0, \u4f1a\u8fd4\u56de\u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u3001 count \u4e2a\u5b57\u7b26\u7684\u5b50\u5b57\u7b26\u4e32\u3002 \u5728openCypher\u4e2d\uff0c\u5982\u679c pos \u6216 count \u4e3a null \u6216\u8d1f\u6574\u6570\uff0c\u4f1a\u51fa\u73b0\u9519\u8bef\u3002","title":"\u5b57\u7b26\u4e32\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/2.string/#_1","text":"Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u5b57\u7b26\u4e32\u51fd\u6570\u3002 \u8bf4\u660e \uff1a\u548cSQL\u4e00\u6837\uff0cnGQL\u7684\u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 1 \u5f00\u59cb\u3002\u4f46\u662fC\u8bed\u8a00\u7684\u5b57\u7b26\u7d22\u5f15\u662f\u4ece 0 \u5f00\u59cb\u7684\u3002 \u51fd\u6570 \u8bf4\u660e int strcasecmp(string a, string b) \u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\uff08\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff09\u3002\u5f53a=b\u65f6\uff0c\u8fd4\u56de0\uff0c\u5f53a>b\u662f\uff0c\u8fd4\u56de\u5927\u4e8e0\u7684\u6570\uff0c\u5f53a<b\u65f6\uff0c\u8fd4\u56de\u5c0f\u4e8e0\u7684\u6570\u3002 string lower(string a) \u8fd4\u56de\u5c0f\u5199\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u3002 string toLower(string a) \u548c lower() \u76f8\u540c\u3002 string upper(string a) \u8fd4\u56de\u5927\u5199\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u3002 string toUpper(string a) \u548c upper() \u76f8\u540c\u3002 int length(string a) \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff0c\u8fd4\u56de\u7ed9\u5b9a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 string trim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5934\u90e8\u548c\u5c3e\u90e8\u7684\u7a7a\u683c\u3002 string ltrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5934\u90e8\u7684\u7a7a\u683c\u3002 string rtrim(string a) \u5220\u9664\u5b57\u7b26\u4e32\u5c3e\u90e8\u7684\u7a7a\u683c\u3002 string left(string a, int count) \u8fd4\u56de\u5b57\u7b26\u4e32\u5de6\u4fa7 count \u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5b57\u7b26\u4e32\u3002\u5982\u679c count \u8d85\u8fc7\u5b57\u7b26\u4e32a\u7684\u957f\u5ea6\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32a\u3002 string right(string a, int count) \u8fd4\u56de\u5b57\u7b26\u4e32\u53f3\u4fa7 count \u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5b57\u7b26\u4e32\u3002\u5982\u679c count \u8d85\u8fc7\u5b57\u7b26\u4e32a\u7684\u957f\u5ea6\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32a\u3002 string lpad(string a, int size, string letters) \u5728\u5b57\u7b26\u4e32a\u7684\u5de6\u4fa7\u586b\u5145 letters \u5b57\u7b26\u4e32\uff0c\u5e76\u8fd4\u56de size \u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002 string rpad(string a, int size, string letters) \u5728\u5b57\u7b26\u4e32a\u7684\u53f3\u4fa7\u586b\u5145 letters \u5b57\u7b26\u4e32\uff0c\u5e76\u8fd4\u56de size \u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002 string substr(string a, int pos, int count) \u4ece\u5b57\u7b26\u4e32a\u7684\u6307\u5b9a\u4f4d\u7f6e pos \u5f00\u59cb\uff08\u4e0d\u5305\u62ec pos \u4f4d\u7f6e\u7684\u5b57\u7b26\uff09\uff0c\u63d0\u53d6\u53f3\u4fa7\u7684 count \u4e2a\u5b57\u7b26\uff0c\u7ec4\u6210\u65b0\u7684\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u3002 string substring(string a, int pos, int count) \u548c substr() \u76f8\u540c\u3002 string reverse(string) \u9006\u5e8f\u8fd4\u56de\u5b57\u7b26\u4e32\u3002 string replace(string a, string b, string c) \u5c06\u5b57\u7b26\u4e32a\u4e2d\u7684\u5b50\u5b57\u7b26\u4e32b\u66ff\u6362\u4e3a\u5b57\u7b26\u4e32c\u3002 list split(string a, string b) \u5728\u5b50\u5b57\u7b26\u4e32b\u5904\u62c6\u5206\u5b57\u7b26\u4e32a\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u5217\u8868\u3002 string toString() \u5c06\u4efb\u610f\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u3002 int hash() \u83b7\u53d6\u4efb\u610f\u5bf9\u8c61\u7684\u54c8\u5e0c\u503c\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002","title":"\u5185\u7f6e\u5b57\u7b26\u4e32\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/2.string/#substrsubstring","text":"\u5b57\u7b26\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u4ece 0 \u5f00\u59cb\u3002 \u5982\u679c pos \u4e3a0\uff0c\u5219\u8fd4\u56de\u6574\u4e2a\u5b57\u7b26\u4e32\u3002 \u5982\u679c pos \u5927\u4e8e\u6700\u5927\u5b57\u7b26\u7d22\u5f15\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u5982\u679c pos \u662f\u8d1f\u6570\uff0c\u5219\u8fd4\u56de BAD_DATA \u3002 \u5982\u679c\u7701\u7565 count \uff0c\u5219\u8fd4\u56de\u4ece pos \u4f4d\u7f6e\u5f00\u59cb\u5230\u5b57\u7b26\u4e32\u672b\u5c3e\u7684\u5b50\u5b57\u7b26\u4e32\u3002 \u5982\u679c count \u4e3a0\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u4f7f\u7528 NULL \u4f5c\u4e3a\u4efb\u4f55\u53c2\u6570\u4f1a\u51fa\u73b0 \u9519\u8bef \u3002 OpenCypher\u517c\u5bb9\u6027 \uff1a \u5728openCypher\u4e2d\uff0c\u5982\u679c\u5b57\u7b26\u4e32 a \u4e3a null \uff0c\u4f1a\u8fd4\u56de null \u3002 \u5728openCypher\u4e2d\uff0c\u5982\u679c pos \u4e3a0\uff0cIn openCypher, if pos is 0, \u4f1a\u8fd4\u56de\u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u3001 count \u4e2a\u5b57\u7b26\u7684\u5b50\u5b57\u7b26\u4e32\u3002 \u5728openCypher\u4e2d\uff0c\u5982\u679c pos \u6216 count \u4e3a null \u6216\u8d1f\u6574\u6570\uff0c\u4f1a\u51fa\u73b0\u9519\u8bef\u3002","title":"substr()\u548csubstring()\u7684\u8fd4\u56de\u8bf4\u660e"},{"location":"3.ngql-guide/6.functions-and-expressions/3.date-and-time/","text":"\u5185\u7f6e\u65e5\u671f\u65f6\u95f4\u51fd\u6570 \u00b6 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u65e5\u671f\u65f6\u95f4\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e int now() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\u6233\u3002 date date() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65e5\u671f\uff08UTC\u65f6\u95f4\uff09\u3002 time time() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\uff08UTC\u65f6\u95f4\uff09\u3002 datetime datetime() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4\uff08UTC\u65f6\u95f4\uff09\u3002 date() \u3001 time() \u548c datetime() \u51fd\u6570\u9664\u4e86\u4f20\u5165\u7a7a\u503c\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6216\u65e5\u671f\uff0c\u8fd8\u63a5\u53d7string\u548cmap\u7c7b\u578b\u7684\u53c2\u6570\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u5728openCypher\u4e2d\uff0c\u65f6\u95f4\u7cbe\u786e\u5230\u6beb\u79d2\u3002 \u5728nGQL\u4e2d\uff0c\u65f6\u95f4\u7cbe\u786e\u5230\u79d2\u3002\u6beb\u79d2\u6570\u663e\u793a\u4e3a 000 \u3002 \u793a\u4f8b \u00b6 > RETURN now(), date(), time(), datetime(); +------------+------------+--------------+-------------------------+ | now() | date() | time() | datetime() | +------------+------------+--------------+-------------------------+ | 1611907165 | 2021-01-29 | 07:59:22.000 | 2021-01-29T07:59:22.000 | +------------+------------+--------------+-------------------------+","title":"\u65e5\u671f\u65f6\u95f4\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/3.date-and-time/#_1","text":"Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5185\u7f6e\u65e5\u671f\u65f6\u95f4\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e int now() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\u6233\u3002 date date() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65e5\u671f\uff08UTC\u65f6\u95f4\uff09\u3002 time time() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\uff08UTC\u65f6\u95f4\uff09\u3002 datetime datetime() \u6839\u636e\u5f53\u524d\u7cfb\u7edf\u8fd4\u56de\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4\uff08UTC\u65f6\u95f4\uff09\u3002 date() \u3001 time() \u548c datetime() \u51fd\u6570\u9664\u4e86\u4f20\u5165\u7a7a\u503c\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6216\u65e5\u671f\uff0c\u8fd8\u63a5\u53d7string\u548cmap\u7c7b\u578b\u7684\u53c2\u6570\u3002","title":"\u5185\u7f6e\u65e5\u671f\u65f6\u95f4\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/3.date-and-time/#opencypher","text":"\u5728openCypher\u4e2d\uff0c\u65f6\u95f4\u7cbe\u786e\u5230\u6beb\u79d2\u3002 \u5728nGQL\u4e2d\uff0c\u65f6\u95f4\u7cbe\u786e\u5230\u79d2\u3002\u6beb\u79d2\u6570\u663e\u793a\u4e3a 000 \u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/6.functions-and-expressions/3.date-and-time/#_2","text":"> RETURN now(), date(), time(), datetime(); +------------+------------+--------------+-------------------------+ | now() | date() | time() | datetime() | +------------+------------+--------------+-------------------------+ | 1611907165 | 2021-01-29 | 07:59:22.000 | 2021-01-29T07:59:22.000 | +------------+------------+--------------+-------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/4.schema/","text":"Schema\u51fd\u6570 \u00b6 Nebula Graph\u652f\u6301\u4ee5\u4e0bSchema\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e id(vertex) \u8fd4\u56de\u70b9ID\u3002\u6570\u636e\u7c7b\u578b\u548c\u70b9ID\u7684\u7c7b\u578b\u4fdd\u6301\u4e00\u81f4\u3002 list tags(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u3002 list labels(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u3002 map properties(vertex_or_edge) \u63a5\u6536\u70b9\u6216\u8fb9\u5e76\u8fd4\u56de\u5176\u5c5e\u6027\u3002 string type(edge) \u8fd4\u56de\u8fb9\u7684\u8fb9\u7c7b\u578b\u3002 vertex startNode(path) \u83b7\u53d6\u4e00\u6761\u8fb9\u6216\u4e00\u6761\u8def\u5f84\u5e76\u8fd4\u56de\u5b83\u7684\u8d77\u59cb\u70b9ID\u3002 string endNode(path) \u83b7\u53d6\u4e00\u6761\u8fb9\u6216\u4e00\u6761\u8def\u5f84\u5e76\u8fd4\u56de\u5b83\u7684\u76ee\u7684\u70b9ID\u3002 int rank(edge) \u8fd4\u56de\u8fb9\u7684rank\u3002 \u793a\u4f8b \u00b6 nebula> MATCH (a:player) WHERE id(a) == \"player100\" \\ RETURN tags(a), labels(a), properties(a); +------------+------------+-------------------------------+ | tags(a) | labels(a) | properties(a) | +------------+------------+-------------------------------+ | [\"player\"] | [\"player\"] | {age: 42, name: \"Tim Duncan\"} | +------------+------------+-------------------------------+ nebula> MATCH p = (a :player {name : \"Tim Duncan\"})-[r:serve]-(t) \\ RETURN type(r), rank(r); +---------+---------+ | type(r) | rank(r) | +---------+---------+ | \"serve\" | 0 | +---------+---------+ nebula> MATCH p = (a :player {name : \"Tim Duncan\"})-[r:serve]-(t) \\ RETURN startNode(p), endNode(p); +----------------------------------------------------+----------------------------------+ | startNode(p) | endNode(p) | +----------------------------------------------------+----------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------+----------------------------------+","title":"Schema\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/4.schema/#schema","text":"Nebula Graph\u652f\u6301\u4ee5\u4e0bSchema\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e id(vertex) \u8fd4\u56de\u70b9ID\u3002\u6570\u636e\u7c7b\u578b\u548c\u70b9ID\u7684\u7c7b\u578b\u4fdd\u6301\u4e00\u81f4\u3002 list tags(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u3002 list labels(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u3002 map properties(vertex_or_edge) \u63a5\u6536\u70b9\u6216\u8fb9\u5e76\u8fd4\u56de\u5176\u5c5e\u6027\u3002 string type(edge) \u8fd4\u56de\u8fb9\u7684\u8fb9\u7c7b\u578b\u3002 vertex startNode(path) \u83b7\u53d6\u4e00\u6761\u8fb9\u6216\u4e00\u6761\u8def\u5f84\u5e76\u8fd4\u56de\u5b83\u7684\u8d77\u59cb\u70b9ID\u3002 string endNode(path) \u83b7\u53d6\u4e00\u6761\u8fb9\u6216\u4e00\u6761\u8def\u5f84\u5e76\u8fd4\u56de\u5b83\u7684\u76ee\u7684\u70b9ID\u3002 int rank(edge) \u8fd4\u56de\u8fb9\u7684rank\u3002","title":"Schema\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/4.schema/#_1","text":"nebula> MATCH (a:player) WHERE id(a) == \"player100\" \\ RETURN tags(a), labels(a), properties(a); +------------+------------+-------------------------------+ | tags(a) | labels(a) | properties(a) | +------------+------------+-------------------------------+ | [\"player\"] | [\"player\"] | {age: 42, name: \"Tim Duncan\"} | +------------+------------+-------------------------------+ nebula> MATCH p = (a :player {name : \"Tim Duncan\"})-[r:serve]-(t) \\ RETURN type(r), rank(r); +---------+---------+ | type(r) | rank(r) | +---------+---------+ | \"serve\" | 0 | +---------+---------+ nebula> MATCH p = (a :player {name : \"Tim Duncan\"})-[r:serve]-(t) \\ RETURN startNode(p), endNode(p); +----------------------------------------------------+----------------------------------+ | startNode(p) | endNode(p) | +----------------------------------------------------+----------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------+----------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/","text":"CASE\u8868\u8fbe\u5f0f \u00b6 CASE \u8868\u8fbe\u5f0f\u4f7f\u7528\u6761\u4ef6\u6765\u8fc7\u6ee4nGQL\u67e5\u8be2\u8bed\u53e5\u7684\u7ed3\u679c\uff0c\u5e38\u7528\u4e8e YIELD \u548c RETURN \u5b50\u53e5\u4e2d\u3002\u548copenCypher\u4e00\u6837\uff0cnGQL\u63d0\u4f9b\u4e24\u79cd\u5f62\u5f0f\u7684 CASE \u8868\u8fbe\u5f0f\uff1a\u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\u3002 CASE \u8868\u8fbe\u5f0f\u4f1a\u904d\u5386\u6240\u6709\u6761\u4ef6\uff0c\u5e76\u5728\u6ee1\u8db3\u7b2c\u4e00\u4e2a\u6761\u4ef6\u65f6\u505c\u6b62\u8bfb\u53d6\u540e\u7eed\u6761\u4ef6\uff0c\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6761\u4ef6\uff0c\u5c06\u901a\u8fc7 ELSE \u5b50\u53e5\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u6ca1\u6709 ELSE \u5b50\u53e5\u4e14\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6761\u4ef6\uff0c\u5219\u8fd4\u56de NULL \u3002 \u4e0b\u56fe\u4e3a\u672c\u6587\u7684\u793a\u4f8b\u56fe\u3002 \u7b80\u5355\u5f62\u5f0f \u00b6 \u8bed\u6cd5 \u00b6 CASE <comparer> WHEN <value> THEN <result> [WHEN ...] [ELSE <default>] END \u8b66\u544a \uff1a CASE \u8868\u8fbe\u5f0f\u4e00\u5b9a\u8981\u7528 END \u7ed3\u5c3e\u3002 \u53c2\u6570 \u8bf4\u660e comparer \u7528\u4e8e\u4e0e value \u8fdb\u884c\u6bd4\u8f83\u7684\u503c\u6216\u8005\u6709\u6548\u8868\u8fbe\u5f0f\u3002 value \u548c comparer \u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5339\u914d\uff0c\u5219\u6ee1\u8db3\u6b64\u6761\u4ef6\u3002 result \u5982\u679c value \u5339\u914d comparer \uff0c\u5219\u8fd4\u56de\u8be5 result \u3002 default \u5982\u679c\u6ca1\u6709\u6761\u4ef6\u5339\u914d\uff0c\u5219\u8fd4\u56de\u8be5 default \u3002 \u793a\u4f8b \u00b6 nebula> RETURN \\ CASE 2+3 \\ WHEN 4 THEN 0 \\ WHEN 5 THEN 1 \\ ELSE -1 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+ nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Name, \\ CASE $$.player.age > 35 \\ WHEN true THEN \"Yes\" \\ WHEN false THEN \"No\" \\ ELSE \"Nah\" \\ END \\ AS Age_above_35; +---------------------+--------------+ | Name | Age_above_35 | +---------------------+--------------+ | \"Tony Parker\" | \"Yes\" | +---------------------+--------------+ | \"LaMarcus Aldridge\" | \"No\" | +---------------------+--------------+ \u901a\u7528\u5f62\u5f0f \u00b6 \u8bed\u6cd5 \u00b6 CASE WHEN <condition> THEN <result> [WHEN ...] [ELSE <default>] END \u53c2\u6570 \u8bf4\u660e condition \u5982\u679c\u6761\u4ef6 condition \u4e3atrue\uff0c\u8868\u793a\u6ee1\u8db3\u6b64\u6761\u4ef6\u3002 result condition \u4e3atrue\uff0c\u5219\u8fd4\u56de\u6b64 result \u3002 default \u5982\u679c\u6ca1\u6709\u6761\u4ef6\u5339\u914d\uff0c\u5219\u8fd4\u56de\u8be5 default \u3002 \u793a\u4f8b \u00b6 nebula> YIELD \\ CASE WHEN 4 > 5 THEN 0 \\ WHEN 3+4==7 THEN 1 \\ ELSE 2 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+ nebula> MATCH (v:player) WHERE v.age > 30 \\ RETURN v.name AS Name, \\ CASE \\ WHEN v.name STARTS WITH \"T\" THEN \"Yes\" \\ ELSE \"No\" \\ END \\ AS Starts_with_T; +---------------------+---------------+ | Name | Starts_with_T | +---------------------+---------------+ | \"Tim\" | \"Yes\" | +---------------------+---------------+ | \"LaMarcus Aldridge\" | \"No\" | +---------------------+---------------+ | \"Tony Parker\" | \"Yes\" | +---------------------+---------------+ \u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\u7684\u533a\u522b \u00b6 \u4e3a\u4e86\u907f\u514d\u8bef\u7528\u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\uff0c\u60a8\u9700\u8981\u4e86\u89e3\u5b83\u4eec\u7684\u5dee\u5f02\u3002\u8bf7\u53c2\u89c1\u5982\u4e0b\u793a\u4f8b\uff1a nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Name, $$.player.age AS Age, \\ CASE $$.player.age \\ WHEN $$.player.age > 35 THEN \"Yes\" \\ ELSE \"No\" \\ END \\ AS Age_above_35; +---------------------+-----+--------------+ | Name | Age | Age_above_35 | +---------------------+-----+--------------+ | \"Tony Parker\" | 36 | \"No\" | +---------------------+-----+--------------+ | \"LaMarcus Aldridge\" | 33 | \"No\" | +---------------------+-----+--------------+ \u793a\u4f8b\u672c\u610f\u4e3a\u5f53\u73a9\u5bb6\u5e74\u9f84\u5927\u4e8e35\u65f6\u8f93\u51fa Yes \u3002\u4f46\u662f\u67e5\u770b\u8f93\u51fa\u7ed3\u679c\uff0c\u5e74\u9f84\u4e3a36\u65f6\u8f93\u51fa\u7684\u5374\u662f No \u3002 \u8fd9\u662f\u56e0\u4e3a\u67e5\u8be2\u4f7f\u7528\u4e86\u7b80\u5355\u5f62\u5f0f\u7684 CASE \u8868\u8fbe\u5f0f\uff0c\u6bd4\u8f83\u5bf9\u8c61\u662f $$.player.age \u548c $$.player.age > 35 \u3002\u5f53\u5e74\u9f84\u4e3a36\u65f6\uff1a $$.player.age \u7684\u503c\u4e3a 36 \uff0c\u6570\u636e\u7c7b\u578b\u4e3aint\u3002 $$.player.age > 35 \u7684\u503c\u4e3a true \uff0c\u6570\u636e\u7c7b\u578b\u4e3aboolean\u3002 \u8fd9\u4e24\u79cd\u6570\u636e\u7c7b\u578b\u65e0\u6cd5\u5339\u914d\uff0c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u56e0\u6b64\u8fd4\u56de No \u3002","title":"CASE\u8868\u8fbe\u5f0f"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#case","text":"CASE \u8868\u8fbe\u5f0f\u4f7f\u7528\u6761\u4ef6\u6765\u8fc7\u6ee4nGQL\u67e5\u8be2\u8bed\u53e5\u7684\u7ed3\u679c\uff0c\u5e38\u7528\u4e8e YIELD \u548c RETURN \u5b50\u53e5\u4e2d\u3002\u548copenCypher\u4e00\u6837\uff0cnGQL\u63d0\u4f9b\u4e24\u79cd\u5f62\u5f0f\u7684 CASE \u8868\u8fbe\u5f0f\uff1a\u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\u3002 CASE \u8868\u8fbe\u5f0f\u4f1a\u904d\u5386\u6240\u6709\u6761\u4ef6\uff0c\u5e76\u5728\u6ee1\u8db3\u7b2c\u4e00\u4e2a\u6761\u4ef6\u65f6\u505c\u6b62\u8bfb\u53d6\u540e\u7eed\u6761\u4ef6\uff0c\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6761\u4ef6\uff0c\u5c06\u901a\u8fc7 ELSE \u5b50\u53e5\u8fd4\u56de\u7ed3\u679c\u3002\u5982\u679c\u6ca1\u6709 ELSE \u5b50\u53e5\u4e14\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6761\u4ef6\uff0c\u5219\u8fd4\u56de NULL \u3002 \u4e0b\u56fe\u4e3a\u672c\u6587\u7684\u793a\u4f8b\u56fe\u3002","title":"CASE\u8868\u8fbe\u5f0f"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_1","text":"","title":"\u7b80\u5355\u5f62\u5f0f"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_2","text":"CASE <comparer> WHEN <value> THEN <result> [WHEN ...] [ELSE <default>] END \u8b66\u544a \uff1a CASE \u8868\u8fbe\u5f0f\u4e00\u5b9a\u8981\u7528 END \u7ed3\u5c3e\u3002 \u53c2\u6570 \u8bf4\u660e comparer \u7528\u4e8e\u4e0e value \u8fdb\u884c\u6bd4\u8f83\u7684\u503c\u6216\u8005\u6709\u6548\u8868\u8fbe\u5f0f\u3002 value \u548c comparer \u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5339\u914d\uff0c\u5219\u6ee1\u8db3\u6b64\u6761\u4ef6\u3002 result \u5982\u679c value \u5339\u914d comparer \uff0c\u5219\u8fd4\u56de\u8be5 result \u3002 default \u5982\u679c\u6ca1\u6709\u6761\u4ef6\u5339\u914d\uff0c\u5219\u8fd4\u56de\u8be5 default \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_3","text":"nebula> RETURN \\ CASE 2+3 \\ WHEN 4 THEN 0 \\ WHEN 5 THEN 1 \\ ELSE -1 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+ nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Name, \\ CASE $$.player.age > 35 \\ WHEN true THEN \"Yes\" \\ WHEN false THEN \"No\" \\ ELSE \"Nah\" \\ END \\ AS Age_above_35; +---------------------+--------------+ | Name | Age_above_35 | +---------------------+--------------+ | \"Tony Parker\" | \"Yes\" | +---------------------+--------------+ | \"LaMarcus Aldridge\" | \"No\" | +---------------------+--------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_4","text":"","title":"\u901a\u7528\u5f62\u5f0f"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_5","text":"CASE WHEN <condition> THEN <result> [WHEN ...] [ELSE <default>] END \u53c2\u6570 \u8bf4\u660e condition \u5982\u679c\u6761\u4ef6 condition \u4e3atrue\uff0c\u8868\u793a\u6ee1\u8db3\u6b64\u6761\u4ef6\u3002 result condition \u4e3atrue\uff0c\u5219\u8fd4\u56de\u6b64 result \u3002 default \u5982\u679c\u6ca1\u6709\u6761\u4ef6\u5339\u914d\uff0c\u5219\u8fd4\u56de\u8be5 default \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_6","text":"nebula> YIELD \\ CASE WHEN 4 > 5 THEN 0 \\ WHEN 3+4==7 THEN 1 \\ ELSE 2 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+ nebula> MATCH (v:player) WHERE v.age > 30 \\ RETURN v.name AS Name, \\ CASE \\ WHEN v.name STARTS WITH \"T\" THEN \"Yes\" \\ ELSE \"No\" \\ END \\ AS Starts_with_T; +---------------------+---------------+ | Name | Starts_with_T | +---------------------+---------------+ | \"Tim\" | \"Yes\" | +---------------------+---------------+ | \"LaMarcus Aldridge\" | \"No\" | +---------------------+---------------+ | \"Tony Parker\" | \"Yes\" | +---------------------+---------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/5.case-expressions/#_7","text":"\u4e3a\u4e86\u907f\u514d\u8bef\u7528\u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\uff0c\u60a8\u9700\u8981\u4e86\u89e3\u5b83\u4eec\u7684\u5dee\u5f02\u3002\u8bf7\u53c2\u89c1\u5982\u4e0b\u793a\u4f8b\uff1a nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Name, $$.player.age AS Age, \\ CASE $$.player.age \\ WHEN $$.player.age > 35 THEN \"Yes\" \\ ELSE \"No\" \\ END \\ AS Age_above_35; +---------------------+-----+--------------+ | Name | Age | Age_above_35 | +---------------------+-----+--------------+ | \"Tony Parker\" | 36 | \"No\" | +---------------------+-----+--------------+ | \"LaMarcus Aldridge\" | 33 | \"No\" | +---------------------+-----+--------------+ \u793a\u4f8b\u672c\u610f\u4e3a\u5f53\u73a9\u5bb6\u5e74\u9f84\u5927\u4e8e35\u65f6\u8f93\u51fa Yes \u3002\u4f46\u662f\u67e5\u770b\u8f93\u51fa\u7ed3\u679c\uff0c\u5e74\u9f84\u4e3a36\u65f6\u8f93\u51fa\u7684\u5374\u662f No \u3002 \u8fd9\u662f\u56e0\u4e3a\u67e5\u8be2\u4f7f\u7528\u4e86\u7b80\u5355\u5f62\u5f0f\u7684 CASE \u8868\u8fbe\u5f0f\uff0c\u6bd4\u8f83\u5bf9\u8c61\u662f $$.player.age \u548c $$.player.age > 35 \u3002\u5f53\u5e74\u9f84\u4e3a36\u65f6\uff1a $$.player.age \u7684\u503c\u4e3a 36 \uff0c\u6570\u636e\u7c7b\u578b\u4e3aint\u3002 $$.player.age > 35 \u7684\u503c\u4e3a true \uff0c\u6570\u636e\u7c7b\u578b\u4e3aboolean\u3002 \u8fd9\u4e24\u79cd\u6570\u636e\u7c7b\u578b\u65e0\u6cd5\u5339\u914d\uff0c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u56e0\u6b64\u8fd4\u56de No \u3002","title":"\u7b80\u5355\u5f62\u5f0f\u548c\u901a\u7528\u5f62\u5f0f\u7684\u533a\u522b"},{"location":"3.ngql-guide/6.functions-and-expressions/6.list/","text":"\u5217\u8868\u51fd\u6570 \u00b6 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5217\u8868\uff08List\uff09\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e keys(expr) \u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u5305\u542b\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u70b9\u3001\u8fb9\u6216\u6620\u5c04\u7684\u6240\u6709\u5c5e\u6027\u3002 labels(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u5217\u8868\u3002 nodes(path) \u8fd4\u56de\u8def\u5f84\u4e2d\u6240\u6709\u70b9\u7684\u5217\u8868\u3002 range(start, end [, step]) \u8fd4\u56de [start,end] \u8303\u56f4\u5185\u56fa\u5b9a\u6b65\u957f\u7684\u5217\u8868\uff0c\u9ed8\u8ba4\u6b65\u957f step \u4e3a1\u3002 relationships(path) \u8fd4\u56de\u8def\u5f84\u4e2d\u6240\u6709\u5173\u7cfb\u7684\u5217\u8868\u3002 reverse(list) \u8fd4\u56de\u5c06\u539f\u5217\u8868\u9006\u5e8f\u6392\u5217\u7684\u65b0\u5217\u8868\u3002 tail(list) \u8fd4\u56de\u4e0d\u5305\u542b\u539f\u5217\u8868\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u65b0\u5217\u8868. head(list) \u8fd4\u56de\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 last(list) \u8fd4\u56de\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 coalesce(list) \u8fd4\u56de\u5217\u8868\u4e2d\u7b2c\u4e00\u4e2a\u975e\u7a7a\u5143\u7d20\u3002 reduce() \u8bf7\u53c2\u89c1 reduce\u51fd\u6570 \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002 \u793a\u4f8b \u00b6 nebula> WITH [NULL, 4923, 'abc', 521, 487] AS ids \\ RETURN reverse(ids), tail(ids), head(ids), last(ids), coalesce(ids); +-----------------------------------+-------------------------+-----------+-----------+---------------+ | reverse(ids) | tail(ids) | head(ids) | last(ids) | coalesce(ids) | +-----------------------------------+-------------------------+-----------+-----------+---------------+ | [487, 521, \"abc\", 4923, __NULL__] | [4923, \"abc\", 521, 487] | __NULL__ | 487 | 4923 | +-----------------------------------+-------------------------+-----------+-----------+---------------+ nebula> MATCH (a:player)-[r]->() \\ WHERE id(a) == \"player100\" \\ RETURN labels(a), keys(r); +------------+----------------------------+ | labels(a) | keys(r) | +------------+----------------------------+ | [\"player\"] | [\"degree\"] | +------------+----------------------------+ | [\"player\"] | [\"degree\"] | +------------+----------------------------+ | [\"player\"] | [\"end_year\", \"start_year\"] | +------------+----------------------------+ nebula> MATCH p = (a:player)-[]->(b)-[]->(c:team) \\ WHERE a.name == \"Tim Duncan\" AND c.name == \"Spurs\" \\ RETURN nodes(p); +-----------------------------------------------------------------------------------------------------------------------------------------------+ | nodes(p) | +-----------------------------------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{age: 36, name: \"Tony Parker\"}), (\"team204\" :team{name: \"Spurs\"})] | +-----------------------------------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}), (\"team204\" :team{name: \"Spurs\"})] | +-----------------------------------------------------------------------------------------------------------------------------------------------+ nebula> MATCH p = (a:player)-[]->(b)-[]->(c:team) WHERE a.name == \"Tim Duncan\" AND c.name == \"Spurs\" RETURN relationships(p) +-----------------------------------------------------------------------------------------------------------------------------+ | relationships(p) | +-----------------------------------------------------------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player101\" @0 {degree: 95}], [:serve \"player101\"->\"team204\" @0 {end_year: 2018, start_year: 1999}]] | +-----------------------------------------------------------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player125\" @0 {degree: 95}], [:serve \"player125\"->\"team204\" @0 {end_year: 2018, start_year: 2002}]] | +-----------------------------------------------------------------------------------------------------------------------------+","title":"\u5217\u8868\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/6.list/#_1","text":"Nebula Graph\u652f\u6301\u4ee5\u4e0b\u5217\u8868\uff08List\uff09\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e keys(expr) \u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u5305\u542b\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u70b9\u3001\u8fb9\u6216\u6620\u5c04\u7684\u6240\u6709\u5c5e\u6027\u3002 labels(vertex) \u8fd4\u56de\u70b9\u7684\u6807\u7b7e\u5217\u8868\u3002 nodes(path) \u8fd4\u56de\u8def\u5f84\u4e2d\u6240\u6709\u70b9\u7684\u5217\u8868\u3002 range(start, end [, step]) \u8fd4\u56de [start,end] \u8303\u56f4\u5185\u56fa\u5b9a\u6b65\u957f\u7684\u5217\u8868\uff0c\u9ed8\u8ba4\u6b65\u957f step \u4e3a1\u3002 relationships(path) \u8fd4\u56de\u8def\u5f84\u4e2d\u6240\u6709\u5173\u7cfb\u7684\u5217\u8868\u3002 reverse(list) \u8fd4\u56de\u5c06\u539f\u5217\u8868\u9006\u5e8f\u6392\u5217\u7684\u65b0\u5217\u8868\u3002 tail(list) \u8fd4\u56de\u4e0d\u5305\u542b\u539f\u5217\u8868\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u65b0\u5217\u8868. head(list) \u8fd4\u56de\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 last(list) \u8fd4\u56de\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 coalesce(list) \u8fd4\u56de\u5217\u8868\u4e2d\u7b2c\u4e00\u4e2a\u975e\u7a7a\u5143\u7d20\u3002 reduce() \u8bf7\u53c2\u89c1 reduce\u51fd\u6570 \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u53c2\u6570\u4e3a NULL \uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\u3002","title":"\u5217\u8868\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/6.list/#_2","text":"nebula> WITH [NULL, 4923, 'abc', 521, 487] AS ids \\ RETURN reverse(ids), tail(ids), head(ids), last(ids), coalesce(ids); +-----------------------------------+-------------------------+-----------+-----------+---------------+ | reverse(ids) | tail(ids) | head(ids) | last(ids) | coalesce(ids) | +-----------------------------------+-------------------------+-----------+-----------+---------------+ | [487, 521, \"abc\", 4923, __NULL__] | [4923, \"abc\", 521, 487] | __NULL__ | 487 | 4923 | +-----------------------------------+-------------------------+-----------+-----------+---------------+ nebula> MATCH (a:player)-[r]->() \\ WHERE id(a) == \"player100\" \\ RETURN labels(a), keys(r); +------------+----------------------------+ | labels(a) | keys(r) | +------------+----------------------------+ | [\"player\"] | [\"degree\"] | +------------+----------------------------+ | [\"player\"] | [\"degree\"] | +------------+----------------------------+ | [\"player\"] | [\"end_year\", \"start_year\"] | +------------+----------------------------+ nebula> MATCH p = (a:player)-[]->(b)-[]->(c:team) \\ WHERE a.name == \"Tim Duncan\" AND c.name == \"Spurs\" \\ RETURN nodes(p); +-----------------------------------------------------------------------------------------------------------------------------------------------+ | nodes(p) | +-----------------------------------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{age: 36, name: \"Tony Parker\"}), (\"team204\" :team{name: \"Spurs\"})] | +-----------------------------------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}), (\"team204\" :team{name: \"Spurs\"})] | +-----------------------------------------------------------------------------------------------------------------------------------------------+ nebula> MATCH p = (a:player)-[]->(b)-[]->(c:team) WHERE a.name == \"Tim Duncan\" AND c.name == \"Spurs\" RETURN relationships(p) +-----------------------------------------------------------------------------------------------------------------------------+ | relationships(p) | +-----------------------------------------------------------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player101\" @0 {degree: 95}], [:serve \"player101\"->\"team204\" @0 {end_year: 2018, start_year: 1999}]] | +-----------------------------------------------------------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player125\" @0 {degree: 95}], [:serve \"player125\"->\"team204\" @0 {end_year: 2018, start_year: 2002}]] | +-----------------------------------------------------------------------------------------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/7.count/","text":"count\u51fd\u6570 \u00b6 count() \u51fd\u6570\u53ef\u4ee5\u8ba1\u6570\u6307\u5b9a\u7684\u503c\u6216\u884c\u6570\u3002 \uff08nGQL\u6269\u5c55\uff09\u60a8\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 count() \u548c GROUP BY \u5bf9\u6307\u5b9a\u7684\u503c\u8fdb\u884c\u5206\u7ec4\u548c\u8ba1\u6570\uff0c\u518d\u4f7f\u7528 YIELD \u8fd4\u56de\u7ed3\u679c\u3002 \uff08openCypher\u65b9\u5f0f\uff09\u60a8\u53ef\u4ee5\u4f7f\u7528 count() \u5bf9\u6307\u5b9a\u7684\u503c\u8fdb\u884c\u8ba1\u6570\uff0c\u518d\u4f7f\u7528 RETURN \u8fd4\u56de\u7ed3\u679c\u3002\u4e0d\u9700\u8981\u4f7f\u7528 GROUP BY \u3002 \u8bed\u6cd5 \u00b6 count({expr | *}) count(*)\u8fd4\u56de\u603b\u884c\u6570\uff08\u5305\u62ecNULL\uff09\u3002 count(expr)\u8fd4\u56de\u6ee1\u8db3\u8868\u8fbe\u5f0f\u7684\u975e\u7a7a\u503c\u7684\u603b\u6570\u3002 count() \u548c size() \u662f\u4e0d\u540c\u7684\u3002 \u793a\u4f8b \u00b6 nebula> WITH [NULL, 1, 1, 2, 2] As a UNWIND a AS b \\ RETURN count(b), count(*), count(DISTINCT b); +----------+----------+-------------------+ | COUNT(b) | COUNT(*) | COUNT(distinct b) | +----------+----------+-------------------+ | 4 | 5 | 2 | +----------+----------+-------------------+ # \u8fd4\u56deplayer101 follow\u7684\u4eba\uff0c\u4ee5\u53cafollow player101\u7684\u4eba\uff0c\u5373\u53cc\u5411\u67e5\u8be2\u3002 nebula> GO FROM \"player101\" OVER follow BIDIRECT \\ YIELD $$.player.name AS Name \\ | GROUP BY $-.Name YIELD $-.Name, count(*); +---------------------+----------+ | $-.Name | COUNT(*) | +---------------------+----------+ | \"Dejounte Murray\" | 1 | +---------------------+----------+ | \"LaMarcus Aldridge\" | 2 | +---------------------+----------+ | \"Tim Duncan\" | 2 | +---------------------+----------+ | \"Marco Belinelli\" | 1 | +---------------------+----------+ | \"Manu Ginobili\" | 1 | +---------------------+----------+ | \"Boris Diaw\" | 1 | +---------------------+----------+ \u4e0a\u8ff0\u793a\u4f8b\u7684\u8fd4\u56de\u7ed3\u679c\u6709\u4e24\u5217\uff1a $-.Name \uff1a\u67e5\u8be2\u7ed3\u679c\u5305\u542b\u7684\u59d3\u540d\u3002 COUNT(*) \uff1a\u59d3\u540d\u51fa\u73b0\u7684\u6b21\u6570\u3002 \u56e0\u4e3a\u6d4b\u8bd5\u6570\u636e\u5e93 basketballplayer \u4e2d\u6ca1\u6709\u91cd\u590d\u7684\u59d3\u540d\uff0c COUNT(*) \u5217\u4e2d\u6570\u5b57 2 \u8868\u793a\u8be5\u884c\u7684\u4eba\u548c player101 \u662f\u4e92\u76f8 follow \u7684\u5173\u7cfb\u3002 # \u65b9\u6cd5\u4e00\uff1a\u7edf\u8ba1\u6570\u636e\u5e93\u4e2d\u7684\u5e74\u9f84\u5206\u5e03\u60c5\u51b5\u3002 nebula> LOOKUP ON player \\ YIELD player.age As playerage \\ | GROUP BY $-.playerage \\ YIELD $-.playerage as age, count(*) AS number \\ | ORDER BY number DESC, age DESC; +-----+--------+ | age | number | +-----+--------+ | 34 | 4 | +-----+--------+ | 33 | 4 | +-----+--------+ | 30 | 4 | +-----+--------+ | 29 | 4 | +-----+--------+ | 38 | 3 | +-----+--------+ ... # \u65b9\u6cd5\u4e8c\uff1a\u7edf\u8ba1\u6570\u636e\u5e93\u4e2d\u7684\u5e74\u9f84\u5206\u5e03\u60c5\u51b5\u3002 nebula> MATCH (n:player) \\ RETURN n.age as age, count(*) as number \\ ORDER BY number DESC, age DESC; +-----+--------+ | age | number | +-----+--------+ | 34 | 4 | +-----+--------+ | 33 | 4 | +-----+--------+ | 30 | 4 | +-----+--------+ | 29 | 4 | +-----+--------+ | 38 | 3 | +-----+--------+ ... # \u7edf\u8ba1Tim Duncan\u5173\u8054\u7684\u8fb9\u6570\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) -- (v2) \\ RETURN count(DISTINCT v2); +--------------------+ | COUNT(distinct v2) | +--------------------+ | 11 | +--------------------+ # \u591a\u8df3\u67e5\u8be2\uff0c\u7edf\u8ba1Tim Duncan\u5173\u8054\u7684\u8fb9\u6570\uff0c\u8fd4\u56de\u4e24\u5217\uff08\u4e0d\u53bb\u91cd\u548c\u53bb\u91cd\uff09\u3002 nebula> MATCH (n:player {name : \"Tim Duncan\"})-[]->(friend:player)-[]->(fof:player) \\ RETURN count(fof), count(DISTINCT fof); +------------+---------------------+ | COUNT(fof) | COUNT(distinct fof) | +------------+---------------------+ | 4 | 3 | +------------+---------------------+","title":"count\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/7.count/#count","text":"count() \u51fd\u6570\u53ef\u4ee5\u8ba1\u6570\u6307\u5b9a\u7684\u503c\u6216\u884c\u6570\u3002 \uff08nGQL\u6269\u5c55\uff09\u60a8\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 count() \u548c GROUP BY \u5bf9\u6307\u5b9a\u7684\u503c\u8fdb\u884c\u5206\u7ec4\u548c\u8ba1\u6570\uff0c\u518d\u4f7f\u7528 YIELD \u8fd4\u56de\u7ed3\u679c\u3002 \uff08openCypher\u65b9\u5f0f\uff09\u60a8\u53ef\u4ee5\u4f7f\u7528 count() \u5bf9\u6307\u5b9a\u7684\u503c\u8fdb\u884c\u8ba1\u6570\uff0c\u518d\u4f7f\u7528 RETURN \u8fd4\u56de\u7ed3\u679c\u3002\u4e0d\u9700\u8981\u4f7f\u7528 GROUP BY \u3002","title":"count\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/7.count/#_1","text":"count({expr | *}) count(*)\u8fd4\u56de\u603b\u884c\u6570\uff08\u5305\u62ecNULL\uff09\u3002 count(expr)\u8fd4\u56de\u6ee1\u8db3\u8868\u8fbe\u5f0f\u7684\u975e\u7a7a\u503c\u7684\u603b\u6570\u3002 count() \u548c size() \u662f\u4e0d\u540c\u7684\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/6.functions-and-expressions/7.count/#_2","text":"nebula> WITH [NULL, 1, 1, 2, 2] As a UNWIND a AS b \\ RETURN count(b), count(*), count(DISTINCT b); +----------+----------+-------------------+ | COUNT(b) | COUNT(*) | COUNT(distinct b) | +----------+----------+-------------------+ | 4 | 5 | 2 | +----------+----------+-------------------+ # \u8fd4\u56deplayer101 follow\u7684\u4eba\uff0c\u4ee5\u53cafollow player101\u7684\u4eba\uff0c\u5373\u53cc\u5411\u67e5\u8be2\u3002 nebula> GO FROM \"player101\" OVER follow BIDIRECT \\ YIELD $$.player.name AS Name \\ | GROUP BY $-.Name YIELD $-.Name, count(*); +---------------------+----------+ | $-.Name | COUNT(*) | +---------------------+----------+ | \"Dejounte Murray\" | 1 | +---------------------+----------+ | \"LaMarcus Aldridge\" | 2 | +---------------------+----------+ | \"Tim Duncan\" | 2 | +---------------------+----------+ | \"Marco Belinelli\" | 1 | +---------------------+----------+ | \"Manu Ginobili\" | 1 | +---------------------+----------+ | \"Boris Diaw\" | 1 | +---------------------+----------+ \u4e0a\u8ff0\u793a\u4f8b\u7684\u8fd4\u56de\u7ed3\u679c\u6709\u4e24\u5217\uff1a $-.Name \uff1a\u67e5\u8be2\u7ed3\u679c\u5305\u542b\u7684\u59d3\u540d\u3002 COUNT(*) \uff1a\u59d3\u540d\u51fa\u73b0\u7684\u6b21\u6570\u3002 \u56e0\u4e3a\u6d4b\u8bd5\u6570\u636e\u5e93 basketballplayer \u4e2d\u6ca1\u6709\u91cd\u590d\u7684\u59d3\u540d\uff0c COUNT(*) \u5217\u4e2d\u6570\u5b57 2 \u8868\u793a\u8be5\u884c\u7684\u4eba\u548c player101 \u662f\u4e92\u76f8 follow \u7684\u5173\u7cfb\u3002 # \u65b9\u6cd5\u4e00\uff1a\u7edf\u8ba1\u6570\u636e\u5e93\u4e2d\u7684\u5e74\u9f84\u5206\u5e03\u60c5\u51b5\u3002 nebula> LOOKUP ON player \\ YIELD player.age As playerage \\ | GROUP BY $-.playerage \\ YIELD $-.playerage as age, count(*) AS number \\ | ORDER BY number DESC, age DESC; +-----+--------+ | age | number | +-----+--------+ | 34 | 4 | +-----+--------+ | 33 | 4 | +-----+--------+ | 30 | 4 | +-----+--------+ | 29 | 4 | +-----+--------+ | 38 | 3 | +-----+--------+ ... # \u65b9\u6cd5\u4e8c\uff1a\u7edf\u8ba1\u6570\u636e\u5e93\u4e2d\u7684\u5e74\u9f84\u5206\u5e03\u60c5\u51b5\u3002 nebula> MATCH (n:player) \\ RETURN n.age as age, count(*) as number \\ ORDER BY number DESC, age DESC; +-----+--------+ | age | number | +-----+--------+ | 34 | 4 | +-----+--------+ | 33 | 4 | +-----+--------+ | 30 | 4 | +-----+--------+ | 29 | 4 | +-----+--------+ | 38 | 3 | +-----+--------+ ... # \u7edf\u8ba1Tim Duncan\u5173\u8054\u7684\u8fb9\u6570\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) -- (v2) \\ RETURN count(DISTINCT v2); +--------------------+ | COUNT(distinct v2) | +--------------------+ | 11 | +--------------------+ # \u591a\u8df3\u67e5\u8be2\uff0c\u7edf\u8ba1Tim Duncan\u5173\u8054\u7684\u8fb9\u6570\uff0c\u8fd4\u56de\u4e24\u5217\uff08\u4e0d\u53bb\u91cd\u548c\u53bb\u91cd\uff09\u3002 nebula> MATCH (n:player {name : \"Tim Duncan\"})-[]->(friend:player)-[]->(fof:player) \\ RETURN count(fof), count(DISTINCT fof); +------------+---------------------+ | COUNT(fof) | COUNT(distinct fof) | +------------+---------------------+ | 4 | 3 | +------------+---------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/8.predicate/","text":"\u8c13\u8bcd\u51fd\u6570 \u00b6 \u8c13\u8bcd\u51fd\u6570\u53ea\u8fd4\u56de true \u6216 false \uff0c\u901a\u5e38\u7528\u4e8e WHERE \u5b50\u53e5\u4e2d\u3002 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u8c13\u8bcd\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e exists() \u5982\u679c\u6307\u5b9a\u7684\u5c5e\u6027\u5728\u70b9\u3001\u8fb9\u6216\u6620\u5c04\u4e2d\u5b58\u5728\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 any() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u81f3\u5c11\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 all() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 none() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u4e0d\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 single() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u552f\u4e00\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 \u8bf4\u660e \uff1a \u5982\u679c\u5217\u8868\u4e3a\u7a7a\uff0c\u6216\u8005\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\u90fd\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56deNULL\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u5728openCypher\u4e2d\uff0c\u53ea\u5b9a\u4e49\u4e86\u51fd\u6570 exists() \uff0c\u5176\u4ed6\u51fd\u6570\u4f9d\u8d56\u5de5\u5177\u5b9e\u73b0\u3002 \u8bed\u6cd5 \u00b6 <predicate>(<variable> IN <list> WHERE <condition>) \u793a\u4f8b \u00b6 nebula> RETURN any(n IN [1, 2, 3, 4, 5, NULL] \\ WHERE n > 2) AS r; +------+ | r | +------+ | true | +------+ nebula> RETURN single(n IN range(1, 5) \\ WHERE n == 3) AS r; +------+ | r | +------+ | true | +------+ nebula> RETURN none(n IN range(1, 3) \\ WHERE n == 0) AS r; +------+ | r | +------+ | true | +------+ nebula> WITH [1, 2, 3, 4, 5, NULL] AS a \\ RETURN any(n IN a WHERE n > 2); +-------------------------+ | any(n IN a WHERE (n>2)) | +-------------------------+ | true | +-------------------------+ nebula> MATCH p = (n:player{name:\"LeBron James\"})<-[:follow]-(m) \\ RETURN nodes(p)[0].name AS n1, nodes(p)[1].name AS n2, \\ all(n IN nodes(p) WHERE n.name NOT STARTS WITH \"D\") AS b; +----------------+-------------------+-------+ | n1 | n2 | b | +----------------+-------------------+-------+ | \"LeBron James\" | \"Danny Green\" | false | +----------------+-------------------+-------+ | \"LeBron James\" | \"Dejounte Murray\" | false | +----------------+-------------------+-------+ | \"LeBron James\" | \"Chris Paul\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Kyrie Irving\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Carmelo Anthony\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Dwyane Wade\" | false | +----------------+-------------------+-------+ nebula> MATCH p = (n:player{name:\"LeBron James\"})-[:follow]->(m) \\ RETURN single(n IN nodes(p) WHERE n.age > 40) AS b; +------+ | b | +------+ | true | +------+ nebula> MATCH (n:player) \\ RETURN exists(n.id), n IS NOT NULL; +--------------+---------------+ | exists(n.id) | n IS NOT NULL | +--------------+---------------+ | false | true | +--------------+---------------+ ...","title":"\u8c13\u8bcd\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/8.predicate/#_1","text":"\u8c13\u8bcd\u51fd\u6570\u53ea\u8fd4\u56de true \u6216 false \uff0c\u901a\u5e38\u7528\u4e8e WHERE \u5b50\u53e5\u4e2d\u3002 Nebula Graph\u652f\u6301\u4ee5\u4e0b\u8c13\u8bcd\u51fd\u6570\u3002 \u51fd\u6570 \u8bf4\u660e exists() \u5982\u679c\u6307\u5b9a\u7684\u5c5e\u6027\u5728\u70b9\u3001\u8fb9\u6216\u6620\u5c04\u4e2d\u5b58\u5728\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 any() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u81f3\u5c11\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 all() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 none() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u4e0d\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 single() \u5982\u679c\u6307\u5b9a\u7684\u8c13\u8bcd\u9002\u7528\u4e8e\u5217\u8868\u4e2d\u7684\u552f\u4e00\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 \u8bf4\u660e \uff1a \u5982\u679c\u5217\u8868\u4e3a\u7a7a\uff0c\u6216\u8005\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\u90fd\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56deNULL\u3002","title":"\u8c13\u8bcd\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/8.predicate/#opencypher","text":"\u5728openCypher\u4e2d\uff0c\u53ea\u5b9a\u4e49\u4e86\u51fd\u6570 exists() \uff0c\u5176\u4ed6\u51fd\u6570\u4f9d\u8d56\u5de5\u5177\u5b9e\u73b0\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/6.functions-and-expressions/8.predicate/#_2","text":"<predicate>(<variable> IN <list> WHERE <condition>)","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/6.functions-and-expressions/8.predicate/#_3","text":"nebula> RETURN any(n IN [1, 2, 3, 4, 5, NULL] \\ WHERE n > 2) AS r; +------+ | r | +------+ | true | +------+ nebula> RETURN single(n IN range(1, 5) \\ WHERE n == 3) AS r; +------+ | r | +------+ | true | +------+ nebula> RETURN none(n IN range(1, 3) \\ WHERE n == 0) AS r; +------+ | r | +------+ | true | +------+ nebula> WITH [1, 2, 3, 4, 5, NULL] AS a \\ RETURN any(n IN a WHERE n > 2); +-------------------------+ | any(n IN a WHERE (n>2)) | +-------------------------+ | true | +-------------------------+ nebula> MATCH p = (n:player{name:\"LeBron James\"})<-[:follow]-(m) \\ RETURN nodes(p)[0].name AS n1, nodes(p)[1].name AS n2, \\ all(n IN nodes(p) WHERE n.name NOT STARTS WITH \"D\") AS b; +----------------+-------------------+-------+ | n1 | n2 | b | +----------------+-------------------+-------+ | \"LeBron James\" | \"Danny Green\" | false | +----------------+-------------------+-------+ | \"LeBron James\" | \"Dejounte Murray\" | false | +----------------+-------------------+-------+ | \"LeBron James\" | \"Chris Paul\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Kyrie Irving\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Carmelo Anthony\" | true | +----------------+-------------------+-------+ | \"LeBron James\" | \"Dwyane Wade\" | false | +----------------+-------------------+-------+ nebula> MATCH p = (n:player{name:\"LeBron James\"})-[:follow]->(m) \\ RETURN single(n IN nodes(p) WHERE n.age > 40) AS b; +------+ | b | +------+ | true | +------+ nebula> MATCH (n:player) \\ RETURN exists(n.id), n IS NOT NULL; +--------------+---------------+ | exists(n.id) | n IS NOT NULL | +--------------+---------------+ | false | true | +--------------+---------------+ ...","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/6.functions-and-expressions/9.user-defined-functions/","text":"\u81ea\u5b9a\u4e49\u51fd\u6570 \u00b6 openCypher\u517c\u5bb9\u6027 \u00b6 Nebula Graph 2.x\u6682\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u4e5f\u6ca1\u6709\u76f8\u5e94\u8ba1\u5212\u3002","title":"\u81ea\u5b9a\u4e49\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/9.user-defined-functions/#_1","text":"","title":"\u81ea\u5b9a\u4e49\u51fd\u6570"},{"location":"3.ngql-guide/6.functions-and-expressions/9.user-defined-functions/#opencypher","text":"Nebula Graph 2.x\u6682\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u4e5f\u6ca1\u6709\u76f8\u5e94\u8ba1\u5212\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/","text":"MATCH \u00b6 MATCH \u8bed\u53e5\u63d0\u4f9b\u57fa\u4e8e\u6a21\u5f0f\uff08pattern\uff09\u5339\u914d\u7684\u641c\u7d22\u529f\u80fd\u3002 \u4e00\u4e2a MATCH \u8bed\u53e5\u5b9a\u4e49\u4e86\u4e00\u4e2a \u641c\u7d22\u6a21\u5f0f \uff0c\u7528\u8be5\u6a21\u5f0f\u5339\u914d\u5b58\u50a8\u5728Nebula Graph\u4e2d\u7684\u6570\u636e\uff0c\u7136\u540e\u7528 RETURN \u5b50\u53e5\u68c0\u7d22\u6570\u636e\u3002 \u672c\u6587\u793a\u4f8b\u4f7f\u7528\u6d4b\u8bd5\u6570\u636e\u5e93 basketballplayer \u8fdb\u884c\u6f14\u793a\u3002 \u8bed\u6cd5 \u00b6 \u4e0e GO \u6216 LOOKUP \u7b49\u5176\u4ed6\u67e5\u8be2\u8bed\u53e5\u76f8\u6bd4\uff0c MATCH \u7684\u8bed\u6cd5\u66f4\u7075\u6d3b\u3002 MATCH \u8bed\u6cd5\u53ef\u4ee5\u6982\u62ec\u5982\u4e0b\uff1a MATCH <pattern> [<WHERE clause>] RETURN <output> MATCH\u5de5\u4f5c\u6d41\u7a0b \u00b6 MATCH \u8bed\u53e5\u4f7f\u7528\u539f\u751f\u7d22\u5f15\u67e5\u627e\u8d77\u59cb\u70b9\uff0c\u8d77\u59cb\u70b9\u53ef\u4ee5\u5728\u6a21\u5f0f\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u5373\u4e00\u4e2a\u6709\u6548\u7684 MATCH \u8bed\u53e5\uff0c \u5fc5\u987b\u6709\u4e00\u4e2a\u5c5e\u6027\u3001\u6807\u7b7e\u6216\u8005\u70b9\u5df2\u7ecf\u521b\u5efa\u7d22\u5f15 \u3002\u5982\u4f55\u521b\u5efa\u7d22\u5f15\uff0c\u8bf7\u53c2\u89c1 \u521b\u5efa\u539f\u751f\u7d22\u5f15 \u3002 MATCH \u8bed\u53e5\u5728\u6a21\u5f0f\u4e2d\u641c\u7d22\uff0c\u5bfb\u627e\u5339\u914d\u7684\u8fb9\u6216\u70b9\u3002 MATCH \u8bed\u53e5\u6839\u636e RETURN \u5b50\u53e5\u68c0\u7d22\u6570\u636e\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 nGQL\u6682\u4e0d\u652f\u6301\u904d\u5386\u6240\u6709\u70b9\u548c\u8fb9\uff0c\u4f8b\u5982 MATCH (v) RETURN v \u3002 \u4f7f\u7528\u6a21\u5f0f\uff08pattern\uff09 \u00b6 \u524d\u63d0\u6761\u4ef6 \u00b6 \u8bf7\u786e\u4fdd MATCH \u8bed\u53e5\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u60a8\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u70b9\u3001\u8fb9\u6216\u5c5e\u6027\uff0c\u60a8\u5fc5\u987b\u5728\u521b\u5efa\u7d22\u5f15\u540e\u91cd\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u624d\u80fd\u751f\u6548\u3002 \u8b66\u544a \uff1a\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 # \u5728\u5c5e\u6027name\u4e0a\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX name ON player(name(20)); # \u91cd\u5efa\u7d22\u5f15\u4f7f\u5176\u751f\u6548\u3002 nebula> REBUILD TAG INDEX name; +------------+ | New Job Id | +------------+ | 121 | +------------+ # \u786e\u8ba4\u91cd\u5efa\u7d22\u5f15\u6210\u529f\u3002 nebula> SHOW JOB 121; +----------------+---------------------+------------+------------+------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------------+------------+------------+------------+ | 121 | \"REBUILD_TAG_INDEX\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 0 | \"storaged2\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 1 | \"storaged0\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 2 | \"storaged1\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ \u5339\u914d\u70b9 \u00b6 \u60a8\u53ef\u4ee5\u5728\u4e00\u5bf9\u62ec\u53f7\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u6765\u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u70b9\u3002\u4f8b\u5982 (v) \u3002 \u5339\u914d\u6807\u7b7e \u00b6 \u8bf4\u660e \uff1a\u6807\u7b7e\u7684\u7d22\u5f15\u548c\u5c5e\u6027\u7684\u7d22\u5f15\u4e0d\u540c\u3002\u5982\u679c\u6807\u7b7e\u7684\u67d0\u4e2a\u5c5e\u6027\u6709\u7d22\u5f15\uff0c\u4f46\u662f\u6807\u7b7e\u672c\u8eab\u6ca1\u6709\u7d22\u5f15\uff0c\u60a8\u65e0\u6cd5\u57fa\u4e8e\u8be5\u6807\u7b7e\u6267\u884c MATCH \u8bed\u53e5\u3002 \u60a8\u53ef\u4ee5\u5728\u70b9\u7684\u53f3\u4fa7\u7528 :<tag_name> \u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u6807\u7b7e\u3002 nebula> MATCH (v:player) RETURN v; +---------------------------------------------------------------+ | v | +---------------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +---------------------------------------------------------------+ | (\"player106\" :player{age: 25, name: \"Kyle Anderson\"}) | +---------------------------------------------------------------+ | (\"player115\" :player{age: 40, name: \"Kobe Bryant\"}) | +---------------------------------------------------------------+ ... \u5339\u914d\u70b9\u7684\u5c5e\u6027 \u00b6 \u60a8\u53ef\u4ee5\u5728\u6807\u7b7e\u7684\u53f3\u4fa7\u7528 {<prop_name>: <prop_value>} \u8868\u793a\u6a21\u5f0f\u4e2d\u70b9\u7684\u5c5e\u6027\u3002 # \u4f7f\u7528\u5c5e\u6027name\u641c\u7d22\u5339\u914d\u7684\u70b9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ \u4f7f\u7528 WHERE \u5b50\u53e5\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u64cd\u4f5c\uff1a nebula> MATCH (v:player) WHERE v.name == \"Tim Duncan\" RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ openCypher\u517c\u5bb9\u6027 \uff1a\u5728openCypher 9\u4e2d\uff0c = \u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c\u5728nGQL\u4e2d\uff0c == \u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c = \u662f\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002 \u5339\u914d\u70b9ID \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528\u70b9ID\u53bb\u5339\u914d\u70b9\u3002 id() \u51fd\u6570\u53ef\u4ee5\u68c0\u7d22\u70b9\u7684ID\u3002 nebula> MATCH (v) WHERE id(v) == 'player101' RETURN v; +---------------------------------------------------+ | v | +---------------------------------------------------+ | (player101) player.name:Tony Parker,player.age:36 | +---------------------------------------------------+ \u8981\u5339\u914d\u591a\u4e2a\u70b9\u7684ID\uff0c\u53ef\u4ee5\u7528 WHERE id(v) IN [vid_list] \u3002 nebula> MATCH (v:player { name: 'Tim Duncan' })--(v2) \\ WHERE id(v2) IN [\"player101\", \"player102\"] RETURN v2; +-----------------------------------------------------------+ | v2 | +-----------------------------------------------------------+ | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +-----------------------------------------------------------+ \u5339\u914d\u8fde\u63a5\u7684\u70b9 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 -- \u7b26\u53f7\u8868\u793a\u4e24\u4e2a\u65b9\u5411\u7684\u8fb9\uff0c\u5e76\u5339\u914d\u8fd9\u4e9b\u8fb9\u8fde\u63a5\u7684\u70b9\u3002 \u8bf4\u660e \uff1a\u5728nGQL 1.x\u4e2d\uff0c -- \u7b26\u53f7\u7528\u4e8e\u884c\u5185\u6ce8\u91ca\uff0c\u5728nGQL 2.x\u4e2d\uff0c -- \u7b26\u53f7\u8868\u793a\u51fa\u8fb9\u6216\u5165\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})--(v2) \\ RETURN v2.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ | \"Marco Belinelli\" | +---------------------+ | \"Danny Green\" | +---------------------+ | \"Aron Baynes\" | +---------------------+ ... \u60a8\u53ef\u4ee5\u5728 -- \u7b26\u53f7\u4e0a\u589e\u52a0 < \u6216 > \u7b26\u53f7\u6307\u5b9a\u8fb9\u7684\u65b9\u5411\u3002 # -->\u8868\u793a\u8fb9\u4ecev\u5f00\u59cb\uff0c\u6307\u5411v2\u3002\u5bf9\u4e8e\u70b9v\u6765\u8bf4\u662f\u51fa\u8fb9\uff0c\u5bf9\u4e8e\u70b9v2\u6765\u8bf4\u662f\u5165\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->(v2) \\ RETURN v2.name AS Name; +-----------------+ | Name | +-----------------+ | \"Spurs\" | +-----------------+ | \"Tony Parker\" | +-----------------+ | \"Manu Ginobili\" | +-----------------+ \u5982\u679c\u9700\u8981\u6269\u5c55\u6a21\u5f0f\uff0c\u53ef\u4ee5\u589e\u52a0\u66f4\u591a\u70b9\u548c\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->(v2)<--(v3) \\ RETURN v3.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"Tiago Splitter\" | +---------------------+ | \"Dejounte Murray\" | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ ... \u5982\u679c\u60a8\u4e0d\u9700\u8981\u5f15\u7528\u70b9\uff0c\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\u4e2d\u8868\u793a\u70b9\u7684\u53d8\u91cf\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->()<--(v3) \\ RETURN v3.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ | \"Rudy Gay\" | +---------------------+ | \"Danny Green\" | +---------------------+ | \"Kyle Anderson\" | +---------------------+ ... \u5339\u914d\u8def\u5f84 \u00b6 \u8fde\u63a5\u8d77\u6765\u7684\u70b9\u548c\u8fb9\u6784\u6210\u4e86\u8def\u5f84\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u547d\u540d\u8def\u5f84\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-->(v2) \\ RETURN p; +-------------------------------------------+ | p | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})> | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:serve@0 {end_year: 2016, start_year: 1997}]->(\"team204\" :team{name: \"Spurs\"})> | +-------------------------------------------+ openCypher\u517c\u5bb9\u6027 \uff1a\u5728nGQL\u4e2d\uff0c @ \u7b26\u53f7\u8868\u793a\u8fb9\u7684rank\uff0c\u5728openCypher\u4e2d\uff0c\u6ca1\u6709rank\u6982\u5ff5\u3002 \u5339\u914d\u8fb9 \u00b6 \u9664\u4e86\u7528 -- \u3001 --> \u3001 <-- \u8868\u793a\u672a\u547d\u540d\u7684\u8fb9\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728\u65b9\u62ec\u53f7\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u547d\u540d\u8fb9\u3002\u4f8b\u5982 -[e]- \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]-(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player101\"->\"player100\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player102\"->\"player100\" @0 {degree: 75}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ ... \u5339\u914d\u8fb9\u7c7b\u578b\u548c\u5c5e\u6027 \u00b6 \u548c\u70b9\u4e00\u6837\uff0c\u60a8\u53ef\u4ee5\u7528 :<edge_type> \u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u8fb9\u7c7b\u578b\u3002\u4f8b\u5982 -[e:serve]- \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:serve]-(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ \u60a8\u53ef\u4ee5\u7528 {<prop_name>: <prop_value>} \u8868\u793a\u6a21\u5f0f\u4e2d\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002\u4f8b\u5982 [e:follow{likeness:95}] \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:follow{degree:95}]->(v2) \\ RETURN e; +--------------------------------------------------------+ | e | +--------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +--------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +--------------------------------------------------------+ \u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b \u00b6 \u4f7f\u7528 | \u53ef\u4ee5\u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002\u4f8b\u5982 [e:follow|:serve] \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:follow|:serve]->(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ \u5339\u914d\u591a\u6761\u8fb9 \u00b6 \u60a8\u53ef\u4ee5\u6269\u5c55\u6a21\u5f0f\uff0c\u5339\u914d\u8def\u5f84\u4e2d\u7684\u591a\u6761\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[]->(v2)<-[e:serve]-(v3) \\ RETURN v2, v3; +------------------------------------+-----------------------------------------------------------+ | v2 | v3 | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +------------------------------------+-----------------------------------------------------------+ ... \u5339\u914d\u5b9a\u957f\u8def\u5f84 \u00b6 \u60a8\u53ef\u4ee5\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 :<edge_type>*<hop> \u5339\u914d\u5b9a\u957f\u8def\u5f84\u3002 hop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*2]->(v2) \\ RETURN DISTINCT v2 AS Friends; +-----------------------------------------------------------+ | Friends | +-----------------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player125\" :player{name: \"Manu Ginobili\", age: 41}) | +-----------------------------------------------------------+ \u5982\u679c hop \u4e3a0\uff0c\u6a21\u5f0f\u4f1a\u5339\u914d\u8def\u5f84\u4e0a\u7684\u8d77\u59cb\u70b9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) -[*0]-> (v2) \\ RETURN v2; +----------------------------------------------------+ | v2 | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ \u5339\u914d\u53d8\u957f\u8def\u5f84 \u00b6 \u60a8\u53ef\u4ee5\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 :<edge_type>*[minHop]..<maxHop> \u5339\u914d\u53d8\u957f\u8def\u5f84\u3002 \u53c2\u6570 \u8bf4\u660e minHop \u53ef\u9009\u9879\u3002\u8868\u793a\u8def\u5f84\u7684\u6700\u5c0f\u957f\u5ea6\u3002 minHop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a1\u3002 maxHop \u5fc5\u9009\u9879\u3002\u8868\u793a\u8def\u5f84\u7684\u6700\u5927\u957f\u5ea6\u3002 maxHop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u6ca1\u6709\u9ed8\u8ba4\u503c\u3002 openCypher\u517c\u5bb9\u6027 \uff1a\u5728openCypher\u4e2d\uff0c maxHop \u662f\u53ef\u9009\u9879\uff0c\u9ed8\u8ba4\u4e3a\u65e0\u7a77\u5927\u3002\u5f53\u6ca1\u6709\u8bbe\u7f6e\u65f6\uff0c .. \u53ef\u4ee5\u7701\u7565\u3002\u5728nGQL\u4e2d\uff0c maxHop \u662f\u5fc5\u9009\u9879\uff0c\u800c\u4e14 .. \u4e0d\u53ef\u4ee5\u7701\u7565\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*1..3]->(v2) \\ RETURN v2 AS Friends; +-----------------------------------------------------------+ | Friends | +-----------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +-----------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +-----------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +-----------------------------------------------------------+ \u60a8\u53ef\u4ee5\u4f7f\u7528 DISTINCT \u5173\u952e\u5b57\u805a\u5408\u91cd\u590d\u7ed3\u679c\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*1..3]->(v2:player) \\ RETURN DISTINCT v2 AS Friends, count(v2); +-----------------------------------------------------------+-----------+ | Friends | COUNT(v2) | +-----------------------------------------------------------+-----------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | 1 | +-----------------------------------------------------------+-----------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | 4 | +-----------------------------------------------------------+-----------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | 3 | +-----------------------------------------------------------+-----------+ \u5982\u679c minHop \u4e3a 0 \uff0c\u6a21\u5f0f\u4f1a\u5339\u914d\u8def\u5f84\u4e0a\u7684\u8d77\u59cb\u70b9\u3002\u4e0e\u4e0a\u4e2a\u793a\u4f8b\u76f8\u6bd4\uff0c\u4e0b\u9762\u7684\u793a\u4f8b\u8bbe\u7f6e minHop \u4e3a 0 \uff0c\u56e0\u4e3a\u5b83\u662f\u8d77\u59cb\u70b9\uff0c\u6240\u4ee5\u7ed3\u679c\u96c6\u4e2d \"Tim Duncan\" \u6bd4\u4e0a\u4e2a\u793a\u4f8b\u591a\u8ba1\u7b97\u4e00\u6b21\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*0..3]->(v2:player) \\ RETURN DISTINCT v2 AS Friends, count(v2); +-----------------------------------------------------------+-----------+ | Friends | COUNT(v2) | +-----------------------------------------------------------+-----------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | 1 | +-----------------------------------------------------------+-----------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | 5 | +-----------------------------------------------------------+-----------+ \u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b\u7684\u53d8\u957f\u8def\u5f84 \u00b6 \u60a8\u53ef\u4ee5\u5728\u53d8\u957f\u6216\u5b9a\u957f\u6a21\u5f0f\u4e2d\u6307\u5b9a\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002 hop \u3001 minHop \u548c maxHop \u5bf9\u6240\u6709\u8fb9\u7c7b\u578b\u90fd\u751f\u6548\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow|serve*2]->(v2) \\ RETURN DISTINCT v2; +-----------------------------------------------------------+ | v2 | +-----------------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player125\" :player{name: \"Manu Ginobili\", age: 41}) | +-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | +-----------------------------------------------------------+ | (\"player215\" :team{name: \"Hornets\"}) | +-----------------------------------------------------------+ \u5e38\u7528\u68c0\u7d22\u64cd\u4f5c \u00b6 \u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u4fe1\u606f \u00b6 \u4f7f\u7528 RETURN {<vertex_name> | <edge_name>} \u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u4fe1\u606f\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ \u68c0\u7d22\u70b9ID \u00b6 \u4f7f\u7528 id() \u51fd\u6570\u68c0\u7d22\u70b9ID\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN id(v); +-------------+ | id(v) | +-------------+ | \"player100\" | +-------------+ \u68c0\u7d22\u6807\u7b7e \u00b6 \u4f7f\u7528 labels() \u51fd\u6570\u68c0\u7d22\u70b9\u4e0a\u7684\u6807\u7b7e\u5217\u8868\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN labels(v); +------------+ | labels(v) | +------------+ | [\"player\"] | +------------+ \u68c0\u7d22\u5217\u8868 labels(v) \u4e2d\u7684\u7b2cN\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528 labels(v)[n-1] \u3002\u4f8b\u5982\u4e0b\u9762\u793a\u4f8b\u4f7f\u7528 labels(v)[0] \u68c0\u7d22\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN labels(v)[0]; +--------------+ | labels(v)[0] | +--------------+ | \"player\" | +--------------+ \u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u5355\u4e2a\u5c5e\u6027 \u00b6 \u4f7f\u7528 RETURN {<vertex_name> | <edge_name>}.<property> \u68c0\u7d22\u5355\u4e2a\u5c5e\u6027\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v.age; +-------+ | v.age | +-------+ | 42 | +-------+ \u4f7f\u7528 AS \u8bbe\u7f6e\u5c5e\u6027\u7684\u522b\u540d\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v.age AS Age; +-----+ | Age | +-----+ | 42 | +-----+ \u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u5c5e\u6027 \u00b6 \u4f7f\u7528 properties() \u51fd\u6570\u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN properties(v2); +------------------------------------+ | properties(v2) | +------------------------------------+ | {\"name\":\"Spurs\"} | +------------------------------------+ | {\"name\":\"Tony Parker\", \"age\":36} | +------------------------------------+ | {\"age\":41, \"name\":\"Manu Ginobili\"} | +------------------------------------+ \u68c0\u7d22\u8fb9\u7c7b\u578b \u00b6 \u4f7f\u7528 type() \u51fd\u6570\u68c0\u7d22\u5339\u914d\u7684\u8fb9\u7c7b\u578b\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e]->() \\ RETURN DISTINCT type(e); +----------+ | type(e) | +----------+ | \"follow\" | +----------+ | \"serve\" | +----------+ \u68c0\u7d22\u8def\u5f84 \u00b6 \u4f7f\u7528 RETURN <path_name> \u68c0\u7d22\u5339\u914d\u8def\u5f84\u7684\u6240\u6709\u4fe1\u606f\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[*3]->() \\ RETURN p; +-------------------------------------------------------------------------------------------------+ | p | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:serve@0 {end_year: 2019, start_year: 2015}]->(\"team204\" :team{name: \"Spurs\"})> | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:serve@0 {end_year: 2015, start_year: 2006}]->(\"team203\" :team{name: \"Trail Blazers\"})> | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:follow@0 {degree: 75}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})> | +-------------------------------------------------------------------------------------------------+ ... \u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u70b9 \u00b6 \u4f7f\u7528 nodes() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u6240\u6709\u70b9\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN nodes(p); +---------------------------------------------------------------------------------------------------------------------+ | nodes(p) | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player204\" :team{name: \"Spurs\"})] | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{name: \"Tony Parker\", age: 36})] | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player125\" :player{name: \"Manu Ginobili\", age: 41})] | +---------------------------------------------------------------------------------------------------------------------+ \u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u8fb9 \u00b6 \u4f7f\u7528 relationships() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u6240\u6709\u8fb9\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN relationships(p); +-----------------------------------------------------------------------------+ | relationships(p) | +-----------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player101\" @0 {degree: 95}]] | +-----------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player125\" @0 {degree: 95}]] | +-----------------------------------------------------------------------------+ | [[:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}]] | +-----------------------------------------------------------------------------+ \u68c0\u7d22\u8def\u5f84\u957f\u5ea6 \u00b6 \u4f7f\u7528 length() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u7684\u957f\u5ea6\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[*..2]->(v2) \\ RETURN p AS Paths, length(p) AS Length; +----------------------------------------------------------------------+--------+ | Paths | Length | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})-[:serve@0 {end_year: 2018, start_year: 2002}]->(\"team204\" :team{name: \"Spurs\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})-[:follow@0 {degree: 90}]->(\"player100\" :player{age: 42, name: \"Tim Duncan\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:serve@0 {end_year: 2019, start_year: 2018}]->(\"team215\" :team{name: \"Hornets\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:serve@0 {end_year: 2018, start_year: 1999}]->(\"team204\" :team{name: \"Spurs\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 95}]->(\"player100\" :player{age: 42, name: \"Tim Duncan\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:serve@0 {end_year: 2016, start_year: 1997}]->(\"team204\" :team{name: \"Spurs\"})> | 1 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | 1 | +----------------------------------------------------------------------+--------+","title":"Match"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#match","text":"MATCH \u8bed\u53e5\u63d0\u4f9b\u57fa\u4e8e\u6a21\u5f0f\uff08pattern\uff09\u5339\u914d\u7684\u641c\u7d22\u529f\u80fd\u3002 \u4e00\u4e2a MATCH \u8bed\u53e5\u5b9a\u4e49\u4e86\u4e00\u4e2a \u641c\u7d22\u6a21\u5f0f \uff0c\u7528\u8be5\u6a21\u5f0f\u5339\u914d\u5b58\u50a8\u5728Nebula Graph\u4e2d\u7684\u6570\u636e\uff0c\u7136\u540e\u7528 RETURN \u5b50\u53e5\u68c0\u7d22\u6570\u636e\u3002 \u672c\u6587\u793a\u4f8b\u4f7f\u7528\u6d4b\u8bd5\u6570\u636e\u5e93 basketballplayer \u8fdb\u884c\u6f14\u793a\u3002","title":"MATCH"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_1","text":"\u4e0e GO \u6216 LOOKUP \u7b49\u5176\u4ed6\u67e5\u8be2\u8bed\u53e5\u76f8\u6bd4\uff0c MATCH \u7684\u8bed\u6cd5\u66f4\u7075\u6d3b\u3002 MATCH \u8bed\u6cd5\u53ef\u4ee5\u6982\u62ec\u5982\u4e0b\uff1a MATCH <pattern> [<WHERE clause>] RETURN <output>","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#match_1","text":"MATCH \u8bed\u53e5\u4f7f\u7528\u539f\u751f\u7d22\u5f15\u67e5\u627e\u8d77\u59cb\u70b9\uff0c\u8d77\u59cb\u70b9\u53ef\u4ee5\u5728\u6a21\u5f0f\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u5373\u4e00\u4e2a\u6709\u6548\u7684 MATCH \u8bed\u53e5\uff0c \u5fc5\u987b\u6709\u4e00\u4e2a\u5c5e\u6027\u3001\u6807\u7b7e\u6216\u8005\u70b9\u5df2\u7ecf\u521b\u5efa\u7d22\u5f15 \u3002\u5982\u4f55\u521b\u5efa\u7d22\u5f15\uff0c\u8bf7\u53c2\u89c1 \u521b\u5efa\u539f\u751f\u7d22\u5f15 \u3002 MATCH \u8bed\u53e5\u5728\u6a21\u5f0f\u4e2d\u641c\u7d22\uff0c\u5bfb\u627e\u5339\u914d\u7684\u8fb9\u6216\u70b9\u3002 MATCH \u8bed\u53e5\u6839\u636e RETURN \u5b50\u53e5\u68c0\u7d22\u6570\u636e\u3002","title":"MATCH\u5de5\u4f5c\u6d41\u7a0b"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#opencypher","text":"nGQL\u6682\u4e0d\u652f\u6301\u904d\u5386\u6240\u6709\u70b9\u548c\u8fb9\uff0c\u4f8b\u5982 MATCH (v) RETURN v \u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#pattern","text":"","title":"\u4f7f\u7528\u6a21\u5f0f\uff08pattern\uff09"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_2","text":"\u8bf7\u786e\u4fdd MATCH \u8bed\u53e5\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u60a8\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u70b9\u3001\u8fb9\u6216\u5c5e\u6027\uff0c\u60a8\u5fc5\u987b\u5728\u521b\u5efa\u7d22\u5f15\u540e\u91cd\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u624d\u80fd\u751f\u6548\u3002 \u8b66\u544a \uff1a\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7 \u4e0d\u8981\u968f\u610f \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 # \u5728\u5c5e\u6027name\u4e0a\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX name ON player(name(20)); # \u91cd\u5efa\u7d22\u5f15\u4f7f\u5176\u751f\u6548\u3002 nebula> REBUILD TAG INDEX name; +------------+ | New Job Id | +------------+ | 121 | +------------+ # \u786e\u8ba4\u91cd\u5efa\u7d22\u5f15\u6210\u529f\u3002 nebula> SHOW JOB 121; +----------------+---------------------+------------+------------+------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------------+------------+------------+------------+ | 121 | \"REBUILD_TAG_INDEX\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 0 | \"storaged2\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 1 | \"storaged0\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+ | 2 | \"storaged1\" | \"FINISHED\" | 1607073046 | 1607073046 | +----------------+---------------------+------------+------------+------------+","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_3","text":"\u60a8\u53ef\u4ee5\u5728\u4e00\u5bf9\u62ec\u53f7\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u6765\u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u70b9\u3002\u4f8b\u5982 (v) \u3002","title":"\u5339\u914d\u70b9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_4","text":"\u8bf4\u660e \uff1a\u6807\u7b7e\u7684\u7d22\u5f15\u548c\u5c5e\u6027\u7684\u7d22\u5f15\u4e0d\u540c\u3002\u5982\u679c\u6807\u7b7e\u7684\u67d0\u4e2a\u5c5e\u6027\u6709\u7d22\u5f15\uff0c\u4f46\u662f\u6807\u7b7e\u672c\u8eab\u6ca1\u6709\u7d22\u5f15\uff0c\u60a8\u65e0\u6cd5\u57fa\u4e8e\u8be5\u6807\u7b7e\u6267\u884c MATCH \u8bed\u53e5\u3002 \u60a8\u53ef\u4ee5\u5728\u70b9\u7684\u53f3\u4fa7\u7528 :<tag_name> \u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u6807\u7b7e\u3002 nebula> MATCH (v:player) RETURN v; +---------------------------------------------------------------+ | v | +---------------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +---------------------------------------------------------------+ | (\"player106\" :player{age: 25, name: \"Kyle Anderson\"}) | +---------------------------------------------------------------+ | (\"player115\" :player{age: 40, name: \"Kobe Bryant\"}) | +---------------------------------------------------------------+ ...","title":"\u5339\u914d\u6807\u7b7e"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_5","text":"\u60a8\u53ef\u4ee5\u5728\u6807\u7b7e\u7684\u53f3\u4fa7\u7528 {<prop_name>: <prop_value>} \u8868\u793a\u6a21\u5f0f\u4e2d\u70b9\u7684\u5c5e\u6027\u3002 # \u4f7f\u7528\u5c5e\u6027name\u641c\u7d22\u5339\u914d\u7684\u70b9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ \u4f7f\u7528 WHERE \u5b50\u53e5\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u64cd\u4f5c\uff1a nebula> MATCH (v:player) WHERE v.name == \"Tim Duncan\" RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ openCypher\u517c\u5bb9\u6027 \uff1a\u5728openCypher 9\u4e2d\uff0c = \u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c\u5728nGQL\u4e2d\uff0c == \u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c = \u662f\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002","title":"\u5339\u914d\u70b9\u7684\u5c5e\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#id","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528\u70b9ID\u53bb\u5339\u914d\u70b9\u3002 id() \u51fd\u6570\u53ef\u4ee5\u68c0\u7d22\u70b9\u7684ID\u3002 nebula> MATCH (v) WHERE id(v) == 'player101' RETURN v; +---------------------------------------------------+ | v | +---------------------------------------------------+ | (player101) player.name:Tony Parker,player.age:36 | +---------------------------------------------------+ \u8981\u5339\u914d\u591a\u4e2a\u70b9\u7684ID\uff0c\u53ef\u4ee5\u7528 WHERE id(v) IN [vid_list] \u3002 nebula> MATCH (v:player { name: 'Tim Duncan' })--(v2) \\ WHERE id(v2) IN [\"player101\", \"player102\"] RETURN v2; +-----------------------------------------------------------+ | v2 | +-----------------------------------------------------------+ | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +-----------------------------------------------------------+","title":"\u5339\u914d\u70b9ID"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_6","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 -- \u7b26\u53f7\u8868\u793a\u4e24\u4e2a\u65b9\u5411\u7684\u8fb9\uff0c\u5e76\u5339\u914d\u8fd9\u4e9b\u8fb9\u8fde\u63a5\u7684\u70b9\u3002 \u8bf4\u660e \uff1a\u5728nGQL 1.x\u4e2d\uff0c -- \u7b26\u53f7\u7528\u4e8e\u884c\u5185\u6ce8\u91ca\uff0c\u5728nGQL 2.x\u4e2d\uff0c -- \u7b26\u53f7\u8868\u793a\u51fa\u8fb9\u6216\u5165\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})--(v2) \\ RETURN v2.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ | \"Marco Belinelli\" | +---------------------+ | \"Danny Green\" | +---------------------+ | \"Aron Baynes\" | +---------------------+ ... \u60a8\u53ef\u4ee5\u5728 -- \u7b26\u53f7\u4e0a\u589e\u52a0 < \u6216 > \u7b26\u53f7\u6307\u5b9a\u8fb9\u7684\u65b9\u5411\u3002 # -->\u8868\u793a\u8fb9\u4ecev\u5f00\u59cb\uff0c\u6307\u5411v2\u3002\u5bf9\u4e8e\u70b9v\u6765\u8bf4\u662f\u51fa\u8fb9\uff0c\u5bf9\u4e8e\u70b9v2\u6765\u8bf4\u662f\u5165\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->(v2) \\ RETURN v2.name AS Name; +-----------------+ | Name | +-----------------+ | \"Spurs\" | +-----------------+ | \"Tony Parker\" | +-----------------+ | \"Manu Ginobili\" | +-----------------+ \u5982\u679c\u9700\u8981\u6269\u5c55\u6a21\u5f0f\uff0c\u53ef\u4ee5\u589e\u52a0\u66f4\u591a\u70b9\u548c\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->(v2)<--(v3) \\ RETURN v3.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"Tiago Splitter\" | +---------------------+ | \"Dejounte Murray\" | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ ... \u5982\u679c\u60a8\u4e0d\u9700\u8981\u5f15\u7528\u70b9\uff0c\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\u4e2d\u8868\u793a\u70b9\u7684\u53d8\u91cf\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-->()<--(v3) \\ RETURN v3.name AS Name; +---------------------+ | Name | +---------------------+ | \"Tony Parker\" | +---------------------+ | \"LaMarcus Aldridge\" | +---------------------+ | \"Rudy Gay\" | +---------------------+ | \"Danny Green\" | +---------------------+ | \"Kyle Anderson\" | +---------------------+ ...","title":"\u5339\u914d\u8fde\u63a5\u7684\u70b9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_7","text":"\u8fde\u63a5\u8d77\u6765\u7684\u70b9\u548c\u8fb9\u6784\u6210\u4e86\u8def\u5f84\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u547d\u540d\u8def\u5f84\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-->(v2) \\ RETURN p; +-------------------------------------------+ | p | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})> | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | +-------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:serve@0 {end_year: 2016, start_year: 1997}]->(\"team204\" :team{name: \"Spurs\"})> | +-------------------------------------------+ openCypher\u517c\u5bb9\u6027 \uff1a\u5728nGQL\u4e2d\uff0c @ \u7b26\u53f7\u8868\u793a\u8fb9\u7684rank\uff0c\u5728openCypher\u4e2d\uff0c\u6ca1\u6709rank\u6982\u5ff5\u3002","title":"\u5339\u914d\u8def\u5f84"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_8","text":"\u9664\u4e86\u7528 -- \u3001 --> \u3001 <-- \u8868\u793a\u672a\u547d\u540d\u7684\u8fb9\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728\u65b9\u62ec\u53f7\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u53d8\u91cf\u547d\u540d\u8fb9\u3002\u4f8b\u5982 -[e]- \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]-(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player101\"->\"player100\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player102\"->\"player100\" @0 {degree: 75}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ ...","title":"\u5339\u914d\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_9","text":"\u548c\u70b9\u4e00\u6837\uff0c\u60a8\u53ef\u4ee5\u7528 :<edge_type> \u8868\u793a\u6a21\u5f0f\u4e2d\u7684\u8fb9\u7c7b\u578b\u3002\u4f8b\u5982 -[e:serve]- \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:serve]-(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+ \u60a8\u53ef\u4ee5\u7528 {<prop_name>: <prop_value>} \u8868\u793a\u6a21\u5f0f\u4e2d\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002\u4f8b\u5982 [e:follow{likeness:95}] \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:follow{degree:95}]->(v2) \\ RETURN e; +--------------------------------------------------------+ | e | +--------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +--------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +--------------------------------------------------------+","title":"\u5339\u914d\u8fb9\u7c7b\u578b\u548c\u5c5e\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_10","text":"\u4f7f\u7528 | \u53ef\u4ee5\u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002\u4f8b\u5982 [e:follow|:serve] \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e:follow|:serve]->(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+","title":"\u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_11","text":"\u60a8\u53ef\u4ee5\u6269\u5c55\u6a21\u5f0f\uff0c\u5339\u914d\u8def\u5f84\u4e2d\u7684\u591a\u6761\u8fb9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[]->(v2)<-[e:serve]-(v3) \\ RETURN v2, v3; +------------------------------------+-----------------------------------------------------------+ | v2 | v3 | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player101\" :player{name: \"Tony Parker\", age: 36}) | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +------------------------------------+-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +------------------------------------+-----------------------------------------------------------+ ...","title":"\u5339\u914d\u591a\u6761\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_12","text":"\u60a8\u53ef\u4ee5\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 :<edge_type>*<hop> \u5339\u914d\u5b9a\u957f\u8def\u5f84\u3002 hop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*2]->(v2) \\ RETURN DISTINCT v2 AS Friends; +-----------------------------------------------------------+ | Friends | +-----------------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player125\" :player{name: \"Manu Ginobili\", age: 41}) | +-----------------------------------------------------------+ \u5982\u679c hop \u4e3a0\uff0c\u6a21\u5f0f\u4f1a\u5339\u914d\u8def\u5f84\u4e0a\u7684\u8d77\u59cb\u70b9\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) -[*0]-> (v2) \\ RETURN v2; +----------------------------------------------------+ | v2 | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+","title":"\u5339\u914d\u5b9a\u957f\u8def\u5f84"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_13","text":"\u60a8\u53ef\u4ee5\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 :<edge_type>*[minHop]..<maxHop> \u5339\u914d\u53d8\u957f\u8def\u5f84\u3002 \u53c2\u6570 \u8bf4\u660e minHop \u53ef\u9009\u9879\u3002\u8868\u793a\u8def\u5f84\u7684\u6700\u5c0f\u957f\u5ea6\u3002 minHop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a1\u3002 maxHop \u5fc5\u9009\u9879\u3002\u8868\u793a\u8def\u5f84\u7684\u6700\u5927\u957f\u5ea6\u3002 maxHop \u5fc5\u987b\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u6ca1\u6709\u9ed8\u8ba4\u503c\u3002 openCypher\u517c\u5bb9\u6027 \uff1a\u5728openCypher\u4e2d\uff0c maxHop \u662f\u53ef\u9009\u9879\uff0c\u9ed8\u8ba4\u4e3a\u65e0\u7a77\u5927\u3002\u5f53\u6ca1\u6709\u8bbe\u7f6e\u65f6\uff0c .. \u53ef\u4ee5\u7701\u7565\u3002\u5728nGQL\u4e2d\uff0c maxHop \u662f\u5fc5\u9009\u9879\uff0c\u800c\u4e14 .. \u4e0d\u53ef\u4ee5\u7701\u7565\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*1..3]->(v2) \\ RETURN v2 AS Friends; +-----------------------------------------------------------+ | Friends | +-----------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +-----------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +-----------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +-----------------------------------------------------------+ \u60a8\u53ef\u4ee5\u4f7f\u7528 DISTINCT \u5173\u952e\u5b57\u805a\u5408\u91cd\u590d\u7ed3\u679c\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*1..3]->(v2:player) \\ RETURN DISTINCT v2 AS Friends, count(v2); +-----------------------------------------------------------+-----------+ | Friends | COUNT(v2) | +-----------------------------------------------------------+-----------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | 1 | +-----------------------------------------------------------+-----------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | 4 | +-----------------------------------------------------------+-----------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | 3 | +-----------------------------------------------------------+-----------+ \u5982\u679c minHop \u4e3a 0 \uff0c\u6a21\u5f0f\u4f1a\u5339\u914d\u8def\u5f84\u4e0a\u7684\u8d77\u59cb\u70b9\u3002\u4e0e\u4e0a\u4e2a\u793a\u4f8b\u76f8\u6bd4\uff0c\u4e0b\u9762\u7684\u793a\u4f8b\u8bbe\u7f6e minHop \u4e3a 0 \uff0c\u56e0\u4e3a\u5b83\u662f\u8d77\u59cb\u70b9\uff0c\u6240\u4ee5\u7ed3\u679c\u96c6\u4e2d \"Tim Duncan\" \u6bd4\u4e0a\u4e2a\u793a\u4f8b\u591a\u8ba1\u7b97\u4e00\u6b21\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow*0..3]->(v2:player) \\ RETURN DISTINCT v2 AS Friends, count(v2); +-----------------------------------------------------------+-----------+ | Friends | COUNT(v2) | +-----------------------------------------------------------+-----------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | 3 | +-----------------------------------------------------------+-----------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | 1 | +-----------------------------------------------------------+-----------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | 5 | +-----------------------------------------------------------+-----------+","title":"\u5339\u914d\u53d8\u957f\u8def\u5f84"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_14","text":"\u60a8\u53ef\u4ee5\u5728\u53d8\u957f\u6216\u5b9a\u957f\u6a21\u5f0f\u4e2d\u6307\u5b9a\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002 hop \u3001 minHop \u548c maxHop \u5bf9\u6240\u6709\u8fb9\u7c7b\u578b\u90fd\u751f\u6548\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e:follow|serve*2]->(v2) \\ RETURN DISTINCT v2; +-----------------------------------------------------------+ | v2 | +-----------------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +-----------------------------------------------------------+ | (\"player102\" :player{name: \"LaMarcus Aldridge\", age: 33}) | +-----------------------------------------------------------+ | (\"player125\" :player{name: \"Manu Ginobili\", age: 41}) | +-----------------------------------------------------------+ | (\"player204\" :team{name: \"Spurs\"}) | +-----------------------------------------------------------+ | (\"player215\" :team{name: \"Hornets\"}) | +-----------------------------------------------------------+","title":"\u5339\u914d\u591a\u4e2a\u8fb9\u7c7b\u578b\u7684\u53d8\u957f\u8def\u5f84"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_15","text":"","title":"\u5e38\u7528\u68c0\u7d22\u64cd\u4f5c"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_16","text":"\u4f7f\u7528 RETURN {<vertex_name> | <edge_name>} \u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u4fe1\u606f\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{name: \"Tim Duncan\", age: 42}) | +----------------------------------------------------+ nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN e; +---------------------------------------------------------------------------+ | e | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | +---------------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +---------------------------------------------------------------------------+","title":"\u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u4fe1\u606f"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#id_1","text":"\u4f7f\u7528 id() \u51fd\u6570\u68c0\u7d22\u70b9ID\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN id(v); +-------------+ | id(v) | +-------------+ | \"player100\" | +-------------+","title":"\u68c0\u7d22\u70b9ID"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_17","text":"\u4f7f\u7528 labels() \u51fd\u6570\u68c0\u7d22\u70b9\u4e0a\u7684\u6807\u7b7e\u5217\u8868\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN labels(v); +------------+ | labels(v) | +------------+ | [\"player\"] | +------------+ \u68c0\u7d22\u5217\u8868 labels(v) \u4e2d\u7684\u7b2cN\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528 labels(v)[n-1] \u3002\u4f8b\u5982\u4e0b\u9762\u793a\u4f8b\u4f7f\u7528 labels(v)[0] \u68c0\u7d22\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN labels(v)[0]; +--------------+ | labels(v)[0] | +--------------+ | \"player\" | +--------------+","title":"\u68c0\u7d22\u6807\u7b7e"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_18","text":"\u4f7f\u7528 RETURN {<vertex_name> | <edge_name>}.<property> \u68c0\u7d22\u5355\u4e2a\u5c5e\u6027\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v.age; +-------+ | v.age | +-------+ | 42 | +-------+ \u4f7f\u7528 AS \u8bbe\u7f6e\u5c5e\u6027\u7684\u522b\u540d\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN v.age AS Age; +-----+ | Age | +-----+ | 42 | +-----+","title":"\u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u5355\u4e2a\u5c5e\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_19","text":"\u4f7f\u7528 properties() \u51fd\u6570\u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u5c5e\u6027\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN properties(v2); +------------------------------------+ | properties(v2) | +------------------------------------+ | {\"name\":\"Spurs\"} | +------------------------------------+ | {\"name\":\"Tony Parker\", \"age\":36} | +------------------------------------+ | {\"age\":41, \"name\":\"Manu Ginobili\"} | +------------------------------------+","title":"\u68c0\u7d22\u70b9\u6216\u8fb9\u7684\u6240\u6709\u5c5e\u6027"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_20","text":"\u4f7f\u7528 type() \u51fd\u6570\u68c0\u7d22\u5339\u914d\u7684\u8fb9\u7c7b\u578b\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[e]->() \\ RETURN DISTINCT type(e); +----------+ | type(e) | +----------+ | \"follow\" | +----------+ | \"serve\" | +----------+","title":"\u68c0\u7d22\u8fb9\u7c7b\u578b"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_21","text":"\u4f7f\u7528 RETURN <path_name> \u68c0\u7d22\u5339\u914d\u8def\u5f84\u7684\u6240\u6709\u4fe1\u606f\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[*3]->() \\ RETURN p; +-------------------------------------------------------------------------------------------------+ | p | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:serve@0 {end_year: 2019, start_year: 2015}]->(\"team204\" :team{name: \"Spurs\"})> | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:serve@0 {end_year: 2015, start_year: 2006}]->(\"team203\" :team{name: \"Trail Blazers\"})> | +-------------------------------------------------------------------------------------------------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})-[:follow@0 {degree: 75}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})> | +-------------------------------------------------------------------------------------------------+ ...","title":"\u68c0\u7d22\u8def\u5f84"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_22","text":"\u4f7f\u7528 nodes() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u6240\u6709\u70b9\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN nodes(p); +---------------------------------------------------------------------------------------------------------------------+ | nodes(p) | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player204\" :team{name: \"Spurs\"})] | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{name: \"Tony Parker\", age: 36})] | +---------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :star{} :player{age: 42, name: \"Tim Duncan\"}), (\"player125\" :player{name: \"Manu Ginobili\", age: 41})] | +---------------------------------------------------------------------------------------------------------------------+","title":"\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u70b9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_23","text":"\u4f7f\u7528 relationships() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u6240\u6709\u8fb9\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[]->(v2) \\ RETURN relationships(p); +-----------------------------------------------------------------------------+ | relationships(p) | +-----------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player101\" @0 {degree: 95}]] | +-----------------------------------------------------------------------------+ | [[:follow \"player100\"->\"player125\" @0 {degree: 95}]] | +-----------------------------------------------------------------------------+ | [[:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}]] | +-----------------------------------------------------------------------------+","title":"\u68c0\u7d22\u8def\u5f84\u4e2d\u7684\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/2.match/#_24","text":"\u4f7f\u7528 length() \u51fd\u6570\u68c0\u7d22\u8def\u5f84\u7684\u957f\u5ea6\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})-[*..2]->(v2) \\ RETURN p AS Paths, length(p) AS Length; +----------------------------------------------------------------------+--------+ | Paths | Length | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})-[:serve@0 {end_year: 2018, start_year: 2002}]->(\"team204\" :team{name: \"Spurs\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})-[:follow@0 {degree: 90}]->(\"player100\" :player{age: 42, name: \"Tim Duncan\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:serve@0 {end_year: 2019, start_year: 2018}]->(\"team215\" :team{name: \"Hornets\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:serve@0 {end_year: 2018, start_year: 1999}]->(\"team204\" :team{name: \"Spurs\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 90}]->(\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player101\" :player{age: 36, name: \"Tony Parker\"})-[:follow@0 {degree: 95}]->(\"player100\" :player{age: 42, name: \"Tim Duncan\"})> | 2 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:serve@0 {end_year: 2016, start_year: 1997}]->(\"team204\" :team{name: \"Spurs\"})> | 1 | +----------------------------------------------------------------------+--------+ | <(\"player100\" :player{age: 42, name: \"Tim Duncan\"})-[:follow@0 {degree: 95}]->(\"player125\" :player{age: 41, name: \"Manu Ginobili\"})> | 1 | +----------------------------------------------------------------------+--------+","title":"\u68c0\u7d22\u8def\u5f84\u957f\u5ea6"},{"location":"3.ngql-guide/7.general-query-statements/3.go/","text":"GO \u00b6 GO \u7528\u6307\u5b9a\u7684\u8fc7\u6ee4\u6761\u4ef6\u904d\u5386\u56fe\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u8bed\u6cd5 \u00b6 GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [{REVERSELY | BIDIRECT}] [ WHERE <conditions> ] [YIELD [DISTINCT] <return_list>] [| ORDER BY <expression> [{ASC | DESC}]] [| LIMIT [<offset_value>,] <number_rows>] GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [{REVERSELY | BIDIRECT}] [ WHERE <conditions> ] [| GROUP BY {col_name | expr | position} YIELD <col_name>] <vertex_list> ::= <vid> [, <vid> ...] <edge_type_list> ::= edge_type [, edge_type ...] | * <return_list> ::= <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] <N> STEPS \uff1a\u6307\u5b9a\u8df3\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u8df3\u6570\uff0c\u9ed8\u8ba4\u503c N \u4e3a 1 \u3002\u5982\u679c N \u4e3a 0 \uff0cNebula Graph\u4e0d\u4f1a\u68c0\u7d22\u4efb\u4f55\u8fb9\u3002 M TO N STEPS \uff1a\u904d\u5386 M~N \u8df3\u7684\u8fb9\u3002\u5982\u679c M \u4e3a 0 \uff0c\u8f93\u51fa\u7ed3\u679c\u548c M \u4e3a 1 \u76f8\u540c\uff0c\u5373 GO 0 TO 2 \u548c GO 1 TO 2 \u662f\u76f8\u540c\u7684\u3002 <vertex_list> \uff1a\u7528\u9017\u53f7\u5206\u9694\u7684\u70b9ID\u5217\u8868\uff0c\u6216\u7279\u6b8a\u7684\u5f15\u7528\u7b26 $-.id \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 <edge_type_list> \uff1a\u904d\u5386\u7684\u8fb9\u7c7b\u578b\u5217\u8868\u3002 REVERSELY | BIDIRECT \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u68c0\u7d22\u7684\u662f <vertex_list> \u7684\u51fa\u8fb9\uff0c REVERSELY \u8868\u793a\u53cd\u5411\uff0c\u5373\u68c0\u7d22\u5165\u8fb9\uff0c BIDIRECT \u8868\u793a\u53cc\u5411\uff0c\u5373\u68c0\u7d22\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 WHERE <conditions> \uff1a\u6307\u5b9a\u904d\u5386\u7684\u8fc7\u6ee4\u6761\u4ef6\u3002\u60a8\u53ef\u4ee5\u5728\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u8fb9\u4f7f\u7528 WHERE \u5b50\u53e5\uff0c\u8fd8\u53ef\u4ee5\u7ed3\u5408 AND \u3001 OR \u3001 NOT \u3001 XOR \u4e00\u8d77\u4f7f\u7528\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002 \u8bf4\u660e \uff1a\u904d\u5386\u591a\u4e2a\u8fb9\u7c7b\u578b\u65f6\uff0c WHERE \u5b50\u53e5\u6709\u4e00\u4e9b\u9650\u5236\u3002\u4f8b\u5982\u4e0d\u652f\u6301 WHERE edge1.prop1 > edge2.prop2 \u3002 YIELD [DISTINCT] <return_list> \uff1a\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u8fd4\u56de\u76ee\u7684\u70b9ID\u3002 ORDER BY \uff1a\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u7684\u6392\u5e8f\u89c4\u5219\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 ORDER BY \u3002 \u8bf4\u660e \uff1a\u6ca1\u6709\u6307\u5b9a\u6392\u5e8f\u89c4\u5219\u65f6\uff0c\u8f93\u51fa\u7ed3\u679c\u7684\u987a\u5e8f\u4e0d\u662f\u56fa\u5b9a\u7684\u3002 LIMIT \uff1a\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LIMIT \u3002 GROUP BY \uff1a\u6839\u636e\u6307\u5b9a\u5c5e\u6027\u7684\u503c\u5c06\u8f93\u51fa\u5206\u7ec4\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 GROUP BY \u3002 \u793a\u4f8b \u00b6 # \u8fd4\u56deplayer102\u6240\u5c5e\u961f\u4f0d\u3002 nebula> GO FROM \"player102\" OVER serve; +------------+ | serve._dst | +------------+ | \"team203\" | +------------+ | \"team204\" | +------------+ # \u8fd4\u56de\u8ddd\u79bbplayer102\u4e24\u8df3\u7684\u670b\u53cb\u3002 nebula> GO 2 STEPS FROM \"player102\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ ... # \u6dfb\u52a0\u8fc7\u6ee4\u6761\u4ef6\u3002 nebula> GO FROM \"player100\", \"player102\" OVER serve \\ WHERE serve.start_year > 1995 \\ YIELD DISTINCT $$.team.name AS team_name, serve.start_year AS start_year, $^.player.name AS player_name; +-----------------+------------+---------------------+ | team_name | start_year | player_name | +-----------------+------------+---------------------+ | \"Spurs\" | 1997 | \"Tim Duncan\" | +-----------------+------------+---------------------+ | \"Trail Blazers\" | 2006 | \"LaMarcus Aldridge\" | +-----------------+------------+---------------------+ | \"Spurs\" | 2015 | \"LaMarcus Aldridge\" | +-----------------+------------+---------------------+ # \u904d\u5386\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002\u5c5e\u6027\u6ca1\u6709\u503c\u65f6\uff0c\u4f1a\u663e\u793a__EMPTY__\u3002 nebula> GO FROM \"player100\" OVER follow, serve \\ YIELD follow.degree, serve.start_year; +---------------+------------------+ | follow.degree | serve.start_year | +---------------+------------------+ | 95 | __EMPTY__ | +---------------+------------------+ | 95 | __EMPTY__ | +---------------+------------------+ | __EMPTY__ | 1997 | +---------------+------------------+ # \u8fd4\u56deplayer100\u7684\u5165\u8fb9\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD follow._dst AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v)<-[e:follow]- (v2) WHERE id(v) == 'player100' \\ RETURN id(v2) AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ ... # \u67e5\u8be2player100\u7684\u670b\u53cb\u548c\u670b\u53cb\u6240\u5c5e\u961f\u4f0d\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve \\ WHERE $^.player.age > 20 \\ YIELD $^.player.name AS FriendOf, $$.team.name AS Team; +---------------------+-----------------+ | FriendOf | Team | +---------------------+-----------------+ | \"Tony Parker\" | \"Spurs\" | +---------------------+-----------------+ | \"Tony Parker\" | \"Hornets\" | +---------------------+-----------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v)<-[e:follow]- (v2)-[e2:serve]->(v3) \\ WHERE id(v) == 'player100' \\ RETURN v2.name AS FriendOf, v3.name AS Team; +---------------------+-----------------+ | FriendOf | Team | +---------------------+-----------------+ | \"Tony Parker\" | \"Spurs\" | +---------------------+-----------------+ | \"Tony Parker\" | \"Hornets\" | +---------------------+-----------------+ ... # \u8fd4\u56deplayer102\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 nebula> GO FROM \"player102\" OVER follow BIDIRECT \\ YIELD follow._dst AS both; +-------------+ | both | +-------------+ | \"player100\" | +-------------+ | \"player101\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v) -[e:follow]-(v2) \\ WHERE id(v)== \"player102\" \\ RETURN id(v2) AS both; +-------------+ | both | +-------------+ | \"player101\" | +-------------+ | \"player103\" | +-------------+ ... # \u67e5\u8be2player100 1~2\u8df3\u5185\u7684\u670b\u53cb\u3002 nebula> GO 1 TO 2 STEPS FROM \"player100\" OVER follow \\ YIELD follow._dst AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v) -[e:follow*1..2]->(v2) \\ WHERE id(v) == \"player100\" \\ RETURN id(v2) AS destination; +-------------+ | destination | +-------------+ | \"player100\" | +-------------+ | \"player102\" | +-------------+ # \u6839\u636e\u5e74\u9f84\u5206\u7ec4\u3002 nebula> GO 2 STEPS FROM \"player100\" OVER follow \\ YIELD follow._src AS src, follow._dst AS dst, $$.player.age AS age \\ | GROUP BY $-.dst \\ YIELD $-.dst AS dst, collect_set($-.src) AS src, collect($-.age) AS age +-------------+----------------------------+----------+ | dst | src | age | +-------------+----------------------------+----------+ | \"player125\" | [\"player101\"] | [41] | +-------------+----------------------------+----------+ | \"player100\" | [\"player125\", \"player101\"] | [42, 42] | +-------------+----------------------------+----------+ | \"player102\" | [\"player101\"] | [33] | +-------------+----------------------------+----------+ # \u5206\u7ec4\u5e76\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002 nebula> $a = GO FROM \"player100\" OVER follow YIELD follow._src AS src, follow._dst AS dst; \\ GO 2 STEPS FROM $a.dst OVER follow \\ YIELD $a.src AS src, $a.dst, follow._src, follow._dst \\ | ORDER BY $-.src | OFFSET 1 LIMIT 2; +-------------+-------------+-------------+-------------+ | src | $a.dst | follow._src | follow._dst | +-------------+-------------+-------------+-------------+ | \"player100\" | \"player125\" | \"player100\" | \"player101\" | +-------------+-------------+-------------+-------------+ | \"player100\" | \"player101\" | \"player100\" | \"player125\" | +-------------+-------------+-------------+-------------+","title":"GO"},{"location":"3.ngql-guide/7.general-query-statements/3.go/#go","text":"GO \u7528\u6307\u5b9a\u7684\u8fc7\u6ee4\u6761\u4ef6\u904d\u5386\u56fe\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002","title":"GO"},{"location":"3.ngql-guide/7.general-query-statements/3.go/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/7.general-query-statements/3.go/#_1","text":"GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [{REVERSELY | BIDIRECT}] [ WHERE <conditions> ] [YIELD [DISTINCT] <return_list>] [| ORDER BY <expression> [{ASC | DESC}]] [| LIMIT [<offset_value>,] <number_rows>] GO [[<M> TO] <N> STEPS ] FROM <vertex_list> OVER <edge_type_list> [{REVERSELY | BIDIRECT}] [ WHERE <conditions> ] [| GROUP BY {col_name | expr | position} YIELD <col_name>] <vertex_list> ::= <vid> [, <vid> ...] <edge_type_list> ::= edge_type [, edge_type ...] | * <return_list> ::= <col_name> [AS <col_alias>] [, <col_name> [AS <col_alias>] ...] <N> STEPS \uff1a\u6307\u5b9a\u8df3\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u8df3\u6570\uff0c\u9ed8\u8ba4\u503c N \u4e3a 1 \u3002\u5982\u679c N \u4e3a 0 \uff0cNebula Graph\u4e0d\u4f1a\u68c0\u7d22\u4efb\u4f55\u8fb9\u3002 M TO N STEPS \uff1a\u904d\u5386 M~N \u8df3\u7684\u8fb9\u3002\u5982\u679c M \u4e3a 0 \uff0c\u8f93\u51fa\u7ed3\u679c\u548c M \u4e3a 1 \u76f8\u540c\uff0c\u5373 GO 0 TO 2 \u548c GO 1 TO 2 \u662f\u76f8\u540c\u7684\u3002 <vertex_list> \uff1a\u7528\u9017\u53f7\u5206\u9694\u7684\u70b9ID\u5217\u8868\uff0c\u6216\u7279\u6b8a\u7684\u5f15\u7528\u7b26 $-.id \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u9053\u7b26 \u3002 <edge_type_list> \uff1a\u904d\u5386\u7684\u8fb9\u7c7b\u578b\u5217\u8868\u3002 REVERSELY | BIDIRECT \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u68c0\u7d22\u7684\u662f <vertex_list> \u7684\u51fa\u8fb9\uff0c REVERSELY \u8868\u793a\u53cd\u5411\uff0c\u5373\u68c0\u7d22\u5165\u8fb9\uff0c BIDIRECT \u8868\u793a\u53cc\u5411\uff0c\u5373\u68c0\u7d22\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 WHERE <conditions> \uff1a\u6307\u5b9a\u904d\u5386\u7684\u8fc7\u6ee4\u6761\u4ef6\u3002\u60a8\u53ef\u4ee5\u5728\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u8fb9\u4f7f\u7528 WHERE \u5b50\u53e5\uff0c\u8fd8\u53ef\u4ee5\u7ed3\u5408 AND \u3001 OR \u3001 NOT \u3001 XOR \u4e00\u8d77\u4f7f\u7528\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002 \u8bf4\u660e \uff1a\u904d\u5386\u591a\u4e2a\u8fb9\u7c7b\u578b\u65f6\uff0c WHERE \u5b50\u53e5\u6709\u4e00\u4e9b\u9650\u5236\u3002\u4f8b\u5982\u4e0d\u652f\u6301 WHERE edge1.prop1 > edge2.prop2 \u3002 YIELD [DISTINCT] <return_list> \uff1a\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u8fd4\u56de\u76ee\u7684\u70b9ID\u3002 ORDER BY \uff1a\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u7684\u6392\u5e8f\u89c4\u5219\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 ORDER BY \u3002 \u8bf4\u660e \uff1a\u6ca1\u6709\u6307\u5b9a\u6392\u5e8f\u89c4\u5219\u65f6\uff0c\u8f93\u51fa\u7ed3\u679c\u7684\u987a\u5e8f\u4e0d\u662f\u56fa\u5b9a\u7684\u3002 LIMIT \uff1a\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 LIMIT \u3002 GROUP BY \uff1a\u6839\u636e\u6307\u5b9a\u5c5e\u6027\u7684\u503c\u5c06\u8f93\u51fa\u5206\u7ec4\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 GROUP BY \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/3.go/#_2","text":"# \u8fd4\u56deplayer102\u6240\u5c5e\u961f\u4f0d\u3002 nebula> GO FROM \"player102\" OVER serve; +------------+ | serve._dst | +------------+ | \"team203\" | +------------+ | \"team204\" | +------------+ # \u8fd4\u56de\u8ddd\u79bbplayer102\u4e24\u8df3\u7684\u670b\u53cb\u3002 nebula> GO 2 STEPS FROM \"player102\" OVER follow; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ ... # \u6dfb\u52a0\u8fc7\u6ee4\u6761\u4ef6\u3002 nebula> GO FROM \"player100\", \"player102\" OVER serve \\ WHERE serve.start_year > 1995 \\ YIELD DISTINCT $$.team.name AS team_name, serve.start_year AS start_year, $^.player.name AS player_name; +-----------------+------------+---------------------+ | team_name | start_year | player_name | +-----------------+------------+---------------------+ | \"Spurs\" | 1997 | \"Tim Duncan\" | +-----------------+------------+---------------------+ | \"Trail Blazers\" | 2006 | \"LaMarcus Aldridge\" | +-----------------+------------+---------------------+ | \"Spurs\" | 2015 | \"LaMarcus Aldridge\" | +-----------------+------------+---------------------+ # \u904d\u5386\u591a\u4e2a\u8fb9\u7c7b\u578b\u3002\u5c5e\u6027\u6ca1\u6709\u503c\u65f6\uff0c\u4f1a\u663e\u793a__EMPTY__\u3002 nebula> GO FROM \"player100\" OVER follow, serve \\ YIELD follow.degree, serve.start_year; +---------------+------------------+ | follow.degree | serve.start_year | +---------------+------------------+ | 95 | __EMPTY__ | +---------------+------------------+ | 95 | __EMPTY__ | +---------------+------------------+ | __EMPTY__ | 1997 | +---------------+------------------+ # \u8fd4\u56deplayer100\u7684\u5165\u8fb9\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD follow._dst AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v)<-[e:follow]- (v2) WHERE id(v) == 'player100' \\ RETURN id(v2) AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player102\" | +-------------+ ... # \u67e5\u8be2player100\u7684\u670b\u53cb\u548c\u670b\u53cb\u6240\u5c5e\u961f\u4f0d\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD follow._dst AS id | \\ GO FROM $-.id OVER serve \\ WHERE $^.player.age > 20 \\ YIELD $^.player.name AS FriendOf, $$.team.name AS Team; +---------------------+-----------------+ | FriendOf | Team | +---------------------+-----------------+ | \"Tony Parker\" | \"Spurs\" | +---------------------+-----------------+ | \"Tony Parker\" | \"Hornets\" | +---------------------+-----------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v)<-[e:follow]- (v2)-[e2:serve]->(v3) \\ WHERE id(v) == 'player100' \\ RETURN v2.name AS FriendOf, v3.name AS Team; +---------------------+-----------------+ | FriendOf | Team | +---------------------+-----------------+ | \"Tony Parker\" | \"Spurs\" | +---------------------+-----------------+ | \"Tony Parker\" | \"Hornets\" | +---------------------+-----------------+ ... # \u8fd4\u56deplayer102\u7684\u51fa\u8fb9\u548c\u5165\u8fb9\u3002 nebula> GO FROM \"player102\" OVER follow BIDIRECT \\ YIELD follow._dst AS both; +-------------+ | both | +-------------+ | \"player100\" | +-------------+ | \"player101\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v) -[e:follow]-(v2) \\ WHERE id(v)== \"player102\" \\ RETURN id(v2) AS both; +-------------+ | both | +-------------+ | \"player101\" | +-------------+ | \"player103\" | +-------------+ ... # \u67e5\u8be2player100 1~2\u8df3\u5185\u7684\u670b\u53cb\u3002 nebula> GO 1 TO 2 STEPS FROM \"player100\" OVER follow \\ YIELD follow._dst AS destination; +-------------+ | destination | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ ... # \u8be5MATCH\u67e5\u8be2\u4e0e\u4e0a\u4e00\u4e2aGO\u67e5\u8be2\u5177\u6709\u76f8\u540c\u7684\u8bed\u4e49\u3002 nebula> MATCH (v) -[e:follow*1..2]->(v2) \\ WHERE id(v) == \"player100\" \\ RETURN id(v2) AS destination; +-------------+ | destination | +-------------+ | \"player100\" | +-------------+ | \"player102\" | +-------------+ # \u6839\u636e\u5e74\u9f84\u5206\u7ec4\u3002 nebula> GO 2 STEPS FROM \"player100\" OVER follow \\ YIELD follow._src AS src, follow._dst AS dst, $$.player.age AS age \\ | GROUP BY $-.dst \\ YIELD $-.dst AS dst, collect_set($-.src) AS src, collect($-.age) AS age +-------------+----------------------------+----------+ | dst | src | age | +-------------+----------------------------+----------+ | \"player125\" | [\"player101\"] | [41] | +-------------+----------------------------+----------+ | \"player100\" | [\"player125\", \"player101\"] | [42, 42] | +-------------+----------------------------+----------+ | \"player102\" | [\"player101\"] | [33] | +-------------+----------------------------+----------+ # \u5206\u7ec4\u5e76\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002 nebula> $a = GO FROM \"player100\" OVER follow YIELD follow._src AS src, follow._dst AS dst; \\ GO 2 STEPS FROM $a.dst OVER follow \\ YIELD $a.src AS src, $a.dst, follow._src, follow._dst \\ | ORDER BY $-.src | OFFSET 1 LIMIT 2; +-------------+-------------+-------------+-------------+ | src | $a.dst | follow._src | follow._dst | +-------------+-------------+-------------+-------------+ | \"player100\" | \"player125\" | \"player100\" | \"player101\" | +-------------+-------------+-------------+-------------+ | \"player100\" | \"player101\" | \"player100\" | \"player125\" | +-------------+-------------+-------------+-------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/","text":"FETCH \u00b6 FETCH \u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u503c\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c \u00b6 \u8bed\u6cd5 \u00b6 FETCH PROP ON {<tag_name>[, tag_name ...] | *} <vid> [, vid ...] [YIELD <output>] \u53c2\u6570 \u8bf4\u660e tag_name \u6807\u7b7e\u540d\u79f0\u3002 * \u8868\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u6807\u7b7e\u3002 vid \u70b9ID\u3002 output \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u4fe1\u606f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709 YIELD \u5b50\u53e5\uff0c\u5c06\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684\u4fe1\u606f\u3002 \u57fa\u4e8e\u6807\u7b7e\u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c \u00b6 \u5728 FETCH \u8bed\u53e5\u4e2d\u6307\u5b9a\u6807\u7b7e\u83b7\u53d6\u5bf9\u5e94\u70b9\u7684\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON player \"player100\"; +----------------------------------------------------+ | vertices_ | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ \u83b7\u53d6\u70b9\u7684\u6307\u5b9a\u5c5e\u6027\u503c \u00b6 \u4f7f\u7528 YIELD \u5b50\u53e5\u6307\u5b9a\u8fd4\u56de\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON player \"player100\" \\ YIELD player.name; +-------------+--------------+ | VertexID | player.name | +-------------+--------------+ | \"player100\" | \"Tim Duncan\" | +-------------+--------------+ \u83b7\u53d6\u591a\u4e2a\u70b9\u7684\u5c5e\u6027\u503c \u00b6 \u6307\u5b9a\u591a\u4e2a\u70b9ID\u83b7\u53d6\u591a\u4e2a\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u70b9\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 nebula> FETCH PROP ON player \"player101\", \"player102\", \"player103\"; +-----------------------------------------------------------+ | vertices_ | +-----------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +-----------------------------------------------------------+ | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +-----------------------------------------------------------+ \u57fa\u4e8e\u591a\u4e2a\u6807\u7b7e\u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c \u00b6 \u5728 FETCH \u8bed\u53e5\u4e2d\u6307\u5b9a\u591a\u4e2a\u6807\u7b7e\u83b7\u53d6\u5c5e\u6027\u503c\u3002\u6807\u7b7e\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 # \u521b\u5efa\u65b0\u6807\u7b7et1\u3002 nebula> CREATE TAG t1(a string, b int); # \u4e3a\u70b9player100\u6dfb\u52a0\u6807\u7b7et1\u3002 nebula> INSERT VERTEX t1(a, b) VALUE \"player100\":(\"Hello\", 100); # \u57fa\u4e8e\u6807\u7b7eplayer\u548ct1\u83b7\u53d6\u70b9player100\u4e0a\u7684\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON player, t1 \"player100\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+ \u60a8\u53ef\u4ee5\u5728 FETCH \u8bed\u53e5\u4e2d\u7ec4\u5408\u591a\u4e2a\u6807\u7b7e\u548c\u591a\u4e2a\u70b9\u3002 ```ngql nebula> FETCH PROP ON player, t1 \"player100\", \"player103\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+ | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +----------------------------------------------------------------------------+ ### \u83b7\u53d6\u70b9\u4e0a\u6240\u6709\u5c5e\u6027\u503c \u5728`FETCH`\u8bed\u53e5\u4e2d\u4f7f\u7528`*`\u83b7\u53d6\u70b9\u4e0a\u6240\u6709\u5c5e\u6027\u503c\u3002 ```ngql nebula> FETCH PROP ON * \"player100\", \"player106\", \"team200\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player106\" :player{age: 25, name: \"Kyle Anderson\"}) | +----------------------------------------------------------------------------+ | (\"team200\" :team{name: \"Warriors\"}) | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+ \u83b7\u53d6\u8fb9\u7684\u5c5e\u6027\u503c \u00b6 \u8bed\u6cd5 \u00b6 FETCH PROP ON <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid> ...] [YIELD <output>] \u53c2\u6570 \u8bf4\u660e edge_type \u8fb9\u7c7b\u578b\u540d\u79f0\u3002 src_vid \u8d77\u59cb\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 dst_vid \u76ee\u7684\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 rank \u8fb9\u7684rank\u3002\u53ef\u9009\u53c2\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \u3002\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u3001\u8fb9\u7c7b\u578b\u548crank\u53ef\u4ee5\u552f\u4e00\u786e\u5b9a\u4e00\u6761\u8fb9\u3002 output \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u4fe1\u606f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709 YIELD \u5b50\u53e5\uff0c\u5c06\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684\u4fe1\u606f\u3002 \u83b7\u53d6\u8fb9\u7684\u6240\u6709\u5c5e\u6027\u503c \u00b6 # \u83b7\u53d6\u8fde\u63a5player100\u548cteam204\u7684\u8fb9serve\u7684\u6240\u6709\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+ \u83b7\u53d6\u8fb9\u7684\u6307\u5b9a\u5c5e\u6027\u503c \u00b6 \u4f7f\u7528 YIELD \u5b50\u53e5\u6307\u5b9a\u8fd4\u56de\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\" \\ YIELD serve.start_year; +-------------+------------+-------------+------------------+ | serve._src | serve._dst | serve._rank | serve.start_year | +-------------+------------+-------------+------------------+ | \"player100\" | \"team204\" | 0 | 1997 | +-------------+------------+-------------+------------------+ \u83b7\u53d6\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u503c \u00b6 \u6307\u5b9a\u591a\u4e2a\u8fb9\u6a21\u5f0f( <src_vid> -> <dst_vid>[@<rank>] )\u83b7\u53d6\u591a\u4e2a\u8fb9\u7684\u5c5e\u6027\u503c\u3002\u6a21\u5f0f\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\", \"player133\" -> \"team202\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+ | [:serve \"player133\"->\"team202\" @0 {end_year: 2011, start_year: 2002}] | +-----------------------------------------------------------------------+ \u57fa\u4e8erank\u83b7\u53d6\u5c5e\u6027\u503c \u00b6 \u5982\u679c\u6709\u591a\u6761\u8fb9\uff0c\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u8fb9\u7c7b\u578b\u90fd\u76f8\u540c\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9arank\u83b7\u53d6\u6b63\u786e\u7684\u8fb9\u5c5e\u6027\u503c\u3002 # \u63d2\u5165\u4e0d\u540c\u5c5e\u6027\u503c\u3001\u4e0d\u540crank\u7684\u8fb9\u3002 nebula> insert edge serve(start_year,end_year) \\ values \"player100\"->\"team204\"@1:(1998, 2017); nebula> insert edge serve(start_year,end_year) \\ values \"player100\"->\"team204\"@2:(1990, 2018); # \u9ed8\u8ba4\u8fd4\u56derank\u4e3a0\u7684\u8fb9\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+ # \u8981\u83b7\u53d6rank\u4e0d\u4e3a0\u7684\u8fb9\uff0c\u8bf7\u5728FETCH\u8bed\u53e5\u4e2d\u8bbe\u7f6erank\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"@1; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @1 {end_year: 2017, start_year: 1998}] | +-----------------------------------------------------------------------+ \u590d\u5408\u8bed\u53e5\u4e2d\u4f7f\u7528FETCH \u00b6 \u5c06 FETCH \u4e0enGQL\u6269\u5c55\u7ed3\u5408\u4f7f\u7528\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u548c GO \u4e00\u8d77\u3002 # \u8fd4\u56de\u4ece\u70b9player101\u5f00\u59cb\u7684follow\u8fb9\u7684degree\u503c\u3002 nebula> GO FROM \"player101\" OVER follow \\ YIELD follow._src AS s, follow._dst AS d \\ | FETCH PROP ON follow $-.s -> $-.d \\ YIELD follow.degree; +-------------+-------------+--------------+---------------+ | follow._src | follow._dst | follow._rank | follow.degree | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player100\" | 0 | 95 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player102\" | 0 | 90 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player125\" | 0 | 95 | +-------------+-------------+--------------+---------------+ \u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u53d8\u91cf\u6784\u5efa\u7c7b\u4f3c\u7684\u67e5\u8be2\u3002 nebula> $var = GO FROM \"player101\" OVER follow \\ YIELD follow._src AS s, follow._dst AS d; \\ FETCH PROP ON follow $var.s -> $var.d \\ YIELD follow.degree; +-------------+-------------+--------------+---------------+ | follow._src | follow._dst | follow._rank | follow.degree | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player100\" | 0 | 95 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player102\" | 0 | 90 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player125\" | 0 | 95 | +-------------+-------------+--------------+---------------+ \u66f4\u591a\u590d\u5408\u8bed\u53e5\u7684\u8be6\u60c5\uff0c\u8bf7\u53c2\u89c1 \u590d\u5408\u67e5\u8be2\uff08\u5b50\u53e5\u7ed3\u6784\uff09 \u3002","title":"FETCH"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#fetch","text":"FETCH \u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u503c\u3002","title":"FETCH"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_1","text":"","title":"\u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_2","text":"FETCH PROP ON {<tag_name>[, tag_name ...] | *} <vid> [, vid ...] [YIELD <output>] \u53c2\u6570 \u8bf4\u660e tag_name \u6807\u7b7e\u540d\u79f0\u3002 * \u8868\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u6807\u7b7e\u3002 vid \u70b9ID\u3002 output \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u4fe1\u606f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709 YIELD \u5b50\u53e5\uff0c\u5c06\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684\u4fe1\u606f\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_3","text":"\u5728 FETCH \u8bed\u53e5\u4e2d\u6307\u5b9a\u6807\u7b7e\u83b7\u53d6\u5bf9\u5e94\u70b9\u7684\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON player \"player100\"; +----------------------------------------------------+ | vertices_ | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+","title":"\u57fa\u4e8e\u6807\u7b7e\u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_4","text":"\u4f7f\u7528 YIELD \u5b50\u53e5\u6307\u5b9a\u8fd4\u56de\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON player \"player100\" \\ YIELD player.name; +-------------+--------------+ | VertexID | player.name | +-------------+--------------+ | \"player100\" | \"Tim Duncan\" | +-------------+--------------+","title":"\u83b7\u53d6\u70b9\u7684\u6307\u5b9a\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_5","text":"\u6307\u5b9a\u591a\u4e2a\u70b9ID\u83b7\u53d6\u591a\u4e2a\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u70b9\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 nebula> FETCH PROP ON player \"player101\", \"player102\", \"player103\"; +-----------------------------------------------------------+ | vertices_ | +-----------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +-----------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +-----------------------------------------------------------+ | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +-----------------------------------------------------------+","title":"\u83b7\u53d6\u591a\u4e2a\u70b9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_6","text":"\u5728 FETCH \u8bed\u53e5\u4e2d\u6307\u5b9a\u591a\u4e2a\u6807\u7b7e\u83b7\u53d6\u5c5e\u6027\u503c\u3002\u6807\u7b7e\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 # \u521b\u5efa\u65b0\u6807\u7b7et1\u3002 nebula> CREATE TAG t1(a string, b int); # \u4e3a\u70b9player100\u6dfb\u52a0\u6807\u7b7et1\u3002 nebula> INSERT VERTEX t1(a, b) VALUE \"player100\":(\"Hello\", 100); # \u57fa\u4e8e\u6807\u7b7eplayer\u548ct1\u83b7\u53d6\u70b9player100\u4e0a\u7684\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON player, t1 \"player100\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+ \u60a8\u53ef\u4ee5\u5728 FETCH \u8bed\u53e5\u4e2d\u7ec4\u5408\u591a\u4e2a\u6807\u7b7e\u548c\u591a\u4e2a\u70b9\u3002 ```ngql nebula> FETCH PROP ON player, t1 \"player100\", \"player103\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+ | (\"player103\" :player{age: 32, name: \"Rudy Gay\"}) | +----------------------------------------------------------------------------+ ### \u83b7\u53d6\u70b9\u4e0a\u6240\u6709\u5c5e\u6027\u503c \u5728`FETCH`\u8bed\u53e5\u4e2d\u4f7f\u7528`*`\u83b7\u53d6\u70b9\u4e0a\u6240\u6709\u5c5e\u6027\u503c\u3002 ```ngql nebula> FETCH PROP ON * \"player100\", \"player106\", \"team200\"; +----------------------------------------------------------------------------+ | vertices_ | +----------------------------------------------------------------------------+ | (\"player106\" :player{age: 25, name: \"Kyle Anderson\"}) | +----------------------------------------------------------------------------+ | (\"team200\" :team{name: \"Warriors\"}) | +----------------------------------------------------------------------------+ | (\"player100\" :t1{a: \"Hello\", b: 100} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------------+","title":"\u57fa\u4e8e\u591a\u4e2a\u6807\u7b7e\u83b7\u53d6\u70b9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_7","text":"","title":"\u83b7\u53d6\u8fb9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_8","text":"FETCH PROP ON <edge_type> <src_vid> -> <dst_vid>[@<rank>] [, <src_vid> -> <dst_vid> ...] [YIELD <output>] \u53c2\u6570 \u8bf4\u660e edge_type \u8fb9\u7c7b\u578b\u540d\u79f0\u3002 src_vid \u8d77\u59cb\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u3002 dst_vid \u76ee\u7684\u70b9ID\uff0c\u8868\u793a\u8fb9\u7684\u7ec8\u70b9\u3002 rank \u8fb9\u7684rank\u3002\u53ef\u9009\u53c2\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \u3002\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u3001\u8fb9\u7c7b\u578b\u548crank\u53ef\u4ee5\u552f\u4e00\u786e\u5b9a\u4e00\u6761\u8fb9\u3002 output \u6307\u5b9a\u8981\u8fd4\u56de\u7684\u4fe1\u606f\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 YIELD \u3002\u5982\u679c\u6ca1\u6709 YIELD \u5b50\u53e5\uff0c\u5c06\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684\u4fe1\u606f\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_9","text":"# \u83b7\u53d6\u8fde\u63a5player100\u548cteam204\u7684\u8fb9serve\u7684\u6240\u6709\u5c5e\u6027\u503c\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+","title":"\u83b7\u53d6\u8fb9\u7684\u6240\u6709\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_10","text":"\u4f7f\u7528 YIELD \u5b50\u53e5\u6307\u5b9a\u8fd4\u56de\u7684\u5c5e\u6027\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\" \\ YIELD serve.start_year; +-------------+------------+-------------+------------------+ | serve._src | serve._dst | serve._rank | serve.start_year | +-------------+------------+-------------+------------------+ | \"player100\" | \"team204\" | 0 | 1997 | +-------------+------------+-------------+------------------+","title":"\u83b7\u53d6\u8fb9\u7684\u6307\u5b9a\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#_11","text":"\u6307\u5b9a\u591a\u4e2a\u8fb9\u6a21\u5f0f( <src_vid> -> <dst_vid>[@<rank>] )\u83b7\u53d6\u591a\u4e2a\u8fb9\u7684\u5c5e\u6027\u503c\u3002\u6a21\u5f0f\u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\", \"player133\" -> \"team202\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+ | [:serve \"player133\"->\"team202\" @0 {end_year: 2011, start_year: 2002}] | +-----------------------------------------------------------------------+","title":"\u83b7\u53d6\u591a\u6761\u8fb9\u7684\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#rank","text":"\u5982\u679c\u6709\u591a\u6761\u8fb9\uff0c\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u8fb9\u7c7b\u578b\u90fd\u76f8\u540c\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9arank\u83b7\u53d6\u6b63\u786e\u7684\u8fb9\u5c5e\u6027\u503c\u3002 # \u63d2\u5165\u4e0d\u540c\u5c5e\u6027\u503c\u3001\u4e0d\u540crank\u7684\u8fb9\u3002 nebula> insert edge serve(start_year,end_year) \\ values \"player100\"->\"team204\"@1:(1998, 2017); nebula> insert edge serve(start_year,end_year) \\ values \"player100\"->\"team204\"@2:(1990, 2018); # \u9ed8\u8ba4\u8fd4\u56derank\u4e3a0\u7684\u8fb9\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | +-----------------------------------------------------------------------+ # \u8981\u83b7\u53d6rank\u4e0d\u4e3a0\u7684\u8fb9\uff0c\u8bf7\u5728FETCH\u8bed\u53e5\u4e2d\u8bbe\u7f6erank\u3002 nebula> FETCH PROP ON serve \"player100\" -> \"team204\"@1; +-----------------------------------------------------------------------+ | edges_ | +-----------------------------------------------------------------------+ | [:serve \"player100\"->\"team204\" @1 {end_year: 2017, start_year: 1998}] | +-----------------------------------------------------------------------+","title":"\u57fa\u4e8erank\u83b7\u53d6\u5c5e\u6027\u503c"},{"location":"3.ngql-guide/7.general-query-statements/4.fetch/#fetch_1","text":"\u5c06 FETCH \u4e0enGQL\u6269\u5c55\u7ed3\u5408\u4f7f\u7528\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u548c GO \u4e00\u8d77\u3002 # \u8fd4\u56de\u4ece\u70b9player101\u5f00\u59cb\u7684follow\u8fb9\u7684degree\u503c\u3002 nebula> GO FROM \"player101\" OVER follow \\ YIELD follow._src AS s, follow._dst AS d \\ | FETCH PROP ON follow $-.s -> $-.d \\ YIELD follow.degree; +-------------+-------------+--------------+---------------+ | follow._src | follow._dst | follow._rank | follow.degree | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player100\" | 0 | 95 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player102\" | 0 | 90 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player125\" | 0 | 95 | +-------------+-------------+--------------+---------------+ \u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u53d8\u91cf\u6784\u5efa\u7c7b\u4f3c\u7684\u67e5\u8be2\u3002 nebula> $var = GO FROM \"player101\" OVER follow \\ YIELD follow._src AS s, follow._dst AS d; \\ FETCH PROP ON follow $var.s -> $var.d \\ YIELD follow.degree; +-------------+-------------+--------------+---------------+ | follow._src | follow._dst | follow._rank | follow.degree | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player100\" | 0 | 95 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player102\" | 0 | 90 | +-------------+-------------+--------------+---------------+ | \"player101\" | \"player125\" | 0 | 95 | +-------------+-------------+--------------+---------------+ \u66f4\u591a\u590d\u5408\u8bed\u53e5\u7684\u8be6\u60c5\uff0c\u8bf7\u53c2\u89c1 \u590d\u5408\u67e5\u8be2\uff08\u5b50\u53e5\u7ed3\u6784\uff09 \u3002","title":"\u590d\u5408\u8bed\u53e5\u4e2d\u4f7f\u7528FETCH"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/","text":"LOOKUP \u00b6 LOOKUP \u6839\u636e\u7d22\u5f15\u904d\u5386\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 LOOKUP \u5b9e\u73b0\u5982\u4e0b\u529f\u80fd\uff1a \u6839\u636e WHERE \u5b50\u53e5\u641c\u7d22\u7279\u5b9a\u6570\u636e\u3002 \u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9: \u68c0\u7d22\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u70b9ID\u3002 \u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9\uff1a\u68c0\u7d22\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548crank\u3002 \u8ba1\u6570\u6307\u5b9a\u6807\u7b7e\u7684\u70b9\u6216\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8fb9\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u8bf7\u786e\u4fdd LOOKUP \u8bed\u53e5\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u60a8\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u70b9\u3001\u8fb9\u6216\u5c5e\u6027\uff0c\u60a8\u5fc5\u987b\u5728\u521b\u5efa\u7d22\u5f15\u540e\u91cd\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u624d\u80fd\u751f\u6548\u3002 \u8b66\u544a \uff1a\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7\u4e0d\u8981\u968f\u610f\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002 \u8bed\u6cd5 \u00b6 LOOKUP ON {<vertex_tag> | <edge_type>} [WHERE <expression> [AND <expression> ...]] [YIELD <return_list>]; <return_list> <prop_name> [AS <col_alias>] [, <prop_name> [AS <prop_alias>] ...]; WHERE <expression> \uff1a\u6307\u5b9a\u904d\u5386\u7684\u8fc7\u6ee4\u6761\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u7ed3\u5408AND\u3001OR\u4e00\u8d77\u4f7f\u7528\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002 YIELD <return_list> \uff1a\u6307\u5b9a\u8981\u8fd4\u56de\u7684\u7ed3\u679c\u548c\u683c\u5f0f. \u5982\u679c\u53ea\u6709 WHERE \u5b50\u53e5\uff0c\u6ca1\u6709 YIELD \u5b50\u53e5: LOOKUP \u6807\u7b7e\u65f6\uff0c\u8fd4\u56de\u70b9ID\u3002 LOOKUP \u8fb9\u7c7b\u578b\u65f6\uff0c\u8fd4\u56de\u8d77\u59cb\u70b9ID\u3001\u76ee\u7684\u70b9ID\u548crank\u3002 WHERE\u8bed\u53e5\u9650\u5236 \u00b6 \u5728 LOOKUP \u8bed\u53e5\u4e2d\u4f7f\u7528 WHERE \u5b50\u53e5\uff0c\u4e0d\u652f\u6301\u5982\u4e0b\u64cd\u4f5c\uff1a $- \u548c $^ \u3002 \u5728\u5173\u7cfb\u8868\u8fbe\u5f0f\u4e2d\uff0c\u4e0d\u652f\u6301\u8fd0\u7b97\u7b26\u4e24\u8fb9\u90fd\u6709\u5b57\u6bb5\u540d\uff0c\u4f8b\u5982 tagName.prop1> tagName.prop2 \u3002 \u4e0d\u652f\u6301\u8fd0\u7b97\u8868\u8fbe\u5f0f\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\u4e2d\u5d4c\u5957AliasProp\u8868\u8fbe\u5f0f\u3002 \u5b57\u7b26\u4e32\u7c7b\u578b\u7d22\u5f15\u4e0d\u652f\u6301\u8303\u56f4\u626b\u63cf\u3002 \u4e0d\u652f\u6301 OR \u548c XOR \u8fd0\u7b97\u7b26\u3002 \u68c0\u7d22\u70b9 \u00b6 \u8fd4\u56de\u6807\u7b7e\u4e3a player \u4e14 name \u4e3a Tony Parker \u7684\u70b9\u3002 nebula> CREATE TAG INDEX index_player ON player(name(30), age); nebula> REBUILD TAG INDEX index_player; +------------+ | New Job Id | +------------+ | 15 | +------------+ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\"; ============ | VertexID | ============ | 101 | ------------ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- nebula> LOOKUP ON player WHERE player.name == \"Kobe Bryant\" YIELD player.name AS name \\ | GO FROM $-.VertexID OVER serve \\ YIELD $-.name, serve.start_year, serve.end_year, $$.team.name; ================================================================== | $-.name | serve.start_year | serve.end_year | $$.team.name | ================================================================== | Kobe Bryant | 1996 | 2016 | Lakers | ------------------------------------------------------------------ \u68c0\u7d22\u8fb9 \u00b6 \u8fd4\u56de\u8fb9\u7c7b\u578b\u4e3a follow \u4e14 degree \u4e3a 90 \u7684\u8fb9\u3002 nebula> CREATE EDGE INDEX index_follow ON follow(degree); nebula> REBUILD EDGE INDEX index_follow; +------------+ | New Job Id | +------------+ | 62 | +------------+ nebula> LOOKUP ON follow WHERE follow.degree == 90; ============================= | SrcVID | DstVID | Ranking | ============================= | 100 | 106 | 0 | ----------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD follow.degree; ============================================= | SrcVID | DstVID | Ranking | follow.degree | ============================================= | 100 | 106 | 0 | 90 | --------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 60 YIELD follow.degree AS Degree \\ | GO FROM $-.DstVID OVER serve \\ YIELD $-.DstVID, serve.start_year, serve.end_year, $$.team.name; ================================================================ | $-.DstVID | serve.start_year | serve.end_year | $$.team.name | ================================================================ | 105 | 2010 | 2018 | Spurs | ---------------------------------------------------------------- | 105 | 2009 | 2010 | Cavaliers | ---------------------------------------------------------------- | 105 | 2018 | 2019 | Raptors | ---------------------------------------------------------------- \u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9/\u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9 \u00b6 \u5982\u679c\u9700\u8981\u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9\uff0c\u6216\u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9\uff0c\u5219\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u6216\u5c5e\u6027\u4e0a\u5fc5\u987b\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u3002 \u4f8b\u5982\u4e00\u4e2a\u6807\u7b7e player \u6709\u4e24\u4e2a\u5c5e\u6027 name \u548c age \uff0c\u4e3a\u4e86\u904d\u5386\u6240\u6709\u5305\u542b\u6807\u7b7e player \u7684\u70b9ID\uff0c\u6807\u7b7e player \u3001\u5c5e\u6027 name \u6216\u5c5e\u6027 age \u4e2d\u5fc5\u987b\u6709\u4e00\u4e2a\u5df2\u7ecf\u521b\u5efa\u7d22\u5f15\u3002 \u68c0\u7d22\u6240\u6709\u6807\u8bb0\u4e3a player \u7684\u70b9ID\u3002 nebula> CREATE TAG player(name string,age int); nebula> CREATE TAG INDEX player_index on player(); nebula> REBUILD TAG INDEX player_index; +------------+ | New Job Id | +------------+ | 66 | +------------+ nebula> INSERT VERTEX player(name,age) VALUES \"player100\":(\"Tim Duncan\", 42), \"player101\":(\"Tony Parker\", 36); nebula> LOOKUP ON player; +-------------+ | _vid | +-------------+ | \"player100\" | +-------------+ | \"player101\" | +-------------+ \u68c0\u7d22\u8fb9\u7c7b\u578b\u4e3a like \u7684\u6240\u6709\u8fb9\u7684\u4fe1\u606f\u3002 nebula)> CREATE EDGE like(likeness int); nebula)> CREATE EDGE INDEX like_index on like(); nebula> REBUILD EDGE INDEX like_index; +------------+ | New Job Id | +------------+ | 88 | +------------+ nebula)> INSERT EDGE like(likeness) values \"player100\"->\"player101\":(95); nebula)> LOOKUP ON like; +-------------+----------+-------------+ | _src | _ranking | _dst | +-------------+----------+-------------+ | \"player100\" | 0 | \"player101\" | +-------------+----------+-------------+ \u8ba1\u6570\u70b9\u6216\u8fb9 \u00b6 \u8ba1\u6570\u6807\u7b7e\u4e3a player \u7684\u70b9\u548c\u8fb9\u7c7b\u578b\u4e3a like \u7684\u8fb9\u3002 nebula> LOOKUP ON player | YIELD COUNT(*) AS Player_Number; +---------------+ | Player_Number | +---------------+ | 2 | +---------------+ nebula> LOOKUP ON like | YIELD COUNT(*) AS Like_Number; +-------------+ | Like_Number | +-------------+ | 1 | +-------------+ FAQ \u00b6 \u9519\u8bef\u7801 411 \u00b6 [ ERROR ( -8 )] : Unknown error ( 411 ) : \u9519\u8bef\u7801 411 \u8868\u793a WHERE \u8fc7\u6ee4\u65f6\u6ca1\u6709\u6709\u6548\u7684\u7d22\u5f15\u3002Nebula Graph\u7684\u7d22\u5f15\u4f7f\u7528\u7684\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u5373\u4ece\u6700\u5de6\u8fb9\u7684\u4e3a\u8d77\u70b9\u4efb\u4f55\u8fde\u7eed\u7684\u7d22\u5f15\u90fd\u80fd\u5339\u914d\u4e0a\u3002\u4f8b\u5982\uff1a # \u4e3a\u6807\u7b7et\u7684\u524d\u4e09\u4e2a\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX example_index ON TAG t(p1, p2, p3); # \u65e0\u6cd5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3a\u4e0d\u662f\u4ecep1\u5f00\u59cb\u3002 nebula> LOOKUP ON t WHERE p2 == 1 and p3 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\u3002 nebula> LOOKUP ON t WHERE p1 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u548cp2\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u3001p2\u3001p3\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1 and p3 == 1; \u6ca1\u6709\u627e\u5230\u6709\u6548\u7d22\u5f15 \u00b6 No valid index found \u5982\u679c\u60a8\u7684\u67e5\u8be2\u8fc7\u6ee4\u5668\u5305\u542b\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\uff0cNebula Graph\u4f1a\u9009\u62e9\u5339\u914d\u6240\u6709\u5b57\u6bb5\u7684\u7d22\u5f15\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG t1 (c1 string, c2 int); nebula> CREATE TAG INDEX i1 ON t1 (c1, c2); # \u7d22\u5f15i1\u65e0\u6548\u3002 nebula> LOOKUP ON t1 WHERE t1.c1 == \"a\"; # \u7d22\u5f15i1\u6709\u6548\u3002 nebula> LOOKUP ON t1 WHERE t1.c1 == \"a\" and t1.c2 == 1;","title":"LOOKUP"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#lookup","text":"LOOKUP \u6839\u636e\u7d22\u5f15\u904d\u5386\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 LOOKUP \u5b9e\u73b0\u5982\u4e0b\u529f\u80fd\uff1a \u6839\u636e WHERE \u5b50\u53e5\u641c\u7d22\u7279\u5b9a\u6570\u636e\u3002 \u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9: \u68c0\u7d22\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u70b9ID\u3002 \u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9\uff1a\u68c0\u7d22\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u8fb9\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548crank\u3002 \u8ba1\u6570\u6307\u5b9a\u6807\u7b7e\u7684\u70b9\u6216\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u8fb9\u3002","title":"LOOKUP"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_1","text":"\u8bf7\u786e\u4fdd LOOKUP \u8bed\u53e5\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u53ef\u7528\u3002\u5982\u679c\u60a8\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u70b9\u3001\u8fb9\u6216\u5c5e\u6027\uff0c\u60a8\u5fc5\u987b\u5728\u521b\u5efa\u7d22\u5f15\u540e\u91cd\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u624d\u80fd\u751f\u6548\u3002 \u8b66\u544a \uff1a\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u4f46\u662f\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u6027\u80fd\u5927\u5e45\u964d\u4f4e\uff08\u964d\u4f4e90%\u751a\u81f3\u66f4\u591a\uff09\u3002\u8bf7\u4e0d\u8981\u968f\u610f\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u7d22\u5f15\uff0c\u9664\u975e\u60a8\u5f88\u6e05\u695a\u4f7f\u7528\u7d22\u5f15\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_2","text":"LOOKUP ON {<vertex_tag> | <edge_type>} [WHERE <expression> [AND <expression> ...]] [YIELD <return_list>]; <return_list> <prop_name> [AS <col_alias>] [, <prop_name> [AS <prop_alias>] ...]; WHERE <expression> \uff1a\u6307\u5b9a\u904d\u5386\u7684\u8fc7\u6ee4\u6761\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u7ed3\u5408AND\u3001OR\u4e00\u8d77\u4f7f\u7528\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002 YIELD <return_list> \uff1a\u6307\u5b9a\u8981\u8fd4\u56de\u7684\u7ed3\u679c\u548c\u683c\u5f0f. \u5982\u679c\u53ea\u6709 WHERE \u5b50\u53e5\uff0c\u6ca1\u6709 YIELD \u5b50\u53e5: LOOKUP \u6807\u7b7e\u65f6\uff0c\u8fd4\u56de\u70b9ID\u3002 LOOKUP \u8fb9\u7c7b\u578b\u65f6\uff0c\u8fd4\u56de\u8d77\u59cb\u70b9ID\u3001\u76ee\u7684\u70b9ID\u548crank\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#where","text":"\u5728 LOOKUP \u8bed\u53e5\u4e2d\u4f7f\u7528 WHERE \u5b50\u53e5\uff0c\u4e0d\u652f\u6301\u5982\u4e0b\u64cd\u4f5c\uff1a $- \u548c $^ \u3002 \u5728\u5173\u7cfb\u8868\u8fbe\u5f0f\u4e2d\uff0c\u4e0d\u652f\u6301\u8fd0\u7b97\u7b26\u4e24\u8fb9\u90fd\u6709\u5b57\u6bb5\u540d\uff0c\u4f8b\u5982 tagName.prop1> tagName.prop2 \u3002 \u4e0d\u652f\u6301\u8fd0\u7b97\u8868\u8fbe\u5f0f\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\u4e2d\u5d4c\u5957AliasProp\u8868\u8fbe\u5f0f\u3002 \u5b57\u7b26\u4e32\u7c7b\u578b\u7d22\u5f15\u4e0d\u652f\u6301\u8303\u56f4\u626b\u63cf\u3002 \u4e0d\u652f\u6301 OR \u548c XOR \u8fd0\u7b97\u7b26\u3002","title":"WHERE\u8bed\u53e5\u9650\u5236"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_3","text":"\u8fd4\u56de\u6807\u7b7e\u4e3a player \u4e14 name \u4e3a Tony Parker \u7684\u70b9\u3002 nebula> CREATE TAG INDEX index_player ON player(name(30), age); nebula> REBUILD TAG INDEX index_player; +------------+ | New Job Id | +------------+ | 15 | +------------+ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\"; ============ | VertexID | ============ | 101 | ------------ nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- nebula> LOOKUP ON player WHERE player.name == \"Kobe Bryant\" YIELD player.name AS name \\ | GO FROM $-.VertexID OVER serve \\ YIELD $-.name, serve.start_year, serve.end_year, $$.team.name; ================================================================== | $-.name | serve.start_year | serve.end_year | $$.team.name | ================================================================== | Kobe Bryant | 1996 | 2016 | Lakers | ------------------------------------------------------------------","title":"\u68c0\u7d22\u70b9"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_4","text":"\u8fd4\u56de\u8fb9\u7c7b\u578b\u4e3a follow \u4e14 degree \u4e3a 90 \u7684\u8fb9\u3002 nebula> CREATE EDGE INDEX index_follow ON follow(degree); nebula> REBUILD EDGE INDEX index_follow; +------------+ | New Job Id | +------------+ | 62 | +------------+ nebula> LOOKUP ON follow WHERE follow.degree == 90; ============================= | SrcVID | DstVID | Ranking | ============================= | 100 | 106 | 0 | ----------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 90 YIELD follow.degree; ============================================= | SrcVID | DstVID | Ranking | follow.degree | ============================================= | 100 | 106 | 0 | 90 | --------------------------------------------- nebula> LOOKUP ON follow WHERE follow.degree == 60 YIELD follow.degree AS Degree \\ | GO FROM $-.DstVID OVER serve \\ YIELD $-.DstVID, serve.start_year, serve.end_year, $$.team.name; ================================================================ | $-.DstVID | serve.start_year | serve.end_year | $$.team.name | ================================================================ | 105 | 2010 | 2018 | Spurs | ---------------------------------------------------------------- | 105 | 2009 | 2010 | Cavaliers | ---------------------------------------------------------------- | 105 | 2018 | 2019 | Raptors | ----------------------------------------------------------------","title":"\u68c0\u7d22\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_5","text":"\u5982\u679c\u9700\u8981\u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9\uff0c\u6216\u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9\uff0c\u5219\u6807\u7b7e\u3001\u8fb9\u7c7b\u578b\u6216\u5c5e\u6027\u4e0a\u5fc5\u987b\u6709\u81f3\u5c11\u4e00\u4e2a\u7d22\u5f15\u3002 \u4f8b\u5982\u4e00\u4e2a\u6807\u7b7e player \u6709\u4e24\u4e2a\u5c5e\u6027 name \u548c age \uff0c\u4e3a\u4e86\u904d\u5386\u6240\u6709\u5305\u542b\u6807\u7b7e player \u7684\u70b9ID\uff0c\u6807\u7b7e player \u3001\u5c5e\u6027 name \u6216\u5c5e\u6027 age \u4e2d\u5fc5\u987b\u6709\u4e00\u4e2a\u5df2\u7ecf\u521b\u5efa\u7d22\u5f15\u3002 \u68c0\u7d22\u6240\u6709\u6807\u8bb0\u4e3a player \u7684\u70b9ID\u3002 nebula> CREATE TAG player(name string,age int); nebula> CREATE TAG INDEX player_index on player(); nebula> REBUILD TAG INDEX player_index; +------------+ | New Job Id | +------------+ | 66 | +------------+ nebula> INSERT VERTEX player(name,age) VALUES \"player100\":(\"Tim Duncan\", 42), \"player101\":(\"Tony Parker\", 36); nebula> LOOKUP ON player; +-------------+ | _vid | +-------------+ | \"player100\" | +-------------+ | \"player101\" | +-------------+ \u68c0\u7d22\u8fb9\u7c7b\u578b\u4e3a like \u7684\u6240\u6709\u8fb9\u7684\u4fe1\u606f\u3002 nebula)> CREATE EDGE like(likeness int); nebula)> CREATE EDGE INDEX like_index on like(); nebula> REBUILD EDGE INDEX like_index; +------------+ | New Job Id | +------------+ | 88 | +------------+ nebula)> INSERT EDGE like(likeness) values \"player100\"->\"player101\":(95); nebula)> LOOKUP ON like; +-------------+----------+-------------+ | _src | _ranking | _dst | +-------------+----------+-------------+ | \"player100\" | 0 | \"player101\" | +-------------+----------+-------------+","title":"\u901a\u8fc7\u6807\u7b7e\u5217\u51fa\u70b9/\u901a\u8fc7\u8fb9\u7c7b\u578b\u5217\u51fa\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_6","text":"\u8ba1\u6570\u6807\u7b7e\u4e3a player \u7684\u70b9\u548c\u8fb9\u7c7b\u578b\u4e3a like \u7684\u8fb9\u3002 nebula> LOOKUP ON player | YIELD COUNT(*) AS Player_Number; +---------------+ | Player_Number | +---------------+ | 2 | +---------------+ nebula> LOOKUP ON like | YIELD COUNT(*) AS Like_Number; +-------------+ | Like_Number | +-------------+ | 1 | +-------------+","title":"\u8ba1\u6570\u70b9\u6216\u8fb9"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#faq","text":"","title":"FAQ"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#411","text":"[ ERROR ( -8 )] : Unknown error ( 411 ) : \u9519\u8bef\u7801 411 \u8868\u793a WHERE \u8fc7\u6ee4\u65f6\u6ca1\u6709\u6709\u6548\u7684\u7d22\u5f15\u3002Nebula Graph\u7684\u7d22\u5f15\u4f7f\u7528\u7684\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u5373\u4ece\u6700\u5de6\u8fb9\u7684\u4e3a\u8d77\u70b9\u4efb\u4f55\u8fde\u7eed\u7684\u7d22\u5f15\u90fd\u80fd\u5339\u914d\u4e0a\u3002\u4f8b\u5982\uff1a # \u4e3a\u6807\u7b7et\u7684\u524d\u4e09\u4e2a\u5c5e\u6027\u521b\u5efa\u7d22\u5f15\u3002 nebula> CREATE TAG INDEX example_index ON TAG t(p1, p2, p3); # \u65e0\u6cd5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3a\u4e0d\u662f\u4ecep1\u5f00\u59cb\u3002 nebula> LOOKUP ON t WHERE p2 == 1 and p3 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\u3002 nebula> LOOKUP ON t WHERE p1 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u548cp2\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1; # \u53ef\u4ee5\u5339\u914d\u7d22\u5f15\uff0c\u56e0\u4e3ap1\u3001p2\u3001p3\u662f\u8fde\u7eed\u7684\u3002 nebula> LOOKUP ON t WHERE p1 == 1 and p2 == 1 and p3 == 1;","title":"\u9519\u8bef\u7801411"},{"location":"3.ngql-guide/7.general-query-statements/5.lookup/#_7","text":"No valid index found \u5982\u679c\u60a8\u7684\u67e5\u8be2\u8fc7\u6ee4\u5668\u5305\u542b\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\uff0cNebula Graph\u4f1a\u9009\u62e9\u5339\u914d\u6240\u6709\u5b57\u6bb5\u7684\u7d22\u5f15\u3002\u4f8b\u5982\uff1a nebula> CREATE TAG t1 (c1 string, c2 int); nebula> CREATE TAG INDEX i1 ON t1 (c1, c2); # \u7d22\u5f15i1\u65e0\u6548\u3002 nebula> LOOKUP ON t1 WHERE t1.c1 == \"a\"; # \u7d22\u5f15i1\u6709\u6548\u3002 nebula> LOOKUP ON t1 WHERE t1.c1 == \"a\" and t1.c2 == 1;","title":"\u6ca1\u6709\u627e\u5230\u6709\u6548\u7d22\u5f15"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/","text":"UNWIND \u00b6 UNWIND \u8bed\u53e5\u53ef\u4ee5\u5c06\u5217\u8868\u62c6\u5206\u4e3a\u5355\u72ec\u7684\u884c\uff0c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4e3a\u4e00\u884c\u3002 UNWIND \u53ef\u4ee5\u4f5c\u4e3a\u5355\u72ec\u8bed\u53e5\u6216\u8bed\u53e5\u4e2d\u7684\u5b50\u53e5\u4f7f\u7528\u3002 \u8bed\u6cd5 \u00b6 UNWIND <list> AS <alias> <RETURN clause> \u62c6\u5206\u5217\u8868 \u00b6 nebula) [basketballplayer]> UNWIND [1,2,3] AS n RETURN n; +---+ | n | +---+ | 1 | +---+ | 2 | +---+ | 3 | +---+ \u8fd4\u56de\u53bb\u91cd\u5217\u8868 \u00b6 \u5728 UNWIND \u8bed\u53e5\u4e2d\u4f7f\u7528 WITH DISTINCT \u53ef\u4ee5\u5c06\u5217\u8868\u4e2d\u7684\u91cd\u590d\u9879\u5ffd\u7565\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u3002 \u793a\u4f8b1 \u00b6 \u62c6\u5206\u5217\u8868 [1,1,2,2,3,3] \u3002 \u5220\u9664\u91cd\u590d\u884c\u3002 \u6392\u5e8f\u884c\u3002 \u5c06\u884c\u8f6c\u6362\u4e3a\u5217\u8868\u3002 nebula> WITH [1,1,2,2,3,3] AS n \\ UNWIND n AS r \\ WITH DISTINCT r AS r \\ ORDER BY r \\ RETURN collect(r); +------------+ | COLLECT(r) | +------------+ | [1, 2, 3] | +------------+ \u793a\u4f8b2 \u00b6 \u5c06\u5339\u914d\u8def\u5f84\u4e0a\u7684\u9876\u70b9\u8f93\u51fa\u5230\u5217\u8868\u4e2d\u3002 \u62c6\u5206\u5217\u8868\u3002 \u5220\u9664\u91cd\u590d\u884c\u3002 \u5c06\u884c\u8f6c\u6362\u4e3a\u5217\u8868\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--(v2) \\ WITH nodes(p) AS n \\ UNWIND n AS r \\ WITH DISTINCT r AS r \\ RETURN collect(r); +----------------------------------------------------------------------------------------------------------------------+ | COLLECT(r) | +----------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{age: 36, name: \"Tony Parker\"}), (\"team204\" :team{name: \"Spurs\"}), (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}), (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}), (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}), (\"player144\" :player{age: 47, name: \"Shaquile O'Neal\"}), (\"player105\" :player{age: 31, name: \"Danny Green\"}), (\"player113\" :player{age: 29, name: \"Dejounte Murray\"}), (\"player107\" :player{age: 32, name: \"Aron Baynes\"}), (\"player109\" :player{age: 34, name: \"Tiago Splitter\"}), (\"player108\" :player{age: 36, name: \"Boris Diaw\"})] | +----------------------------------------------------------------------------------------------------------------------+","title":"UNWIND"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#unwind","text":"UNWIND \u8bed\u53e5\u53ef\u4ee5\u5c06\u5217\u8868\u62c6\u5206\u4e3a\u5355\u72ec\u7684\u884c\uff0c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4e3a\u4e00\u884c\u3002 UNWIND \u53ef\u4ee5\u4f5c\u4e3a\u5355\u72ec\u8bed\u53e5\u6216\u8bed\u53e5\u4e2d\u7684\u5b50\u53e5\u4f7f\u7528\u3002","title":"UNWIND"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#_1","text":"UNWIND <list> AS <alias> <RETURN clause>","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#_2","text":"nebula) [basketballplayer]> UNWIND [1,2,3] AS n RETURN n; +---+ | n | +---+ | 1 | +---+ | 2 | +---+ | 3 | +---+","title":"\u62c6\u5206\u5217\u8868"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#_3","text":"\u5728 UNWIND \u8bed\u53e5\u4e2d\u4f7f\u7528 WITH DISTINCT \u53ef\u4ee5\u5c06\u5217\u8868\u4e2d\u7684\u91cd\u590d\u9879\u5ffd\u7565\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u3002","title":"\u8fd4\u56de\u53bb\u91cd\u5217\u8868"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#1","text":"\u62c6\u5206\u5217\u8868 [1,1,2,2,3,3] \u3002 \u5220\u9664\u91cd\u590d\u884c\u3002 \u6392\u5e8f\u884c\u3002 \u5c06\u884c\u8f6c\u6362\u4e3a\u5217\u8868\u3002 nebula> WITH [1,1,2,2,3,3] AS n \\ UNWIND n AS r \\ WITH DISTINCT r AS r \\ ORDER BY r \\ RETURN collect(r); +------------+ | COLLECT(r) | +------------+ | [1, 2, 3] | +------------+","title":"\u793a\u4f8b1"},{"location":"3.ngql-guide/7.general-query-statements/7.unwind/#2","text":"\u5c06\u5339\u914d\u8def\u5f84\u4e0a\u7684\u9876\u70b9\u8f93\u51fa\u5230\u5217\u8868\u4e2d\u3002 \u62c6\u5206\u5217\u8868\u3002 \u5220\u9664\u91cd\u590d\u884c\u3002 \u5c06\u884c\u8f6c\u6362\u4e3a\u5217\u8868\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--(v2) \\ WITH nodes(p) AS n \\ UNWIND n AS r \\ WITH DISTINCT r AS r \\ RETURN collect(r); +----------------------------------------------------------------------------------------------------------------------+ | COLLECT(r) | +----------------------------------------------------------------------------------------------------------------------+ | [(\"player100\" :player{age: 42, name: \"Tim Duncan\"}), (\"player101\" :player{age: 36, name: \"Tony Parker\"}), (\"team204\" :team{name: \"Spurs\"}), (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}), (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}), (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}), (\"player144\" :player{age: 47, name: \"Shaquile O'Neal\"}), (\"player105\" :player{age: 31, name: \"Danny Green\"}), (\"player113\" :player{age: 29, name: \"Dejounte Murray\"}), (\"player107\" :player{age: 32, name: \"Aron Baynes\"}), (\"player109\" :player{age: 34, name: \"Tiago Splitter\"}), (\"player108\" :player{age: 36, name: \"Boris Diaw\"})] | +----------------------------------------------------------------------------------------------------------------------+","title":"\u793a\u4f8b2"},{"location":"3.ngql-guide/7.general-query-statements/6.show/1.show-charset/","text":"SHOW CHARSET \u00b6 SHOW CHARSET \u8bed\u53e5\u663e\u793a\u5f53\u524d\u7684\u5b57\u7b26\u96c6\u3002 \u76ee\u524d\u53ef\u7528\u7684\u5b57\u7b26\u96c6\u4e3a utf8 \u548c utf8mb4 \u3002\u9ed8\u8ba4\u5b57\u7b26\u96c6\u4e3a utf8 \u3002Nebula Graph\u6269\u5c55 uft8 \u652f\u6301\u56db\u5b57\u8282\u5b57\u7b26\uff0c\u56e0\u6b64 utf8 \u548c utf8mb4 \u662f\u7b49\u4ef7\u7684\u3002 \u8bed\u6cd5 \u00b6 SHOW CHARSET; \u793a\u4f8b \u00b6 nebula> SHOW CHARSET; +---------+-----------------+-------------------+--------+ | Charset | Description | Default collation | Maxlen | +---------+-----------------+-------------------+--------+ | \"utf8\" | \"UTF-8 Unicode\" | \"utf8_bin\" | 4 | +---------+-----------------+-------------------+--------+ \u53c2\u6570 \u8bf4\u660e Charset \u5b57\u7b26\u96c6\u540d\u79f0\u3002 Description \u5b57\u7b26\u96c6\u8bf4\u660e\u3002 Default collation \u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002 Maxlen \u5b58\u50a8\u4e00\u4e2a\u5b57\u7b26\u6240\u9700\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","title":"SHOW CHARSET"},{"location":"3.ngql-guide/7.general-query-statements/6.show/1.show-charset/#show_charset","text":"SHOW CHARSET \u8bed\u53e5\u663e\u793a\u5f53\u524d\u7684\u5b57\u7b26\u96c6\u3002 \u76ee\u524d\u53ef\u7528\u7684\u5b57\u7b26\u96c6\u4e3a utf8 \u548c utf8mb4 \u3002\u9ed8\u8ba4\u5b57\u7b26\u96c6\u4e3a utf8 \u3002Nebula Graph\u6269\u5c55 uft8 \u652f\u6301\u56db\u5b57\u8282\u5b57\u7b26\uff0c\u56e0\u6b64 utf8 \u548c utf8mb4 \u662f\u7b49\u4ef7\u7684\u3002","title":"SHOW CHARSET"},{"location":"3.ngql-guide/7.general-query-statements/6.show/1.show-charset/#_1","text":"SHOW CHARSET;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/1.show-charset/#_2","text":"nebula> SHOW CHARSET; +---------+-----------------+-------------------+--------+ | Charset | Description | Default collation | Maxlen | +---------+-----------------+-------------------+--------+ | \"utf8\" | \"UTF-8 Unicode\" | \"utf8_bin\" | 4 | +---------+-----------------+-------------------+--------+ \u53c2\u6570 \u8bf4\u660e Charset \u5b57\u7b26\u96c6\u540d\u79f0\u3002 Description \u5b57\u7b26\u96c6\u8bf4\u660e\u3002 Default collation \u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002 Maxlen \u5b58\u50a8\u4e00\u4e2a\u5b57\u7b26\u6240\u9700\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/10.show-roles/","text":"SHOW ROLES \u00b6 SHOW ROLES \u8bed\u53e5\u663e\u793a\u5206\u914d\u7ed9\u7528\u6237\u7684\u89d2\u8272\u4fe1\u606f\u3002 \u6839\u636e\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u4e5f\u6709\u6240\u4e0d\u540c\uff1a \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u662f GOD \uff0c\u6216\u8005\u6709\u6743\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4\u7684 ADMIN \uff0c\u5219\u8fd4\u56de\u8be5\u56fe\u7a7a\u95f4\u5185\u9664 GOD \u4e4b\u5916\u7684\u6240\u6709\u7528\u6237\u89d2\u8272\u4fe1\u606f\u3002 \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u662f\u6709\u6743\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4 DBA \u3001 USER \u6216 GUEST \uff0c\u5219\u8fd4\u56de\u81ea\u8eab\u7684\u89d2\u8272\u4fe1\u606f\u3002 \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4\uff0c\u5219\u8fd4\u56de\u6743\u9650\u9519\u8bef\u3002 \u5173\u4e8e\u89d2\u8272\u7684\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 \u00b6 SHOW ROLES IN <space_name>; \u793a\u4f8b \u00b6 nebula> SHOW ROLES in basketballplayer; +---------+-----------+ | Account | Role Type | +---------+-----------+ | \"user1\" | \"ADMIN\" | +---------+-----------+","title":"SHOW ROLES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/10.show-roles/#show_roles","text":"SHOW ROLES \u8bed\u53e5\u663e\u793a\u5206\u914d\u7ed9\u7528\u6237\u7684\u89d2\u8272\u4fe1\u606f\u3002 \u6839\u636e\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u4e5f\u6709\u6240\u4e0d\u540c\uff1a \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u662f GOD \uff0c\u6216\u8005\u6709\u6743\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4\u7684 ADMIN \uff0c\u5219\u8fd4\u56de\u8be5\u56fe\u7a7a\u95f4\u5185\u9664 GOD \u4e4b\u5916\u7684\u6240\u6709\u7528\u6237\u89d2\u8272\u4fe1\u606f\u3002 \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u662f\u6709\u6743\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4 DBA \u3001 USER \u6216 GUEST \uff0c\u5219\u8fd4\u56de\u81ea\u8eab\u7684\u89d2\u8272\u4fe1\u606f\u3002 \u5982\u679c\u767b\u5f55\u7684\u7528\u6237\u89d2\u8272\u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u8be5\u56fe\u7a7a\u95f4\uff0c\u5219\u8fd4\u56de\u6743\u9650\u9519\u8bef\u3002 \u5173\u4e8e\u89d2\u8272\u7684\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002","title":"SHOW ROLES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/10.show-roles/#_1","text":"SHOW ROLES IN <space_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/10.show-roles/#_2","text":"nebula> SHOW ROLES in basketballplayer; +---------+-----------+ | Account | Role Type | +---------+-----------+ | \"user1\" | \"ADMIN\" | +---------+-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/11.show-snapshots/","text":"SHOW SNAPSHOTS \u00b6 SHOW SNAPSHOTS \u8bed\u53e5\u663e\u793a\u6240\u6709\u5feb\u7167\u4fe1\u606f\u3002 \u5feb\u7167\u7684\u4f7f\u7528\u65b9\u5f0f\u8bf7\u53c2\u89c1 \u7ba1\u7406\u5feb\u7167 \u3002 \u89d2\u8272\u8981\u6c42 \u00b6 \u53ea\u6709 GOD \u89d2\u8272\u7684\u7528\u6237\uff08\u5373 root \uff09\u624d\u80fd\u6267\u884c SHOW SNAPSHOTS \u8bed\u53e5\u3002 \u8bed\u6cd5 \u00b6 SHOW SNAPSHOTS; \u793a\u4f8b \u00b6 nebula> SHOW SNAPSHOTS; +--------------------------------+---------+-----------------------------------------------------+ | Name | Status | Hosts | +--------------------------------+---------+-----------------------------------------------------+ | \"SNAPSHOT_2020_12_16_11_13_55\" | \"VALID\" | \"storaged0:9779, storaged1:9779, storaged2:9779\" | +--------------------------------+---------+-----------------------------------------------------+ | \"SNAPSHOT_2020_12_16_11_14_10\" | \"VALID\" | \"storaged0:9779, storaged1:9779, storaged2:9779\" | +--------------------------------+---------+-----------------------------------------------------+","title":"SHOW SNAPSHOTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/11.show-snapshots/#show_snapshots","text":"SHOW SNAPSHOTS \u8bed\u53e5\u663e\u793a\u6240\u6709\u5feb\u7167\u4fe1\u606f\u3002 \u5feb\u7167\u7684\u4f7f\u7528\u65b9\u5f0f\u8bf7\u53c2\u89c1 \u7ba1\u7406\u5feb\u7167 \u3002","title":"SHOW SNAPSHOTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/11.show-snapshots/#_1","text":"\u53ea\u6709 GOD \u89d2\u8272\u7684\u7528\u6237\uff08\u5373 root \uff09\u624d\u80fd\u6267\u884c SHOW SNAPSHOTS \u8bed\u53e5\u3002","title":"\u89d2\u8272\u8981\u6c42"},{"location":"3.ngql-guide/7.general-query-statements/6.show/11.show-snapshots/#_2","text":"SHOW SNAPSHOTS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/11.show-snapshots/#_3","text":"nebula> SHOW SNAPSHOTS; +--------------------------------+---------+-----------------------------------------------------+ | Name | Status | Hosts | +--------------------------------+---------+-----------------------------------------------------+ | \"SNAPSHOT_2020_12_16_11_13_55\" | \"VALID\" | \"storaged0:9779, storaged1:9779, storaged2:9779\" | +--------------------------------+---------+-----------------------------------------------------+ | \"SNAPSHOT_2020_12_16_11_14_10\" | \"VALID\" | \"storaged0:9779, storaged1:9779, storaged2:9779\" | +--------------------------------+---------+-----------------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/12.show-spaces/","text":"SHOW SPACES \u00b6 SHOW SPACES \u8bed\u53e5\u663e\u793a\u73b0\u5b58\u7684\u56fe\u7a7a\u95f4\u3002 \u5982\u4f55\u521b\u5efa\u56fe\u7a7a\u95f4\uff0c\u8bf7\u53c2\u89c1 CREATE SPACE \u3002 \u8bed\u6cd5 \u00b6 SHOW SPACES; \u793a\u4f8b \u00b6 nebula> SHOW SPACES; +---------------------+ | Name | +---------------------+ | \"docs\" | +---------------------+ | \"basketballplayer\" | +---------------------+","title":"SHOW SPACES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/12.show-spaces/#show_spaces","text":"SHOW SPACES \u8bed\u53e5\u663e\u793a\u73b0\u5b58\u7684\u56fe\u7a7a\u95f4\u3002 \u5982\u4f55\u521b\u5efa\u56fe\u7a7a\u95f4\uff0c\u8bf7\u53c2\u89c1 CREATE SPACE \u3002","title":"SHOW SPACES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/12.show-spaces/#_1","text":"SHOW SPACES;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/12.show-spaces/#_2","text":"nebula> SHOW SPACES; +---------------------+ | Name | +---------------------+ | \"docs\" | +---------------------+ | \"basketballplayer\" | +---------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/14.show-stats/","text":"SHOW STATS \u00b6 SHOW STATS \u8bed\u53e5\u663e\u793a\u6700\u8fd1 STATS \u4f5c\u4e1a\u6536\u96c6\u7684\u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u3002 \u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u5305\u542b\uff1a \u70b9\u7684\u603b\u6570 \u8fb9\u7684\u603b\u6570 \u6bcf\u4e2a\u6807\u7b7e\u5173\u8054\u7684\u70b9\u7684\u603b\u6570 \u6bcf\u4e2a\u8fb9\u7c7b\u578b\u5173\u8054\u7684\u8fb9\u7684\u603b\u6570 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u9700\u8981\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f\u7684\u56fe\u7a7a\u95f4\u4e2d\u6267\u884c SUBMIT JOB STATS \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SUBMIT JOB STATS \u3002 \u8bf4\u660e \uff1a SHOW STATS \u7684\u7ed3\u679c\u53d6\u51b3\u4e8e\u6700\u8fd1\u4e00\u6b21\u6267\u884c\u7684 SUBMIT JOB STATS \uff0c\u5982\u679c\u60a8\u9700\u8981\u66f4\u65b0\u7ed3\u679c\uff0c\u8bf7\u518d\u6b21\u6267\u884c SUBMIT JOB STATS \u3002 \u8bed\u6cd5 \u00b6 SHOW STATS; \u793a\u4f8b \u00b6 # \u9009\u62e9\u56fe\u7a7a\u95f4\u3002 nebula> USE basketballplayer; # \u6267\u884cSUBMIT JOB STATS\u3002 nebula> SUBMIT JOB STATS; +------------+ | New Job Id | +------------+ | 98 | +------------+ # \u786e\u8ba4\u4f5c\u4e1a\u6267\u884c\u6210\u529f\u3002 nebula> SHOW JOB 98; +----------------+---------------+------------+------------+------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------+------------+------------+------------+ | 98 | \"STATS\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 0 | \"storaged2\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 1 | \"storaged0\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 2 | \"storaged1\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ # \u663e\u793a\u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u3002 nebula> SHOW STATS; +---------+------------+-------+ | Type | Name | Count | +---------+------------+-------+ | \"Tag\" | \"player\" | 51 | +---------+------------+-------+ | \"Tag\" | \"team\" | 30 | +---------+------------+-------+ | \"Edge\" | \"like\" | 81 | +---------+------------+-------+ | \"Edge\" | \"serve\" | 152 | +---------+------------+-------+ | \"Space\" | \"vertices\" | 81 | +---------+------------+-------+ | \"Space\" | \"edges\" | 233 | +---------+------------+-------+","title":"SHOW STATS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/14.show-stats/#show_stats","text":"SHOW STATS \u8bed\u53e5\u663e\u793a\u6700\u8fd1 STATS \u4f5c\u4e1a\u6536\u96c6\u7684\u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u3002 \u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u5305\u542b\uff1a \u70b9\u7684\u603b\u6570 \u8fb9\u7684\u603b\u6570 \u6bcf\u4e2a\u6807\u7b7e\u5173\u8054\u7684\u70b9\u7684\u603b\u6570 \u6bcf\u4e2a\u8fb9\u7c7b\u578b\u5173\u8054\u7684\u8fb9\u7684\u603b\u6570","title":"SHOW STATS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/14.show-stats/#_1","text":"\u5728\u9700\u8981\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f\u7684\u56fe\u7a7a\u95f4\u4e2d\u6267\u884c SUBMIT JOB STATS \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SUBMIT JOB STATS \u3002 \u8bf4\u660e \uff1a SHOW STATS \u7684\u7ed3\u679c\u53d6\u51b3\u4e8e\u6700\u8fd1\u4e00\u6b21\u6267\u884c\u7684 SUBMIT JOB STATS \uff0c\u5982\u679c\u60a8\u9700\u8981\u66f4\u65b0\u7ed3\u679c\uff0c\u8bf7\u518d\u6b21\u6267\u884c SUBMIT JOB STATS \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/7.general-query-statements/6.show/14.show-stats/#_2","text":"SHOW STATS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/14.show-stats/#_3","text":"# \u9009\u62e9\u56fe\u7a7a\u95f4\u3002 nebula> USE basketballplayer; # \u6267\u884cSUBMIT JOB STATS\u3002 nebula> SUBMIT JOB STATS; +------------+ | New Job Id | +------------+ | 98 | +------------+ # \u786e\u8ba4\u4f5c\u4e1a\u6267\u884c\u6210\u529f\u3002 nebula> SHOW JOB 98; +----------------+---------------+------------+------------+------------+ | Job Id(TaskId) | Command(Dest) | Status | Start Time | Stop Time | +----------------+---------------+------------+------------+------------+ | 98 | \"STATS\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 0 | \"storaged2\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 1 | \"storaged0\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ | 2 | \"storaged1\" | \"FINISHED\" | 1606552675 | 1606552675 | +----------------+---------------+------------+------------+------------+ # \u663e\u793a\u56fe\u7a7a\u95f4\u7edf\u8ba1\u4fe1\u606f\u3002 nebula> SHOW STATS; +---------+------------+-------+ | Type | Name | Count | +---------+------------+-------+ | \"Tag\" | \"player\" | 51 | +---------+------------+-------+ | \"Tag\" | \"team\" | 30 | +---------+------------+-------+ | \"Edge\" | \"like\" | 81 | +---------+------------+-------+ | \"Edge\" | \"serve\" | 152 | +---------+------------+-------+ | \"Space\" | \"vertices\" | 81 | +---------+------------+-------+ | \"Space\" | \"edges\" | 233 | +---------+------------+-------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/15.show-tags-edges/","text":"SHOW TAGS/EDGES \u00b6 SHOW TAGS \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u3002 SHOW EDGES \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u8fb9\u7c7b\u578b\u3002 \u8bed\u6cd5 \u00b6 SHOW {TAGS | EDGES}; \u793a\u4f8b \u00b6 nebula> SHOW TAGS; +----------+ | Name | +----------+ | \"player\" | +----------+ | \"star\" | +----------+ | \"team\" | +----------+ nebula> SHOW EDGES; +---------+ | Name | +---------+ | \"like\" | +---------+ | \"serve\" | +---------+","title":"SHOW TAGS/EDGES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/15.show-tags-edges/#show_tagsedges","text":"SHOW TAGS \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u6807\u7b7e\u3002 SHOW EDGES \u8bed\u53e5\u663e\u793a\u5f53\u524d\u56fe\u7a7a\u95f4\u5185\u7684\u6240\u6709\u8fb9\u7c7b\u578b\u3002","title":"SHOW TAGS/EDGES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/15.show-tags-edges/#_1","text":"SHOW {TAGS | EDGES};","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/15.show-tags-edges/#_2","text":"nebula> SHOW TAGS; +----------+ | Name | +----------+ | \"player\" | +----------+ | \"star\" | +----------+ | \"team\" | +----------+ nebula> SHOW EDGES; +---------+ | Name | +---------+ | \"like\" | +---------+ | \"serve\" | +---------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/16.show-users/","text":"SHOW USERS \u00b6 SHOW USERS \u8bed\u53e5\u663e\u793a\u7528\u6237\u4fe1\u606f\u3002 \u89d2\u8272\u8981\u6c42 \u00b6 \u53ea\u6709 GOD \u89d2\u8272\u7684\u7528\u6237\uff08\u5373 root \uff09\u624d\u80fd\u6267\u884c SHOW USERS \u8bed\u53e5\u3002 \u8bed\u6cd5 \u00b6 SHOW USERS; \u793a\u4f8b \u00b6 nebula> SHOW USERS; +---------+ | Account | +---------+ | \"root\" | +---------+ | \"user1\" | +---------+","title":"SHOW USERS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/16.show-users/#show_users","text":"SHOW USERS \u8bed\u53e5\u663e\u793a\u7528\u6237\u4fe1\u606f\u3002","title":"SHOW USERS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/16.show-users/#_1","text":"\u53ea\u6709 GOD \u89d2\u8272\u7684\u7528\u6237\uff08\u5373 root \uff09\u624d\u80fd\u6267\u884c SHOW USERS \u8bed\u53e5\u3002","title":"\u89d2\u8272\u8981\u6c42"},{"location":"3.ngql-guide/7.general-query-statements/6.show/16.show-users/#_2","text":"SHOW USERS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/16.show-users/#_3","text":"nebula> SHOW USERS; +---------+ | Account | +---------+ | \"root\" | +---------+ | \"user1\" | +---------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/2.show-collation/","text":"SHOW COLLATION \u00b6 SHOW COLLATION \u8bed\u53e5\u663e\u793a\u5f53\u524d\u7684\u6392\u5e8f\u89c4\u5219\u3002 \u76ee\u524d\u53ef\u7528\u7684\u6392\u5e8f\u89c4\u5219\u4e3a utf8_bin \u3001 utf8_general_ci \u3001 utf8mb4_bin \u548c utf8mb4_general_ci \u3002 \u5f53\u5b57\u7b26\u96c6\u4e3a utf8 \uff0c\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u4e3a utf8_bin \u3002 \u5f53\u5b57\u7b26\u96c6\u4e3a utf8mb4 \uff0c\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u4e3a utf8mb4_bin \u3002 utf8mb4_bin \u548c utf8mb4_general_ci \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 \u8bed\u6cd5 \u00b6 SHOW COLLATION; \u793a\u4f8b \u00b6 nebula> SHOW COLLATION; +------------+---------+ | Collation | Charset | +------------+---------+ | \"utf8_bin\" | \"utf8\" | +------------+---------+ \u53c2\u6570 \u8bf4\u660e Collation \u6392\u5e8f\u89c4\u5219\u540d\u79f0\u3002 Charset \u4e0e\u6392\u5e8f\u89c4\u5219\u5173\u8054\u7684\u5b57\u7b26\u96c6\u540d\u79f0\u3002","title":"SHOW COLLATION"},{"location":"3.ngql-guide/7.general-query-statements/6.show/2.show-collation/#show_collation","text":"SHOW COLLATION \u8bed\u53e5\u663e\u793a\u5f53\u524d\u7684\u6392\u5e8f\u89c4\u5219\u3002 \u76ee\u524d\u53ef\u7528\u7684\u6392\u5e8f\u89c4\u5219\u4e3a utf8_bin \u3001 utf8_general_ci \u3001 utf8mb4_bin \u548c utf8mb4_general_ci \u3002 \u5f53\u5b57\u7b26\u96c6\u4e3a utf8 \uff0c\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u4e3a utf8_bin \u3002 \u5f53\u5b57\u7b26\u96c6\u4e3a utf8mb4 \uff0c\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u4e3a utf8mb4_bin \u3002 utf8mb4_bin \u548c utf8mb4_general_ci \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002","title":"SHOW COLLATION"},{"location":"3.ngql-guide/7.general-query-statements/6.show/2.show-collation/#_1","text":"SHOW COLLATION;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/2.show-collation/#_2","text":"nebula> SHOW COLLATION; +------------+---------+ | Collation | Charset | +------------+---------+ | \"utf8_bin\" | \"utf8\" | +------------+---------+ \u53c2\u6570 \u8bf4\u660e Collation \u6392\u5e8f\u89c4\u5219\u540d\u79f0\u3002 Charset \u4e0e\u6392\u5e8f\u89c4\u5219\u5173\u8054\u7684\u5b57\u7b26\u96c6\u540d\u79f0\u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/4.show-create-space/","text":"SHOW CREATE SPACE \u00b6 SHOW CREATE SPACE \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u4f8b\u5982\u521b\u5efa\u56fe\u7a7a\u95f4\u7684nGQL\u3001\u5206\u7247\u6570\u91cf\u3001\u526f\u672c\u6570\u91cf\u7b49\u3002 \u56fe\u7a7a\u95f4\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE SPACE \u3002 \u8bed\u6cd5 \u00b6 SHOW CREATE SPACE <space_name>; \u793a\u4f8b \u00b6 nebula> SHOW CREATE SPACE basketballplayer; +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+ | Space | Create Space | +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+ | \"basketballplayer\" | \"CREATE SPACE `basketballplayer` (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin, vid_type = FIXED_STRING(32))\" | +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+","title":"SHOW CREATE SPACE"},{"location":"3.ngql-guide/7.general-query-statements/6.show/4.show-create-space/#show_create_space","text":"SHOW CREATE SPACE \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u4f8b\u5982\u521b\u5efa\u56fe\u7a7a\u95f4\u7684nGQL\u3001\u5206\u7247\u6570\u91cf\u3001\u526f\u672c\u6570\u91cf\u7b49\u3002 \u56fe\u7a7a\u95f4\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE SPACE \u3002","title":"SHOW CREATE SPACE"},{"location":"3.ngql-guide/7.general-query-statements/6.show/4.show-create-space/#_1","text":"SHOW CREATE SPACE <space_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/4.show-create-space/#_2","text":"nebula> SHOW CREATE SPACE basketballplayer; +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+ | Space | Create Space | +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+ | \"basketballplayer\" | \"CREATE SPACE `basketballplayer` (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin, vid_type = FIXED_STRING(32))\" | +--------------------+---------------------------------------------------------------------------------------------------------------------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/5.show-create-tags-edges/","text":"SHOW CREATE TAG/EDGE \u00b6 SHOW CREATE TAG \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u6807\u7b7e\u7684\u57fa\u672c\u4fe1\u606f\u3002\u6807\u7b7e\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE TAG \u3002 SHOW CREATE EDGE \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u57fa\u672c\u4fe1\u606f\u3002\u8fb9\u7c7b\u578b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE EDGE \u3002 \u8bed\u6cd5 \u00b6 SHOW CREATE {TAG <tag_name> | EDGE <edge_name>}; \u793a\u4f8b \u00b6 nebula> SHOW CREATE TAG player; +----------+-----------------------------------+ | Tag | Create Tag | +----------+-----------------------------------+ | \"player\" | \"CREATE TAG `player` ( | | | `name` string NULL, | | | `age` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\" | +----------+-----------------------------------+ nebula> SHOW CREATE EDGE follow; +----------+-----------------------------------+ | Edge | Create Edge | +----------+-----------------------------------+ | \"follow\" | \"CREATE EDGE `follow` ( | | | `degree` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\"\" | +----------+-----------------------------------+","title":"SHOW CREATE TAGS/EDGES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/5.show-create-tags-edges/#show_create_tagedge","text":"SHOW CREATE TAG \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u6807\u7b7e\u7684\u57fa\u672c\u4fe1\u606f\u3002\u6807\u7b7e\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE TAG \u3002 SHOW CREATE EDGE \u8bed\u53e5\u663e\u793a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u57fa\u672c\u4fe1\u606f\u3002\u8fb9\u7c7b\u578b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 CREATE EDGE \u3002","title":"SHOW CREATE TAG/EDGE"},{"location":"3.ngql-guide/7.general-query-statements/6.show/5.show-create-tags-edges/#_1","text":"SHOW CREATE {TAG <tag_name> | EDGE <edge_name>};","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/5.show-create-tags-edges/#_2","text":"nebula> SHOW CREATE TAG player; +----------+-----------------------------------+ | Tag | Create Tag | +----------+-----------------------------------+ | \"player\" | \"CREATE TAG `player` ( | | | `name` string NULL, | | | `age` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\" | +----------+-----------------------------------+ nebula> SHOW CREATE EDGE follow; +----------+-----------------------------------+ | Edge | Create Edge | +----------+-----------------------------------+ | \"follow\" | \"CREATE EDGE `follow` ( | | | `degree` int64 NULL | | | ) ttl_duration = 0, ttl_col = \"\"\" | +----------+-----------------------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/6.show-hosts/","text":"SHOW HOSTS \u00b6 SHOW HOSTS \u8bed\u53e5\u663e\u793a\u7531Meta\u670d\u52a1\u6ce8\u518c\u7684Graph\u3001Storage\u3001Meta\u4e3b\u673a\u3002 \u8bed\u6cd5 \u00b6 SHOW HOSTS [GRAPH/STORAGE/META]; \u793a\u4f8b \u00b6 nebula> SHOW HOSTS; +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 8 | \"docs:5, basketballplayer:3\" | \"docs:5, basketballplayer:3\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 9 | \"basketballplayer:4, docs:5\" | \"docs:5, basketballplayer:4\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:3, docs:5\" | \"docs:5, basketballplayer:3\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ Got 3 rows (time spent 866/1411 us) nebula> SHOW HOSTS GRAPH; +-------------+------+----------+---------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+---------+--------------+ | \"12.16.2.3\" | 9669 | \"ONLINE\" | \"GRAPH\" | \"761f22b\" | nebula> SHOW HOSTS STORAGE; +-------------+------+----------+-----------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+-----------+--------------+ | \"12.16.2.3\" | 9779 | \"ONLINE\" | \"STORAGE\" | \"761f22b\" | nebula> SHOW HOSTS META; +-------------+------+----------+--------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+--------+--------------+ | \"12.16.2.3\" | 9559 | \"ONLINE\" | \"META\" | \"761f22b\" |","title":"SHOW HOSTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/6.show-hosts/#show_hosts","text":"SHOW HOSTS \u8bed\u53e5\u663e\u793a\u7531Meta\u670d\u52a1\u6ce8\u518c\u7684Graph\u3001Storage\u3001Meta\u4e3b\u673a\u3002","title":"SHOW HOSTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/6.show-hosts/#_1","text":"SHOW HOSTS [GRAPH/STORAGE/META];","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/6.show-hosts/#_2","text":"nebula> SHOW HOSTS; +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 8 | \"docs:5, basketballplayer:3\" | \"docs:5, basketballplayer:3\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 9 | \"basketballplayer:4, docs:5\" | \"docs:5, basketballplayer:4\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:3, docs:5\" | \"docs:5, basketballplayer:3\"| +-------------+-------+----------+--------------+----------------------------------+-----------------------------+ Got 3 rows (time spent 866/1411 us) nebula> SHOW HOSTS GRAPH; +-------------+------+----------+---------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+---------+--------------+ | \"12.16.2.3\" | 9669 | \"ONLINE\" | \"GRAPH\" | \"761f22b\" | nebula> SHOW HOSTS STORAGE; +-------------+------+----------+-----------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+-----------+--------------+ | \"12.16.2.3\" | 9779 | \"ONLINE\" | \"STORAGE\" | \"761f22b\" | nebula> SHOW HOSTS META; +-------------+------+----------+--------+--------------+ | Host | Port | Status | Role | Git Info Sha | +-------------+------+----------+--------+--------------+ | \"12.16.2.3\" | 9559 | \"ONLINE\" | \"META\" | \"761f22b\" |","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/7.show-index-status/","text":"SHOW INDEX STATUS \u00b6 SHOW INDEX STATUS \u8bed\u53e5\u663e\u793a\u91cd\u5efa\u539f\u751f\u7d22\u5f15\u7684\u4f5c\u4e1a\u72b6\u6001\uff0c\u4ee5\u4fbf\u786e\u5b9a\u91cd\u5efa\u7d22\u5f15\u662f\u5426\u6210\u529f\u3002 \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEX STATUS; \u793a\u4f8b \u00b6 nebula> SHOW TAG INDEX STATUS; +----------------+--------------+ | Name | Index Status | +----------------+--------------+ | \"like_index_0\" | \"FINISHED\" | +----------------+--------------+ | \"like1\" | \"FINISHED\" | +----------------+--------------+ nebula> SHOW EDGE INDEX STATUS; +----------------+--------------+ | Name | Index Status | +----------------+--------------+ | \"index_follow\" | \"FINISHED\" | +----------------+--------------+ \u76f8\u5173\u6587\u6863 \u00b6 \u7ba1\u7406\u4f5c\u4e1a REBUILD NATIVE INDEX","title":"SHOW INDEX STATUS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/7.show-index-status/#show_index_status","text":"SHOW INDEX STATUS \u8bed\u53e5\u663e\u793a\u91cd\u5efa\u539f\u751f\u7d22\u5f15\u7684\u4f5c\u4e1a\u72b6\u6001\uff0c\u4ee5\u4fbf\u786e\u5b9a\u91cd\u5efa\u7d22\u5f15\u662f\u5426\u6210\u529f\u3002","title":"SHOW INDEX STATUS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/7.show-index-status/#_1","text":"SHOW {TAG | EDGE} INDEX STATUS;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/7.show-index-status/#_2","text":"nebula> SHOW TAG INDEX STATUS; +----------------+--------------+ | Name | Index Status | +----------------+--------------+ | \"like_index_0\" | \"FINISHED\" | +----------------+--------------+ | \"like1\" | \"FINISHED\" | +----------------+--------------+ nebula> SHOW EDGE INDEX STATUS; +----------------+--------------+ | Name | Index Status | +----------------+--------------+ | \"index_follow\" | \"FINISHED\" | +----------------+--------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/7.show-index-status/#_3","text":"\u7ba1\u7406\u4f5c\u4e1a REBUILD NATIVE INDEX","title":"\u76f8\u5173\u6587\u6863"},{"location":"3.ngql-guide/7.general-query-statements/6.show/8.show-indexes/","text":"SHOW INDEXES \u00b6 SHOW INDEXES \u8bed\u53e5\u663e\u793a\u73b0\u6709\u7684\u539f\u751f\u7d22\u5f15\u3002 \u8bed\u6cd5 \u00b6 SHOW {TAG | EDGE} INDEXES; \u793a\u4f8b \u00b6 nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"play_age_0\" | +------------------+ | \"player_index_0\" | +------------------+ nebula> SHOW EDGE INDEXES; +----------------+ | Names | +----------------+ | \"index_follow\" | +----------------+","title":"SHOW INDEXES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/8.show-indexes/#show_indexes","text":"SHOW INDEXES \u8bed\u53e5\u663e\u793a\u73b0\u6709\u7684\u539f\u751f\u7d22\u5f15\u3002","title":"SHOW INDEXES"},{"location":"3.ngql-guide/7.general-query-statements/6.show/8.show-indexes/#_1","text":"SHOW {TAG | EDGE} INDEXES;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/8.show-indexes/#_2","text":"nebula> SHOW TAG INDEXES; +------------------+ | Names | +------------------+ | \"play_age_0\" | +------------------+ | \"player_index_0\" | +------------------+ nebula> SHOW EDGE INDEXES; +----------------+ | Names | +----------------+ | \"index_follow\" | +----------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/7.general-query-statements/6.show/9.show-parts/","text":"SHOW PARTS \u00b6 SHOW PARTS \u8bed\u53e5\u663e\u793a\u56fe\u7a7a\u95f4\u6307\u5b9a\u5206\u7247\u6216\u6240\u6709\u5206\u7247\u7684\u4fe1\u606f\u3002 \u8bed\u6cd5 \u00b6 SHOW PARTS [<part_id>]; \u793a\u4f8b \u00b6 nebula> SHOW PARTS; +--------------+-------------------+-------------------+-------+ | Partition ID | Leader | Peers | Losts | +--------------+-------------------+-------------------+-------+ | 1 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 2 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 3 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 4 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 5 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 6 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 7 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 8 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 9 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 10 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ nebula> SHOW PARTS 1; +--------------+-------------------+-------------------+-------+ | Partition ID | Leader | Peers | Losts | +--------------+-------------------+-------------------+-------+ | 1 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+","title":"SHOW PARTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/9.show-parts/#show_parts","text":"SHOW PARTS \u8bed\u53e5\u663e\u793a\u56fe\u7a7a\u95f4\u6307\u5b9a\u5206\u7247\u6216\u6240\u6709\u5206\u7247\u7684\u4fe1\u606f\u3002","title":"SHOW PARTS"},{"location":"3.ngql-guide/7.general-query-statements/6.show/9.show-parts/#_1","text":"SHOW PARTS [<part_id>];","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/7.general-query-statements/6.show/9.show-parts/#_2","text":"nebula> SHOW PARTS; +--------------+-------------------+-------------------+-------+ | Partition ID | Leader | Peers | Losts | +--------------+-------------------+-------------------+-------+ | 1 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 2 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 3 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 4 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 5 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 6 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 7 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 8 | \"storaged2:44500\" | \"storaged2:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 9 | \"storaged0:44500\" | \"storaged0:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ | 10 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+ nebula> SHOW PARTS 1; +--------------+-------------------+-------------------+-------+ | Partition ID | Leader | Peers | Losts | +--------------+-------------------+-------------------+-------+ | 1 | \"storaged1:44500\" | \"storaged1:44500\" | \"\" | +--------------+-------------------+-------------------+-------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/","text":"GROUP BY \u00b6 GROUP BY \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8e\u805a\u5408\u6570\u636e\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528openCypher\u65b9\u5f0f\u7684 count() \u51fd\u6570\u805a\u5408\u6570\u636e\u3002 nebula> MATCH (v:player)<-[:follow]-(:player) RETURN v.name AS Name, count(*) as cnt ORDER BY cnt DESC +----------------------+--------------+ | Name | Follower_Num | +----------------------+--------------+ | \"Tim Duncan\" | 10 | +----------------------+--------------+ | \"LeBron James\" | 6 | +----------------------+--------------+ | \"Tony Parker\" | 5 | +----------------------+--------------+ | \"Manu Ginobili\" | 4 | +----------------------+--------------+ | \"Chris Paul\" | 4 | +----------------------+--------------+ | \"Tracy McGrady\" | 3 | +----------------------+--------------+ | \"Dwyane Wade\" | 3 | +----------------------+--------------+ ... \u8bed\u6cd5 \u00b6 GROUP BY \u5b50\u53e5\u53ef\u4ee5\u805a\u5408\u76f8\u540c\u503c\u7684\u884c\uff0c\u7136\u540e\u8fdb\u884c\u8ba1\u6570\u3001\u6392\u5e8f\u548c\u8ba1\u7b97\u7b49\u64cd\u4f5c\u3002 GROUP BY \u5b50\u53e5\u53ef\u4ee5\u5728\u7ba1\u9053\u7b26\uff08|\uff09\u4e4b\u540e\u548c YIELD \u5b50\u53e5\u4e4b\u524d\u4f7f\u7528\u3002 | GROUP BY <var> YIELD <var>, <aggregation_function(var)> aggregation_function() \u51fd\u6570\u652f\u6301 avg() \u3001 sum() \u3001 max() \u3001 min() \u3001 count() \u3001 collect() \u3001 std() \u3002 \u793a\u4f8b \u00b6 # \u67e5\u627e\u6240\u6709\u8fde\u63a5\u5230player100\u7684\u70b9\uff0c\u5e76\u6839\u636e\u4ed6\u4eec\u7684\u59d3\u540d\u8fdb\u884c\u5206\u7ec4\uff0c\u8fd4\u56de\u59d3\u540d\u7684\u51fa\u73b0\u6b21\u6570\u3002 nebula> GO FROM \"player100\" OVER follow BIDIRECT \\ YIELD $$.player.name as Name \\ | GROUP BY $-.Name \\ YIELD $-.Name as Player, count(*) AS Name_Count; +---------------------+------------+ | Player | Name_Count | +---------------------+------------+ | \"Tiago Splitter\" | 1 | +---------------------+------------+ | \"Aron Baynes\" | 1 | +---------------------+------------+ | \"Boris Diaw\" | 1 | +---------------------+------------+ | \"Manu Ginobili\" | 2 | +---------------------+------------+ | \"Dejounte Murray\" | 1 | +---------------------+------------+ | \"Danny Green\" | 1 | +---------------------+------------+ | \"Tony Parker\" | 2 | +---------------------+------------+ | \"Shaquille O'Neal\" | 1 | +---------------------+------------+ | \"LaMarcus Aldridge\" | 1 | +---------------------+------------+ | \"Marco Belinelli\" | 1 | +---------------------+------------+ \u7528\u51fd\u6570\u8fdb\u884c\u5206\u7ec4\u548c\u8ba1\u7b97 \u00b6 # \u67e5\u627e\u6240\u6709\u8fde\u63a5\u5230player100\u7684\u70b9\uff0c\u5e76\u6839\u636e\u8d77\u59cb\u70b9\u8fdb\u884c\u5206\u7ec4\uff0c\u8fd4\u56dedegree\u7684\u603b\u548c\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._src AS player, follow.degree AS degree \\ | GROUP BY $-.player \\ YIELD sum($-.degree); +----------------+ | sum($-.degree) | +----------------+ | 190 | +----------------+ sum() \u51fd\u6570\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u6570\u5b66\u51fd\u6570 \u3002","title":"GROUP BY"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/#group_by","text":"GROUP BY \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8e\u805a\u5408\u6570\u636e\u3002","title":"GROUP BY"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528openCypher\u65b9\u5f0f\u7684 count() \u51fd\u6570\u805a\u5408\u6570\u636e\u3002 nebula> MATCH (v:player)<-[:follow]-(:player) RETURN v.name AS Name, count(*) as cnt ORDER BY cnt DESC +----------------------+--------------+ | Name | Follower_Num | +----------------------+--------------+ | \"Tim Duncan\" | 10 | +----------------------+--------------+ | \"LeBron James\" | 6 | +----------------------+--------------+ | \"Tony Parker\" | 5 | +----------------------+--------------+ | \"Manu Ginobili\" | 4 | +----------------------+--------------+ | \"Chris Paul\" | 4 | +----------------------+--------------+ | \"Tracy McGrady\" | 3 | +----------------------+--------------+ | \"Dwyane Wade\" | 3 | +----------------------+--------------+ ...","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/#_1","text":"GROUP BY \u5b50\u53e5\u53ef\u4ee5\u805a\u5408\u76f8\u540c\u503c\u7684\u884c\uff0c\u7136\u540e\u8fdb\u884c\u8ba1\u6570\u3001\u6392\u5e8f\u548c\u8ba1\u7b97\u7b49\u64cd\u4f5c\u3002 GROUP BY \u5b50\u53e5\u53ef\u4ee5\u5728\u7ba1\u9053\u7b26\uff08|\uff09\u4e4b\u540e\u548c YIELD \u5b50\u53e5\u4e4b\u524d\u4f7f\u7528\u3002 | GROUP BY <var> YIELD <var>, <aggregation_function(var)> aggregation_function() \u51fd\u6570\u652f\u6301 avg() \u3001 sum() \u3001 max() \u3001 min() \u3001 count() \u3001 collect() \u3001 std() \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/#_2","text":"# \u67e5\u627e\u6240\u6709\u8fde\u63a5\u5230player100\u7684\u70b9\uff0c\u5e76\u6839\u636e\u4ed6\u4eec\u7684\u59d3\u540d\u8fdb\u884c\u5206\u7ec4\uff0c\u8fd4\u56de\u59d3\u540d\u7684\u51fa\u73b0\u6b21\u6570\u3002 nebula> GO FROM \"player100\" OVER follow BIDIRECT \\ YIELD $$.player.name as Name \\ | GROUP BY $-.Name \\ YIELD $-.Name as Player, count(*) AS Name_Count; +---------------------+------------+ | Player | Name_Count | +---------------------+------------+ | \"Tiago Splitter\" | 1 | +---------------------+------------+ | \"Aron Baynes\" | 1 | +---------------------+------------+ | \"Boris Diaw\" | 1 | +---------------------+------------+ | \"Manu Ginobili\" | 2 | +---------------------+------------+ | \"Dejounte Murray\" | 1 | +---------------------+------------+ | \"Danny Green\" | 1 | +---------------------+------------+ | \"Tony Parker\" | 2 | +---------------------+------------+ | \"Shaquille O'Neal\" | 1 | +---------------------+------------+ | \"LaMarcus Aldridge\" | 1 | +---------------------+------------+ | \"Marco Belinelli\" | 1 | +---------------------+------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/group-by/#_3","text":"# \u67e5\u627e\u6240\u6709\u8fde\u63a5\u5230player100\u7684\u70b9\uff0c\u5e76\u6839\u636e\u8d77\u59cb\u70b9\u8fdb\u884c\u5206\u7ec4\uff0c\u8fd4\u56dedegree\u7684\u603b\u548c\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._src AS player, follow.degree AS degree \\ | GROUP BY $-.player \\ YIELD sum($-.degree); +----------------+ | sum($-.degree) | +----------------+ | 190 | +----------------+ sum() \u51fd\u6570\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u6570\u5b66\u51fd\u6570 \u3002","title":"\u7528\u51fd\u6570\u8fdb\u884c\u5206\u7ec4\u548c\u8ba1\u7b97"},{"location":"3.ngql-guide/8.clauses-and-options/limit/","text":"LIMIT \u00b6 LIMIT \u5b50\u53e5\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002 \u5728nGQL\u6269\u5c55\u4e2d\uff0c\u5fc5\u987b\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\uff0c\u53ef\u4ee5\u5ffd\u7565\u504f\u79fb\u91cf\u3002 \u5728openCypher\u65b9\u5f0f\u4e2d\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u7ba1\u9053\u7b26\uff0c\u53ef\u4ee5\u4f7f\u7528 SKIP \u6307\u660e\u504f\u79fb\u91cf\u3002 \u8bf4\u660e \uff1a\u5728nGQL\u6269\u5c55\u6216openCypher\u65b9\u5f0f\u4e2d\u4f7f\u7528 LIMIT \u65f6\uff0c\u4f7f\u7528 ORDER BY \u5b50\u53e5\u9650\u5236\u8f93\u51fa\u987a\u5e8f\u975e\u5e38\u91cd\u8981\uff0c\u5426\u5219\u4f1a\u8f93\u51fa\u4e00\u4e2a\u4e0d\u53ef\u9884\u77e5\u7684\u5b50\u96c6\u3002 nGQL\u6269\u5c55\u8bed\u6cd5 \u00b6 \u5728nGQL\u6269\u5c55\u4e2d\uff0c LIMIT \u7684\u5de5\u4f5c\u539f\u7406\u4e0e SQL \u76f8\u540c\uff0c\u5fc5\u987b\u548c\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\u3002 LIMIT \u5b50\u53e5\u63a5\u6536\u4e00\u4e2a\u6216\u4e24\u4e2a\u53c2\u6570\u3002\u53c2\u6570\u7684\u503c\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 YIELD <var> [| LIMIT [<offset_value>,] <number_rows>]; \u53c2\u6570 \u8bf4\u660e var \u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u7ed3\u679c\u3002 offset_value \u504f\u79fb\u91cf\uff0c\u5373\u5b9a\u4e49\u4ece\u54ea\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002\u7d22\u5f15\u4ece 0 \u5f00\u59cb\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002 number_rows \u8fd4\u56de\u7684\u603b\u884c\u6570\u3002 \u793a\u4f8b \u00b6 # \u4ece\u6392\u5e8f\u7ed3\u679c\u4e2d\u8fd4\u56de\u7b2c2\u884c\u5f00\u59cb\u76843\u884c\u6570\u636e\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD $$.player.name AS Friend, $$.player.age AS Age \\ | ORDER BY Age,Friend \\ | LIMIT 1, 3; +-------------------+-----+ | Friend | Age | +-------------------+-----+ | \"Danny Green\" | 31 | +-------------------+-----+ | \"Aron Baynes\" | 32 | +-------------------+-----+ | \"Marco Belinelli\" | 32 | +-------------------+-----+ openCypher\u65b9\u5f0f\u8bed\u6cd5 \u00b6 RETURN <var> [SKIP <offset>] [LIMIT <number_rows>]; \u53c2\u6570 \u8bf4\u660e var \u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u7ed3\u679c\u3002 offset \u504f\u79fb\u91cf\uff0c\u5373\u5b9a\u4e49\u4ece\u54ea\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002\u7d22\u5f15\u4ece 0 \u5f00\u59cb\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002 number_rows \u8fd4\u56de\u7684\u603b\u884c\u6570\u91cf\u3002 offset \u548c number_rows \u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\uff0c\u4f46\u662f\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 \u8bf4\u660e \uff1a\u4e24\u4e2a\u6574\u6570\u7ec4\u6210\u7684\u5206\u6570\u8868\u8fbe\u5f0f\u4f1a\u81ea\u52a8\u5411\u4e0b\u53d6\u6574\u3002\u4f8b\u5982 8/6 \u5411\u4e0b\u53d6\u6574\u4e3a1\u3002 \u793a\u4f8b \u00b6 nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age LIMIT 5; +-------------------------+-----+ | Name | Age | +-------------------------+-----+ | \"Luka Doncic\" | 20 | +-------------------------+-----+ | \"Ben Simmons\" | 22 | +-------------------------+-----+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-----+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-----+ | \"Kyle Anderson\" | 25 | +-------------------------+-----+ nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age LIMIT rand32(5); +-------------------------+-----+ | Name | Age | +-------------------------+-----+ | \"Luka Doncic\" | 20 | +-------------------------+-----+ | \"Ben Simmons\" | 22 | +-------------------------+-----+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-----+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-----+ SKIP\u793a\u4f8b \u00b6 \u60a8\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528 SKIP <offset> \u8bbe\u7f6e\u504f\u79fb\u91cf\uff0c\u540e\u9762\u4e0d\u9700\u8981\u6dfb\u52a0 LIMIT <number_rows> \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1+1; +---------------+-----+ | Name | Age | +---------------+-----+ | \"Tony Parker\" | 36 | +---------------+-----+ \u60a8\u4e5f\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 SKIP <offset> \u548c LIMIT <number_rows> \uff0c\u8fd4\u56de\u4e2d\u95f4\u7684\u90e8\u5206\u6570\u636e\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1 LIMIT 1; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+","title":"LIMIT and SKIP"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#limit","text":"LIMIT \u5b50\u53e5\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u7684\u884c\u6570\u3002 \u5728nGQL\u6269\u5c55\u4e2d\uff0c\u5fc5\u987b\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\uff0c\u53ef\u4ee5\u5ffd\u7565\u504f\u79fb\u91cf\u3002 \u5728openCypher\u65b9\u5f0f\u4e2d\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u7ba1\u9053\u7b26\uff0c\u53ef\u4ee5\u4f7f\u7528 SKIP \u6307\u660e\u504f\u79fb\u91cf\u3002 \u8bf4\u660e \uff1a\u5728nGQL\u6269\u5c55\u6216openCypher\u65b9\u5f0f\u4e2d\u4f7f\u7528 LIMIT \u65f6\uff0c\u4f7f\u7528 ORDER BY \u5b50\u53e5\u9650\u5236\u8f93\u51fa\u987a\u5e8f\u975e\u5e38\u91cd\u8981\uff0c\u5426\u5219\u4f1a\u8f93\u51fa\u4e00\u4e2a\u4e0d\u53ef\u9884\u77e5\u7684\u5b50\u96c6\u3002","title":"LIMIT"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#ngql","text":"\u5728nGQL\u6269\u5c55\u4e2d\uff0c LIMIT \u7684\u5de5\u4f5c\u539f\u7406\u4e0e SQL \u76f8\u540c\uff0c\u5fc5\u987b\u548c\u7ba1\u9053\u7b26\u4e00\u8d77\u4f7f\u7528\u3002 LIMIT \u5b50\u53e5\u63a5\u6536\u4e00\u4e2a\u6216\u4e24\u4e2a\u53c2\u6570\u3002\u53c2\u6570\u7684\u503c\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 YIELD <var> [| LIMIT [<offset_value>,] <number_rows>]; \u53c2\u6570 \u8bf4\u660e var \u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u7ed3\u679c\u3002 offset_value \u504f\u79fb\u91cf\uff0c\u5373\u5b9a\u4e49\u4ece\u54ea\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002\u7d22\u5f15\u4ece 0 \u5f00\u59cb\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002 number_rows \u8fd4\u56de\u7684\u603b\u884c\u6570\u3002","title":"nGQL\u6269\u5c55\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#_1","text":"# \u4ece\u6392\u5e8f\u7ed3\u679c\u4e2d\u8fd4\u56de\u7b2c2\u884c\u5f00\u59cb\u76843\u884c\u6570\u636e\u3002 nebula> GO FROM \"player100\" OVER follow REVERSELY \\ YIELD $$.player.name AS Friend, $$.player.age AS Age \\ | ORDER BY Age,Friend \\ | LIMIT 1, 3; +-------------------+-----+ | Friend | Age | +-------------------+-----+ | \"Danny Green\" | 31 | +-------------------+-----+ | \"Aron Baynes\" | 32 | +-------------------+-----+ | \"Marco Belinelli\" | 32 | +-------------------+-----+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#opencypher","text":"RETURN <var> [SKIP <offset>] [LIMIT <number_rows>]; \u53c2\u6570 \u8bf4\u660e var \u6392\u5e8f\u7684\u5217\u6216\u8ba1\u7b97\u7ed3\u679c\u3002 offset \u504f\u79fb\u91cf\uff0c\u5373\u5b9a\u4e49\u4ece\u54ea\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002\u7d22\u5f15\u4ece 0 \u5f00\u59cb\u3002\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u8fd4\u56de\u3002 number_rows \u8fd4\u56de\u7684\u603b\u884c\u6570\u91cf\u3002 offset \u548c number_rows \u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\uff0c\u4f46\u662f\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 \u8bf4\u660e \uff1a\u4e24\u4e2a\u6574\u6570\u7ec4\u6210\u7684\u5206\u6570\u8868\u8fbe\u5f0f\u4f1a\u81ea\u52a8\u5411\u4e0b\u53d6\u6574\u3002\u4f8b\u5982 8/6 \u5411\u4e0b\u53d6\u6574\u4e3a1\u3002","title":"openCypher\u65b9\u5f0f\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#_2","text":"nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age LIMIT 5; +-------------------------+-----+ | Name | Age | +-------------------------+-----+ | \"Luka Doncic\" | 20 | +-------------------------+-----+ | \"Ben Simmons\" | 22 | +-------------------------+-----+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-----+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-----+ | \"Kyle Anderson\" | 25 | +-------------------------+-----+ nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age LIMIT rand32(5); +-------------------------+-----+ | Name | Age | +-------------------------+-----+ | \"Luka Doncic\" | 20 | +-------------------------+-----+ | \"Ben Simmons\" | 22 | +-------------------------+-----+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-----+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-----+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/limit/#skip","text":"\u60a8\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528 SKIP <offset> \u8bbe\u7f6e\u504f\u79fb\u91cf\uff0c\u540e\u9762\u4e0d\u9700\u8981\u6dfb\u52a0 LIMIT <number_rows> \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1+1; +---------------+-----+ | Name | Age | +---------------+-----+ | \"Tony Parker\" | 36 | +---------------+-----+ \u60a8\u4e5f\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 SKIP <offset> \u548c LIMIT <number_rows> \uff0c\u8fd4\u56de\u4e2d\u95f4\u7684\u90e8\u5206\u6570\u636e\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC SKIP 1 LIMIT 1; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+","title":"SKIP\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/","text":"ORDER BY \u00b6 ORDER BY \u5b50\u53e5\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u7684\u6392\u5e8f\u89c4\u5219\u3002 \u5728nGQL\u6269\u5c55\u4e2d\uff0c\u5fc5\u987b\u5728 YIELD \u5b50\u53e5\u4e4b\u540e\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u548c ORDER BY \u5b50\u53e5\u3002 \u5728openCypher\u65b9\u5f0f\u4e2d\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u7ba1\u9053\u7b26\u3002\u5728 RETURN \u5b50\u53e5\u4e4b\u540e\u4f7f\u7528 ORDER BY \u5b50\u53e5\u3002 \u6392\u5e8f\u89c4\u5219\u5206\u4e3a\u5982\u4e0b\u4e24\u79cd\uff1a ASC \uff08\u9ed8\u8ba4\uff09: \u5347\u5e8f\u3002 DESC : \u964d\u5e8f\u3002 nGQL\u6269\u5c55\u8bed\u6cd5 \u00b6 <YIELD clause> ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...]; \u793a\u4f8b \u00b6 nebula> FETCH PROP ON player \"player100\", \"player101\", \"player102\", \"player103\" \\ YIELD player.age AS age, player.name AS name \\ | ORDER BY age ASC, name DESC; +-------------+-----+---------------------+ | VertexID | age | name | +-------------+-----+---------------------+ | \"player103\" | 32 | \"Rudy Gay\" | +-------------+-----+---------------------+ | \"player102\" | 33 | \"LaMarcus Aldridge\" | +-------------+-----+---------------------+ | \"player101\" | 36 | \"Tony Parker\" | +-------------+-----+---------------------+ | \"player100\" | 42 | \"Tim Duncan\" | +-------------+-----+---------------------+ OpenCypher\u65b9\u5f0f\u8bed\u6cd5 \u00b6 <RETURN clause> ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...]; \u793a\u4f8b \u00b6 nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Name DESC; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Yao Ming\" | 38 | +-----------------+-----+ | \"Vince Carter\" | 42 | +-----------------+-----+ | \"Tracy McGrady\" | 39 | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ | \"Tim Duncan\" | 42 | +-----------------+-----+ ... # \u9996\u5148\u4ee5\u5e74\u9f84\u6392\u5e8f\uff0c\u5982\u679c\u5e74\u9f84\u76f8\u540c\uff0c\u518d\u4ee5\u59d3\u540d\u6392\u5e8f\u3002 nebula> MATCH (v:player) RETURN v.age AS Age, v.name AS Name \\ ORDER BY Age DESC, Name ASC; +-----+-------------------+ | Age | Name | +-----+-------------------+ | 47 | \"Shaquille O'Neal\" | +-----+-------------------+ | 46 | \"Grant Hill\" | +-----+-------------------+ | 45 | \"Jason Kidd\" | +-----+-------------------+ | 45 | \"Steve Nash\" | +-----+-------------------+ ... NULL\u503c\u7684\u6392\u5e8f \u00b6 \u5347\u5e8f\u6392\u5217\u65f6\uff0c\u4f1a\u5728\u8f93\u51fa\u7684\u6700\u540e\u5217\u51faNULL\u503c\uff0c\u964d\u5e8f\u6392\u5217\u65f6\uff0c\u4f1a\u5728\u8f93\u51fa\u7684\u5f00\u5934\u5217\u51faNULL\u503c\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age; +-----------------+----------+ | Name | Age | +-----------------+----------+ | \"Tony Parker\" | 36 | +-----------------+----------+ | \"Manu Ginobili\" | 41 | +-----------------+----------+ | \"Spurs\" | __NULL__ | +-----------------+----------+ nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC; +-----------------+----------+ | Name | Age | +-----------------+----------+ | \"Spurs\" | __NULL__ | +-----------------+----------+ | \"Manu Ginobili\" | 41 | +-----------------+----------+ | \"Tony Parker\" | 36 | +-----------------+----------+","title":"ORDER BY"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#order_by","text":"ORDER BY \u5b50\u53e5\u6307\u5b9a\u8f93\u51fa\u7ed3\u679c\u7684\u6392\u5e8f\u89c4\u5219\u3002 \u5728nGQL\u6269\u5c55\u4e2d\uff0c\u5fc5\u987b\u5728 YIELD \u5b50\u53e5\u4e4b\u540e\u4f7f\u7528\u7ba1\u9053\u7b26\uff08|\uff09\u548c ORDER BY \u5b50\u53e5\u3002 \u5728openCypher\u65b9\u5f0f\u4e2d\uff0c\u4e0d\u5141\u8bb8\u4f7f\u7528\u7ba1\u9053\u7b26\u3002\u5728 RETURN \u5b50\u53e5\u4e4b\u540e\u4f7f\u7528 ORDER BY \u5b50\u53e5\u3002 \u6392\u5e8f\u89c4\u5219\u5206\u4e3a\u5982\u4e0b\u4e24\u79cd\uff1a ASC \uff08\u9ed8\u8ba4\uff09: \u5347\u5e8f\u3002 DESC : \u964d\u5e8f\u3002","title":"ORDER BY"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#ngql","text":"<YIELD clause> ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...];","title":"nGQL\u6269\u5c55\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#_1","text":"nebula> FETCH PROP ON player \"player100\", \"player101\", \"player102\", \"player103\" \\ YIELD player.age AS age, player.name AS name \\ | ORDER BY age ASC, name DESC; +-------------+-----+---------------------+ | VertexID | age | name | +-------------+-----+---------------------+ | \"player103\" | 32 | \"Rudy Gay\" | +-------------+-----+---------------------+ | \"player102\" | 33 | \"LaMarcus Aldridge\" | +-------------+-----+---------------------+ | \"player101\" | 36 | \"Tony Parker\" | +-------------+-----+---------------------+ | \"player100\" | 42 | \"Tim Duncan\" | +-------------+-----+---------------------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#opencypher","text":"<RETURN clause> ORDER BY <expression> [ASC | DESC] [, <expression> [ASC | DESC] ...];","title":"OpenCypher\u65b9\u5f0f\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#_2","text":"nebula> MATCH (v:player) RETURN v.name AS Name, v.age AS Age \\ ORDER BY Name DESC; +-----------------+-----+ | Name | Age | +-----------------+-----+ | \"Yao Ming\" | 38 | +-----------------+-----+ | \"Vince Carter\" | 42 | +-----------------+-----+ | \"Tracy McGrady\" | 39 | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ | \"Tim Duncan\" | 42 | +-----------------+-----+ ... # \u9996\u5148\u4ee5\u5e74\u9f84\u6392\u5e8f\uff0c\u5982\u679c\u5e74\u9f84\u76f8\u540c\uff0c\u518d\u4ee5\u59d3\u540d\u6392\u5e8f\u3002 nebula> MATCH (v:player) RETURN v.age AS Age, v.name AS Name \\ ORDER BY Age DESC, Name ASC; +-----+-------------------+ | Age | Name | +-----+-------------------+ | 47 | \"Shaquille O'Neal\" | +-----+-------------------+ | 46 | \"Grant Hill\" | +-----+-------------------+ | 45 | \"Jason Kidd\" | +-----+-------------------+ | 45 | \"Steve Nash\" | +-----+-------------------+ ...","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/8.clauses-and-options/order-by/#null","text":"\u5347\u5e8f\u6392\u5217\u65f6\uff0c\u4f1a\u5728\u8f93\u51fa\u7684\u6700\u540e\u5217\u51faNULL\u503c\uff0c\u964d\u5e8f\u6392\u5217\u65f6\uff0c\u4f1a\u5728\u8f93\u51fa\u7684\u5f00\u5934\u5217\u51faNULL\u503c\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age; +-----------------+----------+ | Name | Age | +-----------------+----------+ | \"Tony Parker\" | 36 | +-----------------+----------+ | \"Manu Ginobili\" | 41 | +-----------------+----------+ | \"Spurs\" | __NULL__ | +-----------------+----------+ nebula> MATCH (v:player{name:\"Tim Duncan\"}) --> (v2) \\ RETURN v2.name AS Name, v2.age AS Age \\ ORDER BY Age DESC; +-----------------+----------+ | Name | Age | +-----------------+----------+ | \"Spurs\" | __NULL__ | +-----------------+----------+ | \"Manu Ginobili\" | 41 | +-----------------+----------+ | \"Tony Parker\" | 36 | +-----------------+----------+","title":"NULL\u503c\u7684\u6392\u5e8f"},{"location":"3.ngql-guide/8.clauses-and-options/return/","text":"RETURN \u00b6 RETURN \u5b50\u53e5\u5b9a\u4e49\u4e86nGQL\u67e5\u8be2\u7684\u8f93\u51fa\u7ed3\u679c\u3002\u5982\u679c\u9700\u8981\u8fd4\u56de\u591a\u4e2a\u5b57\u6bb5\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 RETURN \u53ef\u4ee5\u5f15\u5bfc\u5b50\u53e5\u6216\u8bed\u53e5\uff1a RETURN \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8enGQL\u4e2d\u7684openCypher\u65b9\u5f0f\u8bed\u53e5\u4e2d\uff0c\u4f8b\u5982 MATCH \u6216 UNWIND \u3002 RETURN \u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u8f93\u51fa\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u4e2d\u7684openCypher\u65b9\u5f0f\u3002\u5173\u4e8enGQL\u6269\u5c55\u5982\u4f55\u5b9a\u4e49\u8f93\u51fa\u7ed3\u679c\uff0c\u8bf7\u53c2\u89c1 YIELD \u3002 RETURN \u6682\u4e0d\u652f\u6301\u5982\u4e0bopenCypher\u529f\u80fd\uff1a \u4f7f\u7528\u4e0d\u5728\u82f1\u6587\u5b57\u6bcd\u8868\u4e2d\u7684\u5b57\u7b26\u4f5c\u4e3a\u53d8\u91cf\u540d\u3002\u4f8b\u5982\uff1a MATCH (`\u70b91`:player) \\ RETURN `\u70b91`; \u8bbe\u7f6e\u4e00\u4e2a\u6a21\u5f0f\uff0c\u5e76\u8fd4\u56de\u8be5\u6a21\u5f0f\u5339\u914d\u7684\u6240\u6709\u5143\u7d20\u3002\u4f8b\u5982\uff1a MATCH (v:player) \\ RETURN (v)-[e]->(v2); \u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027 \u00b6 \u5728nGQL 1.x\u4e2d\uff0c RETURN \u9002\u7528\u4e8enGQL\u6269\u5c55\uff0c\u8bed\u6cd5\u4e3a RETURN <var_ref> IF <var_ref> IS NOT NULL \u3002 \u5728nGQL 2.0\u4e2d\uff0c RETURN \u4e0d\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u8fd4\u56de\u70b9 \u00b6 nebula> MATCH (v:player) \\ RETURN v; +---------------------------------------------------------------+ | v | +---------------------------------------------------------------+ | (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}) | +---------------------------------------------------------------+ | (\"player107\" :player{age: 32, name: \"Aron Baynes\"}) | +---------------------------------------------------------------+ | (\"player116\" :player{age: 34, name: \"LeBron James\"}) | +---------------------------------------------------------------+ | (\"player120\" :player{age: 29, name: \"James Harden\"}) | +---------------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +---------------------------------------------------------------+ ... \u8fd4\u56de\u8fb9 \u00b6 nebula> MATCH (v:player)-[e]->() \\ RETURN e; +------------------------------------------------------------------------------+ | e | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player100\" @0 {degree: 55}] | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player101\" @0 {degree: 50}] | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player105\" @0 {degree: 60}] | +------------------------------------------------------------------------------+ | [:serve \"player104\"->\"team200\" @0 {end_year: 2009, start_year: 2007}] | +------------------------------------------------------------------------------+ | [:serve \"player104\"->\"team208\" @0 {end_year: 2016, start_year: 2015}] | +------------------------------------------------------------------------------+ ... \u8fd4\u56de\u5c5e\u6027 \u00b6 \u4f7f\u7528\u8bed\u6cd5 {<vertex_name>|<edge_name>}.<property> \u8fd4\u56de\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 nebula> MATCH (v:player) \\ RETURN v.name, v.age \\ LIMIT 3; +-------------------+-------+ | v.name | v.age | +-------------------+-------+ | \"Rajon Rondo\" | 33 | +-------------------+-------+ | \"Rudy Gay\" | 32 | +-------------------+-------+ | \"Dejounte Murray\" | 29 | +-------------------+-------+ \u8fd4\u56de\u6240\u6709\u5143\u7d20 \u00b6 \u4f7f\u7528\u661f\u53f7\uff08*\uff09\u8fd4\u56de\u5339\u914d\u6a21\u5f0f\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN *; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN *; +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | v | e | v2 | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ \u91cd\u547d\u540d\u5b57\u6bb5 \u00b6 \u4f7f\u7528\u8bed\u6cd5 AS <alias> \u91cd\u547d\u540d\u8f93\u51fa\u7ed3\u679c\u4e2d\u7684\u5b57\u6bb5\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[:serve]->(v2) \\ RETURN v2.name AS Team; +---------+ | Team | +---------+ | \"Spurs\" | +---------+ nebula> RETURN \"Amber\" AS Name; +---------+ | Name | +---------+ | \"Amber\" | +---------+ \u8fd4\u56de\u4e0d\u5b58\u5728\u7684\u5c5e\u6027 \u00b6 \u5982\u679c\u5339\u914d\u7684\u7ed3\u679c\u4e2d\uff0c\u67d0\u4e2a\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u4f1a\u8fd4\u56de NULL \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN v2.name, type(e), v2.age; +-----------------+----------+----------+ | v2.name | type(e) | v2.age | +-----------------+----------+----------+ | \"Tony Parker\" | \"follow\" | 36 | +-----------------+----------+----------+ | \"Manu Ginobili\" | \"follow\" | 41 | +-----------------+----------+----------+ | \"Spurs\" | \"serve\" | __NULL__ | +-----------------+----------+----------+ \u8fd4\u56de\u8868\u8fbe\u5f0f\u7ed3\u679c \u00b6 RETURN \u8bed\u53e5\u53ef\u4ee5\u8fd4\u56de\u6587\u5b57\u3001\u51fd\u6570\u6216\u8c13\u8bcd\u7b49\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})-->(v2:player) \\ RETURN DISTINCT v2.name, \"Hello\"+\" graphs!\", v2.age > 35; +---------------------+------------------+-------------+ | v2.name | (Hello+ graphs!) | (v2.age>35) | +---------------------+------------------+-------------+ | \"Tim Duncan\" | \"Hello graphs!\" | true | +---------------------+------------------+-------------+ | \"LaMarcus Aldridge\" | \"Hello graphs!\" | false | +---------------------+------------------+-------------+ | \"Manu Ginobili\" | \"Hello graphs!\" | true | +---------------------+------------------+-------------+ nebula> RETURN 1+1; +-------+ | (1+1) | +-------+ | 2 | +-------+ nebula> RETURN 3 > 1; +-------+ | (3>1) | +-------+ | true | +-------+ RETURN 1+1, rand32(1, 5); +-------+-------------+ | (1+1) | rand32(1,5) | +-------+-------------+ | 2 | 1 | +-------+-------------+ \u8fd4\u56de\u552f\u4e00\u5b57\u6bb5 \u00b6 \u4f7f\u7528 DISTINCT \u53ef\u4ee5\u5220\u9664\u7ed3\u679c\u96c6\u4e2d\u7684\u91cd\u590d\u5b57\u6bb5\u3002 # \u672a\u4f7f\u7528DISTINCT\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})--(v2:player) \\ RETURN v2.name, v2.age; +---------------------+--------+ | v2.name | v2.age | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Marco Belinelli\" | 32 | +---------------------+--------+ | \"Boris Diaw\" | 36 | +---------------------+--------+ | \"Dejounte Murray\" | 29 | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Manu Ginobili\" | 41 | +---------------------+--------+ Got 8 rows (time spent 3273/3893 us) # \u4f7f\u7528DISTINCT\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})--(v2:player) \\ RETURN DISTINCT v2.name, v2.age; +---------------------+--------+ | v2.name | v2.age | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Marco Belinelli\" | 32 | +---------------------+--------+ | \"Boris Diaw\" | 36 | +---------------------+--------+ | \"Dejounte Murray\" | 29 | +---------------------+--------+ | \"Manu Ginobili\" | 41 | +---------------------+--------+","title":"RETURN"},{"location":"3.ngql-guide/8.clauses-and-options/return/#return","text":"RETURN \u5b50\u53e5\u5b9a\u4e49\u4e86nGQL\u67e5\u8be2\u7684\u8f93\u51fa\u7ed3\u679c\u3002\u5982\u679c\u9700\u8981\u8fd4\u56de\u591a\u4e2a\u5b57\u6bb5\uff0c\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 RETURN \u53ef\u4ee5\u5f15\u5bfc\u5b50\u53e5\u6216\u8bed\u53e5\uff1a RETURN \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8enGQL\u4e2d\u7684openCypher\u65b9\u5f0f\u8bed\u53e5\u4e2d\uff0c\u4f8b\u5982 MATCH \u6216 UNWIND \u3002 RETURN \u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u8f93\u51fa\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002","title":"RETURN"},{"location":"3.ngql-guide/8.clauses-and-options/return/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u4e2d\u7684openCypher\u65b9\u5f0f\u3002\u5173\u4e8enGQL\u6269\u5c55\u5982\u4f55\u5b9a\u4e49\u8f93\u51fa\u7ed3\u679c\uff0c\u8bf7\u53c2\u89c1 YIELD \u3002 RETURN \u6682\u4e0d\u652f\u6301\u5982\u4e0bopenCypher\u529f\u80fd\uff1a \u4f7f\u7528\u4e0d\u5728\u82f1\u6587\u5b57\u6bcd\u8868\u4e2d\u7684\u5b57\u7b26\u4f5c\u4e3a\u53d8\u91cf\u540d\u3002\u4f8b\u5982\uff1a MATCH (`\u70b91`:player) \\ RETURN `\u70b91`; \u8bbe\u7f6e\u4e00\u4e2a\u6a21\u5f0f\uff0c\u5e76\u8fd4\u56de\u8be5\u6a21\u5f0f\u5339\u914d\u7684\u6240\u6709\u5143\u7d20\u3002\u4f8b\u5982\uff1a MATCH (v:player) \\ RETURN (v)-[e]->(v2);","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_1","text":"\u5728nGQL 1.x\u4e2d\uff0c RETURN \u9002\u7528\u4e8enGQL\u6269\u5c55\uff0c\u8bed\u6cd5\u4e3a RETURN <var_ref> IF <var_ref> IS NOT NULL \u3002 \u5728nGQL 2.0\u4e2d\uff0c RETURN \u4e0d\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"\u5386\u53f2\u7248\u672c\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_2","text":"nebula> MATCH (v:player) \\ RETURN v; +---------------------------------------------------------------+ | v | +---------------------------------------------------------------+ | (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}) | +---------------------------------------------------------------+ | (\"player107\" :player{age: 32, name: \"Aron Baynes\"}) | +---------------------------------------------------------------+ | (\"player116\" :player{age: 34, name: \"LeBron James\"}) | +---------------------------------------------------------------+ | (\"player120\" :player{age: 29, name: \"James Harden\"}) | +---------------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +---------------------------------------------------------------+ ...","title":"\u8fd4\u56de\u70b9"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_3","text":"nebula> MATCH (v:player)-[e]->() \\ RETURN e; +------------------------------------------------------------------------------+ | e | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player100\" @0 {degree: 55}] | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player101\" @0 {degree: 50}] | +------------------------------------------------------------------------------+ | [:follow \"player104\"->\"player105\" @0 {degree: 60}] | +------------------------------------------------------------------------------+ | [:serve \"player104\"->\"team200\" @0 {end_year: 2009, start_year: 2007}] | +------------------------------------------------------------------------------+ | [:serve \"player104\"->\"team208\" @0 {end_year: 2016, start_year: 2015}] | +------------------------------------------------------------------------------+ ...","title":"\u8fd4\u56de\u8fb9"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_4","text":"\u4f7f\u7528\u8bed\u6cd5 {<vertex_name>|<edge_name>}.<property> \u8fd4\u56de\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u3002 nebula> MATCH (v:player) \\ RETURN v.name, v.age \\ LIMIT 3; +-------------------+-------+ | v.name | v.age | +-------------------+-------+ | \"Rajon Rondo\" | 33 | +-------------------+-------+ | \"Rudy Gay\" | 32 | +-------------------+-------+ | \"Dejounte Murray\" | 29 | +-------------------+-------+","title":"\u8fd4\u56de\u5c5e\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_5","text":"\u4f7f\u7528\u661f\u53f7\uff08*\uff09\u8fd4\u56de\u5339\u914d\u6a21\u5f0f\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"}) \\ RETURN *; +----------------------------------------------------+ | v | +----------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------+ nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN *; +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | v | e | v2 | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:follow \"player100\"->\"player101\" @0 {degree: 95}] | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:follow \"player100\"->\"player125\" @0 {degree: 95}] | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+ | (\"player100\" :player{age: 42, name: \"Tim Duncan\"}) | [:serve \"player100\"->\"team204\" @0 {end_year: 2016, start_year: 1997}] | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------+-----------------------------------------------------------------------+-------------------------------------------------------+","title":"\u8fd4\u56de\u6240\u6709\u5143\u7d20"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_6","text":"\u4f7f\u7528\u8bed\u6cd5 AS <alias> \u91cd\u547d\u540d\u8f93\u51fa\u7ed3\u679c\u4e2d\u7684\u5b57\u6bb5\u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[:serve]->(v2) \\ RETURN v2.name AS Team; +---------+ | Team | +---------+ | \"Spurs\" | +---------+ nebula> RETURN \"Amber\" AS Name; +---------+ | Name | +---------+ | \"Amber\" | +---------+","title":"\u91cd\u547d\u540d\u5b57\u6bb5"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_7","text":"\u5982\u679c\u5339\u914d\u7684\u7ed3\u679c\u4e2d\uff0c\u67d0\u4e2a\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u4f1a\u8fd4\u56de NULL \u3002 nebula> MATCH (v:player{name:\"Tim Duncan\"})-[e]->(v2) \\ RETURN v2.name, type(e), v2.age; +-----------------+----------+----------+ | v2.name | type(e) | v2.age | +-----------------+----------+----------+ | \"Tony Parker\" | \"follow\" | 36 | +-----------------+----------+----------+ | \"Manu Ginobili\" | \"follow\" | 41 | +-----------------+----------+----------+ | \"Spurs\" | \"serve\" | __NULL__ | +-----------------+----------+----------+","title":"\u8fd4\u56de\u4e0d\u5b58\u5728\u7684\u5c5e\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_8","text":"RETURN \u8bed\u53e5\u53ef\u4ee5\u8fd4\u56de\u6587\u5b57\u3001\u51fd\u6570\u6216\u8c13\u8bcd\u7b49\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})-->(v2:player) \\ RETURN DISTINCT v2.name, \"Hello\"+\" graphs!\", v2.age > 35; +---------------------+------------------+-------------+ | v2.name | (Hello+ graphs!) | (v2.age>35) | +---------------------+------------------+-------------+ | \"Tim Duncan\" | \"Hello graphs!\" | true | +---------------------+------------------+-------------+ | \"LaMarcus Aldridge\" | \"Hello graphs!\" | false | +---------------------+------------------+-------------+ | \"Manu Ginobili\" | \"Hello graphs!\" | true | +---------------------+------------------+-------------+ nebula> RETURN 1+1; +-------+ | (1+1) | +-------+ | 2 | +-------+ nebula> RETURN 3 > 1; +-------+ | (3>1) | +-------+ | true | +-------+ RETURN 1+1, rand32(1, 5); +-------+-------------+ | (1+1) | rand32(1,5) | +-------+-------------+ | 2 | 1 | +-------+-------------+","title":"\u8fd4\u56de\u8868\u8fbe\u5f0f\u7ed3\u679c"},{"location":"3.ngql-guide/8.clauses-and-options/return/#_9","text":"\u4f7f\u7528 DISTINCT \u53ef\u4ee5\u5220\u9664\u7ed3\u679c\u96c6\u4e2d\u7684\u91cd\u590d\u5b57\u6bb5\u3002 # \u672a\u4f7f\u7528DISTINCT\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})--(v2:player) \\ RETURN v2.name, v2.age; +---------------------+--------+ | v2.name | v2.age | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Marco Belinelli\" | 32 | +---------------------+--------+ | \"Boris Diaw\" | 36 | +---------------------+--------+ | \"Dejounte Murray\" | 29 | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Manu Ginobili\" | 41 | +---------------------+--------+ Got 8 rows (time spent 3273/3893 us) # \u4f7f\u7528DISTINCT\u3002 nebula> MATCH (v:player{name:\"Tony Parker\"})--(v2:player) \\ RETURN DISTINCT v2.name, v2.age; +---------------------+--------+ | v2.name | v2.age | +---------------------+--------+ | \"Tim Duncan\" | 42 | +---------------------+--------+ | \"LaMarcus Aldridge\" | 33 | +---------------------+--------+ | \"Marco Belinelli\" | 32 | +---------------------+--------+ | \"Boris Diaw\" | 36 | +---------------------+--------+ | \"Dejounte Murray\" | 29 | +---------------------+--------+ | \"Manu Ginobili\" | 41 | +---------------------+--------+","title":"\u8fd4\u56de\u552f\u4e00\u5b57\u6bb5"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/","text":"TTL \u00b6 TTL\uff08Time To Live\uff09\u6307\u5b9a\u5c5e\u6027\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\uff0c\u8be5\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u4e0d\u80fd\u4fee\u6539\u5e26\u6709TTL\u9009\u9879\u7684\u5c5e\u6027\u3002 \u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e0a\u4e0d\u80fd\u540c\u65f6\u5b58\u5728TTL\u9009\u9879\u548c\u7d22\u5f15\uff0c\u5373\u4f7f\u5728\u4e0d\u540c\u5c5e\u6027\u4e0a\u5206\u522b\u8bbe\u7f6e\u4e5f\u4e0d\u884c\u3002 \u5c5e\u6027\u8fc7\u671f \u00b6 \u70b9\u5c5e\u6027\u8fc7\u671f \u00b6 \u70b9\u5c5e\u6027\u8fc7\u671f\u6709\u5982\u4e0b\u5f71\u54cd\uff1a \u5982\u679c\u4e00\u4e2a\u70b9\u4ec5\u6709\u4e00\u4e2a\u6807\u7b7e\uff0c\u70b9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u70b9\u4e5f\u4f1a\u8fc7\u671f\u3002 \u5982\u679c\u4e00\u4e2a\u70b9\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u70b9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u548c\u8be5\u5c5e\u6027\u76f8\u540c\u6807\u7b7e\u7684\u5176\u4ed6\u5c5e\u6027\u4e5f\u4f1a\u8fc7\u671f\uff0c\u4f46\u662f\u70b9\u4e0d\u4f1a\u8fc7\u671f\uff0c\u70b9\u4e0a\u5176\u4ed6\u6807\u7b7e\u7684\u5c5e\u6027\u4fdd\u6301\u4e0d\u53d8\u3002 \u8fb9\u5c5e\u6027\u8fc7\u671f \u00b6 \u56e0\u4e3a\u4e00\u6761\u8fb9\u4ec5\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\uff0c\u8fb9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u8fb9\u4e5f\u4f1a\u8fc7\u671f\u3002 \u8fc7\u671f\u5904\u7406 \u00b6 \u5c5e\u6027\u8fc7\u671f\u540e\uff0c\u5bf9\u5e94\u7684\u8fc7\u671f\u6570\u636e\u4ecd\u7136\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\uff0c\u4f46\u662f\u67e5\u8be2\u65f6\u4f1a\u8fc7\u6ee4\u8fc7\u671f\u6570\u636e\u3002 Nebula Graph\u81ea\u52a8\u5220\u9664\u8fc7\u671f\u6570\u636e\u540e\uff0c\u4f1a\u5728\u4e0b\u4e00\u6b21 Compaction \u8fc7\u7a0b\u4e2d\u56de\u6536\u786c\u76d8\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u5982\u679c \u5173\u95edTTL\u9009\u9879 \uff0c\u4e0a\u4e00\u6b21Compaction\u4e4b\u540e\u7684\u8fc7\u671f\u6570\u636e\u5c06\u53ef\u4ee5\u88ab\u67e5\u8be2\u5230\u3002 TTL\u9009\u9879 \u00b6 nGQL\u652f\u6301\u7684TTL\u9009\u9879\u5982\u4e0b\u3002 \u9009\u9879 \u8bf4\u660e ttl_col \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 ttl_duration \u6307\u5b9a\u65f6\u95f4\u6233\u5dee\u503c\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\u65f6\u95f4\u6233\u5dee\u503c\u5fc5\u987b\u4e3a64\u4f4d\u975e\u8d1f\u6574\u6570\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u5982\u679c ttl_duration \u4e3a 0 \uff0c\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002 \u4f7f\u7528TTl\u9009\u9879 \u00b6 \u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u5df2\u5b58\u5728 \u00b6 \u5982\u679c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\uff0c\u8bf7\u4f7f\u7528 ALTER \u8bed\u53e5\u66f4\u65b0\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u3002 # \u521b\u5efa\u6807\u7b7e\u3002 nebula> CREATE TAG t1 (a timestamp); # ALTER\u4fee\u6539\u6807\u7b7e\uff0c\u6dfb\u52a0TTL\u9009\u9879\u3002 nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 5; # \u63d2\u5165\u70b9\uff0c\u63d2\u5165\u540e5\u79d2\u8fc7\u671f\u3002 nebula> INSERT VERTEX t1(a) values \"101\":(now()); \u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e0d\u5b58\u5728 \u00b6 \u521b\u5efa\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u65f6\u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6eTTL\u9009\u9879\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u548c CREATE EDGE \u3002 # \u521b\u5efa\u6807\u7b7e\u5e76\u8bbe\u7f6eTTL\u9009\u9879\u3002 nebula> CREATE TAG t2(a int, b int, c string) ttl_duration= 100, ttl_col = \"a\"; # \u63d2\u5165\u70b9\u3002\u8fc7\u671f\u65f6\u95f4\u6233\u4e3a1612778164774\uff081612778164674 + 100\uff09\u3002 nebula> INSERT VERTEX t2(a, b, c) values \"102\":(1612778164674, 30, \"Hello\"); \u5220\u9664\u5b58\u6d3b\u65f6\u95f4 \u00b6 \u5220\u9664\u5b58\u6d3b\u65f6\u95f4\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u51e0\u79cd\u65b9\u6cd5\uff1a \u5220\u9664\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002 nebula> ALTER TAG t1 DROP (a); \u8bbe\u7f6e ttl_col \u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 nebula> ALTER TAG t1 ttl_col = \"\"; \u8bbe\u7f6e ttl_duration \u4e3a 0 \u3002\u672c\u64cd\u4f5c\u53ef\u4ee5\u4fdd\u7559TTL\u9009\u9879\uff0c\u540c\u65f6\u9632\u6b62\u5c5e\u6027\u8fc7\u671f\u3002 nebula> ALTER TAG t1 ttl_duration = 0; \u8b66\u544a \uff1a\u5373\u4f7f ttl_duration \u4e3a 0 \uff0c\u60a8\u4e5f\u4e0d\u80fd\u4fee\u6539\u5bf9\u5e94\u7684\u5c5e\u6027\u3002","title":"TTL"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#ttl","text":"TTL\uff08Time To Live\uff09\u6307\u5b9a\u5c5e\u6027\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\uff0c\u8be5\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002","title":"TTL"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_1","text":"\u4e0d\u80fd\u4fee\u6539\u5e26\u6709TTL\u9009\u9879\u7684\u5c5e\u6027\u3002 \u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e0a\u4e0d\u80fd\u540c\u65f6\u5b58\u5728TTL\u9009\u9879\u548c\u7d22\u5f15\uff0c\u5373\u4f7f\u5728\u4e0d\u540c\u5c5e\u6027\u4e0a\u5206\u522b\u8bbe\u7f6e\u4e5f\u4e0d\u884c\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_2","text":"","title":"\u5c5e\u6027\u8fc7\u671f"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_3","text":"\u70b9\u5c5e\u6027\u8fc7\u671f\u6709\u5982\u4e0b\u5f71\u54cd\uff1a \u5982\u679c\u4e00\u4e2a\u70b9\u4ec5\u6709\u4e00\u4e2a\u6807\u7b7e\uff0c\u70b9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u70b9\u4e5f\u4f1a\u8fc7\u671f\u3002 \u5982\u679c\u4e00\u4e2a\u70b9\u6709\u591a\u4e2a\u6807\u7b7e\uff0c\u70b9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u548c\u8be5\u5c5e\u6027\u76f8\u540c\u6807\u7b7e\u7684\u5176\u4ed6\u5c5e\u6027\u4e5f\u4f1a\u8fc7\u671f\uff0c\u4f46\u662f\u70b9\u4e0d\u4f1a\u8fc7\u671f\uff0c\u70b9\u4e0a\u5176\u4ed6\u6807\u7b7e\u7684\u5c5e\u6027\u4fdd\u6301\u4e0d\u53d8\u3002","title":"\u70b9\u5c5e\u6027\u8fc7\u671f"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_4","text":"\u56e0\u4e3a\u4e00\u6761\u8fb9\u4ec5\u6709\u4e00\u4e2a\u8fb9\u7c7b\u578b\uff0c\u8fb9\u4e0a\u7684\u4e00\u4e2a\u5c5e\u6027\u8fc7\u671f\uff0c\u8fb9\u4e5f\u4f1a\u8fc7\u671f\u3002","title":"\u8fb9\u5c5e\u6027\u8fc7\u671f"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_5","text":"\u5c5e\u6027\u8fc7\u671f\u540e\uff0c\u5bf9\u5e94\u7684\u8fc7\u671f\u6570\u636e\u4ecd\u7136\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\uff0c\u4f46\u662f\u67e5\u8be2\u65f6\u4f1a\u8fc7\u6ee4\u8fc7\u671f\u6570\u636e\u3002 Nebula Graph\u81ea\u52a8\u5220\u9664\u8fc7\u671f\u6570\u636e\u540e\uff0c\u4f1a\u5728\u4e0b\u4e00\u6b21 Compaction \u8fc7\u7a0b\u4e2d\u56de\u6536\u786c\u76d8\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u5982\u679c \u5173\u95edTTL\u9009\u9879 \uff0c\u4e0a\u4e00\u6b21Compaction\u4e4b\u540e\u7684\u8fc7\u671f\u6570\u636e\u5c06\u53ef\u4ee5\u88ab\u67e5\u8be2\u5230\u3002","title":"\u8fc7\u671f\u5904\u7406"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#ttl_1","text":"nGQL\u652f\u6301\u7684TTL\u9009\u9879\u5982\u4e0b\u3002 \u9009\u9879 \u8bf4\u660e ttl_col \u6307\u5b9a\u8981\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f int \u6216\u8005 timestamp \u3002 ttl_duration \u6307\u5b9a\u65f6\u95f4\u6233\u5dee\u503c\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\u65f6\u95f4\u6233\u5dee\u503c\u5fc5\u987b\u4e3a64\u4f4d\u975e\u8d1f\u6574\u6570\u3002\u5c5e\u6027\u503c\u548c\u65f6\u95f4\u6233\u5dee\u503c\u4e4b\u548c\u5982\u679c\u5c0f\u4e8e\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u5c5e\u6027\u5c31\u4f1a\u8fc7\u671f\u3002\u5982\u679c ttl_duration \u4e3a 0 \uff0c\u5c5e\u6027\u6c38\u4e0d\u8fc7\u671f\u3002","title":"TTL\u9009\u9879"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#ttl_2","text":"","title":"\u4f7f\u7528TTl\u9009\u9879"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_6","text":"\u5982\u679c\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\uff0c\u8bf7\u4f7f\u7528 ALTER \u8bed\u53e5\u66f4\u65b0\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u3002 # \u521b\u5efa\u6807\u7b7e\u3002 nebula> CREATE TAG t1 (a timestamp); # ALTER\u4fee\u6539\u6807\u7b7e\uff0c\u6dfb\u52a0TTL\u9009\u9879\u3002 nebula> ALTER TAG t1 ttl_col = \"a\", ttl_duration = 5; # \u63d2\u5165\u70b9\uff0c\u63d2\u5165\u540e5\u79d2\u8fc7\u671f\u3002 nebula> INSERT VERTEX t1(a) values \"101\":(now());","title":"\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u5df2\u5b58\u5728"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_7","text":"\u521b\u5efa\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u65f6\u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6eTTL\u9009\u9879\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 CREATE TAG \u548c CREATE EDGE \u3002 # \u521b\u5efa\u6807\u7b7e\u5e76\u8bbe\u7f6eTTL\u9009\u9879\u3002 nebula> CREATE TAG t2(a int, b int, c string) ttl_duration= 100, ttl_col = \"a\"; # \u63d2\u5165\u70b9\u3002\u8fc7\u671f\u65f6\u95f4\u6233\u4e3a1612778164774\uff081612778164674 + 100\uff09\u3002 nebula> INSERT VERTEX t2(a, b, c) values \"102\":(1612778164674, 30, \"Hello\");","title":"\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u4e0d\u5b58\u5728"},{"location":"3.ngql-guide/8.clauses-and-options/ttl-options/#_8","text":"\u5220\u9664\u5b58\u6d3b\u65f6\u95f4\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u51e0\u79cd\u65b9\u6cd5\uff1a \u5220\u9664\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4\u7684\u5c5e\u6027\u3002 nebula> ALTER TAG t1 DROP (a); \u8bbe\u7f6e ttl_col \u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 nebula> ALTER TAG t1 ttl_col = \"\"; \u8bbe\u7f6e ttl_duration \u4e3a 0 \u3002\u672c\u64cd\u4f5c\u53ef\u4ee5\u4fdd\u7559TTL\u9009\u9879\uff0c\u540c\u65f6\u9632\u6b62\u5c5e\u6027\u8fc7\u671f\u3002 nebula> ALTER TAG t1 ttl_duration = 0; \u8b66\u544a \uff1a\u5373\u4f7f ttl_duration \u4e3a 0 \uff0c\u60a8\u4e5f\u4e0d\u80fd\u4fee\u6539\u5bf9\u5e94\u7684\u5c5e\u6027\u3002","title":"\u5220\u9664\u5b58\u6d3b\u65f6\u95f4"},{"location":"3.ngql-guide/8.clauses-and-options/where/","text":"WHERE \u00b6 WHERE \u5b50\u53e5\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u8f93\u51fa\u7ed3\u679c\u3002 WHERE \u5b50\u53e5\u901a\u5e38\u7528\u4e8e\u5982\u4e0b\u67e5\u8be2\uff1a nGQL\u6269\u5c55\uff0c\u4f8b\u5982 GO \u548c LOOKUP \u8bed\u53e5\u3002 openCypher\u65b9\u5f0f\uff0c\u4f8b\u5982 MATCH \u548c WITH \u8bed\u53e5\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u4e0d\u652f\u6301\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 WHERE \u5b50\u53e5\uff08TODO: planning\uff09\uff0c\u4f8b\u5982 WHERE (v)-->(v2) \u3002 \u8fc7\u6ee4rank \u662f\u539f\u751fnGQL\u529f\u80fd\u3002\u53ea\u652f\u6301\u5728nGQL\u6269\u5c55\u7684\u8bed\u53e5\uff08\u4f8b\u5982 GO \u548c LOOKUP \uff09\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3aopenCypher\u4e2d\u6ca1\u6709rank\u7684\u6982\u5ff5\u3002 \u57fa\u7840\u7528\u6cd5 \u00b6 \u7528\u5e03\u5c14\u8fd0\u7b97\u7b26\u5b9a\u4e49\u6761\u4ef6 \u00b6 \u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528\u5e03\u5c14\u8fd0\u7b97\u7b26 NOT \u3001 AND \u3001 OR \u548c XOR \u5b9a\u4e49\u6761\u4ef6\u3002\u5173\u4e8e\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u8bf7\u53c2\u89c1 \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u3002 nebula> MATCH (v:player) \\ WHERE v.name == \"Tim Duncan\" \\ XOR (v.age < 30 AND v.name == \"Yao Ming\") \\ OR NOT (v.name == \"Yao Ming\" OR v.name == \"Tim Duncan\") \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Marco Belinelli\" | 32 | +-------------------------+-------+ | \"Aron Baynes\" | 32 | +-------------------------+-------+ | \"LeBron James\" | 34 | +-------------------------+-------+ | \"James Harden\" | 29 | +-------------------------+-------+ | \"Manu Ginobili\" | 41 | +-------------------------+-------+ ... nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE follow.degree > 90 \\ OR $$.player.age != 33 \\ AND $$.player.name != \"Tony Parker\"; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ \u8fc7\u6ee4\u5c5e\u6027 \u00b6 \u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4e49\u6761\u4ef6\u3002 \u8fc7\u6ee4\u70b9\u5c5e\u6027\uff1a nebula> MATCH (v:player)-[e]->(v2) \\ WHERE v2.age < 25 \\ RETURN v2.name, v2.age; +----------------------+--------+ | v2.name | v2.age | +----------------------+--------+ | \"Luka Doncic\" | 20 | +----------------------+--------+ | \"Kristaps Porzingis\" | 23 | +----------------------+--------+ | \"Ben Simmons\" | 22 | +----------------------+--------+ nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE $^.player.age >= 42; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ \u8fc7\u6ee4\u8fb9\u5c5e\u6027\uff1a nebula> MATCH (v:player)-[e]->() \\ WHERE e.start_year < 2000 \\ RETURN DISTINCT v.name, v.age; +--------------------+-------+ | v.name | v.age | +--------------------+-------+ | \"Shaquille O'Neal\" | 47 | +--------------------+-------+ | \"Steve Nash\" | 45 | +--------------------+-------+ | \"Ray Allen\" | 43 | +--------------------+-------+ | \"Grant Hill\" | 46 | +--------------------+-------+ | \"Tony Parker\" | 36 | +--------------------+-------+ ... nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE follow.degree > 90; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ \u8fc7\u6ee4\u52a8\u6001\u8ba1\u7b97\u5c5e\u6027 \u00b6 nebula> MATCH (v:player) \\ WHERE v[toLower(\"AGE\")] < 21 \\ RETURN v.name, v.age; +---------------+-------+ | v.name | v.age | +---------------+-------+ | \"Luka Doncic\" | 20 | +---------------+-------+ \u8fc7\u6ee4\u73b0\u5b58\u5c5e\u6027 \u00b6 nebula> MATCH (v:player) \\ WHERE exists(v.age) \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Boris Diaw\" | 36 | +-------------------------+-------+ | \"DeAndre Jordan\" | 30 | +-------------------------+-------+ \u8fc7\u6ee4rank \u00b6 \u5728nGQL\u4e2d\uff0c\u5982\u679c\u591a\u4e2a\u8fb9\u62e5\u6709\u76f8\u540c\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u5c5e\u6027\uff0c\u5219\u5b83\u4eec\u7684\u552f\u4e00\u533a\u522b\u662frank\u503c\u3002\u5728 WHERE \u5b50\u53e5\u4e2d\u53ef\u4ee5\u4f7f\u7528rank\u8fc7\u6ee4\u8fb9\u3002 # \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u3002 nebula> CREATE SPACE test; nebula> USE test; nebula> CREATE EDGE e1(p1 int); nebula> CREATE TAG person(p1 int); nebula> INSERT VERTEX person(p1) VALUES \"1\":(1); nebula> INSERT VERTEX person(p1) VALUES \"2\":(2); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@0:(10); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@1:(11); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@2:(12); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@3:(13); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@4:(14); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@5:(15); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@6:(16); # \u901a\u8fc7rank\u8fc7\u6ee4\u8fb9\uff0c\u67e5\u627erank\u5927\u4e8e2\u7684\u8fb9\u3002 nebula> GO FROM \"1\" \\ OVER e1 \\ WHERE e1._rank>2 \\ YIELD e1._src, e1._dst, e1._rank AS Rank, e1.p1 | \\ ORDER BY Rank DESC; ==================================== | e1._src | e1._dst | Rank | e1.p1 | ==================================== | 1 | 2 | 6 | 16 | ------------------------------------ | 1 | 2 | 5 | 15 | ------------------------------------ | 1 | 2 | 4 | 14 | ------------------------------------ | 1 | 2 | 3 | 13 | ------------------------------------ \u8fc7\u6ee4\u5b57\u7b26\u4e32 \u00b6 \u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528 STARTS WITH \u3001 ENDS WITH \u6216 CONTAINS \u53ef\u4ee5\u5339\u914d\u5b57\u7b26\u4e32\u7684\u7279\u5b9a\u90e8\u5206\u3002\u5339\u914d\u65f6\u533a\u5206\u5927\u5c0f\u5199\u3002 STARTS WITH \u00b6 STARTS WITH \u4f1a\u4ece\u5b57\u7b26\u4e32\u7684\u8d77\u59cb\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002 # \u67e5\u8be2\u59d3\u540d\u4ee5T\u5f00\u5934\u7684player\u4fe1\u606f\u3002 nebula> MATCH (v:player) \\ WHERE v.name STARTS WITH \"T\" \\ RETURN v.name, v.age; +------------------+-------+ | v.name | v.age | +------------------+-------+ | \"Tracy McGrady\" | 39 | +------------------+-------+ | \"Tony Parker\" | 36 | +------------------+-------+ | \"Tim Duncan\" | 42 | +------------------+-------+ | \"Tiago Splitter\" | 34 | +------------------+-------+ \u5982\u679c\u60a8\u4f7f\u7528\u5c0f\u5199 t \uff08 STARTS WITH \"t\" \uff09\uff0c\u4f1a\u8fd4\u56de\u7a7a\u96c6\uff0c\u56e0\u4e3a\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u4ee5\u5c0f\u5199 t \u5f00\u5934\u7684\u59d3\u540d\u3002 nebula> MATCH (v:player) \\ WHERE v.name STARTS WITH \"t\" \\ RETURN v.name, v.age; Empty set (time spent 5080/6474 us) ENDS WITH \u00b6 ENDS WITH \u4f1a\u4ece\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002 nebula> MATCH (v:player) \\ WHERE v.name ENDS WITH \"r\" \\ RETURN v.name, v.age; +------------------+-------+ | v.name | v.age | +------------------+-------+ | \"Vince Carter\" | 42 | +------------------+-------+ | \"Tony Parker\" | 36 | +------------------+-------+ | \"Tiago Splitter\" | 34 | +------------------+-------+ CONTAINS \u00b6 CONTAINS \u4f1a\u68c0\u67e5\u5173\u952e\u5b57\u662f\u5426\u5339\u914d\u5b57\u7b26\u4e32\u7684\u67d0\u4e00\u90e8\u5206\u3002 nebula> MATCH (v:player) \\ WHERE v.name CONTAINS \"Pa\" \\ RETURN v.name, v.age; +---------------+-------+ | v.name | v.age | +---------------+-------+ | \"Paul George\" | 28 | +---------------+-------+ | \"Tony Parker\" | 36 | +---------------+-------+ | \"Paul Gasol\" | 38 | +---------------+-------+ | \"Chris Paul\" | 33 | +---------------+-------+ \u7ed3\u5408NOT\u4f7f\u7528 \u00b6 \u60a8\u53ef\u4ee5\u7ed3\u5408\u5e03\u5c14\u8fd0\u7b97\u7b26 NOT \u4e00\u8d77\u4f7f\u7528\uff0c\u5426\u5b9a\u5b57\u7b26\u4e32\u5339\u914d\u6761\u4ef6\u3002 nebula> MATCH (v:player) \\ WHERE NOT v.name ENDS WITH \"R\" \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Rajon Rondo\" | 33 | +-------------------------+-------+ | \"Rudy Gay\" | 32 | +-------------------------+-------+ | \"Dejounte Murray\" | 29 | +-------------------------+-------+ | \"Chris Paul\" | 33 | +-------------------------+-------+ | \"Carmelo Anthony\" | 34 | +-------------------------+-------+ ... \u8fc7\u6ee4\u5217\u8868 \u00b6 \u5339\u914d\u5217\u8868\u4e2d\u7684\u503c \u00b6 \u4f7f\u7528 IN \u8fd0\u7b97\u7b26\u68c0\u67e5\u67d0\u4e2a\u503c\u662f\u5426\u5728\u6307\u5b9a\u5217\u8868\u4e2d\u3002 nebula> MATCH (v:player) \\ WHERE v.age IN range(20,25) \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Ben Simmons\" | 22 | +-------------------------+-------+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-------+ | \"Luka Doncic\" | 20 | +-------------------------+-------+ | \"Kyle Anderson\" | 25 | +-------------------------+-------+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-------+ | \"Joel Embiid\" | 25 | +-------------------------+-------+ \u7ed3\u5408NOT\u4f7f\u7528 \u00b6 nebula> MATCH (v:player) \\ WHERE v.age NOT IN range(20,25) \\ RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age; +---------------------+-----+ | Name | Age | +---------------------+-----+ | \"Kyrie Irving\" | 26 | +---------------------+-----+ | \"Cory Joseph\" | 27 | +---------------------+-----+ | \"Damian Lillard\" | 28 | +---------------------+-----+ | \"Paul George\" | 28 | +---------------------+-----+ | \"Ricky Rubio\" | 28 | +---------------------+-----+ ...","title":"WHERE"},{"location":"3.ngql-guide/8.clauses-and-options/where/#where","text":"WHERE \u5b50\u53e5\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u8f93\u51fa\u7ed3\u679c\u3002 WHERE \u5b50\u53e5\u901a\u5e38\u7528\u4e8e\u5982\u4e0b\u67e5\u8be2\uff1a nGQL\u6269\u5c55\uff0c\u4f8b\u5982 GO \u548c LOOKUP \u8bed\u53e5\u3002 openCypher\u65b9\u5f0f\uff0c\u4f8b\u5982 MATCH \u548c WITH \u8bed\u53e5\u3002","title":"WHERE"},{"location":"3.ngql-guide/8.clauses-and-options/where/#opencypher","text":"\u4e0d\u652f\u6301\u5728\u6a21\u5f0f\u4e2d\u4f7f\u7528 WHERE \u5b50\u53e5\uff08TODO: planning\uff09\uff0c\u4f8b\u5982 WHERE (v)-->(v2) \u3002 \u8fc7\u6ee4rank \u662f\u539f\u751fnGQL\u529f\u80fd\u3002\u53ea\u652f\u6301\u5728nGQL\u6269\u5c55\u7684\u8bed\u53e5\uff08\u4f8b\u5982 GO \u548c LOOKUP \uff09\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3aopenCypher\u4e2d\u6ca1\u6709rank\u7684\u6982\u5ff5\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_1","text":"","title":"\u57fa\u7840\u7528\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_2","text":"\u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528\u5e03\u5c14\u8fd0\u7b97\u7b26 NOT \u3001 AND \u3001 OR \u548c XOR \u5b9a\u4e49\u6761\u4ef6\u3002\u5173\u4e8e\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u8bf7\u53c2\u89c1 \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u3002 nebula> MATCH (v:player) \\ WHERE v.name == \"Tim Duncan\" \\ XOR (v.age < 30 AND v.name == \"Yao Ming\") \\ OR NOT (v.name == \"Yao Ming\" OR v.name == \"Tim Duncan\") \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Marco Belinelli\" | 32 | +-------------------------+-------+ | \"Aron Baynes\" | 32 | +-------------------------+-------+ | \"LeBron James\" | 34 | +-------------------------+-------+ | \"James Harden\" | 29 | +-------------------------+-------+ | \"Manu Ginobili\" | 41 | +-------------------------+-------+ ... nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE follow.degree > 90 \\ OR $$.player.age != 33 \\ AND $$.player.name != \"Tony Parker\"; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+","title":"\u7528\u5e03\u5c14\u8fd0\u7b97\u7b26\u5b9a\u4e49\u6761\u4ef6"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_3","text":"\u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u5b9a\u4e49\u6761\u4ef6\u3002 \u8fc7\u6ee4\u70b9\u5c5e\u6027\uff1a nebula> MATCH (v:player)-[e]->(v2) \\ WHERE v2.age < 25 \\ RETURN v2.name, v2.age; +----------------------+--------+ | v2.name | v2.age | +----------------------+--------+ | \"Luka Doncic\" | 20 | +----------------------+--------+ | \"Kristaps Porzingis\" | 23 | +----------------------+--------+ | \"Ben Simmons\" | 22 | +----------------------+--------+ nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE $^.player.age >= 42; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+ \u8fc7\u6ee4\u8fb9\u5c5e\u6027\uff1a nebula> MATCH (v:player)-[e]->() \\ WHERE e.start_year < 2000 \\ RETURN DISTINCT v.name, v.age; +--------------------+-------+ | v.name | v.age | +--------------------+-------+ | \"Shaquille O'Neal\" | 47 | +--------------------+-------+ | \"Steve Nash\" | 45 | +--------------------+-------+ | \"Ray Allen\" | 43 | +--------------------+-------+ | \"Grant Hill\" | 46 | +--------------------+-------+ | \"Tony Parker\" | 36 | +--------------------+-------+ ... nebula> GO FROM \"player100\" \\ OVER follow \\ WHERE follow.degree > 90; +-------------+ | follow._dst | +-------------+ | \"player101\" | +-------------+ | \"player125\" | +-------------+","title":"\u8fc7\u6ee4\u5c5e\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_4","text":"nebula> MATCH (v:player) \\ WHERE v[toLower(\"AGE\")] < 21 \\ RETURN v.name, v.age; +---------------+-------+ | v.name | v.age | +---------------+-------+ | \"Luka Doncic\" | 20 | +---------------+-------+","title":"\u8fc7\u6ee4\u52a8\u6001\u8ba1\u7b97\u5c5e\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_5","text":"nebula> MATCH (v:player) \\ WHERE exists(v.age) \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Boris Diaw\" | 36 | +-------------------------+-------+ | \"DeAndre Jordan\" | 30 | +-------------------------+-------+","title":"\u8fc7\u6ee4\u73b0\u5b58\u5c5e\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/where/#rank","text":"\u5728nGQL\u4e2d\uff0c\u5982\u679c\u591a\u4e2a\u8fb9\u62e5\u6709\u76f8\u540c\u7684\u8d77\u59cb\u70b9\u3001\u76ee\u7684\u70b9\u548c\u5c5e\u6027\uff0c\u5219\u5b83\u4eec\u7684\u552f\u4e00\u533a\u522b\u662frank\u503c\u3002\u5728 WHERE \u5b50\u53e5\u4e2d\u53ef\u4ee5\u4f7f\u7528rank\u8fc7\u6ee4\u8fb9\u3002 # \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u3002 nebula> CREATE SPACE test; nebula> USE test; nebula> CREATE EDGE e1(p1 int); nebula> CREATE TAG person(p1 int); nebula> INSERT VERTEX person(p1) VALUES \"1\":(1); nebula> INSERT VERTEX person(p1) VALUES \"2\":(2); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@0:(10); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@1:(11); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@2:(12); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@3:(13); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@4:(14); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@5:(15); nebula> INSERT EDGE e1(p1) VALUES \"1\"->\"2\"@6:(16); # \u901a\u8fc7rank\u8fc7\u6ee4\u8fb9\uff0c\u67e5\u627erank\u5927\u4e8e2\u7684\u8fb9\u3002 nebula> GO FROM \"1\" \\ OVER e1 \\ WHERE e1._rank>2 \\ YIELD e1._src, e1._dst, e1._rank AS Rank, e1.p1 | \\ ORDER BY Rank DESC; ==================================== | e1._src | e1._dst | Rank | e1.p1 | ==================================== | 1 | 2 | 6 | 16 | ------------------------------------ | 1 | 2 | 5 | 15 | ------------------------------------ | 1 | 2 | 4 | 14 | ------------------------------------ | 1 | 2 | 3 | 13 | ------------------------------------","title":"\u8fc7\u6ee4rank"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_6","text":"\u5728 WHERE \u5b50\u53e5\u4e2d\u4f7f\u7528 STARTS WITH \u3001 ENDS WITH \u6216 CONTAINS \u53ef\u4ee5\u5339\u914d\u5b57\u7b26\u4e32\u7684\u7279\u5b9a\u90e8\u5206\u3002\u5339\u914d\u65f6\u533a\u5206\u5927\u5c0f\u5199\u3002","title":"\u8fc7\u6ee4\u5b57\u7b26\u4e32"},{"location":"3.ngql-guide/8.clauses-and-options/where/#starts_with","text":"STARTS WITH \u4f1a\u4ece\u5b57\u7b26\u4e32\u7684\u8d77\u59cb\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002 # \u67e5\u8be2\u59d3\u540d\u4ee5T\u5f00\u5934\u7684player\u4fe1\u606f\u3002 nebula> MATCH (v:player) \\ WHERE v.name STARTS WITH \"T\" \\ RETURN v.name, v.age; +------------------+-------+ | v.name | v.age | +------------------+-------+ | \"Tracy McGrady\" | 39 | +------------------+-------+ | \"Tony Parker\" | 36 | +------------------+-------+ | \"Tim Duncan\" | 42 | +------------------+-------+ | \"Tiago Splitter\" | 34 | +------------------+-------+ \u5982\u679c\u60a8\u4f7f\u7528\u5c0f\u5199 t \uff08 STARTS WITH \"t\" \uff09\uff0c\u4f1a\u8fd4\u56de\u7a7a\u96c6\uff0c\u56e0\u4e3a\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u4ee5\u5c0f\u5199 t \u5f00\u5934\u7684\u59d3\u540d\u3002 nebula> MATCH (v:player) \\ WHERE v.name STARTS WITH \"t\" \\ RETURN v.name, v.age; Empty set (time spent 5080/6474 us)","title":"STARTS WITH"},{"location":"3.ngql-guide/8.clauses-and-options/where/#ends_with","text":"ENDS WITH \u4f1a\u4ece\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002 nebula> MATCH (v:player) \\ WHERE v.name ENDS WITH \"r\" \\ RETURN v.name, v.age; +------------------+-------+ | v.name | v.age | +------------------+-------+ | \"Vince Carter\" | 42 | +------------------+-------+ | \"Tony Parker\" | 36 | +------------------+-------+ | \"Tiago Splitter\" | 34 | +------------------+-------+","title":"ENDS WITH"},{"location":"3.ngql-guide/8.clauses-and-options/where/#contains","text":"CONTAINS \u4f1a\u68c0\u67e5\u5173\u952e\u5b57\u662f\u5426\u5339\u914d\u5b57\u7b26\u4e32\u7684\u67d0\u4e00\u90e8\u5206\u3002 nebula> MATCH (v:player) \\ WHERE v.name CONTAINS \"Pa\" \\ RETURN v.name, v.age; +---------------+-------+ | v.name | v.age | +---------------+-------+ | \"Paul George\" | 28 | +---------------+-------+ | \"Tony Parker\" | 36 | +---------------+-------+ | \"Paul Gasol\" | 38 | +---------------+-------+ | \"Chris Paul\" | 33 | +---------------+-------+","title":"CONTAINS"},{"location":"3.ngql-guide/8.clauses-and-options/where/#not","text":"\u60a8\u53ef\u4ee5\u7ed3\u5408\u5e03\u5c14\u8fd0\u7b97\u7b26 NOT \u4e00\u8d77\u4f7f\u7528\uff0c\u5426\u5b9a\u5b57\u7b26\u4e32\u5339\u914d\u6761\u4ef6\u3002 nebula> MATCH (v:player) \\ WHERE NOT v.name ENDS WITH \"R\" \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Rajon Rondo\" | 33 | +-------------------------+-------+ | \"Rudy Gay\" | 32 | +-------------------------+-------+ | \"Dejounte Murray\" | 29 | +-------------------------+-------+ | \"Chris Paul\" | 33 | +-------------------------+-------+ | \"Carmelo Anthony\" | 34 | +-------------------------+-------+ ...","title":"\u7ed3\u5408NOT\u4f7f\u7528"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_7","text":"","title":"\u8fc7\u6ee4\u5217\u8868"},{"location":"3.ngql-guide/8.clauses-and-options/where/#_8","text":"\u4f7f\u7528 IN \u8fd0\u7b97\u7b26\u68c0\u67e5\u67d0\u4e2a\u503c\u662f\u5426\u5728\u6307\u5b9a\u5217\u8868\u4e2d\u3002 nebula> MATCH (v:player) \\ WHERE v.age IN range(20,25) \\ RETURN v.name, v.age; +-------------------------+-------+ | v.name | v.age | +-------------------------+-------+ | \"Ben Simmons\" | 22 | +-------------------------+-------+ | \"Kristaps Porzingis\" | 23 | +-------------------------+-------+ | \"Luka Doncic\" | 20 | +-------------------------+-------+ | \"Kyle Anderson\" | 25 | +-------------------------+-------+ | \"Giannis Antetokounmpo\" | 24 | +-------------------------+-------+ | \"Joel Embiid\" | 25 | +-------------------------+-------+","title":"\u5339\u914d\u5217\u8868\u4e2d\u7684\u503c"},{"location":"3.ngql-guide/8.clauses-and-options/where/#not_1","text":"nebula> MATCH (v:player) \\ WHERE v.age NOT IN range(20,25) \\ RETURN v.name AS Name, v.age AS Age \\ ORDER BY Age; +---------------------+-----+ | Name | Age | +---------------------+-----+ | \"Kyrie Irving\" | 26 | +---------------------+-----+ | \"Cory Joseph\" | 27 | +---------------------+-----+ | \"Damian Lillard\" | 28 | +---------------------+-----+ | \"Paul George\" | 28 | +---------------------+-----+ | \"Ricky Rubio\" | 28 | +---------------------+-----+ ...","title":"\u7ed3\u5408NOT\u4f7f\u7528"},{"location":"3.ngql-guide/8.clauses-and-options/with/","text":"WITH \u00b6 WITH \u5b50\u53e5\u53ef\u4ee5\u83b7\u53d6\u5e76\u5904\u7406\u67e5\u8be2\u524d\u534a\u90e8\u5206\u7684\u7ed3\u679c\uff0c\u5e76\u5c06\u5904\u7406\u7ed3\u679c\u4f5c\u4e3a\u8f93\u5165\u4f20\u9012\u7ed9\u67e5\u8be2\u7684\u540e\u534a\u90e8\u5206\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8eopenCypher\u65b9\u5f0f\u3002 \u8bf4\u660e \uff1a\u5728nGQL\u6269\u5c55\u4e2d\uff0c\u6709\u4e0e WITH \u7c7b\u4f3c\u7684 \u7ba1\u9053\u7b26 \uff0c\u4f46\u5b83\u4eec\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0d\u540c\u3002\u4e0d\u8981\u5728openCypher\u65b9\u5f0f\u4e2d\u4f7f\u7528\u7ba1\u9053\u7b26\uff0c\u4e5f\u4e0d\u8981\u5728nGQL\u6269\u5c55\u4e2d\u4f7f\u7528 WITH \u5b50\u53e5\u3002 \u7ec4\u6210\u590d\u5408\u67e5\u8be2 \u00b6 \u4f7f\u7528 WITH \u5b50\u53e5\u53ef\u4ee5\u7ec4\u5408\u8bed\u53e5\uff0c\u5c06\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u51fa\u8f6c\u6362\u4e3a\u53e6\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u5165\u3002 \u793a\u4f8b1 \u00b6 \u5339\u914d\u4e00\u4e2a\u8def\u5f84\u3002 \u901a\u8fc7 nodes() \u51fd\u6570\u5c06\u8def\u5f84\u4e0a\u7684\u6240\u6709\u70b9\u8f93\u51fa\u5230\u4e00\u4e2a\u5217\u8868\u3002 \u5c06\u5217\u8868\u62c6\u5206\u4e3a\u884c\u3002 \u53bb\u91cd\u540e\u8fd4\u56de\u70b9\u7684\u4fe1\u606f\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--() \\ WITH nodes(p) AS n \\ UNWIND n AS n1 \\ RETURN DISTINCT n1; +----------------------------------------------------------------------+ | n1 | +----------------------------------------------------------------------+ | (\"player100\" :star{} :person{} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +----------------------------------------------------------------------+ | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +----------------------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +----------------------------------------------------------------------+ | (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}) | +----------------------------------------------------------------------+ | (\"player144\" :player{age: 47, name: \"Shaquile O'Neal\"}) | +----------------------------------------------------------------------+ | (\"player105\" :player{age: 31, name: \"Danny Green\"}) | +----------------------------------------------------------------------+ | (\"player113\" :player{age: 29, name: \"Dejounte Murray\"}) | +----------------------------------------------------------------------+ | (\"player107\" :player{age: 32, name: \"Aron Baynes\"}) | +----------------------------------------------------------------------+ | (\"player109\" :player{age: 34, name: \"Tiago Splitter\"}) | +----------------------------------------------------------------------+ | (\"player108\" :player{age: 36, name: \"Boris Diaw\"}) | +----------------------------------------------------------------------+ \u793a\u4f8b2 \u00b6 \u5339\u914d\u70b9ID\u4e3a player100 \u7684\u70b9\u3002 \u901a\u8fc7 labels() \u51fd\u6570\u5c06\u70b9\u7684\u6240\u6709\u6807\u7b7e\u8f93\u51fa\u5230\u4e00\u4e2a\u5217\u8868\u3002 \u5c06\u5217\u8868\u62c6\u5206\u4e3a\u884c\u3002 \u8fd4\u56de\u7ed3\u679c\u3002 nebula> MATCH (v) \\ WHERE id(v)==\"player100\" \\ WITH labels(v) AS tags_unf \\ UNWIND tags_unf AS tags_f \\ RETURN tags_f; +----------+ | tags_f | +----------+ | \"star\" | +----------+ | \"player\" | +----------+ | \"person\" | +----------+ \u8fc7\u6ee4\u805a\u5408\u67e5\u8be2 \u00b6 WITH \u53ef\u4ee5\u5728\u805a\u5408\u67e5\u8be2\u4e2d\u4f5c\u4e3a\u8fc7\u6ee4\u5668\u4f7f\u7528\u3002 nebula> MATCH (v:player)-->(v2:player) \\ WITH DISTINCT v2 AS v2, v2.age AS Age \\ ORDER BY Age \\ WHERE Age<25 \\ RETURN v2.name AS Name, Age; +----------------------+-----+ | Name | Age | +----------------------+-----+ | \"Luka Doncic\" | 20 | +----------------------+-----+ | \"Ben Simmons\" | 22 | +----------------------+-----+ | \"Kristaps Porzingis\" | 23 | +----------------------+-----+ collect()\u4e4b\u524d\u5904\u7406\u8f93\u51fa \u00b6 \u5728 collect() \u51fd\u6570\u5c06\u8f93\u51fa\u7ed3\u679c\u8f6c\u6362\u4e3a\u5217\u8868\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528 WITH \u5b50\u53e5\u6392\u5e8f\u548c\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u3002 nebula> MATCH (v:player) \\ WITH v.name AS Name \\ ORDER BY Name DESC \\ LIMIT 3 \\ RETURN collect(Name); +-----------------------------------------------+ | COLLECT(Name) | +-----------------------------------------------+ | [\"Yao Ming\", \"Vince Carter\", \"Tracy McGrady\"] | +-----------------------------------------------+","title":"WITH"},{"location":"3.ngql-guide/8.clauses-and-options/with/#with","text":"WITH \u5b50\u53e5\u53ef\u4ee5\u83b7\u53d6\u5e76\u5904\u7406\u67e5\u8be2\u524d\u534a\u90e8\u5206\u7684\u7ed3\u679c\uff0c\u5e76\u5c06\u5904\u7406\u7ed3\u679c\u4f5c\u4e3a\u8f93\u5165\u4f20\u9012\u7ed9\u67e5\u8be2\u7684\u540e\u534a\u90e8\u5206\u3002","title":"WITH"},{"location":"3.ngql-guide/8.clauses-and-options/with/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8eopenCypher\u65b9\u5f0f\u3002 \u8bf4\u660e \uff1a\u5728nGQL\u6269\u5c55\u4e2d\uff0c\u6709\u4e0e WITH \u7c7b\u4f3c\u7684 \u7ba1\u9053\u7b26 \uff0c\u4f46\u5b83\u4eec\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0d\u540c\u3002\u4e0d\u8981\u5728openCypher\u65b9\u5f0f\u4e2d\u4f7f\u7528\u7ba1\u9053\u7b26\uff0c\u4e5f\u4e0d\u8981\u5728nGQL\u6269\u5c55\u4e2d\u4f7f\u7528 WITH \u5b50\u53e5\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/with/#_1","text":"\u4f7f\u7528 WITH \u5b50\u53e5\u53ef\u4ee5\u7ec4\u5408\u8bed\u53e5\uff0c\u5c06\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u51fa\u8f6c\u6362\u4e3a\u53e6\u4e00\u6761\u8bed\u53e5\u7684\u8f93\u5165\u3002","title":"\u7ec4\u6210\u590d\u5408\u67e5\u8be2"},{"location":"3.ngql-guide/8.clauses-and-options/with/#1","text":"\u5339\u914d\u4e00\u4e2a\u8def\u5f84\u3002 \u901a\u8fc7 nodes() \u51fd\u6570\u5c06\u8def\u5f84\u4e0a\u7684\u6240\u6709\u70b9\u8f93\u51fa\u5230\u4e00\u4e2a\u5217\u8868\u3002 \u5c06\u5217\u8868\u62c6\u5206\u4e3a\u884c\u3002 \u53bb\u91cd\u540e\u8fd4\u56de\u70b9\u7684\u4fe1\u606f\u3002 nebula> MATCH p=(v:player{name:\"Tim Duncan\"})--() \\ WITH nodes(p) AS n \\ UNWIND n AS n1 \\ RETURN DISTINCT n1; +----------------------------------------------------------------------+ | n1 | +----------------------------------------------------------------------+ | (\"player100\" :star{} :person{} :player{age: 42, name: \"Tim Duncan\"}) | +----------------------------------------------------------------------+ | (\"player101\" :player{age: 36, name: \"Tony Parker\"}) | +----------------------------------------------------------------------+ | (\"team204\" :team{name: \"Spurs\"}) | +----------------------------------------------------------------------+ | (\"player102\" :player{age: 33, name: \"LaMarcus Aldridge\"}) | +----------------------------------------------------------------------+ | (\"player125\" :player{age: 41, name: \"Manu Ginobili\"}) | +----------------------------------------------------------------------+ | (\"player104\" :player{age: 32, name: \"Marco Belinelli\"}) | +----------------------------------------------------------------------+ | (\"player144\" :player{age: 47, name: \"Shaquile O'Neal\"}) | +----------------------------------------------------------------------+ | (\"player105\" :player{age: 31, name: \"Danny Green\"}) | +----------------------------------------------------------------------+ | (\"player113\" :player{age: 29, name: \"Dejounte Murray\"}) | +----------------------------------------------------------------------+ | (\"player107\" :player{age: 32, name: \"Aron Baynes\"}) | +----------------------------------------------------------------------+ | (\"player109\" :player{age: 34, name: \"Tiago Splitter\"}) | +----------------------------------------------------------------------+ | (\"player108\" :player{age: 36, name: \"Boris Diaw\"}) | +----------------------------------------------------------------------+","title":"\u793a\u4f8b1"},{"location":"3.ngql-guide/8.clauses-and-options/with/#2","text":"\u5339\u914d\u70b9ID\u4e3a player100 \u7684\u70b9\u3002 \u901a\u8fc7 labels() \u51fd\u6570\u5c06\u70b9\u7684\u6240\u6709\u6807\u7b7e\u8f93\u51fa\u5230\u4e00\u4e2a\u5217\u8868\u3002 \u5c06\u5217\u8868\u62c6\u5206\u4e3a\u884c\u3002 \u8fd4\u56de\u7ed3\u679c\u3002 nebula> MATCH (v) \\ WHERE id(v)==\"player100\" \\ WITH labels(v) AS tags_unf \\ UNWIND tags_unf AS tags_f \\ RETURN tags_f; +----------+ | tags_f | +----------+ | \"star\" | +----------+ | \"player\" | +----------+ | \"person\" | +----------+","title":"\u793a\u4f8b2"},{"location":"3.ngql-guide/8.clauses-and-options/with/#_2","text":"WITH \u53ef\u4ee5\u5728\u805a\u5408\u67e5\u8be2\u4e2d\u4f5c\u4e3a\u8fc7\u6ee4\u5668\u4f7f\u7528\u3002 nebula> MATCH (v:player)-->(v2:player) \\ WITH DISTINCT v2 AS v2, v2.age AS Age \\ ORDER BY Age \\ WHERE Age<25 \\ RETURN v2.name AS Name, Age; +----------------------+-----+ | Name | Age | +----------------------+-----+ | \"Luka Doncic\" | 20 | +----------------------+-----+ | \"Ben Simmons\" | 22 | +----------------------+-----+ | \"Kristaps Porzingis\" | 23 | +----------------------+-----+","title":"\u8fc7\u6ee4\u805a\u5408\u67e5\u8be2"},{"location":"3.ngql-guide/8.clauses-and-options/with/#collect","text":"\u5728 collect() \u51fd\u6570\u5c06\u8f93\u51fa\u7ed3\u679c\u8f6c\u6362\u4e3a\u5217\u8868\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528 WITH \u5b50\u53e5\u6392\u5e8f\u548c\u9650\u5236\u8f93\u51fa\u7ed3\u679c\u3002 nebula> MATCH (v:player) \\ WITH v.name AS Name \\ ORDER BY Name DESC \\ LIMIT 3 \\ RETURN collect(Name); +-----------------------------------------------+ | COLLECT(Name) | +-----------------------------------------------+ | [\"Yao Ming\", \"Vince Carter\", \"Tracy McGrady\"] | +-----------------------------------------------+","title":"collect()\u4e4b\u524d\u5904\u7406\u8f93\u51fa"},{"location":"3.ngql-guide/8.clauses-and-options/yield/","text":"YIELD \u00b6 YIELD \u5b9a\u4e49nGQL\u67e5\u8be2\u7684\u8f93\u51fa\u7ed3\u679c\u3002 YIELD \u53ef\u4ee5\u5f15\u5bfc\u5b50\u53e5\u6216\u8bed\u53e5\uff1a YIELD \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8enGQL\u6269\u5c55\u8bed\u53e5\u4e2d\uff0c\u4f8b\u5982 GO \u3001 FETCH \u6216 LOOKUP \u3002 YIELD \u8bed\u53e5\u53ef\u4ee5\u5728\u72ec\u7acb\u67e5\u8be2\u6216\u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528\u3002 openCypher\u517c\u5bb9\u6027 \u00b6 \u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002\u5173\u4e8eopenCypher\u65b9\u5f0f\u5982\u4f55\u5b9a\u4e49\u8f93\u51fa\u7ed3\u679c\uff0c\u8bf7\u53c2\u89c1 RETURN \u3002 YIELD \u5728nGQL\u548copenCypher\u4e2d\u6709\u4e0d\u540c\u7684\u51fd\u6570\uff1a \u5728openCypher\u4e2d\uff0c YIELD \u7528\u4e8e\u5728 CALL[\u2026YIELD] \u5b50\u53e5\u4e2d\u6307\u5b9a\u8fc7\u7a0b\u8c03\u7528\u7684\u8f93\u51fa\u3002 \u8bf4\u660e \uff1anGQL\u6682\u4e0d\u652f\u6301 CALL[\u2026YIELD] \u3002 \u5728nGQL\u4e2d\uff0c YIELD \u548copenCypher\u4e2d\u7684 RETURN \u7c7b\u4f3c\u3002 YIELD\u5b50\u53e5 \u00b6 \u8bed\u6cd5 \u00b6 YIELD [DISTINCT] <col> [AS <alias>] [, <col> [AS <alias>] ...]; \u53c2\u6570 \u8bf4\u660e DISTINCT \u805a\u5408\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u96c6\u3002 col \u8981\u8fd4\u56de\u7684\u5b57\u6bb5\u3002\u5982\u679c\u6ca1\u6709\u4e3a\u5b57\u6bb5\u8bbe\u7f6e\u522b\u540d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a col \u3002 alias col \u7684\u522b\u540d\u3002\u4f7f\u7528\u5173\u952e\u5b57 AS \u8fdb\u884c\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u540e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a\u8be5\u522b\u540d\u3002 \u4f7f\u7528YIELD\u5b50\u53e5 \u00b6 GO \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Friend, $$.player.age AS Age; +-----------------+-----+ | Friend | Age | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+ FETCH \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> FETCH PROP ON player \"player100\" \\ YIELD player.name; +-------------+--------------+ | VertexID | player.name | +-------------+--------------+ | \"player100\" | \"Tim Duncan\" | +-------------+--------------+ LOOKUP \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | --------------------------------------- YIELD\u8bed\u53e5 \u00b6 \u8bed\u6cd5 \u00b6 YIELD [DISTINCT] <col> [AS <alias>] [, <col> [AS <alias>] ...] [WHERE <conditions>]; \u53c2\u6570 \u8bf4\u660e DISTINCT \u805a\u5408\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u96c6\u3002 col \u8981\u6309\u8fd4\u56de\u7684\u5b57\u6bb5\u3002\u5982\u679c\u6ca1\u6709\u4e3a\u5b57\u6bb5\u8bbe\u7f6e\u522b\u540d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a col \u3002 alias col \u7684\u522b\u540d\u3002\u4f7f\u7528\u5173\u952e\u5b57 AS \u8fdb\u884c\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u540e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a\u8be5\u522b\u540d\u3002 conditions \u5728 WHERE \u5b50\u53e5\u4e2d\u8bbe\u7f6e\u7684\u8fc7\u6ee4\u6761\u4ef6\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002 \u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528YIELD\u8bed\u53e5 \u00b6 \u5728 \u590d\u5408\u67e5\u8be2 \u4e2d\uff0c YIELD \u8bed\u53e5\u53ef\u4ee5\u63a5\u6536\u3001\u8fc7\u6ee4\u3001\u4fee\u6539\u4e4b\u524d\u8bed\u53e5\u7684\u7ed3\u679c\u96c6\uff0c\u7136\u540e\u8f93\u51fa\u3002 # \u67e5\u627eplayer100\u5173\u6ce8\u7684player\uff0c\u5e76\u8ba1\u7b97\u4ed6\u4eec\u7684\u5e73\u5747\u5e74\u9f84\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS ID \\ | FETCH PROP ON player $-.ID \\ YIELD player.age AS Age \\ | YIELD AVG($-.Age) as Avg_age, count(*)as Num_friends; +---------+-------------+ | Avg_age | Num_friends | +---------+-------------+ | 38.5 | 2 | +---------+-------------+ # \u67e5\u627eplayer101\u5173\u6ce8\u7684player\uff0c\u8fd4\u56dedegree\u5927\u4e8e90\u7684player\u3002 nebula> $var1 = GO FROM \"player101\" OVER follow \\ YIELD follow.degree AS Degree, follow._dst as ID; \\ YIELD $var1.ID AS ID WHERE $var1.Degree > 90; +-------------+ | ID | +-------------+ | \"player100\" | +-------------+ | \"player125\" | +-------------+ \u72ec\u7acb\u4f7f\u7528YIELD\u8bed\u53e5 \u00b6 YIELD \u53ef\u4ee5\u8ba1\u7b97\u8868\u8fbe\u5f0f\u5e76\u8fd4\u56de\u7ed3\u679c\u3002 nebula> YIELD rand32(1, 6); +-------------+ | rand32(1,6) | +-------------+ | 3 | +-------------+ nebula> YIELD \"Hel\" + \"\\tlo\" AS string1, \", World!\" AS string2; +-------------+------------+ | string1 | string2 | +-------------+------------+ | \"Hel lo\" | \", World!\" | +-------------+------------+ nebula> YIELD hash(\"Tim\") % 100; +-----------------+ | (hash(Tim)%100) | +-----------------+ | 42 | +-----------------+ nebula> YIELD \\ CASE 2+3 \\ WHEN 4 THEN 0 \\ WHEN 5 THEN 1 \\ ELSE -1 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+","title":"YIELD"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield","text":"YIELD \u5b9a\u4e49nGQL\u67e5\u8be2\u7684\u8f93\u51fa\u7ed3\u679c\u3002 YIELD \u53ef\u4ee5\u5f15\u5bfc\u5b50\u53e5\u6216\u8bed\u53e5\uff1a YIELD \u5b50\u53e5\u53ef\u4ee5\u7528\u4e8enGQL\u6269\u5c55\u8bed\u53e5\u4e2d\uff0c\u4f8b\u5982 GO \u3001 FETCH \u6216 LOOKUP \u3002 YIELD \u8bed\u53e5\u53ef\u4ee5\u5728\u72ec\u7acb\u67e5\u8be2\u6216\u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528\u3002","title":"YIELD"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#opencypher","text":"\u672c\u6587\u64cd\u4f5c\u4ec5\u9002\u7528\u4e8enGQL\u6269\u5c55\u3002\u5173\u4e8eopenCypher\u65b9\u5f0f\u5982\u4f55\u5b9a\u4e49\u8f93\u51fa\u7ed3\u679c\uff0c\u8bf7\u53c2\u89c1 RETURN \u3002 YIELD \u5728nGQL\u548copenCypher\u4e2d\u6709\u4e0d\u540c\u7684\u51fd\u6570\uff1a \u5728openCypher\u4e2d\uff0c YIELD \u7528\u4e8e\u5728 CALL[\u2026YIELD] \u5b50\u53e5\u4e2d\u6307\u5b9a\u8fc7\u7a0b\u8c03\u7528\u7684\u8f93\u51fa\u3002 \u8bf4\u660e \uff1anGQL\u6682\u4e0d\u652f\u6301 CALL[\u2026YIELD] \u3002 \u5728nGQL\u4e2d\uff0c YIELD \u548copenCypher\u4e2d\u7684 RETURN \u7c7b\u4f3c\u3002","title":"openCypher\u517c\u5bb9\u6027"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield_1","text":"","title":"YIELD\u5b50\u53e5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#_1","text":"YIELD [DISTINCT] <col> [AS <alias>] [, <col> [AS <alias>] ...]; \u53c2\u6570 \u8bf4\u660e DISTINCT \u805a\u5408\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u96c6\u3002 col \u8981\u8fd4\u56de\u7684\u5b57\u6bb5\u3002\u5982\u679c\u6ca1\u6709\u4e3a\u5b57\u6bb5\u8bbe\u7f6e\u522b\u540d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a col \u3002 alias col \u7684\u522b\u540d\u3002\u4f7f\u7528\u5173\u952e\u5b57 AS \u8fdb\u884c\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u540e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a\u8be5\u522b\u540d\u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield_2","text":"GO \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> GO FROM \"player100\" OVER follow \\ YIELD $$.player.name AS Friend, $$.player.age AS Age; +-----------------+-----+ | Friend | Age | +-----------------+-----+ | \"Tony Parker\" | 36 | +-----------------+-----+ | \"Manu Ginobili\" | 41 | +-----------------+-----+ FETCH \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> FETCH PROP ON player \"player100\" \\ YIELD player.name; +-------------+--------------+ | VertexID | player.name | +-------------+--------------+ | \"player100\" | \"Tim Duncan\" | +-------------+--------------+ LOOKUP \u8bed\u53e5\u4e2d\u4f7f\u7528 YIELD \uff1a nebula> LOOKUP ON player WHERE player.name == \"Tony Parker\" \\ YIELD player.name, player.age; ======================================= | VertexID | player.name | player.age | ======================================= | 101 | Tony Parker | 36 | ---------------------------------------","title":"\u4f7f\u7528YIELD\u5b50\u53e5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield_3","text":"","title":"YIELD\u8bed\u53e5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#_2","text":"YIELD [DISTINCT] <col> [AS <alias>] [, <col> [AS <alias>] ...] [WHERE <conditions>]; \u53c2\u6570 \u8bf4\u660e DISTINCT \u805a\u5408\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u7ed3\u679c\u96c6\u3002 col \u8981\u6309\u8fd4\u56de\u7684\u5b57\u6bb5\u3002\u5982\u679c\u6ca1\u6709\u4e3a\u5b57\u6bb5\u8bbe\u7f6e\u522b\u540d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a col \u3002 alias col \u7684\u522b\u540d\u3002\u4f7f\u7528\u5173\u952e\u5b57 AS \u8fdb\u884c\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u540e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u4e3a\u8be5\u522b\u540d\u3002 conditions \u5728 WHERE \u5b50\u53e5\u4e2d\u8bbe\u7f6e\u7684\u8fc7\u6ee4\u6761\u4ef6\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 WHERE \u3002","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield_4","text":"\u5728 \u590d\u5408\u67e5\u8be2 \u4e2d\uff0c YIELD \u8bed\u53e5\u53ef\u4ee5\u63a5\u6536\u3001\u8fc7\u6ee4\u3001\u4fee\u6539\u4e4b\u524d\u8bed\u53e5\u7684\u7ed3\u679c\u96c6\uff0c\u7136\u540e\u8f93\u51fa\u3002 # \u67e5\u627eplayer100\u5173\u6ce8\u7684player\uff0c\u5e76\u8ba1\u7b97\u4ed6\u4eec\u7684\u5e73\u5747\u5e74\u9f84\u3002 nebula> GO FROM \"player100\" OVER follow \\ YIELD follow._dst AS ID \\ | FETCH PROP ON player $-.ID \\ YIELD player.age AS Age \\ | YIELD AVG($-.Age) as Avg_age, count(*)as Num_friends; +---------+-------------+ | Avg_age | Num_friends | +---------+-------------+ | 38.5 | 2 | +---------+-------------+ # \u67e5\u627eplayer101\u5173\u6ce8\u7684player\uff0c\u8fd4\u56dedegree\u5927\u4e8e90\u7684player\u3002 nebula> $var1 = GO FROM \"player101\" OVER follow \\ YIELD follow.degree AS Degree, follow._dst as ID; \\ YIELD $var1.ID AS ID WHERE $var1.Degree > 90; +-------------+ | ID | +-------------+ | \"player100\" | +-------------+ | \"player125\" | +-------------+","title":"\u590d\u5408\u67e5\u8be2\u4e2d\u4f7f\u7528YIELD\u8bed\u53e5"},{"location":"3.ngql-guide/8.clauses-and-options/yield/#yield_5","text":"YIELD \u53ef\u4ee5\u8ba1\u7b97\u8868\u8fbe\u5f0f\u5e76\u8fd4\u56de\u7ed3\u679c\u3002 nebula> YIELD rand32(1, 6); +-------------+ | rand32(1,6) | +-------------+ | 3 | +-------------+ nebula> YIELD \"Hel\" + \"\\tlo\" AS string1, \", World!\" AS string2; +-------------+------------+ | string1 | string2 | +-------------+------------+ | \"Hel lo\" | \", World!\" | +-------------+------------+ nebula> YIELD hash(\"Tim\") % 100; +-----------------+ | (hash(Tim)%100) | +-----------------+ | 42 | +-----------------+ nebula> YIELD \\ CASE 2+3 \\ WHEN 4 THEN 0 \\ WHEN 5 THEN 1 \\ ELSE -1 \\ END \\ AS result; +--------+ | result | +--------+ | 1 | +--------+","title":"\u72ec\u7acb\u4f7f\u7528YIELD\u8bed\u53e5"},{"location":"3.ngql-guide/9.space-statements/1.create-space/","text":"CREATE SPACE \u00b6 \u56fe\u7a7a\u95f4\u662fNebula Graph\u4e2d\u5f7c\u6b64\u9694\u79bb\u7684\u56fe\u6570\u636e\u96c6\u5408\uff0c\u4e0eMySQL\u4e2d\u7684database\u6982\u5ff5\u7c7b\u4f3c\u3002 CREATE SPACE \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u53ea\u6709God\u89d2\u8272\u7684\u7528\u6237\u53ef\u4ee5\u6267\u884c CREATE SPACE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002 \u8bed\u6cd5 \u00b6 CREATE SPACE [IF NOT EXISTS] <graph_space_name> [(partition_num = <partition_number>, replica_factor = <replica_number>, vid_type = {FIXED_STRING(<N>) | INT64})]; IF NOT EXISTS \u00b6 IF NOT EXISTS \u5173\u952e\u5b57\u53ef\u4ee5\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u56fe\u7a7a\u95f4\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002 \u56fe\u7a7a\u95f4\u540d\u79f0 \u00b6 graph_space_name \u5728Nebula Graph\u5b9e\u4f8b\u4e2d\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u81ea\u5b9a\u4e49\u56fe\u7a7a\u95f4\u9009\u9879 \u00b6 \u60a8\u53ef\u4ee5\u4e3a\u65b0\u7684\u56fe\u7a7a\u95f4\u8bbe\u7f6e\u5982\u4e0b\u9009\u9879\uff1a partition_num \u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a5\u500d\u7684\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u3002\u4f8b\u5982\u96c6\u7fa4\u4e2d\u67093\u4e2a\u786c\u76d8\uff0c\u5efa\u8bae\u8bbe\u7f6e15\u4e2a\u5206\u7247\u3002\u9ed8\u8ba4\u503c\u4e3a100\u3002 replica_factor \u6307\u5b9a\u6bcf\u4e2a\u5206\u7247\u7684\u526f\u672c\u6570\u91cf\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a3\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a1\u3002\u7531\u4e8e\u9700\u8981\u57fa\u4e8e\u591a\u6570\u8868\u51b3\uff0c\u526f\u672c\u6570\u91cf\u5fc5\u987b\u662f \u5947\u6570 \u3002\u9ed8\u8ba4\u503c\u4e3a1\u3002 \u6ce8\u610f\uff1a \u5982\u679c\u5c06\u526f\u672c\u6570\u8bbe\u7f6e\u4e3a1\uff0c\u60a8\u5c06\u65e0\u6cd5\u4f7f\u7528 BALANCE \u547d\u4ee4\u4e3aNebula Graph\u7684\u5b58\u50a8\u670d\u52a1\u5e73\u8861\u8d1f\u8f7d\u6216\u6269\u5bb9\u3002 vid_type \u6307\u5b9a\u70b9ID\u7684\u6570\u636e\u7c7b\u578b\u3002\u53ef\u9009\u503c\u4e3a FIXED_STRING(<N>) \u548c INT64 \u3002 FIXED_STRING(<N>) \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6700\u5927\u957f\u5ea6\u4e3a N \uff0c\u8d85\u51fa\u957f\u5ea6\u4f1a\u62a5\u9519\uff1b INT64 \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a FIXED_STRING(8) \u3002 \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u9009\u9879\uff0cNebula Graph\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u503c\u521b\u5efa\u56fe\u7a7a\u95f4\u3002 \u793a\u4f8b \u00b6 # \u4f7f\u7528\u9ed8\u8ba4\u503c\u3002 nebula> CREATE SPACE my_space_1; # \u6307\u5b9a\u5206\u7247\u6570\u91cf\u3002 nebula> CREATE SPACE my_space_2(partition_num=10); # \u6307\u5b9a\u526f\u672c\u6570\u91cf\u3002 nebula> CREATE SPACE my_space_3(replica_factor=1); # \u6307\u5b9a\u70b9ID\u6700\u5927\u957f\u5ea6\u3002 nebula> CREATE SPACE my_space_4(vid_type = FIXED_STRING(30)); \u521b\u5efa\u56fe\u7a7a\u95f4\u8bf4\u660e \u00b6 \u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u56fe\u7a7a\u95f4\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW SPACES \u6216 DESCRIBE SPACE \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u56fe\u7a7a\u95f4\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002 \u68c0\u67e5\u5206\u7247\u5206\u5e03\u60c5\u51b5 \u00b6 \u5728\u5927\u578b\u96c6\u7fa4\u4e2d\uff0c\u7531\u4e8e\u542f\u52a8\u65f6\u95f4\u4e0d\u540c\uff0c\u5206\u7247\u7684\u5206\u5e03\u53ef\u80fd\u4e0d\u5747\u8861\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u60c5\u51b5\uff1a nebula> SHOW HOSTS; +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged0 | 9779 | ONLINE | 1 | basketballplayer:5 | basketballplayer:5 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged1 | 9779 | ONLINE | 2 | test:1, basketballplayer:5 | basketballplayer:5, test:1 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged2 | 9779 | ONLINE | 1 | basketballplayer:5 | basketballplayer:5 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ \u5982\u679c\u9700\u8981\u5747\u8861\u8d1f\u8f7d\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a nebula> BALANCE LEADER;","title":"CREATE SPACE"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#create_space","text":"\u56fe\u7a7a\u95f4\u662fNebula Graph\u4e2d\u5f7c\u6b64\u9694\u79bb\u7684\u56fe\u6570\u636e\u96c6\u5408\uff0c\u4e0eMySQL\u4e2d\u7684database\u6982\u5ff5\u7c7b\u4f3c\u3002 CREATE SPACE \u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u7a7a\u95f4\u3002","title":"CREATE SPACE"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_1","text":"\u53ea\u6709God\u89d2\u8272\u7684\u7528\u6237\u53ef\u4ee5\u6267\u884c CREATE SPACE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_2","text":"CREATE SPACE [IF NOT EXISTS] <graph_space_name> [(partition_num = <partition_number>, replica_factor = <replica_number>, vid_type = {FIXED_STRING(<N>) | INT64})];","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#if_not_exists","text":"IF NOT EXISTS \u5173\u952e\u5b57\u53ef\u4ee5\u68c0\u6d4b\u5f85\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u4e0d\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u521b\u5efa\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u4ec5\u68c0\u6d4b\u56fe\u7a7a\u95f4\u7684\u540d\u79f0\uff0c\u4e0d\u4f1a\u68c0\u6d4b\u5177\u4f53\u5c5e\u6027\u3002","title":"IF NOT EXISTS"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_3","text":"graph_space_name \u5728Nebula Graph\u5b9e\u4f8b\u4e2d\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002","title":"\u56fe\u7a7a\u95f4\u540d\u79f0"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_4","text":"\u60a8\u53ef\u4ee5\u4e3a\u65b0\u7684\u56fe\u7a7a\u95f4\u8bbe\u7f6e\u5982\u4e0b\u9009\u9879\uff1a partition_num \u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5206\u7247\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a5\u500d\u7684\u96c6\u7fa4\u786c\u76d8\u6570\u91cf\u3002\u4f8b\u5982\u96c6\u7fa4\u4e2d\u67093\u4e2a\u786c\u76d8\uff0c\u5efa\u8bae\u8bbe\u7f6e15\u4e2a\u5206\u7247\u3002\u9ed8\u8ba4\u503c\u4e3a100\u3002 replica_factor \u6307\u5b9a\u6bcf\u4e2a\u5206\u7247\u7684\u526f\u672c\u6570\u91cf\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a3\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a1\u3002\u7531\u4e8e\u9700\u8981\u57fa\u4e8e\u591a\u6570\u8868\u51b3\uff0c\u526f\u672c\u6570\u91cf\u5fc5\u987b\u662f \u5947\u6570 \u3002\u9ed8\u8ba4\u503c\u4e3a1\u3002 \u6ce8\u610f\uff1a \u5982\u679c\u5c06\u526f\u672c\u6570\u8bbe\u7f6e\u4e3a1\uff0c\u60a8\u5c06\u65e0\u6cd5\u4f7f\u7528 BALANCE \u547d\u4ee4\u4e3aNebula Graph\u7684\u5b58\u50a8\u670d\u52a1\u5e73\u8861\u8d1f\u8f7d\u6216\u6269\u5bb9\u3002 vid_type \u6307\u5b9a\u70b9ID\u7684\u6570\u636e\u7c7b\u578b\u3002\u53ef\u9009\u503c\u4e3a FIXED_STRING(<N>) \u548c INT64 \u3002 FIXED_STRING(<N>) \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6700\u5927\u957f\u5ea6\u4e3a N \uff0c\u8d85\u51fa\u957f\u5ea6\u4f1a\u62a5\u9519\uff1b INT64 \u8868\u793a\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a FIXED_STRING(8) \u3002 \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u9009\u9879\uff0cNebula Graph\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u503c\u521b\u5efa\u56fe\u7a7a\u95f4\u3002","title":"\u81ea\u5b9a\u4e49\u56fe\u7a7a\u95f4\u9009\u9879"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_5","text":"# \u4f7f\u7528\u9ed8\u8ba4\u503c\u3002 nebula> CREATE SPACE my_space_1; # \u6307\u5b9a\u5206\u7247\u6570\u91cf\u3002 nebula> CREATE SPACE my_space_2(partition_num=10); # \u6307\u5b9a\u526f\u672c\u6570\u91cf\u3002 nebula> CREATE SPACE my_space_3(replica_factor=1); # \u6307\u5b9a\u70b9ID\u6700\u5927\u957f\u5ea6\u3002 nebula> CREATE SPACE my_space_4(vid_type = FIXED_STRING(30));","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_6","text":"\u5c1d\u8bd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u56e0\u4e3a\u521b\u5efa\u662f\u5f02\u6b65\u5b9e\u73b0\u7684\u3002 Nebula Graph\u5c06\u5728\u4e0b\u4e00\u4e2a\u5fc3\u8df3\u5468\u671f\u5185\u5b8c\u6210\u56fe\u7a7a\u95f4\u7684\u521b\u5efa\uff0c\u4e3a\u4e86\u786e\u4fdd\u521b\u5efa\u6210\u529f\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4e4b\u4e00\uff1a \u5728 SHOW SPACES \u6216 DESCRIBE SPACE \u8bed\u53e5\u7684\u7ed3\u679c\u4e2d\u67e5\u627e\u65b0\u7684\u56fe\u7a7a\u95f4\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8bf7\u7b49\u5f85\u51e0\u79d2\u91cd\u8bd5\u3002 \u7b49\u5f85\u4e24\u4e2a\u5fc3\u8df3\u5468\u671f\uff0c\u4f8b\u598220\u79d2\u3002 \u5982\u679c\u9700\u8981\u4fee\u6539\u5fc3\u8df3\u95f4\u9694\uff0c\u8bf7\u4e3a \u6240\u6709\u914d\u7f6e\u6587\u4ef6 \u4fee\u6539\u53c2\u6570 heartbeat_interval_secs \u3002","title":"\u521b\u5efa\u56fe\u7a7a\u95f4\u8bf4\u660e"},{"location":"3.ngql-guide/9.space-statements/1.create-space/#_7","text":"\u5728\u5927\u578b\u96c6\u7fa4\u4e2d\uff0c\u7531\u4e8e\u542f\u52a8\u65f6\u95f4\u4e0d\u540c\uff0c\u5206\u7247\u7684\u5206\u5e03\u53ef\u80fd\u4e0d\u5747\u8861\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u60c5\u51b5\uff1a nebula> SHOW HOSTS; +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged0 | 9779 | ONLINE | 1 | basketballplayer:5 | basketballplayer:5 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged1 | 9779 | ONLINE | 2 | test:1, basketballplayer:5 | basketballplayer:5, test:1 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ | storaged2 | 9779 | ONLINE | 1 | basketballplayer:5 | basketballplayer:5 | +-----------+-------+--------+--------------+----------------------------------+-------------------------------------+ \u5982\u679c\u9700\u8981\u5747\u8861\u8d1f\u8f7d\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a nebula> BALANCE LEADER;","title":"\u68c0\u67e5\u5206\u7247\u5206\u5e03\u60c5\u51b5"},{"location":"3.ngql-guide/9.space-statements/2.use-space/","text":"USE \u00b6 USE \u8bed\u53e5\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u6216\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u5c06\u5176\u4f5c\u4e3a\u540e\u7eed\u67e5\u8be2\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u6267\u884c USE \u8bed\u53e5\u6307\u5b9a\u56fe\u7a7a\u95f4\u65f6\uff0c\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8bed\u6cd5 \u00b6 USE <graph_space_name>; \u793a\u4f8b \u00b6 # \u6307\u5b9a\u56fe\u7a7a\u95f4space1\u4f5c\u4e3a\u5de5\u4f5c\u7a7a\u95f4\u3002 nebula> USE space1; # \u68c0\u7d22\u56fe\u7a7a\u95f4space1\u3002 nebula> GO FROM 1 OVER edge1; # \u5207\u6362\u5230\u56fe\u7a7a\u95f4space2\u3002 nebula> USE space2; # \u68c0\u7d22\u56fe\u7a7a\u95f4space2\u3002\u65e0\u6cd5\u4ecespace1\u8bfb\u53d6\u4efb\u4f55\u6570\u636e\uff0c\u68c0\u7d22\u7684\u70b9\u548c\u8fb9\u4e0espace1\u65e0\u5173\u3002 nebula> GO FROM 2 OVER edge2; \u8bf4\u660e \uff1a\u4e0d\u80fd\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u540c\u65f6\u64cd\u4f5c\u4e24\u4e2a\u56fe\u7a7a\u95f4\u3002 \u4e0eFabric Cypher\u4e0d\u540c\uff0cNebula Graph\u7684\u56fe\u7a7a\u95f4\u5f7c\u6b64\u4e4b\u95f4\u662f\u5b8c\u5168\u9694\u79bb\u7684\uff0c\u5c06\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4f5c\u4e3a\u5de5\u4f5c\u7a7a\u95f4\u540e\uff0c\u60a8\u65e0\u6cd5\u8bbf\u95ee\u5176\u4ed6\u7a7a\u95f4\u3002\u68c0\u7d22\u65b0\u56fe\u7a7a\u95f4\u7684\u552f\u4e00\u65b9\u6cd5\u662f\u901a\u8fc7 USE \u8bed\u53e5\u5207\u6362\u3002Fabric Cypher\u53ef\u4ee5\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u4f7f\u7528\u4e24\u4e2a\u56fe\u7a7a\u95f4\u3002","title":"USE SPACE"},{"location":"3.ngql-guide/9.space-statements/2.use-space/#use","text":"USE \u8bed\u53e5\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u6216\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u5c06\u5176\u4f5c\u4e3a\u540e\u7eed\u67e5\u8be2\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002","title":"USE"},{"location":"3.ngql-guide/9.space-statements/2.use-space/#_1","text":"\u6267\u884c USE \u8bed\u53e5\u6307\u5b9a\u56fe\u7a7a\u95f4\u65f6\uff0c\u9700\u8981\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u62e5\u6709\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684 \u6743\u9650 \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/9.space-statements/2.use-space/#_2","text":"USE <graph_space_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/9.space-statements/2.use-space/#_3","text":"# \u6307\u5b9a\u56fe\u7a7a\u95f4space1\u4f5c\u4e3a\u5de5\u4f5c\u7a7a\u95f4\u3002 nebula> USE space1; # \u68c0\u7d22\u56fe\u7a7a\u95f4space1\u3002 nebula> GO FROM 1 OVER edge1; # \u5207\u6362\u5230\u56fe\u7a7a\u95f4space2\u3002 nebula> USE space2; # \u68c0\u7d22\u56fe\u7a7a\u95f4space2\u3002\u65e0\u6cd5\u4ecespace1\u8bfb\u53d6\u4efb\u4f55\u6570\u636e\uff0c\u68c0\u7d22\u7684\u70b9\u548c\u8fb9\u4e0espace1\u65e0\u5173\u3002 nebula> GO FROM 2 OVER edge2; \u8bf4\u660e \uff1a\u4e0d\u80fd\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u540c\u65f6\u64cd\u4f5c\u4e24\u4e2a\u56fe\u7a7a\u95f4\u3002 \u4e0eFabric Cypher\u4e0d\u540c\uff0cNebula Graph\u7684\u56fe\u7a7a\u95f4\u5f7c\u6b64\u4e4b\u95f4\u662f\u5b8c\u5168\u9694\u79bb\u7684\uff0c\u5c06\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4f5c\u4e3a\u5de5\u4f5c\u7a7a\u95f4\u540e\uff0c\u60a8\u65e0\u6cd5\u8bbf\u95ee\u5176\u4ed6\u7a7a\u95f4\u3002\u68c0\u7d22\u65b0\u56fe\u7a7a\u95f4\u7684\u552f\u4e00\u65b9\u6cd5\u662f\u901a\u8fc7 USE \u8bed\u53e5\u5207\u6362\u3002Fabric Cypher\u53ef\u4ee5\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u4f7f\u7528\u4e24\u4e2a\u56fe\u7a7a\u95f4\u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/9.space-statements/3.show-spaces/","text":"SHOW SPACES \u00b6 SHOW SPACES \u8bed\u53e5\u53ef\u4ee5\u5217\u51faNebula Graph\u793a\u4f8b\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u3002 \u8bed\u6cd5 \u00b6 SHOW SPACES; \u793a\u4f8b \u00b6 nebula> SHOW SPACES; +--------------------+ | Name | +--------------------+ | \"cba\" | +--------------------+ | \"basketballplayer\" | +--------------------+ \u521b\u5efa\u56fe\u7a7a\u95f4\u8bf7\u53c2\u89c1 CREATE SPACE \u3002","title":"SHOW SPACES"},{"location":"3.ngql-guide/9.space-statements/3.show-spaces/#show_spaces","text":"SHOW SPACES \u8bed\u53e5\u53ef\u4ee5\u5217\u51faNebula Graph\u793a\u4f8b\u4e2d\u7684\u6240\u6709\u56fe\u7a7a\u95f4\u3002","title":"SHOW SPACES"},{"location":"3.ngql-guide/9.space-statements/3.show-spaces/#_1","text":"SHOW SPACES;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/9.space-statements/3.show-spaces/#_2","text":"nebula> SHOW SPACES; +--------------------+ | Name | +--------------------+ | \"cba\" | +--------------------+ | \"basketballplayer\" | +--------------------+ \u521b\u5efa\u56fe\u7a7a\u95f4\u8bf7\u53c2\u89c1 CREATE SPACE \u3002","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/9.space-statements/4.describe-space/","text":"DESCRIBE SPACE \u00b6 DESCRIBE SPACE \u8bed\u53e5\u53ef\u4ee5\u663e\u793a\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u4fe1\u606f\u3002 \u8bed\u6cd5 \u00b6 \u4f60\u53ef\u4ee5\u7528 DESC \u4f5c\u4e3a DESCRIBE \u7684\u7f29\u5199\u3002 DESC[RIBE] SPACE <graph_space_name>; \u793a\u4f8b \u00b6 nebula> DESCRIBE SPACE basketballplayer; +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ | ID | Name | Partition Number | Replica Factor | Charset | Collate | Vid Type | Atomic Edge | Group | +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ | 1 | \"basketballplayer\" | 10 | 1 | \"utf8\" | \"utf8_bin\" | \"FIXED_STRING(32)\" | \"false\" | \"default\" | +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+","title":"DESCRIBE SPACE"},{"location":"3.ngql-guide/9.space-statements/4.describe-space/#describe_space","text":"DESCRIBE SPACE \u8bed\u53e5\u53ef\u4ee5\u663e\u793a\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u4fe1\u606f\u3002","title":"DESCRIBE SPACE"},{"location":"3.ngql-guide/9.space-statements/4.describe-space/#_1","text":"\u4f60\u53ef\u4ee5\u7528 DESC \u4f5c\u4e3a DESCRIBE \u7684\u7f29\u5199\u3002 DESC[RIBE] SPACE <graph_space_name>;","title":"\u8bed\u6cd5"},{"location":"3.ngql-guide/9.space-statements/4.describe-space/#_2","text":"nebula> DESCRIBE SPACE basketballplayer; +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ | ID | Name | Partition Number | Replica Factor | Charset | Collate | Vid Type | Atomic Edge | Group | +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+ | 1 | \"basketballplayer\" | 10 | 1 | \"utf8\" | \"utf8_bin\" | \"FIXED_STRING(32)\" | \"false\" | \"default\" | +----+--------------------+------------------+----------------+---------+------------+--------------------+-------------+-----------+","title":"\u793a\u4f8b"},{"location":"3.ngql-guide/9.space-statements/5.drop-space/","text":"DROP SPACE \u00b6 DROP SPACE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u6240\u6709\u5185\u5bb9\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u53ea\u6709God\u89d2\u8272\u7684\u7528\u6237\u53ef\u4ee5\u6267\u884c DROP SPACE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002 \u8bed\u6cd5 \u00b6 DROP SPACE [IF EXISTS] <graph_space_name>; IF NOT EXISTS \u5173\u952e\u5b57\u53ef\u4ee5\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u56fe\u7a7a\u95f4\u3002 DROP SPACE \u8bed\u53e5\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\u786c\u76d8\u4e0a\u5bf9\u5e94\u56fe\u7a7a\u95f4\u7684\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u8bf7\u4f7f\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5176\u4ed6\u4efb\u610f\u56fe\u7a7a\u95f4\uff0c\u7136\u540e\u6267\u884c SUBMIT JOB COMPACT \u3002 \u8b66\u544a \uff1a\u8bf7 \u8c28\u614e \u6267\u884c\u5220\u9664\u56fe\u7a7a\u95f4\u64cd\u4f5c\u3002","title":"DROP SPACE"},{"location":"3.ngql-guide/9.space-statements/5.drop-space/#drop_space","text":"DROP SPACE \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u6240\u6709\u5185\u5bb9\u3002","title":"DROP SPACE"},{"location":"3.ngql-guide/9.space-statements/5.drop-space/#_1","text":"\u53ea\u6709God\u89d2\u8272\u7684\u7528\u6237\u53ef\u4ee5\u6267\u884c DROP SPACE \u8bed\u53e5\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"3.ngql-guide/9.space-statements/5.drop-space/#_2","text":"DROP SPACE [IF EXISTS] <graph_space_name>; IF NOT EXISTS \u5173\u952e\u5b57\u53ef\u4ee5\u68c0\u6d4b\u5f85\u5220\u9664\u7684\u56fe\u7a7a\u95f4\u662f\u5426\u5b58\u5728\uff0c\u53ea\u6709\u5b58\u5728\u65f6\uff0c\u624d\u4f1a\u5220\u9664\u56fe\u7a7a\u95f4\u3002 DROP SPACE \u8bed\u53e5\u4e0d\u4f1a\u7acb\u523b\u5220\u9664\u786c\u76d8\u4e0a\u5bf9\u5e94\u56fe\u7a7a\u95f4\u7684\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u8bf7\u4f7f\u7528 USE \u8bed\u53e5\u6307\u5b9a\u5176\u4ed6\u4efb\u610f\u56fe\u7a7a\u95f4\uff0c\u7136\u540e\u6267\u884c SUBMIT JOB COMPACT \u3002 \u8b66\u544a \uff1a\u8bf7 \u8c28\u614e \u6267\u884c\u5220\u9664\u56fe\u7a7a\u95f4\u64cd\u4f5c\u3002","title":"\u8bed\u6cd5"},{"location":"4.deployment-and-installation/1.resource-preparations/","text":"\u51c6\u5907\u7f16\u8bd1\u3001\u5b89\u88c5\u548c\u8fd0\u884cNebula Graph\u7684\u73af\u5883 \u00b6 \u672c\u6587\u4ecb\u7ecd\u7f16\u8bd1\u3001\u5b89\u88c5Nebula Graph\u7684\u8981\u6c42\u548c\u5efa\u8bae\uff0c\u4ee5\u53ca\u5982\u4f55\u9884\u4f30\u96c6\u7fa4\u8fd0\u884c\u6240\u9700\u7684\u8d44\u6e90\u3002 \u9605\u8bfb\u6307\u5357 \u00b6 \u5982\u679c\u60a8\u662f\u5e26\u7740\u5982\u4e0b\u95ee\u9898\u9605\u8bfb\u672c\u6587\uff0c\u53ef\u4ee5\u76f4\u63a5\u5355\u51fb\u95ee\u9898\u8df3\u8f6c\u67e5\u770b\u5bf9\u5e94\u7684\u8bf4\u660e\u3002 \u7f16\u8bd1Nebula Graph\u6e90\u7801\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u6d4b\u8bd5\u73af\u5883\u4e2d\u8fd0\u884cNebula Graph\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u751f\u4ea7\u73af\u5883\u4e2d\u8fd0\u884cNebula Graph\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u9700\u8981\u9884\u7559\u591a\u5c11\u5185\u5b58\u548c\u786c\u76d8\u7a7a\u95f4\u7ed9Nebula Graph\u96c6\u7fa4\uff1f \u7f16\u8bd1Nebula Graph\u6e90\u7801\u8981\u6c42 \u00b6 \u786c\u4ef6\u8981\u6c42 \u00b6 \u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 \u5185\u5b58 4 GB \u786c\u76d8 10 GB\uff0cSSD \u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42 \u00b6 \u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u7f16\u8bd1Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 2.6.32 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002 \u8f6f\u4ef6\u8981\u6c42 \u00b6 \u60a8\u7684\u8f6f\u4ef6\u7248\u672c\u9700\u8981\u5982\u4e0b\u8868\u6240\u793a\uff0c\u5982\u679c\u5b83\u4eec\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u6216\u8005\u60a8\u4e5f\u4e0d\u786e\u5b9a\u5b83\u4eec\u7684\u7248\u672c\uff0c\u8bf7\u6309\u7167 \u5b89\u88c5\u7f16\u8bd1\u6240\u9700\u8f6f\u4ef6 \u4e2d\u7684\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\u3002 \u8f6f\u4ef6\u540d\u79f0 \u7248\u672c \u5907\u6ce8 glibc 2.12\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 ldd --version \u68c0\u67e5\u7248\u672c\u3002 make \u4efb\u610f\u7a33\u5b9a\u7248\u672c - m4 \u4efb\u610f\u7a33\u5b9a\u7248\u672c - git \u4efb\u610f\u7a33\u5b9a\u7248\u672c - wget \u4efb\u610f\u7a33\u5b9a\u7248\u672c - unzip \u4efb\u610f\u7a33\u5b9a\u7248\u672c - xz \u4efb\u610f\u7a33\u5b9a\u7248\u672c - readline-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - ncurses-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - zlid-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - gcc 7.1.0\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 gcc -v \u68c0\u67e5\u7248\u672c\u3002 gcc-c++ \u4efb\u610f\u7a33\u5b9a\u7248\u672c - cmake 3.5.0\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 cmake --version \u68c0\u67e5\u7248\u672c\u3002 gettext \u4efb\u610f\u7a33\u5b9a\u7248\u672c - curl \u4efb\u610f\u7a33\u5b9a\u7248\u672c - redhat-lsb-core \u4efb\u610f\u7a33\u5b9a\u7248\u672c - libstdc++-static \u4efb\u610f\u7a33\u5b9a\u7248\u672c \u4ec5\u5728CentOS 8+\u3001RedHat 8+\u3001Fedora\u4e2d\u9700\u8981\u3002 libasan \u4efb\u610f\u7a33\u5b9a\u7248\u672c \u4ec5\u5728CentOS 8+\u3001RedHat 8+\u3001Fedora\u4e2d\u9700\u8981\u3002 \u5176\u4ed6\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5c06\u5728\u5b89\u88c5\uff08cmake\uff09\u9636\u6bb5\u81ea\u52a8\u4e0b\u8f7d\u5e76\u5b89\u88c5\u5230 build \u76ee\u5f55\u4e2d\u3002 \u5b89\u88c5\u7f16\u8bd1\u6240\u9700\u8f6f\u4ef6 \u00b6 \u672c\u5c0f\u8282\u6307\u5bfc\u60a8\u4e0b\u8f7d\u548c\u5b89\u88c5Nebula Graph\u7f16\u8bd1\u65f6\u9700\u8981\u7684\u8f6f\u4ef6\u3002 \u5b89\u88c5\u4f9d\u8d56\u5305\u3002 - CentOS\u3001RedHat\u3001Fedora\u7528\u6237\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a $ yum update $ yum install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz \\ readline-devel \\ ncurses-devel \\ zlib-devel \\ gcc \\ gcc-c++ \\ cmake \\ gettext \\ curl \\ redhat-lsb-core // \u4ec5CentOS 8 +\u3001RedHat 8 +\u3001Fedora\u9700\u8981\u5b89\u88c5libstdc++-static\u548clibasan\u3002 $ yum install -y libstdc++-static libasan - Debian\u548cUbuntu\u7528\u6237\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a $ apt-get update $ apt-get install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz-utils \\ curl \\ lsb-core \\ build-essential \\ libreadline-dev \\ ncurses-dev \\ cmake \\ gettext \u68c0\u67e5\u4e3b\u673a\u4e0a\u7684GCC\u548cCMake\u7248\u672c\u662f\u5426\u6b63\u786e\u3002\u7248\u672c\u4fe1\u606f\u8bf7\u53c2\u89c1 \u8f6f\u4ef6\u8981\u6c42 \u3002 $ g++ --version $ cmake --version \u5982\u679c\u7248\u672c\u6b63\u786e\uff0c\u60a8\u53ef\u4ee5\u8df3\u8fc7\u672c\u5c0f\u8282\u3002\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8bf7\u6839\u636e\u5982\u4e0b\u6b65\u9aa4\u5b89\u88c5\uff1a 1. \u514b\u9686\u4ed3\u5e93 nebula-common \u5230\u4e3b\u673a\u3002 ```bash $ git clone https://github.com/vesoft-inc/nebula-common.git ``` \u7c7b\u4f3c2.0.0\u7248\u672c\u7684Nebula Graph\u6e90\u7801\u5b58\u50a8\u5728\u7279\u5b9a\u7684\u5206\u652f\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528`--branch`\u6216`-b`\u9009\u9879\u6307\u5b9a\u514b\u9686\u7684\u5206\u652f\u3002\u4f8b\u5982\u6307\u5b9a2.0.0\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a ```bash $ git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-common.git ``` 2. \u8fdb\u5165\u76ee\u5f55 nebula-common \u3002 ```bash $ cd nebula-common ``` 3. \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\u548c\u542f\u7528GCC\u548cCMake\u3002 ```bash // \u5b89\u88c5CMake\u3002 $ ./third-party/install-cmake.sh cmake-install // \u542f\u7528CMake\u3002 $ source cmake-install/bin/enable-cmake.sh // \u5b89\u88c5GCC\u3002\u5b89\u88c5\u5230opt\u76ee\u5f55\u9700\u8981root\u6743\u9650\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4fee\u6539\u4e3a\u5176\u4ed6\u76ee\u5f55\u3002 $ sudo ./third-party/install-gcc.sh --prefix=/opt // \u542f\u7528GCC\u3002 $ source /opt/vesoft/toolset/gcc/7.5.0/enable \u6d4b\u8bd5\u73af\u5883\u8fd0\u884cNebula Graph\u8981\u6c42 \u00b6 \u786c\u4ef6\u8981\u6c42 \u00b6 \u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 CPU\u6838\u6570 4 \u5185\u5b58 8 GB \u786c\u76d8 100 GB\uff0cSSD \u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42 \u00b6 \u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u5b89\u88c5Nebula Graph\uff0c\u5efa\u8bae\u60a8\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002 \u670d\u52a1\u67b6\u6784\u5efa\u8bae \u00b6 \u8fdb\u7a0b \u5efa\u8bae\u6570\u91cf metad\uff08meta\u6570\u636e\u670d\u52a1\u8fdb\u7a0b\uff09 1 storaged\uff08\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b\uff09 \u22651 graphd\uff08\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b\uff09 \u22651 \u4f8b\u5982\u5355\u673a\u6d4b\u8bd5\u73af\u5883\uff0c\u60a8\u53ef\u4ee5\u5728\u673a\u5668\u4e0a\u90e8\u7f721\u4e2ametad\u30011\u4e2astoraged\u548c1\u4e2agraphd\u8fdb\u7a0b\u3002 \u5bf9\u4e8e\u66f4\u5e38\u89c1\u7684\u6d4b\u8bd5\u73af\u5883\uff0c\u4f8b\u5982\u4e09\u53f0\u673a\u5668\u6784\u6210\u7684\u96c6\u7fa4\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u65b9\u6848\u90e8\u7f72Nebula Graph\u3002 \u673a\u5668\u540d\u79f0 metad\u8fdb\u7a0b\u6570\u91cf storaged\u8fdb\u7a0b\u6570\u91cf graphd\u8fdb\u7a0b\u6570\u91cf A 1 1 1 B - 1 1 C - 1 1 \u751f\u4ea7\u73af\u5883\u8fd0\u884cNebula Graph\u8981\u6c42 \u00b6 \u786c\u4ef6\u8981\u6c42 \u00b6 \u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 CPU\u6838\u6570 48 \u5185\u5b58 96 GB \u786c\u76d8 2 * 900 GB\uff0cNVMe SSD \u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42 \u00b6 \u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u5b89\u88c5Nebula Graph\uff0c\u5efa\u8bae\u60a8\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u4e00\u4e9b\u5185\u6838\u53c2\u6570\u6765\u63d0\u9ad8Nebula Graph\u6027\u80fd\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u6838\u914d\u7f6e \u3002 \u670d\u52a1\u67b6\u6784\u5efa\u8bae \u00b6 \u8fdb\u7a0b \u5efa\u8bae\u6570\u91cf metad\uff08meta\u6570\u636e\u670d\u52a1\u8fdb\u7a0b\uff09 3 storaged\uff08\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b\uff09 \u22653 graphd\uff08\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b\uff09 \u22653 \u901a\u5e38\u60a8\u53ea\u9700\u89813\u4e2ametad\u8fdb\u7a0b\uff0c\u6bcf\u4e2ametad\u8fdb\u7a0b\u4f1a\u81ea\u52a8\u521b\u5efa\u5e76\u7ef4\u62a4meta\u6570\u636e\u7684\u4e00\u4e2a\u526f\u672c\u3002 storaged\u8fdb\u7a0b\u7684\u6570\u91cf\u4e0d\u4f1a\u5f71\u54cd\u56fe\u7a7a\u95f4\u526f\u672c\u7684\u6570\u91cf\u3002 \u60a8\u53ef\u4ee5\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u90e8\u7f72\u591a\u4e2a\u8fdb\u7a0b\uff0c\u4f8b\u5982\u4e94\u53f0\u673a\u5668\u6784\u6210\u7684\u96c6\u7fa4\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u65b9\u6848\u90e8\u7f72Nebula Graph\u3002 \u8b66\u544a \uff1a\u8bf7 \u4e0d\u8981 \u8de8\u673a\u623f\u90e8\u7f72\u96c6\u7fa4\u3002 \u673a\u5668\u540d\u79f0 metad\u8fdb\u7a0b\u6570\u91cf storaged\u8fdb\u7a0b\u6570\u91cf graphd\u8fdb\u7a0b\u6570\u91cf A 1 1 1 B 1 1 1 C 1 1 1 D - 1 1 E - 1 1 Nebula Graph\u8d44\u6e90\u8981\u6c42 \u00b6 \u60a8\u53ef\u4ee5\u9884\u4f30\u4e00\u4e2a3\u526f\u672cNebula Graph\u96c6\u7fa4\u6240\u9700\u7684\u5185\u5b58\u3001\u786c\u76d8\u7a7a\u95f4\u548c\u5206\u533a\u6570\u91cf\u3002 \u8d44\u6e90 \u5355\u4f4d \u8ba1\u7b97\u516c\u5f0f \u8bf4\u660e \u786c\u76d8\u7a7a\u95f4 Bytes \u70b9\u548c\u8fb9\u7684\u603b\u6570 * \u5c5e\u6027\u7684\u5e73\u5747\u5b57\u8282\u5927\u5c0f * 6 * 120% - \u5185\u5b58 Bytes [ \u70b9\u548c\u8fb9\u7684\u603b\u6570 * 15 + RocksDB\u5b9e\u4f8b\u6570\u91cf * ( write_buffer_size * max_write_buffer_number + \u5757\u7f13\u5b58\u5927\u5c0f ] * 120% write_buffer_size \u548c max_write_buffer_number \u662fRocksDB\u5185\u5b58\u76f8\u5173\u53c2\u6570\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 MemTable \u3002\u5757\u7f13\u5b58\u5927\u5c0f\u8bf7\u53c2\u89c1 Memory usage in RocksDB \u3002 \u5206\u533a\u6570\u91cf - \u96c6\u7fa4\u786c\u76d8\u6570\u91cf * disk_partition_num_multiplier disk_partition_num_multiplier \u662f\u53d6\u503c\u4e3a2~10\u7684\u4e00\u4e2a\u6574\u6570\uff0c\u7528\u4e8e\u8861\u91cf\u786c\u76d8\u6027\u80fd\u3002HDD\u4f7f\u75282\u3002 \u95ee\u9898 1\uff1a\u4e3a\u4ec0\u4e48\u78c1\u76d8\u7a7a\u95f4\u548c\u5185\u5b58\u90fd\u8981\u4e58\u4ee5120%\uff1f \u7b54\uff1a\u989d\u5916\u768420%\u7528\u4e8e\u7f13\u51b2\u3002 \u95ee\u9898 2\uff1a\u5982\u4f55\u83b7\u53d6RocksDB\u5b9e\u4f8b\u6570\u91cf\uff1f \u7b54\uff1a\u5728 etc \u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \uff0c --data_path \u9009\u9879\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2aRocksDB\u5b9e\u4f8b\uff0c\u76ee\u5f55\u603b\u6570\u5373\u662fRocksDB\u5b9e\u4f8b\u6570\u91cf\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u6dfb\u52a0 --enable_partitioned_index_filter=true \u6765\u964d\u4f4ebloom\u8fc7\u6ee4\u5668\u5360\u7528\u7684\u5185\u5b58\u5927\u5c0f\uff0c\u4f46\u662f\u5728\u67d0\u4e9b\u968f\u673a\u5bfb\u9053\uff08random-seek\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u4f1a\u964d\u4f4e\u8bfb\u53d6\u6027\u80fd\u3002 \u5173\u4e8e\u5b58\u50a8\u8bbe\u5907 \u00b6 Nebula Graph\u662f\u9488\u5bf9NVMe SSD\u8fdb\u884c\u8bbe\u8ba1\u548c\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u9ed8\u8ba4\u53c2\u6570\u90fd\u662f\u57fa\u4e8eSSD\u8bbe\u5907\u8fdb\u884c\u8c03\u4f18\u3002 \u4e0d\u63a8\u8350\u4f7f\u7528HDD\uff0c\u56e0\u4e3aHDD\u7684IOPS\u6027\u80fd\u5dee\uff0c\u968f\u673a\u5bfb\u9053\u5ef6\u8fdf\u9ad8\uff0c\u53ef\u80fd\u8fd8\u4f1a\u9047\u5230\u8bb8\u591a\u5176\u4ed6\u95ee\u9898\u3002\u4e5f\u4e0d\u5efa\u8bae\u4f7f\u7528\u8fdc\u7aef\u5b58\u50a8\u8bbe\u5907\uff0c\u4f8b\u5982NAS\u6216SAN\u3002 \u8bf7\u4f7f\u7528\u672c\u5730SSD\u8bbe\u5907\u3002","title":"\u51c6\u5907\u8d44\u6e90"},{"location":"4.deployment-and-installation/1.resource-preparations/#nebula_graph","text":"\u672c\u6587\u4ecb\u7ecd\u7f16\u8bd1\u3001\u5b89\u88c5Nebula Graph\u7684\u8981\u6c42\u548c\u5efa\u8bae\uff0c\u4ee5\u53ca\u5982\u4f55\u9884\u4f30\u96c6\u7fa4\u8fd0\u884c\u6240\u9700\u7684\u8d44\u6e90\u3002","title":"\u51c6\u5907\u7f16\u8bd1\u3001\u5b89\u88c5\u548c\u8fd0\u884cNebula Graph\u7684\u73af\u5883"},{"location":"4.deployment-and-installation/1.resource-preparations/#_1","text":"\u5982\u679c\u60a8\u662f\u5e26\u7740\u5982\u4e0b\u95ee\u9898\u9605\u8bfb\u672c\u6587\uff0c\u53ef\u4ee5\u76f4\u63a5\u5355\u51fb\u95ee\u9898\u8df3\u8f6c\u67e5\u770b\u5bf9\u5e94\u7684\u8bf4\u660e\u3002 \u7f16\u8bd1Nebula Graph\u6e90\u7801\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u6d4b\u8bd5\u73af\u5883\u4e2d\u8fd0\u884cNebula Graph\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u751f\u4ea7\u73af\u5883\u4e2d\u8fd0\u884cNebula Graph\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f \u9700\u8981\u9884\u7559\u591a\u5c11\u5185\u5b58\u548c\u786c\u76d8\u7a7a\u95f4\u7ed9Nebula Graph\u96c6\u7fa4\uff1f","title":"\u9605\u8bfb\u6307\u5357"},{"location":"4.deployment-and-installation/1.resource-preparations/#nebula_graph_1","text":"","title":"\u7f16\u8bd1Nebula Graph\u6e90\u7801\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_2","text":"\u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 \u5185\u5b58 4 GB \u786c\u76d8 10 GB\uff0cSSD","title":"\u786c\u4ef6\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_3","text":"\u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u7f16\u8bd1Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 2.6.32 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002","title":"\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_4","text":"\u60a8\u7684\u8f6f\u4ef6\u7248\u672c\u9700\u8981\u5982\u4e0b\u8868\u6240\u793a\uff0c\u5982\u679c\u5b83\u4eec\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u6216\u8005\u60a8\u4e5f\u4e0d\u786e\u5b9a\u5b83\u4eec\u7684\u7248\u672c\uff0c\u8bf7\u6309\u7167 \u5b89\u88c5\u7f16\u8bd1\u6240\u9700\u8f6f\u4ef6 \u4e2d\u7684\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\u3002 \u8f6f\u4ef6\u540d\u79f0 \u7248\u672c \u5907\u6ce8 glibc 2.12\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 ldd --version \u68c0\u67e5\u7248\u672c\u3002 make \u4efb\u610f\u7a33\u5b9a\u7248\u672c - m4 \u4efb\u610f\u7a33\u5b9a\u7248\u672c - git \u4efb\u610f\u7a33\u5b9a\u7248\u672c - wget \u4efb\u610f\u7a33\u5b9a\u7248\u672c - unzip \u4efb\u610f\u7a33\u5b9a\u7248\u672c - xz \u4efb\u610f\u7a33\u5b9a\u7248\u672c - readline-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - ncurses-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - zlid-devel \u4efb\u610f\u7a33\u5b9a\u7248\u672c - gcc 7.1.0\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 gcc -v \u68c0\u67e5\u7248\u672c\u3002 gcc-c++ \u4efb\u610f\u7a33\u5b9a\u7248\u672c - cmake 3.5.0\u53ca\u4ee5\u4e0a \u6267\u884c\u547d\u4ee4 cmake --version \u68c0\u67e5\u7248\u672c\u3002 gettext \u4efb\u610f\u7a33\u5b9a\u7248\u672c - curl \u4efb\u610f\u7a33\u5b9a\u7248\u672c - redhat-lsb-core \u4efb\u610f\u7a33\u5b9a\u7248\u672c - libstdc++-static \u4efb\u610f\u7a33\u5b9a\u7248\u672c \u4ec5\u5728CentOS 8+\u3001RedHat 8+\u3001Fedora\u4e2d\u9700\u8981\u3002 libasan \u4efb\u610f\u7a33\u5b9a\u7248\u672c \u4ec5\u5728CentOS 8+\u3001RedHat 8+\u3001Fedora\u4e2d\u9700\u8981\u3002 \u5176\u4ed6\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5c06\u5728\u5b89\u88c5\uff08cmake\uff09\u9636\u6bb5\u81ea\u52a8\u4e0b\u8f7d\u5e76\u5b89\u88c5\u5230 build \u76ee\u5f55\u4e2d\u3002","title":"\u8f6f\u4ef6\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_5","text":"\u672c\u5c0f\u8282\u6307\u5bfc\u60a8\u4e0b\u8f7d\u548c\u5b89\u88c5Nebula Graph\u7f16\u8bd1\u65f6\u9700\u8981\u7684\u8f6f\u4ef6\u3002 \u5b89\u88c5\u4f9d\u8d56\u5305\u3002 - CentOS\u3001RedHat\u3001Fedora\u7528\u6237\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a $ yum update $ yum install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz \\ readline-devel \\ ncurses-devel \\ zlib-devel \\ gcc \\ gcc-c++ \\ cmake \\ gettext \\ curl \\ redhat-lsb-core // \u4ec5CentOS 8 +\u3001RedHat 8 +\u3001Fedora\u9700\u8981\u5b89\u88c5libstdc++-static\u548clibasan\u3002 $ yum install -y libstdc++-static libasan - Debian\u548cUbuntu\u7528\u6237\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a $ apt-get update $ apt-get install -y make \\ m4 \\ git \\ wget \\ unzip \\ xz-utils \\ curl \\ lsb-core \\ build-essential \\ libreadline-dev \\ ncurses-dev \\ cmake \\ gettext \u68c0\u67e5\u4e3b\u673a\u4e0a\u7684GCC\u548cCMake\u7248\u672c\u662f\u5426\u6b63\u786e\u3002\u7248\u672c\u4fe1\u606f\u8bf7\u53c2\u89c1 \u8f6f\u4ef6\u8981\u6c42 \u3002 $ g++ --version $ cmake --version \u5982\u679c\u7248\u672c\u6b63\u786e\uff0c\u60a8\u53ef\u4ee5\u8df3\u8fc7\u672c\u5c0f\u8282\u3002\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8bf7\u6839\u636e\u5982\u4e0b\u6b65\u9aa4\u5b89\u88c5\uff1a 1. \u514b\u9686\u4ed3\u5e93 nebula-common \u5230\u4e3b\u673a\u3002 ```bash $ git clone https://github.com/vesoft-inc/nebula-common.git ``` \u7c7b\u4f3c2.0.0\u7248\u672c\u7684Nebula Graph\u6e90\u7801\u5b58\u50a8\u5728\u7279\u5b9a\u7684\u5206\u652f\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528`--branch`\u6216`-b`\u9009\u9879\u6307\u5b9a\u514b\u9686\u7684\u5206\u652f\u3002\u4f8b\u5982\u6307\u5b9a2.0.0\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a ```bash $ git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-common.git ``` 2. \u8fdb\u5165\u76ee\u5f55 nebula-common \u3002 ```bash $ cd nebula-common ``` 3. \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\u548c\u542f\u7528GCC\u548cCMake\u3002 ```bash // \u5b89\u88c5CMake\u3002 $ ./third-party/install-cmake.sh cmake-install // \u542f\u7528CMake\u3002 $ source cmake-install/bin/enable-cmake.sh // \u5b89\u88c5GCC\u3002\u5b89\u88c5\u5230opt\u76ee\u5f55\u9700\u8981root\u6743\u9650\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4fee\u6539\u4e3a\u5176\u4ed6\u76ee\u5f55\u3002 $ sudo ./third-party/install-gcc.sh --prefix=/opt // \u542f\u7528GCC\u3002 $ source /opt/vesoft/toolset/gcc/7.5.0/enable","title":"\u5b89\u88c5\u7f16\u8bd1\u6240\u9700\u8f6f\u4ef6"},{"location":"4.deployment-and-installation/1.resource-preparations/#nebula_graph_2","text":"","title":"\u6d4b\u8bd5\u73af\u5883\u8fd0\u884cNebula Graph\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_6","text":"\u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 CPU\u6838\u6570 4 \u5185\u5b58 8 GB \u786c\u76d8 100 GB\uff0cSSD","title":"\u786c\u4ef6\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_7","text":"\u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u5b89\u88c5Nebula Graph\uff0c\u5efa\u8bae\u60a8\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002","title":"\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_8","text":"\u8fdb\u7a0b \u5efa\u8bae\u6570\u91cf metad\uff08meta\u6570\u636e\u670d\u52a1\u8fdb\u7a0b\uff09 1 storaged\uff08\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b\uff09 \u22651 graphd\uff08\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b\uff09 \u22651 \u4f8b\u5982\u5355\u673a\u6d4b\u8bd5\u73af\u5883\uff0c\u60a8\u53ef\u4ee5\u5728\u673a\u5668\u4e0a\u90e8\u7f721\u4e2ametad\u30011\u4e2astoraged\u548c1\u4e2agraphd\u8fdb\u7a0b\u3002 \u5bf9\u4e8e\u66f4\u5e38\u89c1\u7684\u6d4b\u8bd5\u73af\u5883\uff0c\u4f8b\u5982\u4e09\u53f0\u673a\u5668\u6784\u6210\u7684\u96c6\u7fa4\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u65b9\u6848\u90e8\u7f72Nebula Graph\u3002 \u673a\u5668\u540d\u79f0 metad\u8fdb\u7a0b\u6570\u91cf storaged\u8fdb\u7a0b\u6570\u91cf graphd\u8fdb\u7a0b\u6570\u91cf A 1 1 1 B - 1 1 C - 1 1","title":"\u670d\u52a1\u67b6\u6784\u5efa\u8bae"},{"location":"4.deployment-and-installation/1.resource-preparations/#nebula_graph_3","text":"","title":"\u751f\u4ea7\u73af\u5883\u8fd0\u884cNebula Graph\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_9","text":"\u7c7b\u578b \u8981\u6c42 CPU\u67b6\u6784 x86_64 CPU\u6838\u6570 48 \u5185\u5b58 96 GB \u786c\u76d8 2 * 900 GB\uff0cNVMe SSD","title":"\u786c\u4ef6\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_10","text":"\u5f53\u524d\u4ec5\u652f\u6301\u5728Linux\u7cfb\u7edf\u4e2d\u5b89\u88c5Nebula Graph\uff0c\u5efa\u8bae\u60a8\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u5185\u6838\u7248\u672c\u4e3a 3.9 \u53ca\u4ee5\u4e0a\u7248\u672c\u7684Linux\u7cfb\u7edf\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u4e00\u4e9b\u5185\u6838\u53c2\u6570\u6765\u63d0\u9ad8Nebula Graph\u6027\u80fd\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u6838\u914d\u7f6e \u3002","title":"\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_11","text":"\u8fdb\u7a0b \u5efa\u8bae\u6570\u91cf metad\uff08meta\u6570\u636e\u670d\u52a1\u8fdb\u7a0b\uff09 3 storaged\uff08\u5b58\u50a8\u670d\u52a1\u8fdb\u7a0b\uff09 \u22653 graphd\uff08\u67e5\u8be2\u5f15\u64ce\u670d\u52a1\u8fdb\u7a0b\uff09 \u22653 \u901a\u5e38\u60a8\u53ea\u9700\u89813\u4e2ametad\u8fdb\u7a0b\uff0c\u6bcf\u4e2ametad\u8fdb\u7a0b\u4f1a\u81ea\u52a8\u521b\u5efa\u5e76\u7ef4\u62a4meta\u6570\u636e\u7684\u4e00\u4e2a\u526f\u672c\u3002 storaged\u8fdb\u7a0b\u7684\u6570\u91cf\u4e0d\u4f1a\u5f71\u54cd\u56fe\u7a7a\u95f4\u526f\u672c\u7684\u6570\u91cf\u3002 \u60a8\u53ef\u4ee5\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u90e8\u7f72\u591a\u4e2a\u8fdb\u7a0b\uff0c\u4f8b\u5982\u4e94\u53f0\u673a\u5668\u6784\u6210\u7684\u96c6\u7fa4\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u65b9\u6848\u90e8\u7f72Nebula Graph\u3002 \u8b66\u544a \uff1a\u8bf7 \u4e0d\u8981 \u8de8\u673a\u623f\u90e8\u7f72\u96c6\u7fa4\u3002 \u673a\u5668\u540d\u79f0 metad\u8fdb\u7a0b\u6570\u91cf storaged\u8fdb\u7a0b\u6570\u91cf graphd\u8fdb\u7a0b\u6570\u91cf A 1 1 1 B 1 1 1 C 1 1 1 D - 1 1 E - 1 1","title":"\u670d\u52a1\u67b6\u6784\u5efa\u8bae"},{"location":"4.deployment-and-installation/1.resource-preparations/#nebula_graph_4","text":"\u60a8\u53ef\u4ee5\u9884\u4f30\u4e00\u4e2a3\u526f\u672cNebula Graph\u96c6\u7fa4\u6240\u9700\u7684\u5185\u5b58\u3001\u786c\u76d8\u7a7a\u95f4\u548c\u5206\u533a\u6570\u91cf\u3002 \u8d44\u6e90 \u5355\u4f4d \u8ba1\u7b97\u516c\u5f0f \u8bf4\u660e \u786c\u76d8\u7a7a\u95f4 Bytes \u70b9\u548c\u8fb9\u7684\u603b\u6570 * \u5c5e\u6027\u7684\u5e73\u5747\u5b57\u8282\u5927\u5c0f * 6 * 120% - \u5185\u5b58 Bytes [ \u70b9\u548c\u8fb9\u7684\u603b\u6570 * 15 + RocksDB\u5b9e\u4f8b\u6570\u91cf * ( write_buffer_size * max_write_buffer_number + \u5757\u7f13\u5b58\u5927\u5c0f ] * 120% write_buffer_size \u548c max_write_buffer_number \u662fRocksDB\u5185\u5b58\u76f8\u5173\u53c2\u6570\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 MemTable \u3002\u5757\u7f13\u5b58\u5927\u5c0f\u8bf7\u53c2\u89c1 Memory usage in RocksDB \u3002 \u5206\u533a\u6570\u91cf - \u96c6\u7fa4\u786c\u76d8\u6570\u91cf * disk_partition_num_multiplier disk_partition_num_multiplier \u662f\u53d6\u503c\u4e3a2~10\u7684\u4e00\u4e2a\u6574\u6570\uff0c\u7528\u4e8e\u8861\u91cf\u786c\u76d8\u6027\u80fd\u3002HDD\u4f7f\u75282\u3002 \u95ee\u9898 1\uff1a\u4e3a\u4ec0\u4e48\u78c1\u76d8\u7a7a\u95f4\u548c\u5185\u5b58\u90fd\u8981\u4e58\u4ee5120%\uff1f \u7b54\uff1a\u989d\u5916\u768420%\u7528\u4e8e\u7f13\u51b2\u3002 \u95ee\u9898 2\uff1a\u5982\u4f55\u83b7\u53d6RocksDB\u5b9e\u4f8b\u6570\u91cf\uff1f \u7b54\uff1a\u5728 etc \u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \uff0c --data_path \u9009\u9879\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\u5bf9\u5e94\u4e00\u4e2aRocksDB\u5b9e\u4f8b\uff0c\u76ee\u5f55\u603b\u6570\u5373\u662fRocksDB\u5b9e\u4f8b\u6570\u91cf\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u6dfb\u52a0 --enable_partitioned_index_filter=true \u6765\u964d\u4f4ebloom\u8fc7\u6ee4\u5668\u5360\u7528\u7684\u5185\u5b58\u5927\u5c0f\uff0c\u4f46\u662f\u5728\u67d0\u4e9b\u968f\u673a\u5bfb\u9053\uff08random-seek\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u4f1a\u964d\u4f4e\u8bfb\u53d6\u6027\u80fd\u3002","title":"Nebula Graph\u8d44\u6e90\u8981\u6c42"},{"location":"4.deployment-and-installation/1.resource-preparations/#_12","text":"Nebula Graph\u662f\u9488\u5bf9NVMe SSD\u8fdb\u884c\u8bbe\u8ba1\u548c\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u9ed8\u8ba4\u53c2\u6570\u90fd\u662f\u57fa\u4e8eSSD\u8bbe\u5907\u8fdb\u884c\u8c03\u4f18\u3002 \u4e0d\u63a8\u8350\u4f7f\u7528HDD\uff0c\u56e0\u4e3aHDD\u7684IOPS\u6027\u80fd\u5dee\uff0c\u968f\u673a\u5bfb\u9053\u5ef6\u8fdf\u9ad8\uff0c\u53ef\u80fd\u8fd8\u4f1a\u9047\u5230\u8bb8\u591a\u5176\u4ed6\u95ee\u9898\u3002\u4e5f\u4e0d\u5efa\u8bae\u4f7f\u7528\u8fdc\u7aef\u5b58\u50a8\u8bbe\u5907\uff0c\u4f8b\u5982NAS\u6216SAN\u3002 \u8bf7\u4f7f\u7528\u672c\u5730SSD\u8bbe\u5907\u3002","title":"\u5173\u4e8e\u5b58\u50a8\u8bbe\u5907"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/","text":"\u5347\u7ea7 Nebula Graph \u5386\u53f2\u7248\u672c\u81f3 v2.0.0 \u00b6 \u5347\u7ea7\u9650\u5236 \u00b6 \u4e0d\u652f\u6301\u8f6e\u8f6c\u70ed\u5347\u7ea7\uff0c\u9700\u5b8c\u5168\u505c\u6b62\u6574\u4e2a\u96c6\u7fa4\u670d\u52a1\u3002 \u672a\u63d0\u4f9b\u5347\u7ea7\u811a\u672c\uff0c\u9700\u624b\u52a8\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u4f9d\u6b21\u6267\u884c\u3002 \u652f\u6301 \u5982\u4e0b\u7248\u672c\u7684\u5347\u7ea7\u3002 Nebula Graph v1.2.0 \u5347\u7ea7\u81f3 Nebula Graph v2.0.0 . Nebula Graph v2.0.0-RC1 \u5347\u7ea7\u81f3 Nebula Graph 2.0.0. \u4e0d\u652f\u6301 \u57fa\u4e8e docker \u5bb9\u5668 (\u5305\u62ec docker swarm, docker-compose, k8s) \u7684\u5347\u7ea7\u3002 \u5fc5\u987b\u5728\u539f\u670d\u52a1\u5668\u4e0a\u539f\u5730\u5347\u7ea7\uff0c\u4e0d\u80fd\u4fee\u6539\u539f\u673a\u5668\u7684IP\u5730\u5740\u3001\u914d\u7f6e\u6587\u4ef6\uff0c\u4e0d\u53ef\u66f4\u6539\u96c6\u7fa4\u62d3\u6251\u3002 \u786c\u76d8\u7a7a\u95f4\u8981\u6c42\uff1a\u5404\u673a\u5668\"\u786c\u76d8\u5269\u4f59\u7a7a\u95f4\"\u90fd\u9700\u8981\u662f\"\u539f\u6570\u636e\u76ee\u5f55\"\u7684 \u4e09\u500d \u3002 \u5df2\u77e5\u4f1a\u9020\u6210\u6570\u636e\u4e22\u5931\u76844\u79cd\u573a\u666f\uff0c\u548c alter schema \u4ee5\u53ca default value \u76f8\u5173\uff0c\u5177\u4f53\u89c1 github known issues . \u6240\u6709\u7684\u5ba2\u6237\u7aef\u5747\u9700\u8981\u5347\u7ea7\uff0c\u901a\u4fe1\u534f\u8bae\u4e0d\u517c\u5bb9\u3002 \u5347\u7ea7\u65f6\u95f4\u5927\u7ea6\u9700\u898130\u5206\u949f\uff08\u53d6\u51b3\u4e8e\u5177\u4f53\u914d\u7f6e\uff09\uff0c\u53c2\u89c1\u6587\u672b\u6d4b\u8bd5\u73af\u5883\u3002 \u6570\u636e\u76ee\u5f55\u4e0d\u8981\u4f7f\u7528\u8f6f\u8fde\u63a5\u5207\u6362\uff0c\u907f\u514d\u5931\u6548\u3002 \u5347\u7ea7\u64cd\u4f5c\u9700\u8981\u6709 sudo \u6743\u9650\u3002 \u524d\u7f6e\u6761\u4ef6\u8bf4\u660e \u00b6 \u65e7\u7248\u672c\u5b89\u88c5\u76ee\u5f55 \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u65e7\u7248\u672c\u5b89\u88c5\u7684\u6839\u76ee\u5f55\u4e3a /usr/local/nebula/ (\u4e0b\u6587\u8bb0\u4e3a ${nebula-old} \u3002\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a ${nebula-old}/etc/ . \u5728 ${nebula-old}/etc/nebula-storaged.conf \u4e2d\u627e\u5230 --data_path \u9879\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a data/storage ; \u4e3a storaged \u6570\u636e\u76ee\u5f55 \u4f4d\u7f6e\u3002 \u5728 ${nebula-old}/etc/nebula-metad.conf \u4e2d\u627e\u5230 --data_path \u9879\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a data/meta ; \u4e3a metad \u6570\u636e\u76ee\u5f55 \u4f4d\u7f6e\u3002 \u8bf4\u660e : Nebula Graph\u7684\u5b9e\u9645\u5b89\u88c5\u8def\u5f84\u53ef\u80fd\u548c\u672c\u6587\u793a\u610f\u4e0d\u540c\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002\u60a8\u4e5f\u53ef\u4ee5\u7528 ps -ef | grep nebula \u4e2d\u7684\u53c2\u6570\u6765\u627e\u5230\u5b9e\u9645\u4f7f\u7528\u7684\u914d\u7f6e\u6587\u4ef6\u5730\u5740\u3002 \u65b0\u7248\u672c\u5b89\u88c5\u76ee\u5f55 \u00b6 \u672c\u6587\u4e2d\u65b0\u7248\u672c\u5b89\u88c5\u76ee\u5f55\u8bb0\u4e3a ${nebula-new} (\u4f8b\u5982 /usr/local/nebula-new/ ). > mkdir -p ${ nebula -new } \u5347\u7ea7\u6b65\u9aa4 \u00b6 \u505c\u6b62\u6240\u6709\u5ba2\u6237\u7aef\u8bbf\u95ee \u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u5173\u95ed graphd \u670d\u52a1\u907f\u514d\u810f\u5199\u3002\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 > ${ nebula -old } /scripts/nebula.service stop graphd [ INFO ] Stopping nebula-graphd... [ INFO ] Done \u505c\u6b62\u65e7\u7248\u672c\u670d\u52a1\u3002\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 > ${ nebula -old } /scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done \u8fd0\u884c ps -ef | grep nebula \u68c0\u67e5\u6240\u6709 nebula \u670d\u52a1\u90fd\u5df2\u505c\u6b62\u3002 storaged \u8fdb\u7a0b flush \u6570\u636e\u53ef\u80fd\u8981\u7b49\u5f85 1 \u5206\u949f\u3002 \u5982\u679c\u8d85\u8fc7 20 \u5206\u949f\u4e0d\u80fd\u505c\u6b62\u670d\u52a1\uff0c \u653e\u5f03\u672c\u6b21\u5347\u7ea7 \uff0c\u5e76\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 3.1 \u5b89\u88c5\u65b0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 \u5982\u679c\u4ece rpm/deb \u5b89\u88c5,\u4ece release page \u4e0b\u8f7d\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u88c5\u5305\u3002 > sudo rpm --force -i --prefix = ${ nebula -new } ${ nebula -package-name.rpm } # for centos/redhat > sudo dpkg -i --instdir == ${ nebula -new } ${ nebula -package-name.deb } # for ubuntu \u5177\u4f53\u6b65\u9aa4\u53ef\u4ee5\u89c1 \u4eceRPM/DEB\u5b89\u88c5 \u3002 \u5982\u679c\u4ece\u6e90\u4ee3\u7801\u5b89\u88c5\u3002\u5177\u4f53\u6b65\u9aa4\u89c1 \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5 \u3002\u8fd9\u91cc\u5217\u51fa\u51e0\u4e2a\u5173\u952e\u547d\u4ee4\uff1a + clone \u6e90\u4ee3\u7801 > git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-graph.git + \u8bbe\u7f6e CMake > cmake -DCMAKE_INSTALL_PREFIX = ${ nebula -new } -DENABLE_BUILD_STORAGE = on -DENABLE_TESTING = OFF -DCMAKE_BUILD_TYPE = Release -DNEBULA_COMMON_REPO_TAG = v2.0.0 -DNEBULA_STORAGE_REPO_TAG = v2.0.0 .. 3.2 \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6 > cp -rf ${ nebula -old } /etc ${ nebula -new } / \u5728\u66fe\u7ecf\u8fd0\u884c metad \u7684\u670d\u52a1\u5668\u4e0a\uff08\u901a\u5e38\u4e3a3\u53f0\uff09\uff0c\u62f7\u8d1d metad \u6570\u636e\u3001\u914d\u7f6e\u6587\u4ef6\u5230\u65b0\u76ee\u5f55\u3002 \u62f7\u8d1d metad \u6570\u636e \u5728 ${nebula-old}/etc/nebula-metad.conf \u4e2d\u627e\u5230 --data_path \u9879\uff08\u5176\u9ed8\u8ba4\u503c\u4e3a data/meta \uff09 + \u5982\u679c\u65e7\u7248\u672c\u914d\u7f6e \u672a\u66f4\u6539 --data_path \u9879\uff0c\u5219\u53ef\u4ee5\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u5c06metad\u6570\u636e\u62f7\u8d1d\u5230\u65b0\u76ee\u5f55\u3002 > mkdir -p ${ nebula -new } /data/meta/ > cp -r ${ nebula -old } /data/meta/* ${ nebula -new } /data/meta/ + \u5982\u679c\u65e7\u7248\u672c\u914d\u7f6e\u66f4\u6539\u4e86\u9ed8\u8ba4\u7684 metad \u76ee\u5f55\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u76ee\u5f55\u62f7\u8d1d\u3002 \u62f7\u8d1d\u5e76\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 + \u7f16\u8f91\u65b0\u7684 metad \u914d\u7f6e\u6587\u4ef6\uff1a ```bash > vim ${nebula-new}/nebula-metad.conf ``` * [\u53ef\u9009]\u589e\u52a0\u914d\u7f6e\u9879\uff1a `--null_type=false`: \u5347\u7ea7\u540e\u7684schema\u7684\u5c5e\u6027\u662f\u5426\u8981\u652f\u6301 [`NULL`](https://docs.nebula-graph.io/2.0/3.ngql-guide/3.data-types/5.null/)\uff0c**\u9ed8\u8ba4\u4e3a true**\u3002\u4e0d\u5e0c\u671b\u652f\u6301 NULL \u7684\u8bdd\uff0c\u8bbe\u7f6e\u4e3a false\u3002\u6b64\u65f6\uff0c\u5347\u7ea7\u540e\u7684 schema \u5982\u679c\u8981\u589e\u52a0\u5c5e\u6027\uff08alter tag/edge)\u5fc5\u987b\u6307\u5b9a [default \u503c](https://docs.nebula-graph.io/2.0/3.ngql-guide/10.tag-statements/1.create-tag/)\uff0c\u5426\u5219\u4f1a\u8bfb\u4e0d\u51fa\u6570\u636e\u3002 `--string_index_limit=32`: \u5347\u7ea7\u540e string \u5bf9\u5e94\u7684[\u7d22\u5f15\u7684\u957f\u5ea6](https://docs.nebula-graph.io/2.0/3.ngql-guide/14.native-index-statements/1.create-native-index/)\uff0c\u4e0d\u52a0\u7684\u8bdd\u7cfb\u7edf\u9ed8\u8ba4\u4e3a 64\u3002 \u68c0\u67e5 \uff1a\u6bcf\u4e2a metad \u90fd\u5b8c\u6210\u64cd\u4f5c\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u4e0a, \u4fee\u6539 storaged \u914d\u7f6e\u6587\u4ef6\u3002 + [\u53ef\u9009]\u5982\u679c\u65e7\u7248\u672c storaged \u6570\u636e\u76ee\u5f55 --data_path=data/storage \u4e0d\u662f\u9ed8\u8ba4\u503c\uff0c\u6709\u66f4\u6539\u3002 > vim ${ nebula -new } /nebula-storaged.conf --data_path \u8bbe\u7f6e\u4e3a\u65b0\u7684 storaged \u6570\u636e\u76ee\u5f55\u5730\u5740\u3002 + \u521b\u5efa\u65b0\u7248\u672c storaged \u6570\u636e\u76ee\u5f55\u3002 > mkdir -p ${ nebula -new } /data/storage/ \u5982\u679c ${nebula-new}/etc/nebula-storaged.conf \u4e2d\u7684 --data_path \u6709\u6539\u52a8\uff0c\u8bf7\u6309\u5b9e\u9645\u8def\u5f84\u521b\u5efa\u3002 \u542f\u52a8\u65b0\u7248\u672c\u7684 metad \u8fdb\u7a0b\u3002 \u5728\u6bcf\u4e2a metad \u7684\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start metad [ INFO ] Starting nebula-metad... [ INFO ] Done \u68c0\u67e5\u6bcf\u4e2a metad \u8fdb\u7a0b\u662f\u5426\u6b63\u5e38\u3002 $ ps -ef | grep nebula-metad - \u68c0\u67e5 metad \u65e5\u5fd7 ${nebula-new}/logs/ \u4e0b\u7684 ERROR \u65e5\u5fd7\u3002 \u5982\u679c\u670d\u52a1\u5f02\u5e38\uff1a\u8bf7\u67e5\u770b\u76ee\u5f55 ${nebula-new}/logs \u5185\u7684 metad \u76f8\u5173\u65e5\u5fd7\uff0c\u5e76\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u5347\u7ea7 storaged \u6570\u636e\u683c\u5f0f\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 $ sudo ${ nebula -new } /bin/db_upgrader \\ --src_db_path = <old_storage_directory_path> \\ --dst_db_path = <new_storage_directory_path> \\ --upgrade_meta_server = <meta_server_ip1>:<port1> [ ,<meta_server_ip2>:<port2>,... ] \\ --upgrade_version = <old_nebula_version> \\ \u53c2\u6570\u8bf4\u660e\uff1a --src_db_path \u4e3a \u8001\u7248\u672c storaged\u7684\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u591a\u4e2a\u76ee\u5f55\u7528\u9017\u53f7\u5206\u9694\uff0c\u4e0d\u52a0\u7a7a\u683c\u3002 --dst_db_path \u4e3a \u65b0\u7248\u672c storaged\u7684\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u591a\u4e2a\u76ee\u5f55\u7528\u9017\u53f7\u5206\u9694\u3002\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5fc5\u987b\u548c --src_db_path \u4e2d\u4e00\u4e00\u5bf9\u5e94\u3002 \u8b66\u544a : \u4e24\u8005\u987a\u5e8f\u4e0d\u8981\u641e\u53cd\u4e86\uff0c\u5426\u5219\u4f1a\u5199\u574f\u65e7\u7248\u672c\u7684\u6570\u636e\u3002 --upgrade_meta_server \u4e3a\u6b65\u9aa46\u4e2d\u542f\u52a8\u7684\u6240\u6709\u65b0 metad \u7684\u5730\u5740. --upgrade_version \u5982\u679c\u8001\u7248\u672c\u4e3av1.2.0\uff0c\u5219\u586b\u51991\uff1b\u5982\u679c\u8001\u7248\u672c\u4e3av2.0.0-RC\uff0c\u5219\u586b\u51992.\u4e0d\u53ef\u586b\u5199\u5176\u4ed6\u6570\u5b57\u3002 \u4f8b\u5982\uff0c\u4ece v1.2.0 \u5347\u7ea7\uff1a $ sudo /usr/local/nebula_new/bin/db_upgrader \\ --src_db_path = /usr/local/nebula/data/storage/data1/,/usr/local/nebula/data/storage/data2/ \\ --dst_db_path = /usr/local/nebula_new/data/storage/data1/,/usr/local/nebula_new/data/storage/data2/ \\ --upgrade_meta_server = 192 .168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 \\ --upgrade_version = 1 \u4ece v2.0.0-RC \u5347\u7ea7\uff1a $ sudo /usr/local/nebula_new/bin/db_upgrader \\ --src_db_path = /usr/local/nebula/data/storage/ \\ --dst_db_path = /usr/local/nebula_new/data/storage/ \\ --upgrade_meta_server = 192 .168.8.14:9559,192.168.8.15:9559,192.168.8.16:9559 \\ --upgrade_version = 2 \u5982\u679c\u5de5\u5177\u629b\u51fa\u5f02\u5e38\u8bf7\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u68c0\u67e5 \uff1a\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u90fd\u5b8c\u6210\u6570\u636e\u5347\u7ea7\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u542f\u52a8\u65b0\u7248\u672c\u7684 storaged \u670d\u52a1\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start storaged $ sudo ${ nebula -new } /scripts/nebula.service status storaged \u8bf4\u660e\uff1a\u5982\u679c\u6709 storaged \u672a\u6b63\u5e38\u542f\u52a8\uff0c\u8bf7\u5c06\u65e5\u5fd7 ${nebula-new}/logs/ \u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad\u548cstoraged\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u5728\u6bcf\u4e2a graphd \u670d\u52a1\u5668\u542f\u52a8\u65b0\u7248\u672c\u7684 graphd \u670d\u52a1\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start graphd $ sudo ${ nebula -new } /scripts/nebula.service status graphd \u8bf4\u660e\uff1a\u5982\u679c\u6709graphd\u672a\u6b63\u5e38\u542f\u52a8\uff0c\u8bf7\u5c06\u65e5\u5fd7 ${nebula-new}/logs/ \u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad,storaged,graphd. \u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u4f7f\u7528 \u65b0\u7248\u672cNebula Console \u8fde\u63a5\u65b0\u7684Nebula Graph\uff0c\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u53ef\u7528\u3001\u6570\u636e\u662f\u5426\u6b63\u5e38\u3002\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u5982 graphd \u7684 IP\u3001\u7aef\u53e3\u90fd\u4e0d\u53d8\u3002 nebula> SHOW HOSTS; nebula> SHOW SPACES; nebula> USE <space_name> nebula> SHOW PARTS; nebula> SUBMIT JOB STATS; nebula> SHOW STATS; \u7981\u6b62 \uff1a\u4e0d\u53ef\u4f7f\u7528v2.0.0\u4e4b\u524d\u7684 nebula console\u3002 \u5347\u7ea7\u5176\u4ed6\u5ba2\u6237\u7aef \u6240\u6709\u7684\u5ba2\u6237\u7aef\u90fd\u5fc5\u987b\u5347\u7ea7\u5230\u5bf9\u5e94 v2.0.0 \u7248\u672c\u3002\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e studio , python , java , go , c++ , flink-connector , spark-util , benchmark \u3002\u8bf7\u627e\u5230\u5404 repo \u5bf9\u5e94\u7684 v2.0.0 branch\u3002 \u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u901a\u4fe1\u534f\u8bae\u3002\u9700\u91cd\u65b0\u6e90\u4ee3\u7801\u7f16\u8bd1\u6216\u8005\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305\u3002 (\u8fd0\u7ef4)\u63d0\u9192\uff1a\u5347\u7ea7\u540e\u7684\u6570\u636e\u76ee\u5f55\u4e3a ${nebula-new}/ \u3002\u5982\u6709\u786c\u76d8\u5bb9\u91cf\u76d1\u63a7\u3001\u65e5\u5fd7 ELK \u7b49\uff0c\u76f8\u5e94\u6539\u52a8\u3002 \u5347\u7ea7\u5931\u8d25\u56de\u6eda \u00b6 \u5982\u679c\u5347\u7ea7\u5931\u8d25\uff0c\u8bf7\u505c\u6b62\u65b0\u7248\u672c\u7684\u6240\u6709\u670d\u52a1\uff0c\u542f\u52a8\u65e7\u7248\u7684\u6240\u6709\u670d\u52a1\u3002 \u6240\u6709\u5468\u8fb9\u5ba2\u6237\u7aef\u5207\u6362\u4e3a \u65e7\u7248 \u3002 \u96441\uff1a\u5347\u7ea7\u6d4b\u8bd5\u73af\u5883 \u00b6 \u672c\u6587\u6d4b\u8bd5\u5347\u7ea7\u7684\u73af\u5883\u5982\u4e0b\uff1a \u673a\u5668\u914d\u7f6e\uff1a32\u6838CPU\u300162 GB\u5185\u5b58\u3001SSD \u6570\u636e\u89c4\u6a21\uff1aNebula Graph 1.2 \u7248\u672c LDBC \u6d4b\u8bd5\u6570\u636e 100 GB\uff081\u4e2a\u56fe\u7a7a\u95f4\u300124\u4e2a\u5206\u7247\u3001data\u76ee\u5f55 92 GB\uff09 \u5e76\u53d1\u53c2\u6570\uff1a --max_concurrent=5 \u3001 --max_concurrent_parts=24 \u3001 --write_batch_num=100 \u5347\u7ea7\u5171\u8017\u65f6 21\u5206\u949f \uff08\u5176\u4e2d compaction \u8017\u65f613\u5206\u949f\uff09\u3002\u5de5\u5177\u5e76\u53d1\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c --max_concurrent 5 --max_concurrent_parts 10 --write_batch_num 100 \u96442\uff1aNebula Graph v2.0.0 \u4ee3\u7801\u5730\u5740\u548c commit id \u00b6 \u5730\u5740 commit id graphd 91639db storaged \u548c metad 761f22b common b2512aa FAQ \u00b6 Q\uff1a\u5347\u7ea7\u8fc7\u7a0b\u4e2d\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef\u5199\u5165\u6570\u636e\uff1f A\uff1a\u4e0d\u53ef\u4ee5\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5199\u5165\u7684\u6570\u636e\u72b6\u6001\u662f\u672a\u5b9a\u4e49\u7684\u3002 Q: \u9664\u4e86 v1.2.0 \u548c v2.0.0-RC \u5916\uff0c\u5176\u4ed6\u7248\u672c\u662f\u5426\u652f\u6301\u5347\u7ea7\uff1f A: \u672a\u9a8c\u8bc1\u8fc7\u3002\u7406\u8bba\u4e0a v1.0.0 - v1.2.0 \u90fd\u53ef\u4ee5\u91c7\u7528 v1.2.0 \u7684\u5347\u7ea7\u7248\u672c\u3002 v2.x \u7684\u65e5\u5e38\u7814\u53d1\u7248\u672c(nightly)\u65e0\u5347\u7ea7\u65b9\u6848\u3002 Q: \u5347\u7ea7\u5b8c\u670d\u52a1\u7aef\u540e\uff0c\u5ba2\u6237\u7aef\u5982\u4f55\u5347\u7ea7\uff1f A\uff1a\u6240\u6709\u7684\u5ba2\u6237\u7aef\u90fd\u5fc5\u987b\u5347\u7ea7\u5230\u5bf9\u5e94 v2.0.0 \u7248\u672c\u3002\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e console , studio , python , java , go , c++ , flink-connector , spark-util , benchmark \u3002\u8bf7\u627e\u5230\u5404repo\u5bf9\u5e94\u7684v2.0.0 branch (TODO\uff1a \u90e8\u5206branch\u8fd8\u672a\u53d1\u5e03\uff09\u3002\u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u901a\u4fe1\u534f\u8bae\u3002 Q: \u5982\u679c\u67d0\u53f0\u673a\u5668\u53ea\u6709 graphd \u670d\u52a1\uff0c\u6ca1\u6709 storaged \u670d\u52a1\uff0c\u5982\u4f55\u5347\u7ea7\uff1f A: \u90a3\u53ea\u9700\u8981\u5347\u7ea7 graphd \u5bf9\u5e94\u7684 binary \uff08\u6216\u8005rpm\u5305\uff09\u3002 Q: \u64cd\u4f5c\u62a5\u9519 Permission denied \u3002 A: \u90e8\u5206\u547d\u4ee4\u9700\u8981\u6709 sudo \u6743\u9650\u3002 Q: \u662f\u5426\u6709 gflags \u53d1\u751f\u6539\u53d8\uff1f A: \u76ee\u524d\u5df2\u77e5\u7684 gflags \u6539\u53d8\u6574\u7406\u5728 github issues . Q: \u5220\u9664\u6570\u636e\u91cd\u65b0\u5b89\u88c5\uff0c\u548c\u5347\u7ea7\u6709\u4f55\u4e0d\u540c\uff1f A: v2.x \u7684\u9ed8\u8ba4\u914d\u7f6e\uff08\u5305\u62ec\u7aef\u53e3\uff09\u4e0e v1.x \u4e0d\u540c\u3002\u5347\u7ea7\u65b9\u6848\u6cbf\u7528\u8001\u7684\u914d\u7f6e\uff0c\u5220\u9664\u91cd\u65b0\u5b89\u88c5\u6cbf\u7528\u65b0\u7684\u914d\u7f6e\u3002 Q: \u662f\u5426\u6709\u5de5\u5177\u6216\u8005\u529e\u6cd5\u9a8c\u8bc1\u65b0\u65e7\u7248\u672c\u6570\u636e\u662f\u5426\u4e00\u81f4\uff1f A\uff1a\u6ca1\u6709\u3002","title":"\u5347\u7ea7Nebula Graph"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#nebula_graph_v200","text":"","title":"\u5347\u7ea7 Nebula Graph \u5386\u53f2\u7248\u672c\u81f3 v2.0.0"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_1","text":"\u4e0d\u652f\u6301\u8f6e\u8f6c\u70ed\u5347\u7ea7\uff0c\u9700\u5b8c\u5168\u505c\u6b62\u6574\u4e2a\u96c6\u7fa4\u670d\u52a1\u3002 \u672a\u63d0\u4f9b\u5347\u7ea7\u811a\u672c\uff0c\u9700\u624b\u52a8\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u4f9d\u6b21\u6267\u884c\u3002 \u652f\u6301 \u5982\u4e0b\u7248\u672c\u7684\u5347\u7ea7\u3002 Nebula Graph v1.2.0 \u5347\u7ea7\u81f3 Nebula Graph v2.0.0 . Nebula Graph v2.0.0-RC1 \u5347\u7ea7\u81f3 Nebula Graph 2.0.0. \u4e0d\u652f\u6301 \u57fa\u4e8e docker \u5bb9\u5668 (\u5305\u62ec docker swarm, docker-compose, k8s) \u7684\u5347\u7ea7\u3002 \u5fc5\u987b\u5728\u539f\u670d\u52a1\u5668\u4e0a\u539f\u5730\u5347\u7ea7\uff0c\u4e0d\u80fd\u4fee\u6539\u539f\u673a\u5668\u7684IP\u5730\u5740\u3001\u914d\u7f6e\u6587\u4ef6\uff0c\u4e0d\u53ef\u66f4\u6539\u96c6\u7fa4\u62d3\u6251\u3002 \u786c\u76d8\u7a7a\u95f4\u8981\u6c42\uff1a\u5404\u673a\u5668\"\u786c\u76d8\u5269\u4f59\u7a7a\u95f4\"\u90fd\u9700\u8981\u662f\"\u539f\u6570\u636e\u76ee\u5f55\"\u7684 \u4e09\u500d \u3002 \u5df2\u77e5\u4f1a\u9020\u6210\u6570\u636e\u4e22\u5931\u76844\u79cd\u573a\u666f\uff0c\u548c alter schema \u4ee5\u53ca default value \u76f8\u5173\uff0c\u5177\u4f53\u89c1 github known issues . \u6240\u6709\u7684\u5ba2\u6237\u7aef\u5747\u9700\u8981\u5347\u7ea7\uff0c\u901a\u4fe1\u534f\u8bae\u4e0d\u517c\u5bb9\u3002 \u5347\u7ea7\u65f6\u95f4\u5927\u7ea6\u9700\u898130\u5206\u949f\uff08\u53d6\u51b3\u4e8e\u5177\u4f53\u914d\u7f6e\uff09\uff0c\u53c2\u89c1\u6587\u672b\u6d4b\u8bd5\u73af\u5883\u3002 \u6570\u636e\u76ee\u5f55\u4e0d\u8981\u4f7f\u7528\u8f6f\u8fde\u63a5\u5207\u6362\uff0c\u907f\u514d\u5931\u6548\u3002 \u5347\u7ea7\u64cd\u4f5c\u9700\u8981\u6709 sudo \u6743\u9650\u3002","title":"\u5347\u7ea7\u9650\u5236"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_2","text":"","title":"\u524d\u7f6e\u6761\u4ef6\u8bf4\u660e"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_3","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u65e7\u7248\u672c\u5b89\u88c5\u7684\u6839\u76ee\u5f55\u4e3a /usr/local/nebula/ (\u4e0b\u6587\u8bb0\u4e3a ${nebula-old} \u3002\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e3a ${nebula-old}/etc/ . \u5728 ${nebula-old}/etc/nebula-storaged.conf \u4e2d\u627e\u5230 --data_path \u9879\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a data/storage ; \u4e3a storaged \u6570\u636e\u76ee\u5f55 \u4f4d\u7f6e\u3002 \u5728 ${nebula-old}/etc/nebula-metad.conf \u4e2d\u627e\u5230 --data_path \u9879\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a data/meta ; \u4e3a metad \u6570\u636e\u76ee\u5f55 \u4f4d\u7f6e\u3002 \u8bf4\u660e : Nebula Graph\u7684\u5b9e\u9645\u5b89\u88c5\u8def\u5f84\u53ef\u80fd\u548c\u672c\u6587\u793a\u610f\u4e0d\u540c\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002\u60a8\u4e5f\u53ef\u4ee5\u7528 ps -ef | grep nebula \u4e2d\u7684\u53c2\u6570\u6765\u627e\u5230\u5b9e\u9645\u4f7f\u7528\u7684\u914d\u7f6e\u6587\u4ef6\u5730\u5740\u3002","title":"\u65e7\u7248\u672c\u5b89\u88c5\u76ee\u5f55"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_4","text":"\u672c\u6587\u4e2d\u65b0\u7248\u672c\u5b89\u88c5\u76ee\u5f55\u8bb0\u4e3a ${nebula-new} (\u4f8b\u5982 /usr/local/nebula-new/ ). > mkdir -p ${ nebula -new }","title":"\u65b0\u7248\u672c\u5b89\u88c5\u76ee\u5f55"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_5","text":"\u505c\u6b62\u6240\u6709\u5ba2\u6237\u7aef\u8bbf\u95ee \u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u5173\u95ed graphd \u670d\u52a1\u907f\u514d\u810f\u5199\u3002\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 > ${ nebula -old } /scripts/nebula.service stop graphd [ INFO ] Stopping nebula-graphd... [ INFO ] Done \u505c\u6b62\u65e7\u7248\u672c\u670d\u52a1\u3002\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 > ${ nebula -old } /scripts/nebula.service stop all [ INFO ] Stopping nebula-metad... [ INFO ] Done [ INFO ] Stopping nebula-graphd... [ INFO ] Done [ INFO ] Stopping nebula-storaged... [ INFO ] Done \u8fd0\u884c ps -ef | grep nebula \u68c0\u67e5\u6240\u6709 nebula \u670d\u52a1\u90fd\u5df2\u505c\u6b62\u3002 storaged \u8fdb\u7a0b flush \u6570\u636e\u53ef\u80fd\u8981\u7b49\u5f85 1 \u5206\u949f\u3002 \u5982\u679c\u8d85\u8fc7 20 \u5206\u949f\u4e0d\u80fd\u505c\u6b62\u670d\u52a1\uff0c \u653e\u5f03\u672c\u6b21\u5347\u7ea7 \uff0c\u5e76\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 3.1 \u5b89\u88c5\u65b0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 \u5982\u679c\u4ece rpm/deb \u5b89\u88c5,\u4ece release page \u4e0b\u8f7d\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u88c5\u5305\u3002 > sudo rpm --force -i --prefix = ${ nebula -new } ${ nebula -package-name.rpm } # for centos/redhat > sudo dpkg -i --instdir == ${ nebula -new } ${ nebula -package-name.deb } # for ubuntu \u5177\u4f53\u6b65\u9aa4\u53ef\u4ee5\u89c1 \u4eceRPM/DEB\u5b89\u88c5 \u3002 \u5982\u679c\u4ece\u6e90\u4ee3\u7801\u5b89\u88c5\u3002\u5177\u4f53\u6b65\u9aa4\u89c1 \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5 \u3002\u8fd9\u91cc\u5217\u51fa\u51e0\u4e2a\u5173\u952e\u547d\u4ee4\uff1a + clone \u6e90\u4ee3\u7801 > git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-graph.git + \u8bbe\u7f6e CMake > cmake -DCMAKE_INSTALL_PREFIX = ${ nebula -new } -DENABLE_BUILD_STORAGE = on -DENABLE_TESTING = OFF -DCMAKE_BUILD_TYPE = Release -DNEBULA_COMMON_REPO_TAG = v2.0.0 -DNEBULA_STORAGE_REPO_TAG = v2.0.0 .. 3.2 \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6 > cp -rf ${ nebula -old } /etc ${ nebula -new } / \u5728\u66fe\u7ecf\u8fd0\u884c metad \u7684\u670d\u52a1\u5668\u4e0a\uff08\u901a\u5e38\u4e3a3\u53f0\uff09\uff0c\u62f7\u8d1d metad \u6570\u636e\u3001\u914d\u7f6e\u6587\u4ef6\u5230\u65b0\u76ee\u5f55\u3002 \u62f7\u8d1d metad \u6570\u636e \u5728 ${nebula-old}/etc/nebula-metad.conf \u4e2d\u627e\u5230 --data_path \u9879\uff08\u5176\u9ed8\u8ba4\u503c\u4e3a data/meta \uff09 + \u5982\u679c\u65e7\u7248\u672c\u914d\u7f6e \u672a\u66f4\u6539 --data_path \u9879\uff0c\u5219\u53ef\u4ee5\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u5c06metad\u6570\u636e\u62f7\u8d1d\u5230\u65b0\u76ee\u5f55\u3002 > mkdir -p ${ nebula -new } /data/meta/ > cp -r ${ nebula -old } /data/meta/* ${ nebula -new } /data/meta/ + \u5982\u679c\u65e7\u7248\u672c\u914d\u7f6e\u66f4\u6539\u4e86\u9ed8\u8ba4\u7684 metad \u76ee\u5f55\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u76ee\u5f55\u62f7\u8d1d\u3002 \u62f7\u8d1d\u5e76\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 + \u7f16\u8f91\u65b0\u7684 metad \u914d\u7f6e\u6587\u4ef6\uff1a ```bash > vim ${nebula-new}/nebula-metad.conf ``` * [\u53ef\u9009]\u589e\u52a0\u914d\u7f6e\u9879\uff1a `--null_type=false`: \u5347\u7ea7\u540e\u7684schema\u7684\u5c5e\u6027\u662f\u5426\u8981\u652f\u6301 [`NULL`](https://docs.nebula-graph.io/2.0/3.ngql-guide/3.data-types/5.null/)\uff0c**\u9ed8\u8ba4\u4e3a true**\u3002\u4e0d\u5e0c\u671b\u652f\u6301 NULL \u7684\u8bdd\uff0c\u8bbe\u7f6e\u4e3a false\u3002\u6b64\u65f6\uff0c\u5347\u7ea7\u540e\u7684 schema \u5982\u679c\u8981\u589e\u52a0\u5c5e\u6027\uff08alter tag/edge)\u5fc5\u987b\u6307\u5b9a [default \u503c](https://docs.nebula-graph.io/2.0/3.ngql-guide/10.tag-statements/1.create-tag/)\uff0c\u5426\u5219\u4f1a\u8bfb\u4e0d\u51fa\u6570\u636e\u3002 `--string_index_limit=32`: \u5347\u7ea7\u540e string \u5bf9\u5e94\u7684[\u7d22\u5f15\u7684\u957f\u5ea6](https://docs.nebula-graph.io/2.0/3.ngql-guide/14.native-index-statements/1.create-native-index/)\uff0c\u4e0d\u52a0\u7684\u8bdd\u7cfb\u7edf\u9ed8\u8ba4\u4e3a 64\u3002 \u68c0\u67e5 \uff1a\u6bcf\u4e2a metad \u90fd\u5b8c\u6210\u64cd\u4f5c\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u4e0a, \u4fee\u6539 storaged \u914d\u7f6e\u6587\u4ef6\u3002 + [\u53ef\u9009]\u5982\u679c\u65e7\u7248\u672c storaged \u6570\u636e\u76ee\u5f55 --data_path=data/storage \u4e0d\u662f\u9ed8\u8ba4\u503c\uff0c\u6709\u66f4\u6539\u3002 > vim ${ nebula -new } /nebula-storaged.conf --data_path \u8bbe\u7f6e\u4e3a\u65b0\u7684 storaged \u6570\u636e\u76ee\u5f55\u5730\u5740\u3002 + \u521b\u5efa\u65b0\u7248\u672c storaged \u6570\u636e\u76ee\u5f55\u3002 > mkdir -p ${ nebula -new } /data/storage/ \u5982\u679c ${nebula-new}/etc/nebula-storaged.conf \u4e2d\u7684 --data_path \u6709\u6539\u52a8\uff0c\u8bf7\u6309\u5b9e\u9645\u8def\u5f84\u521b\u5efa\u3002 \u542f\u52a8\u65b0\u7248\u672c\u7684 metad \u8fdb\u7a0b\u3002 \u5728\u6bcf\u4e2a metad \u7684\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start metad [ INFO ] Starting nebula-metad... [ INFO ] Done \u68c0\u67e5\u6bcf\u4e2a metad \u8fdb\u7a0b\u662f\u5426\u6b63\u5e38\u3002 $ ps -ef | grep nebula-metad - \u68c0\u67e5 metad \u65e5\u5fd7 ${nebula-new}/logs/ \u4e0b\u7684 ERROR \u65e5\u5fd7\u3002 \u5982\u679c\u670d\u52a1\u5f02\u5e38\uff1a\u8bf7\u67e5\u770b\u76ee\u5f55 ${nebula-new}/logs \u5185\u7684 metad \u76f8\u5173\u65e5\u5fd7\uff0c\u5e76\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u5347\u7ea7 storaged \u6570\u636e\u683c\u5f0f\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u3002 $ sudo ${ nebula -new } /bin/db_upgrader \\ --src_db_path = <old_storage_directory_path> \\ --dst_db_path = <new_storage_directory_path> \\ --upgrade_meta_server = <meta_server_ip1>:<port1> [ ,<meta_server_ip2>:<port2>,... ] \\ --upgrade_version = <old_nebula_version> \\ \u53c2\u6570\u8bf4\u660e\uff1a --src_db_path \u4e3a \u8001\u7248\u672c storaged\u7684\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u591a\u4e2a\u76ee\u5f55\u7528\u9017\u53f7\u5206\u9694\uff0c\u4e0d\u52a0\u7a7a\u683c\u3002 --dst_db_path \u4e3a \u65b0\u7248\u672c storaged\u7684\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u591a\u4e2a\u76ee\u5f55\u7528\u9017\u53f7\u5206\u9694\u3002\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5fc5\u987b\u548c --src_db_path \u4e2d\u4e00\u4e00\u5bf9\u5e94\u3002 \u8b66\u544a : \u4e24\u8005\u987a\u5e8f\u4e0d\u8981\u641e\u53cd\u4e86\uff0c\u5426\u5219\u4f1a\u5199\u574f\u65e7\u7248\u672c\u7684\u6570\u636e\u3002 --upgrade_meta_server \u4e3a\u6b65\u9aa46\u4e2d\u542f\u52a8\u7684\u6240\u6709\u65b0 metad \u7684\u5730\u5740. --upgrade_version \u5982\u679c\u8001\u7248\u672c\u4e3av1.2.0\uff0c\u5219\u586b\u51991\uff1b\u5982\u679c\u8001\u7248\u672c\u4e3av2.0.0-RC\uff0c\u5219\u586b\u51992.\u4e0d\u53ef\u586b\u5199\u5176\u4ed6\u6570\u5b57\u3002 \u4f8b\u5982\uff0c\u4ece v1.2.0 \u5347\u7ea7\uff1a $ sudo /usr/local/nebula_new/bin/db_upgrader \\ --src_db_path = /usr/local/nebula/data/storage/data1/,/usr/local/nebula/data/storage/data2/ \\ --dst_db_path = /usr/local/nebula_new/data/storage/data1/,/usr/local/nebula_new/data/storage/data2/ \\ --upgrade_meta_server = 192 .168.8.14:45500,192.168.8.15:45500,192.168.8.16:45500 \\ --upgrade_version = 1 \u4ece v2.0.0-RC \u5347\u7ea7\uff1a $ sudo /usr/local/nebula_new/bin/db_upgrader \\ --src_db_path = /usr/local/nebula/data/storage/ \\ --dst_db_path = /usr/local/nebula_new/data/storage/ \\ --upgrade_meta_server = 192 .168.8.14:9559,192.168.8.15:9559,192.168.8.16:9559 \\ --upgrade_version = 2 \u5982\u679c\u5de5\u5177\u629b\u51fa\u5f02\u5e38\u8bf7\u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u68c0\u67e5 \uff1a\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u90fd\u5b8c\u6210\u6570\u636e\u5347\u7ea7\u3002 \u5728\u6bcf\u4e2a storaged \u670d\u52a1\u5668\u542f\u52a8\u65b0\u7248\u672c\u7684 storaged \u670d\u52a1\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start storaged $ sudo ${ nebula -new } /scripts/nebula.service status storaged \u8bf4\u660e\uff1a\u5982\u679c\u6709 storaged \u672a\u6b63\u5e38\u542f\u52a8\uff0c\u8bf7\u5c06\u65e5\u5fd7 ${nebula-new}/logs/ \u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad\u548cstoraged\uff0c\u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u5728\u6bcf\u4e2a graphd \u670d\u52a1\u5668\u542f\u52a8\u65b0\u7248\u672c\u7684 graphd \u670d\u52a1\u3002 $ sudo ${ nebula -new } /scripts/nebula.service start graphd $ sudo ${ nebula -new } /scripts/nebula.service status graphd \u8bf4\u660e\uff1a\u5982\u679c\u6709graphd\u672a\u6b63\u5e38\u542f\u52a8\uff0c\u8bf7\u5c06\u65e5\u5fd7 ${nebula-new}/logs/ \u5728\u8bba\u575b\u63d0\u4ea4\u95ee\u9898\u3002 \u653e\u5f03\u672c\u6b21\u5347\u7ea7\uff0c\u5173\u95ed\u6240\u6709\u5df2\u7ecf\u542f\u52a8\u7684 metad,storaged,graphd. \u5728\u539f\u76ee\u5f55\u6b63\u5e38\u542f\u52a8 nebula \u670d\u52a1\u3002 \u4f7f\u7528 \u65b0\u7248\u672cNebula Console \u8fde\u63a5\u65b0\u7684Nebula Graph\uff0c\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u53ef\u7528\u3001\u6570\u636e\u662f\u5426\u6b63\u5e38\u3002\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u5982 graphd \u7684 IP\u3001\u7aef\u53e3\u90fd\u4e0d\u53d8\u3002 nebula> SHOW HOSTS; nebula> SHOW SPACES; nebula> USE <space_name> nebula> SHOW PARTS; nebula> SUBMIT JOB STATS; nebula> SHOW STATS; \u7981\u6b62 \uff1a\u4e0d\u53ef\u4f7f\u7528v2.0.0\u4e4b\u524d\u7684 nebula console\u3002 \u5347\u7ea7\u5176\u4ed6\u5ba2\u6237\u7aef \u6240\u6709\u7684\u5ba2\u6237\u7aef\u90fd\u5fc5\u987b\u5347\u7ea7\u5230\u5bf9\u5e94 v2.0.0 \u7248\u672c\u3002\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e studio , python , java , go , c++ , flink-connector , spark-util , benchmark \u3002\u8bf7\u627e\u5230\u5404 repo \u5bf9\u5e94\u7684 v2.0.0 branch\u3002 \u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u901a\u4fe1\u534f\u8bae\u3002\u9700\u91cd\u65b0\u6e90\u4ee3\u7801\u7f16\u8bd1\u6216\u8005\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305\u3002 (\u8fd0\u7ef4)\u63d0\u9192\uff1a\u5347\u7ea7\u540e\u7684\u6570\u636e\u76ee\u5f55\u4e3a ${nebula-new}/ \u3002\u5982\u6709\u786c\u76d8\u5bb9\u91cf\u76d1\u63a7\u3001\u65e5\u5fd7 ELK \u7b49\uff0c\u76f8\u5e94\u6539\u52a8\u3002","title":"\u5347\u7ea7\u6b65\u9aa4"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#_6","text":"\u5982\u679c\u5347\u7ea7\u5931\u8d25\uff0c\u8bf7\u505c\u6b62\u65b0\u7248\u672c\u7684\u6240\u6709\u670d\u52a1\uff0c\u542f\u52a8\u65e7\u7248\u7684\u6240\u6709\u670d\u52a1\u3002 \u6240\u6709\u5468\u8fb9\u5ba2\u6237\u7aef\u5207\u6362\u4e3a \u65e7\u7248 \u3002","title":"\u5347\u7ea7\u5931\u8d25\u56de\u6eda"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#1","text":"\u672c\u6587\u6d4b\u8bd5\u5347\u7ea7\u7684\u73af\u5883\u5982\u4e0b\uff1a \u673a\u5668\u914d\u7f6e\uff1a32\u6838CPU\u300162 GB\u5185\u5b58\u3001SSD \u6570\u636e\u89c4\u6a21\uff1aNebula Graph 1.2 \u7248\u672c LDBC \u6d4b\u8bd5\u6570\u636e 100 GB\uff081\u4e2a\u56fe\u7a7a\u95f4\u300124\u4e2a\u5206\u7247\u3001data\u76ee\u5f55 92 GB\uff09 \u5e76\u53d1\u53c2\u6570\uff1a --max_concurrent=5 \u3001 --max_concurrent_parts=24 \u3001 --write_batch_num=100 \u5347\u7ea7\u5171\u8017\u65f6 21\u5206\u949f \uff08\u5176\u4e2d compaction \u8017\u65f613\u5206\u949f\uff09\u3002\u5de5\u5177\u5e76\u53d1\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a \u53c2\u6570\u540d\u79f0 \u9ed8\u8ba4\u503c --max_concurrent 5 --max_concurrent_parts 10 --write_batch_num 100","title":"\u96441\uff1a\u5347\u7ea7\u6d4b\u8bd5\u73af\u5883"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#2nebula_graph_v200_commit_id","text":"\u5730\u5740 commit id graphd 91639db storaged \u548c metad 761f22b common b2512aa","title":"\u96442\uff1aNebula Graph v2.0.0 \u4ee3\u7801\u5730\u5740\u548c commit id"},{"location":"4.deployment-and-installation/3.upgrade-nebula-graph/#faq","text":"Q\uff1a\u5347\u7ea7\u8fc7\u7a0b\u4e2d\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef\u5199\u5165\u6570\u636e\uff1f A\uff1a\u4e0d\u53ef\u4ee5\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5199\u5165\u7684\u6570\u636e\u72b6\u6001\u662f\u672a\u5b9a\u4e49\u7684\u3002 Q: \u9664\u4e86 v1.2.0 \u548c v2.0.0-RC \u5916\uff0c\u5176\u4ed6\u7248\u672c\u662f\u5426\u652f\u6301\u5347\u7ea7\uff1f A: \u672a\u9a8c\u8bc1\u8fc7\u3002\u7406\u8bba\u4e0a v1.0.0 - v1.2.0 \u90fd\u53ef\u4ee5\u91c7\u7528 v1.2.0 \u7684\u5347\u7ea7\u7248\u672c\u3002 v2.x \u7684\u65e5\u5e38\u7814\u53d1\u7248\u672c(nightly)\u65e0\u5347\u7ea7\u65b9\u6848\u3002 Q: \u5347\u7ea7\u5b8c\u670d\u52a1\u7aef\u540e\uff0c\u5ba2\u6237\u7aef\u5982\u4f55\u5347\u7ea7\uff1f A\uff1a\u6240\u6709\u7684\u5ba2\u6237\u7aef\u90fd\u5fc5\u987b\u5347\u7ea7\u5230\u5bf9\u5e94 v2.0.0 \u7248\u672c\u3002\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e console , studio , python , java , go , c++ , flink-connector , spark-util , benchmark \u3002\u8bf7\u627e\u5230\u5404repo\u5bf9\u5e94\u7684v2.0.0 branch (TODO\uff1a \u90e8\u5206branch\u8fd8\u672a\u53d1\u5e03\uff09\u3002\u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u901a\u4fe1\u534f\u8bae\u3002 Q: \u5982\u679c\u67d0\u53f0\u673a\u5668\u53ea\u6709 graphd \u670d\u52a1\uff0c\u6ca1\u6709 storaged \u670d\u52a1\uff0c\u5982\u4f55\u5347\u7ea7\uff1f A: \u90a3\u53ea\u9700\u8981\u5347\u7ea7 graphd \u5bf9\u5e94\u7684 binary \uff08\u6216\u8005rpm\u5305\uff09\u3002 Q: \u64cd\u4f5c\u62a5\u9519 Permission denied \u3002 A: \u90e8\u5206\u547d\u4ee4\u9700\u8981\u6709 sudo \u6743\u9650\u3002 Q: \u662f\u5426\u6709 gflags \u53d1\u751f\u6539\u53d8\uff1f A: \u76ee\u524d\u5df2\u77e5\u7684 gflags \u6539\u53d8\u6574\u7406\u5728 github issues . Q: \u5220\u9664\u6570\u636e\u91cd\u65b0\u5b89\u88c5\uff0c\u548c\u5347\u7ea7\u6709\u4f55\u4e0d\u540c\uff1f A: v2.x \u7684\u9ed8\u8ba4\u914d\u7f6e\uff08\u5305\u62ec\u7aef\u53e3\uff09\u4e0e v1.x \u4e0d\u540c\u3002\u5347\u7ea7\u65b9\u6848\u6cbf\u7528\u8001\u7684\u914d\u7f6e\uff0c\u5220\u9664\u91cd\u65b0\u5b89\u88c5\u6cbf\u7528\u65b0\u7684\u914d\u7f6e\u3002 Q: \u662f\u5426\u6709\u5de5\u5177\u6216\u8005\u529e\u6cd5\u9a8c\u8bc1\u65b0\u65e7\u7248\u672c\u6570\u636e\u662f\u5426\u4e00\u81f4\uff1f A\uff1a\u6ca1\u6709\u3002","title":"FAQ"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/","text":"\u5378\u8f7dNebula Graph \u00b6 \u6d4b\u8bd5Nebula Graph\u65f6\uff0c\u5982\u679c\u9700\u8981\u5378\u8f7dNebula Graph\u91cd\u65b0\u90e8\u7f72\uff0c\u8bf7\u52a1\u5fc5\u5b8c\u5168\u5378\u8f7d\u540e\u518d\u91cd\u65b0\u90e8\u7f72\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u4f8b\u5982Meta\u4e0d\u4e00\u81f4\u7b49\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5378\u8f7dNebula Graph\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u505c\u6b62Nebula Graph\u670d\u52a1\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u7406Nebula Graph\u670d\u52a1 \u3002 \u6b65\u9aa41\uff1a\u5220\u9664\u6570\u636e\u6587\u4ef6 \u00b6 \u5982\u679c\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u5185\u4fee\u6539\u4e86\u6570\u636e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b89\u88c5\u8def\u5f84\u548c\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u8def\u5f84\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u9700\u8981\u67e5\u770b\u60a8\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u786e\u8ba4\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u8def\u5f84\uff0c\u7136\u540e\u624b\u52a8\u5220\u9664\u6570\u636e\u6587\u4ef6\u76ee\u5f55\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u662f\u96c6\u7fa4\u67b6\u6784\uff0c\u9700\u8981\u5220\u9664\u6240\u6709Storage\u670d\u52a1\u8282\u70b9\u7684\u6570\u636e\u6587\u4ef6\u3002 \u68c0\u67e5Storage\u670d\u52a1\u7684 disk\u914d\u7f6e \u3002\u4f8b\u5982\uff1a ########## Disk ########## # Root data path. Split by comma. e.g. --data_path=/disk1/path1/,/disk2/path2/ # One path per Rocksdb instance. --data_path = /nebula/data/storage \u5220\u9664\u6570\u636e\u6587\u4ef6\u76ee\u5f55\u3002 \u6b65\u9aa42\uff1a\u5378\u8f7d\u5b89\u88c5\u76ee\u5f55 \u00b6 \u8bf7\u5220\u9664\u6574\u4e2a\u5b89\u88c5\u76ee\u5f55\uff0c\u5305\u62ec cluster.id \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u5b89\u88c5\u8def\u5f84\u4e3a\u53c2\u6570 --prefix \u6307\u5b9a\u7684\u8def\u5f84\u3002\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula \u3002 \u5378\u8f7d\u7f16\u8bd1\u5b89\u88c5\u7684Nebula Graph \u00b6 \u627e\u5230Nebula Graph\u7684\u5b89\u88c5\u76ee\u5f55\uff0c\u5220\u9664\u6574\u4e2a\u5b89\u88c5\u76ee\u5f55\u3002 \u5378\u8f7dRPM\u5305\u5b89\u88c5\u7684Nebula Graph \u00b6 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u7248\u672c\u3002 $ rpm -qa | grep \"nebula\" \u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\u3002 nebula-graph-2.0.0-1.x86_64 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5378\u8f7dNebula Graph\u3002 sudo rpm -e <nebula_version> \u4f8b\u5982\uff1a sudo rpm -e nebula-graph-2.0.0-1.x86_64 \u5220\u9664\u5b89\u88c5\u76ee\u5f55\u3002 \u5378\u8f7dDEB\u5305\u5b89\u88c5\u7684Nebula Graph \u00b6 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u7248\u672c\u3002 $ dpkg -l | grep \"nebula\" \u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\u3002 ii nebula-graph 2 .0.0 amd64 Nebula Package built using CMake \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5378\u8f7dNebula Graph\u3002 sudo dpkg -r <nebula_version> \u4f8b\u5982\uff1a sudo dpkg -r nebula-graph \u5220\u9664\u5b89\u88c5\u76ee\u5f55\u3002 \u5378\u8f7dDocker Compose\u90e8\u7f72\u7684Nebula Graph \u00b6 \u5728\u76ee\u5f55 nebula-docker-compose \u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\u3002 docker-compose down -v \u5220\u9664\u76ee\u5f55 nebula-docker-compose \u3002","title":"\u5378\u8f7dNebula Graph"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#nebula_graph","text":"\u6d4b\u8bd5Nebula Graph\u65f6\uff0c\u5982\u679c\u9700\u8981\u5378\u8f7dNebula Graph\u91cd\u65b0\u90e8\u7f72\uff0c\u8bf7\u52a1\u5fc5\u5b8c\u5168\u5378\u8f7d\u540e\u518d\u91cd\u65b0\u90e8\u7f72\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u4f8b\u5982Meta\u4e0d\u4e00\u81f4\u7b49\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5378\u8f7dNebula Graph\u3002","title":"\u5378\u8f7dNebula Graph"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#_1","text":"\u505c\u6b62Nebula Graph\u670d\u52a1\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u7ba1\u7406Nebula Graph\u670d\u52a1 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#1","text":"\u5982\u679c\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u5185\u4fee\u6539\u4e86\u6570\u636e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b89\u88c5\u8def\u5f84\u548c\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u8def\u5f84\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u9700\u8981\u67e5\u770b\u60a8\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u786e\u8ba4\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u8def\u5f84\uff0c\u7136\u540e\u624b\u52a8\u5220\u9664\u6570\u636e\u6587\u4ef6\u76ee\u5f55\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u662f\u96c6\u7fa4\u67b6\u6784\uff0c\u9700\u8981\u5220\u9664\u6240\u6709Storage\u670d\u52a1\u8282\u70b9\u7684\u6570\u636e\u6587\u4ef6\u3002 \u68c0\u67e5Storage\u670d\u52a1\u7684 disk\u914d\u7f6e \u3002\u4f8b\u5982\uff1a ########## Disk ########## # Root data path. Split by comma. e.g. --data_path=/disk1/path1/,/disk2/path2/ # One path per Rocksdb instance. --data_path = /nebula/data/storage \u5220\u9664\u6570\u636e\u6587\u4ef6\u76ee\u5f55\u3002","title":"\u6b65\u9aa41\uff1a\u5220\u9664\u6570\u636e\u6587\u4ef6"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#2","text":"\u8bf7\u5220\u9664\u6574\u4e2a\u5b89\u88c5\u76ee\u5f55\uff0c\u5305\u62ec cluster.id \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u5b89\u88c5\u8def\u5f84\u4e3a\u53c2\u6570 --prefix \u6307\u5b9a\u7684\u8def\u5f84\u3002\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula \u3002","title":"\u6b65\u9aa42\uff1a\u5378\u8f7d\u5b89\u88c5\u76ee\u5f55"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#nebula_graph_1","text":"\u627e\u5230Nebula Graph\u7684\u5b89\u88c5\u76ee\u5f55\uff0c\u5220\u9664\u6574\u4e2a\u5b89\u88c5\u76ee\u5f55\u3002","title":"\u5378\u8f7d\u7f16\u8bd1\u5b89\u88c5\u7684Nebula Graph"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#rpmnebula_graph","text":"\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u7248\u672c\u3002 $ rpm -qa | grep \"nebula\" \u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\u3002 nebula-graph-2.0.0-1.x86_64 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5378\u8f7dNebula Graph\u3002 sudo rpm -e <nebula_version> \u4f8b\u5982\uff1a sudo rpm -e nebula-graph-2.0.0-1.x86_64 \u5220\u9664\u5b89\u88c5\u76ee\u5f55\u3002","title":"\u5378\u8f7dRPM\u5305\u5b89\u88c5\u7684Nebula Graph"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#debnebula_graph","text":"\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770bNebula Graph\u7248\u672c\u3002 $ dpkg -l | grep \"nebula\" \u8fd4\u56de\u7c7b\u4f3c\u5982\u4e0b\u7ed3\u679c\u3002 ii nebula-graph 2 .0.0 amd64 Nebula Package built using CMake \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5378\u8f7dNebula Graph\u3002 sudo dpkg -r <nebula_version> \u4f8b\u5982\uff1a sudo dpkg -r nebula-graph \u5220\u9664\u5b89\u88c5\u76ee\u5f55\u3002","title":"\u5378\u8f7dDEB\u5305\u5b89\u88c5\u7684Nebula Graph"},{"location":"4.deployment-and-installation/4.uninstall-nebula-graph/#docker_composenebula_graph","text":"\u5728\u76ee\u5f55 nebula-docker-compose \u5185\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u505c\u6b62Nebula Graph\u670d\u52a1\u3002 docker-compose down -v \u5220\u9664\u76ee\u5f55 nebula-docker-compose \u3002","title":"\u5378\u8f7dDocker Compose\u90e8\u7f72\u7684Nebula Graph"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/","text":"\u90e8\u7f72Nebula Graph\u96c6\u7fa4 \u00b6 Nebula Graph\u6682\u4e0d\u63d0\u4f9b\u5b98\u65b9\u7684\u96c6\u7fa4\u90e8\u7f72\u5de5\u5177\uff0c\u9700\u8981\u60a8\u624b\u52a8\u90e8\u7f72\uff0c\u4e0b\u6587\u5c06\u4ecb\u7ecd\u624b\u52a8\u90e8\u7f72\u7684\u7b80\u5355\u6d41\u7a0b\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u51c6\u5907\u7528\u4e8e\u90e8\u7f72\u96c6\u7fa4\u7684\u670d\u52a1\u5668\u3002 \u624b\u52a8\u90e8\u7f72\u6d41\u7a0b \u00b6 \u5b89\u88c5Nebula Graph \u00b6 \u5728\u96c6\u7fa4\u7684\u6bcf\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u5b89\u88c5Nebula Graph\u3002\u5b89\u88c5\u65b9\u5f0f\u8bf7\u53c2\u89c1\uff1a \u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph \u7f16\u8bd1\u5b89\u88c5Nebula Graph \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u4fee\u6539\u6bcf\u4e2a\u670d\u52a1\u5668\u4e0a\u7684Nebula Graph\u914d\u7f6e\u6587\u4ef6\u3002 Nebula Graph\u7684\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u5747\u4f4d\u4e8e\u5b89\u88c5\u76ee\u5f55\u7684 etc \u76ee\u5f55\u5185\uff0c\u5305\u62ec nebula-graphd.conf \u3001 nebula-metad.conf \u548c nebula-storaged.conf \uff0c\u60a8\u53ef\u4ee5\u53ea\u4fee\u6539\u5bf9\u5e94\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u7684\u8be6\u7ec6\u8bf4\u660e\u8bf7\u53c2\u89c1\uff1a Meta\u670d\u52a1\u914d\u7f6e Graph\u670d\u52a1\u914d\u7f6e Storage\u670d\u52a1\u914d\u7f6e \u542f\u52a8\u96c6\u7fa4 \u00b6 \u542f\u52a8\u5404\u4e2a\u670d\u52a1\u5668\u4e0a\u7684\u5bf9\u5e94\u670d\u52a1\u3002\u542f\u52a8Nebula Graph\u670d\u52a1\u7684\u547d\u4ee4\u5982\u4e0b\uff1a sudo /usr/local/nebula/scripts/nebula.service start <metad | graphd | storaged | all> /usr/local/nebula \u662fNebula Graph\u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5b89\u88c5\u8def\u5f84\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002\u66f4\u591a\u542f\u505c\u670d\u52a1\u7684\u5185\u5bb9\uff0c\u8bf7\u53c2\u89c1 \u7ba1\u7406Nebula Graph\u670d\u52a1 \u3002 \u68c0\u67e5\u96c6\u7fa4 \u00b6 \u8fde\u63a5Graph\u670d\u52a1\uff0c\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\u3002","title":"\u90e8\u7f72Nebula Graph\u96c6\u7fa4"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#nebula_graph","text":"Nebula Graph\u6682\u4e0d\u63d0\u4f9b\u5b98\u65b9\u7684\u96c6\u7fa4\u90e8\u7f72\u5de5\u5177\uff0c\u9700\u8981\u60a8\u624b\u52a8\u90e8\u7f72\uff0c\u4e0b\u6587\u5c06\u4ecb\u7ecd\u624b\u52a8\u90e8\u7f72\u7684\u7b80\u5355\u6d41\u7a0b\u3002","title":"\u90e8\u7f72Nebula Graph\u96c6\u7fa4"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#_1","text":"\u51c6\u5907\u7528\u4e8e\u90e8\u7f72\u96c6\u7fa4\u7684\u670d\u52a1\u5668\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#_2","text":"","title":"\u624b\u52a8\u90e8\u7f72\u6d41\u7a0b"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#nebula_graph_1","text":"\u5728\u96c6\u7fa4\u7684\u6bcf\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u5b89\u88c5Nebula Graph\u3002\u5b89\u88c5\u65b9\u5f0f\u8bf7\u53c2\u89c1\uff1a \u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph \u7f16\u8bd1\u5b89\u88c5Nebula Graph","title":"\u5b89\u88c5Nebula Graph"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#_3","text":"\u4fee\u6539\u6bcf\u4e2a\u670d\u52a1\u5668\u4e0a\u7684Nebula Graph\u914d\u7f6e\u6587\u4ef6\u3002 Nebula Graph\u7684\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u5747\u4f4d\u4e8e\u5b89\u88c5\u76ee\u5f55\u7684 etc \u76ee\u5f55\u5185\uff0c\u5305\u62ec nebula-graphd.conf \u3001 nebula-metad.conf \u548c nebula-storaged.conf \uff0c\u60a8\u53ef\u4ee5\u53ea\u4fee\u6539\u5bf9\u5e94\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u914d\u7f6e\u6587\u4ef6\u7684\u8be6\u7ec6\u8bf4\u660e\u8bf7\u53c2\u89c1\uff1a Meta\u670d\u52a1\u914d\u7f6e Graph\u670d\u52a1\u914d\u7f6e Storage\u670d\u52a1\u914d\u7f6e","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#_4","text":"\u542f\u52a8\u5404\u4e2a\u670d\u52a1\u5668\u4e0a\u7684\u5bf9\u5e94\u670d\u52a1\u3002\u542f\u52a8Nebula Graph\u670d\u52a1\u7684\u547d\u4ee4\u5982\u4e0b\uff1a sudo /usr/local/nebula/scripts/nebula.service start <metad | graphd | storaged | all> /usr/local/nebula \u662fNebula Graph\u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5b89\u88c5\u8def\u5f84\uff0c\u8bf7\u4f7f\u7528\u5b9e\u9645\u8def\u5f84\u3002\u66f4\u591a\u542f\u505c\u670d\u52a1\u7684\u5185\u5bb9\uff0c\u8bf7\u53c2\u89c1 \u7ba1\u7406Nebula Graph\u670d\u52a1 \u3002","title":"\u542f\u52a8\u96c6\u7fa4"},{"location":"4.deployment-and-installation/deploy-nebula-graph-cluster/#_5","text":"\u8fde\u63a5Graph\u670d\u52a1\uff0c\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\u3002","title":"\u68c0\u67e5\u96c6\u7fa4"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/","text":"\u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph \u00b6 \u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph\u5141\u8bb8\u60a8\u81ea\u5b9a\u4e49\u7f16\u8bd1\u548c\u5b89\u88c5\u8bbe\u7f6e\uff0c\u5e76\u6d4b\u8bd5\u6700\u65b0\u7279\u6027\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5df2\u51c6\u5907\u6b63\u786e\u7684\u7f16\u8bd1\u73af\u5883\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u51c6\u5907\u7f16\u8bd1\u3001\u5b89\u88c5\u548c\u8fd0\u884cNebula Graph\u7684\u73af\u5883 \u3002 \u5f85\u5b89\u88c5Nebula Graph\u7684\u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee\u4e92\u8054\u7f51\u3002 \u5b89\u88c5\u6b65\u9aa4 \u00b6 \u514b\u9686Nebula Graph\u6e90\u7801\u5230\u4e3b\u673a\u3002 - \u5982\u679c\u9700\u8981\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684\u5f00\u53d1\u4ee3\u7801\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d master \u5206\u652f\u7684\u6e90\u7801\uff1a ```bash $ git clone https://github.com/vesoft-inc/nebula-graph.git ``` - \u5982\u679c\u9700\u8981\u5b89\u88c5\u6307\u5b9a\u7248\u672c\u7684Nebula Graph 2.x\uff0c\u8bf7\u4f7f\u7528\u9009\u9879 --branch \u6307\u5b9a\u5206\u652f\u3002\u4f8b\u5982\u5b89\u88c52.0.0 \u53d1\u5e03\u7248\u672c\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-graph.git ``` \u8fdb\u5165\u76ee\u5f55 nebula-graph \u3002 $ cd nebula-graph \u521b\u5efa\u76ee\u5f55 build \u5e76\u8fdb\u5165\u8be5\u76ee\u5f55\u3002 $ mkdir build && cd build \u4f7f\u7528CMake\u751f\u6210makefile\u6587\u4ef6\u3002 \u8bf4\u660e \uff1a \u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /user/local/nebula \uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u8def\u5f84\uff0c\u8bf7\u5728\u4e0b\u65b9\u547d\u4ee4\u5185\u589e\u52a0\u53c2\u6570 -DCMAKE_INSTALL_PREFIX=<installation_path> \u3002 \u66f4\u591aCMake\u53c2\u6570\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 CMake\u53c2\u6570 \u3002 - \u5982\u679c\u60a8\u5728\u7b2c1\u6b65\u4e0b\u8f7d\u7684\u662f\u6700\u65b0\u7248\u672c\u7684\u5f00\u53d1\u4ee3\u7801\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ cmake -DENABLE_BUILD_STORAGE=on -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release .. ``` - \u5982\u679c\u60a8\u5728\u7b2c1\u6b65\u4e0b\u8f7d\u7684\u662f\u6307\u5b9a\u7248\u672c\u7684Nebula Graph 2.x\uff0c\u8bf7\u4f7f\u7528\u9009\u9879 -DNEBULA_COMMON_REPO_TAG \u548c -DNEBULA_STORAGE_REPO_TAG \u6307\u5b9a\u76f8\u540c\u7684 nebula-common \u548c nebula-storage \u5206\u652f\u3002\u4f8b\u5982\u5b89\u88c52.0.0 GA\u7248\u672c\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ cmake -DENABLE_BUILD_STORAGE=on -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release \\ -DNEBULA_COMMON_REPO_TAG=v2.0.0 -DNEBULA_STORAGE_REPO_TAG=v2.0.0 .. ``` \u7f16\u8bd1Nebula Graph\u3002 \u4e3a\u4e86\u9002\u5f53\u5730\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -j \u5e76\u884c\u7f16\u8bd1\u3002\u5e76\u884c\u6570\u91cf N \u5efa\u8bae\u4e3a$min(CPU\u6838\u6570,\\frac{\u5185\u5b58(GB)}{2})$\u3002 $ make -j { N } 6. \u5b89\u88c5Nebula Graph\u3002 $ sudo make install-all \uff08\u53ef\u9009\uff09\u66f4\u65b0 master \u5206\u652f\u7684\u6e90\u7801\uff0c\u56e0\u4e3a\u5b83\u7ecf\u5e38\u66f4\u65b0\u3002 1. \u5728\u76ee\u5f55 nebula-graph/ \u4e2d\uff0c\u6267\u884c\u547d\u4ee4 git pull upstream master \u66f4\u65b0\u6e90\u7801\u3002 2. \u5728\u76ee\u5f55 nebula-graph/modules/common/ \u548c nebula-graph/modules/storage/ \u4e2d\uff0c\u5206\u522b\u6267\u884c\u547d\u4ee4 git pull upstream master \u3002 3. \u5728\u76ee\u5f55 nebula-graph/build/ \u4e2d\uff0c\u91cd\u65b0\u6267\u884c make -j{N} \u548c make install-all \u3002 \u4e0b\u4e00\u6b65 \u00b6 \u7ba1\u7406Nebula Graph\u670d\u52a1 \u8fde\u63a5Nebula Graph \u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5 CMake\u53c2\u6570 \u00b6 \u4f7f\u7528\u65b9\u6cd5 \u00b6 $ cmake -D<variable> = <value> ... \u4e0b\u6587\u7684CMake\u53c2\u6570\u53ef\u4ee5\u5728\u914d\u7f6e(CMake)\u9636\u6bb5\u7528\u6765\u8c03\u6574\u7f16\u8bd1\u8bbe\u7f6e\u3002 ENABLE_BUILD_STORAGE \u00b6 \u4ece2.0.0\u7248\u672c\u5f00\u59cb\uff0cNebula Graph\u7684graph\u548cstorage\u4ee3\u7801\u4ed3\u5e93\u5206\u79bb\uff0c\u53ef\u4ee5\u5404\u81ea\u5355\u72ec\u7f16\u8bd1\u3002 ENABLE_BUILD_STORAGE \u9ed8\u8ba4\u503c\u4e3a OFF \uff0c\u8868\u793aStorage\u670d\u52a1\u4e0d\u4f1a\u548cGraph\u670d\u52a1\u4e00\u8d77\u5b89\u88c5\u3002 \u5982\u679c\u60a8\u5355\u673a\u90e8\u7f72Nebula Graph\u8fdb\u884c\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u8bbe\u7f6e ENABLE_BUILD_STORAGE=ON \uff0c\u5b89\u88c5\u65f6\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u548c\u5b89\u88c5Storage\u670d\u52a1\u3002 CMAKE_INSTALL_PREFIX \u00b6 CMAKE_INSTALL_PREFIX \u6307\u5b9aNebula Graph\u670d\u52a1\u6a21\u5757\u3001\u811a\u672c\u548c\u914d\u7f6e\u6587\u4ef6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula \u3002 ENABLE_WERROR \u00b6 ENABLE_WERROR \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u5c06\u6240\u6709\u8b66\u544a\uff08warning\uff09\u53d8\u4e3a\u9519\u8bef\uff08error\uff09\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u4e3a OFF \u3002 ENABLE_TESTING \u00b6 ENABLE_TESTING \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u5355\u5143\u6d4b\u8bd5\u670d\u52a1\u7531Nebula Graph\u670d\u52a1\u6784\u5efa\u3002\u5982\u679c\u60a8\u53ea\u9700\u8981\u670d\u52a1\u6a21\u5757\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a OFF \u3002 ENABLE_ASAN \u00b6 ENABLE_ASAN \u9ed8\u8ba4\u503c\u4e3a OFF \uff0c\u8868\u793a\u5173\u95ed\u5185\u5b58\u95ee\u9898\u68c0\u6d4b\u5de5\u5177ASan\uff08AddressSanitizer\uff09\u3002\u8be5\u5de5\u5177\u662f\u4e3aNebula Graph\u5f00\u53d1\u8005\u51c6\u5907\u7684\uff0c\u5982\u679c\u9700\u8981\u5f00\u542f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a ON \u3002 MAKE_BUILD_TYPE \u00b6 MAKE_BUILD_TYPE \u63a7\u5236Nebula Graph\u7684build\u65b9\u6cd5\uff0c\u53d6\u503c\u8bf4\u660e\u5982\u4e0b\uff1a Debug MAKE_BUILD_TYPE \u7684\u9ed8\u8ba4\u503c\uff0cbuild\u8fc7\u7a0b\u4e2d\u53ea\u8bb0\u5f55debug\u4fe1\u606f\uff0c\u4e0d\u4f7f\u7528\u4f18\u5316\u9009\u9879\u3002 Release build\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u8bb0\u5f55debug\u4fe1\u606f\u3002 RelWithDebInfo build\u8fc7\u7a0b\u4e2d\u65e2\u4f7f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e5f\u8bb0\u5f55debug\u4fe1\u606f\u3002 MinSizeRel build\u8fc7\u7a0b\u4e2d\u4ec5\u901a\u8fc7\u4f18\u5316\u9009\u9879\u63a7\u5236\u4ee3\u7801\u5927\u5c0f\uff0c\u4e0d\u8bb0\u5f55debug\u4fe1\u606f\u3002 CMAKE_C_COMPILER/CMAKE_CXX_COMPILER \u00b6 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0cCMake\u4f1a\u81ea\u52a8\u67e5\u627e\u5e76\u4f7f\u7528\u4e3b\u673a\u4e0a\u7684C/C++\u7f16\u8bd1\u5668\uff0c\u4f46\u662f\u5982\u679c\u7f16\u8bd1\u5668\u6ca1\u6709\u5b89\u88c5\u5728\u6807\u51c6\u8def\u5f84\uff0c\u6216\u8005\u60a8\u60f3\u4f7f\u7528\u5176\u4ed6\u7f16\u8bd1\u5668\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u7f16\u8bd1\u5668\u7684\u5b89\u88c5\u8def\u5f84\uff1a $ cmake -DCMAKE_C_COMPILER = <path_to_gcc/bin/gcc> -DCMAKE_CXX_COMPILER = <path_to_gcc/bin/g++> .. $ cmake -DCMAKE_C_COMPILER = <path_to_clang/bin/clang> -DCMAKE_CXX_COMPILER = <path_to_clang/bin/clang++> .. ENABLE_CCACHE \u00b6 ENABLE_CCACHE \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u4f7f\u7528ccache\uff08compiler cache\uff09\u5de5\u5177\u52a0\u901f\u7f16\u8bd1\u3002 \u5982\u679c\u60f3\u8981\u7981\u7528ccache\uff0c\u4ec5\u4ec5\u8bbe\u7f6e ENABLE_CCACHE=OFF \u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff0cccache\u4f1a\u4ee3\u7406\u5f53\u524d\u7f16\u8bd1\u5668\uff0c\u56e0\u6b64\u60a8\u8fd8\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf export CCACHE_DISABLE=true \uff0c\u6216\u8005\u5728\u6587\u4ef6 ~/.ccache/ccache.conf \u4e2d\u6dfb\u52a0 disable=true \u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 ccache official documentation \u3002 NEBULA_THIRDPARTY_ROOT \u00b6 NEBULA_THIRDPARTY_ROOT \u6307\u5b9a\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /opt/vesoft/third-party \u3002","title":"\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#nebula_graph","text":"\u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph\u5141\u8bb8\u60a8\u81ea\u5b9a\u4e49\u7f16\u8bd1\u548c\u5b89\u88c5\u8bbe\u7f6e\uff0c\u5e76\u6d4b\u8bd5\u6700\u65b0\u7279\u6027\u3002","title":"\u4f7f\u7528\u6e90\u7801\u5b89\u88c5Nebula Graph"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#_1","text":"\u5df2\u51c6\u5907\u6b63\u786e\u7684\u7f16\u8bd1\u73af\u5883\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u51c6\u5907\u7f16\u8bd1\u3001\u5b89\u88c5\u548c\u8fd0\u884cNebula Graph\u7684\u73af\u5883 \u3002 \u5f85\u5b89\u88c5Nebula Graph\u7684\u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee\u4e92\u8054\u7f51\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#_2","text":"\u514b\u9686Nebula Graph\u6e90\u7801\u5230\u4e3b\u673a\u3002 - \u5982\u679c\u9700\u8981\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684\u5f00\u53d1\u4ee3\u7801\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e0b\u8f7d master \u5206\u652f\u7684\u6e90\u7801\uff1a ```bash $ git clone https://github.com/vesoft-inc/nebula-graph.git ``` - \u5982\u679c\u9700\u8981\u5b89\u88c5\u6307\u5b9a\u7248\u672c\u7684Nebula Graph 2.x\uff0c\u8bf7\u4f7f\u7528\u9009\u9879 --branch \u6307\u5b9a\u5206\u652f\u3002\u4f8b\u5982\u5b89\u88c52.0.0 \u53d1\u5e03\u7248\u672c\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ git clone --branch v2.0.0 https://github.com/vesoft-inc/nebula-graph.git ``` \u8fdb\u5165\u76ee\u5f55 nebula-graph \u3002 $ cd nebula-graph \u521b\u5efa\u76ee\u5f55 build \u5e76\u8fdb\u5165\u8be5\u76ee\u5f55\u3002 $ mkdir build && cd build \u4f7f\u7528CMake\u751f\u6210makefile\u6587\u4ef6\u3002 \u8bf4\u660e \uff1a \u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /user/local/nebula \uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u8def\u5f84\uff0c\u8bf7\u5728\u4e0b\u65b9\u547d\u4ee4\u5185\u589e\u52a0\u53c2\u6570 -DCMAKE_INSTALL_PREFIX=<installation_path> \u3002 \u66f4\u591aCMake\u53c2\u6570\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 CMake\u53c2\u6570 \u3002 - \u5982\u679c\u60a8\u5728\u7b2c1\u6b65\u4e0b\u8f7d\u7684\u662f\u6700\u65b0\u7248\u672c\u7684\u5f00\u53d1\u4ee3\u7801\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ cmake -DENABLE_BUILD_STORAGE=on -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release .. ``` - \u5982\u679c\u60a8\u5728\u7b2c1\u6b65\u4e0b\u8f7d\u7684\u662f\u6307\u5b9a\u7248\u672c\u7684Nebula Graph 2.x\uff0c\u8bf7\u4f7f\u7528\u9009\u9879 -DNEBULA_COMMON_REPO_TAG \u548c -DNEBULA_STORAGE_REPO_TAG \u6307\u5b9a\u76f8\u540c\u7684 nebula-common \u548c nebula-storage \u5206\u652f\u3002\u4f8b\u5982\u5b89\u88c52.0.0 GA\u7248\u672c\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ```bash $ cmake -DENABLE_BUILD_STORAGE=on -DENABLE_TESTING=OFF -DCMAKE_BUILD_TYPE=Release \\ -DNEBULA_COMMON_REPO_TAG=v2.0.0 -DNEBULA_STORAGE_REPO_TAG=v2.0.0 .. ``` \u7f16\u8bd1Nebula Graph\u3002 \u4e3a\u4e86\u9002\u5f53\u5730\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -j \u5e76\u884c\u7f16\u8bd1\u3002\u5e76\u884c\u6570\u91cf N \u5efa\u8bae\u4e3a$min(CPU\u6838\u6570,\\frac{\u5185\u5b58(GB)}{2})$\u3002 $ make -j { N } 6. \u5b89\u88c5Nebula Graph\u3002 $ sudo make install-all \uff08\u53ef\u9009\uff09\u66f4\u65b0 master \u5206\u652f\u7684\u6e90\u7801\uff0c\u56e0\u4e3a\u5b83\u7ecf\u5e38\u66f4\u65b0\u3002 1. \u5728\u76ee\u5f55 nebula-graph/ \u4e2d\uff0c\u6267\u884c\u547d\u4ee4 git pull upstream master \u66f4\u65b0\u6e90\u7801\u3002 2. \u5728\u76ee\u5f55 nebula-graph/modules/common/ \u548c nebula-graph/modules/storage/ \u4e2d\uff0c\u5206\u522b\u6267\u884c\u547d\u4ee4 git pull upstream master \u3002 3. \u5728\u76ee\u5f55 nebula-graph/build/ \u4e2d\uff0c\u91cd\u65b0\u6267\u884c make -j{N} \u548c make install-all \u3002","title":"\u5b89\u88c5\u6b65\u9aa4"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#_3","text":"\u7ba1\u7406Nebula Graph\u670d\u52a1 \u8fde\u63a5Nebula Graph \u57fa\u7840\u64cd\u4f5c\u8bed\u6cd5","title":"\u4e0b\u4e00\u6b65"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#cmake","text":"","title":"CMake\u53c2\u6570"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#_4","text":"$ cmake -D<variable> = <value> ... \u4e0b\u6587\u7684CMake\u53c2\u6570\u53ef\u4ee5\u5728\u914d\u7f6e(CMake)\u9636\u6bb5\u7528\u6765\u8c03\u6574\u7f16\u8bd1\u8bbe\u7f6e\u3002","title":"\u4f7f\u7528\u65b9\u6cd5"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#enable_build_storage","text":"\u4ece2.0.0\u7248\u672c\u5f00\u59cb\uff0cNebula Graph\u7684graph\u548cstorage\u4ee3\u7801\u4ed3\u5e93\u5206\u79bb\uff0c\u53ef\u4ee5\u5404\u81ea\u5355\u72ec\u7f16\u8bd1\u3002 ENABLE_BUILD_STORAGE \u9ed8\u8ba4\u503c\u4e3a OFF \uff0c\u8868\u793aStorage\u670d\u52a1\u4e0d\u4f1a\u548cGraph\u670d\u52a1\u4e00\u8d77\u5b89\u88c5\u3002 \u5982\u679c\u60a8\u5355\u673a\u90e8\u7f72Nebula Graph\u8fdb\u884c\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u8bbe\u7f6e ENABLE_BUILD_STORAGE=ON \uff0c\u5b89\u88c5\u65f6\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u548c\u5b89\u88c5Storage\u670d\u52a1\u3002","title":"ENABLE_BUILD_STORAGE"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#cmake_install_prefix","text":"CMAKE_INSTALL_PREFIX \u6307\u5b9aNebula Graph\u670d\u52a1\u6a21\u5757\u3001\u811a\u672c\u548c\u914d\u7f6e\u6587\u4ef6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula \u3002","title":"CMAKE_INSTALL_PREFIX"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#enable_werror","text":"ENABLE_WERROR \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u5c06\u6240\u6709\u8b66\u544a\uff08warning\uff09\u53d8\u4e3a\u9519\u8bef\uff08error\uff09\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u4e3a OFF \u3002","title":"ENABLE_WERROR"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#enable_testing","text":"ENABLE_TESTING \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u5355\u5143\u6d4b\u8bd5\u670d\u52a1\u7531Nebula Graph\u670d\u52a1\u6784\u5efa\u3002\u5982\u679c\u60a8\u53ea\u9700\u8981\u670d\u52a1\u6a21\u5757\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a OFF \u3002","title":"ENABLE_TESTING"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#enable_asan","text":"ENABLE_ASAN \u9ed8\u8ba4\u503c\u4e3a OFF \uff0c\u8868\u793a\u5173\u95ed\u5185\u5b58\u95ee\u9898\u68c0\u6d4b\u5de5\u5177ASan\uff08AddressSanitizer\uff09\u3002\u8be5\u5de5\u5177\u662f\u4e3aNebula Graph\u5f00\u53d1\u8005\u51c6\u5907\u7684\uff0c\u5982\u679c\u9700\u8981\u5f00\u542f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a ON \u3002","title":"ENABLE_ASAN"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#make_build_type","text":"MAKE_BUILD_TYPE \u63a7\u5236Nebula Graph\u7684build\u65b9\u6cd5\uff0c\u53d6\u503c\u8bf4\u660e\u5982\u4e0b\uff1a Debug MAKE_BUILD_TYPE \u7684\u9ed8\u8ba4\u503c\uff0cbuild\u8fc7\u7a0b\u4e2d\u53ea\u8bb0\u5f55debug\u4fe1\u606f\uff0c\u4e0d\u4f7f\u7528\u4f18\u5316\u9009\u9879\u3002 Release build\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e0d\u8bb0\u5f55debug\u4fe1\u606f\u3002 RelWithDebInfo build\u8fc7\u7a0b\u4e2d\u65e2\u4f7f\u7528\u4f18\u5316\u9009\u9879\uff0c\u4e5f\u8bb0\u5f55debug\u4fe1\u606f\u3002 MinSizeRel build\u8fc7\u7a0b\u4e2d\u4ec5\u901a\u8fc7\u4f18\u5316\u9009\u9879\u63a7\u5236\u4ee3\u7801\u5927\u5c0f\uff0c\u4e0d\u8bb0\u5f55debug\u4fe1\u606f\u3002","title":"MAKE_BUILD_TYPE"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#cmake_c_compilercmake_cxx_compiler","text":"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cCMake\u4f1a\u81ea\u52a8\u67e5\u627e\u5e76\u4f7f\u7528\u4e3b\u673a\u4e0a\u7684C/C++\u7f16\u8bd1\u5668\uff0c\u4f46\u662f\u5982\u679c\u7f16\u8bd1\u5668\u6ca1\u6709\u5b89\u88c5\u5728\u6807\u51c6\u8def\u5f84\uff0c\u6216\u8005\u60a8\u60f3\u4f7f\u7528\u5176\u4ed6\u7f16\u8bd1\u5668\uff0c\u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u7f16\u8bd1\u5668\u7684\u5b89\u88c5\u8def\u5f84\uff1a $ cmake -DCMAKE_C_COMPILER = <path_to_gcc/bin/gcc> -DCMAKE_CXX_COMPILER = <path_to_gcc/bin/g++> .. $ cmake -DCMAKE_C_COMPILER = <path_to_clang/bin/clang> -DCMAKE_CXX_COMPILER = <path_to_clang/bin/clang++> ..","title":"CMAKE_C_COMPILER/CMAKE_CXX_COMPILER"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#enable_ccache","text":"ENABLE_CCACHE \u9ed8\u8ba4\u503c\u4e3a ON \uff0c\u8868\u793a\u4f7f\u7528ccache\uff08compiler cache\uff09\u5de5\u5177\u52a0\u901f\u7f16\u8bd1\u3002 \u5982\u679c\u60f3\u8981\u7981\u7528ccache\uff0c\u4ec5\u4ec5\u8bbe\u7f6e ENABLE_CCACHE=OFF \u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\uff0cccache\u4f1a\u4ee3\u7406\u5f53\u524d\u7f16\u8bd1\u5668\uff0c\u56e0\u6b64\u60a8\u8fd8\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf export CCACHE_DISABLE=true \uff0c\u6216\u8005\u5728\u6587\u4ef6 ~/.ccache/ccache.conf \u4e2d\u6dfb\u52a0 disable=true \u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 ccache official documentation \u3002","title":"ENABLE_CCACHE"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/1.install-nebula-graph-by-compiling-the-source-code/#nebula_thirdparty_root","text":"NEBULA_THIRDPARTY_ROOT \u6307\u5b9a\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /opt/vesoft/third-party \u3002","title":"NEBULA_THIRDPARTY_ROOT"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/","text":"\u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph \u00b6 RPM\u548cDEB\u662fLinux\u7cfb\u7edf\u4e0b\u5e38\u89c1\u7684\u4e24\u79cd\u5b89\u88c5\u5305\u683c\u5f0f\uff0c\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5feb\u901f\u5b89\u88c5Nebula Graph\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u51c6\u5907\u5408\u9002\u8d44\u6e90 \u4e0b\u8f7d\u5b89\u88c5\u5305 \u00b6 \u963f\u91cc\u4e91OSS\u4e0b\u8f7d \u00b6 \u4e0b\u8f7drelease\u7248\u672c URL\u683c\u5f0f\u5982\u4e0b\uff1a //Centos 6 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el6.x86_64.rpm //Centos 7 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el7.x86_64.rpm //Centos 8 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el8.x86_64.rpm //Ubuntu 1604 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu1604.amd64.deb //Ubuntu 1804 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu1804.amd64.deb //Ubuntu 2004 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu2004.amd64.deb \u4f8b\u5982\u8981\u4e0b\u8f7d\u9002\u7528\u4e8e Centos 7.5 \u7684 2.0.0 \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.el7.x86_64.rpm wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.el7.x86_64.rpm.sha256sum.txt \u4e0b\u8f7d\u9002\u7528\u4e8e ubuntu 1804 \u7684 2.0.0 \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.ubuntu1804.amd64.deb wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.ubuntu1804.amd64.deb.sha256sum.txt \u4e0b\u8f7d\u65e5\u5e38\u5f00\u53d1\u7248\u672c(nightly) \u7981\u6b62 \uff1anightly\u7248\u672c\u901a\u5e38\u7528\u4e8e\u6d4b\u8bd5\u65b0\u529f\u80fd\u3001\u65b0\u7279\u6027\uff0c\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528nightly\u7248\u672c\u3002 URL\u683c\u5f0f\u5982\u4e0b\uff1a //Centos 6 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el6.x86_64.rpm //Centos 7 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el7.x86_64.rpm //Centos 8 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el8.x86_64.rpm //Ubuntu 1604 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1604.amd64.deb //Ubuntu 1804 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1804.amd64.deb //Ubuntu 2004 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1804.amd64.deb \u4f8b\u5982\u8981\u4e0b\u8f7d 2021.03.28 \u9002\u7528\u4e8e Centos 7.5 \u7684 2.x \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.el7.x86_64.rpm wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.el7.x86_64.rpm.sha256sum.txt \u8981\u4e0b\u8f7d 2021.03.28 \u9002\u7528\u4e8e Ubuntu 1804 \u7684 2.x \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.ubuntu1804.amd64.deb wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.ubuntu1804.amd64.deb.sha256sum.txt GitHub\u4e0b\u8f7d \u00b6 \u4e0b\u8f7drelease\u7248\u672c + \u767b\u5f55 Nebula Graph Releases \u9875\u9762\uff0c\u786e\u8ba4\u9700\u8981\u7684\u7248\u672c\uff0c\u5355\u51fb Assets \u3002 + \u5728 Assets \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002 \u4e0b\u8f7dnightly\u7248\u672c \u7981\u6b62 \uff1anightly\u7248\u672c\u901a\u5e38\u7528\u4e8e\u6d4b\u8bd5\u65b0\u529f\u80fd\u3001\u65b0\u7279\u6027\uff0c\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528nightly\u7248\u672c\u3002 + \u767b\u5f55 Nebula Graph package \u9875\u9762\uff0c\u5355\u51fb\u9876\u90e8\u6700\u65b0\u7684 package \u3002 + \u5728 Artifacts \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002 \u5b89\u88c5Nebula Graph \u00b6 \u5b89\u88c5RPM\u5305 $ sudo rpm -ivh --prefix = <installation_path> <package_name> \u5b89\u88c5DEB\u5305 $ sudo dpkg -i --instdir == <installation_path> <package_name> \u8bf4\u660e \uff1a\u5982\u679c\u4e0d\u8bbe\u7f6e\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /usr/local/nebula/ \u3002","title":"RPM/DEB\u5305\u5b89\u88c5"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#rpmdebnebula_graph","text":"RPM\u548cDEB\u662fLinux\u7cfb\u7edf\u4e0b\u5e38\u89c1\u7684\u4e24\u79cd\u5b89\u88c5\u5305\u683c\u5f0f\uff0c\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5feb\u901f\u5b89\u88c5Nebula Graph\u3002","title":"\u4f7f\u7528RPM\u6216DEB\u5b89\u88c5\u5305\u5b89\u88c5Nebula Graph"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#_1","text":"\u51c6\u5907\u5408\u9002\u8d44\u6e90","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#_2","text":"","title":"\u4e0b\u8f7d\u5b89\u88c5\u5305"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#oss","text":"\u4e0b\u8f7drelease\u7248\u672c URL\u683c\u5f0f\u5982\u4e0b\uff1a //Centos 6 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el6.x86_64.rpm //Centos 7 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el7.x86_64.rpm //Centos 8 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.el8.x86_64.rpm //Ubuntu 1604 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu1604.amd64.deb //Ubuntu 1804 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu1804.amd64.deb //Ubuntu 2004 https://oss-cdn.nebula-graph.com.cn/package/<release_version>/nebula-graph-<release_version>.ubuntu2004.amd64.deb \u4f8b\u5982\u8981\u4e0b\u8f7d\u9002\u7528\u4e8e Centos 7.5 \u7684 2.0.0 \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.el7.x86_64.rpm wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.el7.x86_64.rpm.sha256sum.txt \u4e0b\u8f7d\u9002\u7528\u4e8e ubuntu 1804 \u7684 2.0.0 \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.ubuntu1804.amd64.deb wget https://oss-cdn.nebula-graph.com.cn/package/2.0.0/nebula-graph-2.0.0.ubuntu1804.amd64.deb.sha256sum.txt \u4e0b\u8f7d\u65e5\u5e38\u5f00\u53d1\u7248\u672c(nightly) \u7981\u6b62 \uff1anightly\u7248\u672c\u901a\u5e38\u7528\u4e8e\u6d4b\u8bd5\u65b0\u529f\u80fd\u3001\u65b0\u7279\u6027\uff0c\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528nightly\u7248\u672c\u3002 URL\u683c\u5f0f\u5982\u4e0b\uff1a //Centos 6 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el6.x86_64.rpm //Centos 7 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el7.x86_64.rpm //Centos 8 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.el8.x86_64.rpm //Ubuntu 1604 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1604.amd64.deb //Ubuntu 1804 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1804.amd64.deb //Ubuntu 2004 https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/<yyyy.mm.dd>/nebula-graph-<yyyy.mm.dd>-nightly.ubuntu1804.amd64.deb \u4f8b\u5982\u8981\u4e0b\u8f7d 2021.03.28 \u9002\u7528\u4e8e Centos 7.5 \u7684 2.x \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.el7.x86_64.rpm wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.el7.x86_64.rpm.sha256sum.txt \u8981\u4e0b\u8f7d 2021.03.28 \u9002\u7528\u4e8e Ubuntu 1804 \u7684 2.x \u5b89\u88c5\u5305\uff1a wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.ubuntu1804.amd64.deb wget https://oss-cdn.nebula-graph.com.cn/package/v2-nightly/2021.03.28/nebula-graph-2021.03.28-nightly.ubuntu1804.amd64.deb.sha256sum.txt","title":"\u963f\u91cc\u4e91OSS\u4e0b\u8f7d"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#github","text":"\u4e0b\u8f7drelease\u7248\u672c + \u767b\u5f55 Nebula Graph Releases \u9875\u9762\uff0c\u786e\u8ba4\u9700\u8981\u7684\u7248\u672c\uff0c\u5355\u51fb Assets \u3002 + \u5728 Assets \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002 \u4e0b\u8f7dnightly\u7248\u672c \u7981\u6b62 \uff1anightly\u7248\u672c\u901a\u5e38\u7528\u4e8e\u6d4b\u8bd5\u65b0\u529f\u80fd\u3001\u65b0\u7279\u6027\uff0c\u8bf7 \u4e0d\u8981 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528nightly\u7248\u672c\u3002 + \u767b\u5f55 Nebula Graph package \u9875\u9762\uff0c\u5355\u51fb\u9876\u90e8\u6700\u65b0\u7684 package \u3002 + \u5728 Artifacts \u533a\u57df\u627e\u5230\u673a\u5668\u8fd0\u884c\u6240\u9700\u7684\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u6587\u4ef6\u5230\u673a\u5668\u4e0a\u3002","title":"GitHub\u4e0b\u8f7d"},{"location":"4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/#nebula_graph","text":"\u5b89\u88c5RPM\u5305 $ sudo rpm -ivh --prefix = <installation_path> <package_name> \u5b89\u88c5DEB\u5305 $ sudo dpkg -i --instdir == <installation_path> <package_name> \u8bf4\u660e \uff1a\u5982\u679c\u4e0d\u8bbe\u7f6e\u5b89\u88c5\u8def\u5f84\uff0c\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a /usr/local/nebula/ \u3002","title":"\u5b89\u88c5Nebula Graph"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/1.text-based-index-restrictions/","text":"\u5168\u6587\u7d22\u5f15\u9650\u5236 \u00b6 \u672c\u6587\u4ecb\u7ecd\u5168\u6587\u7d22\u5f15\u7684\u9650\u5236\uff0c\u8bf7\u5728\u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\u4ed4\u7ec6\u9605\u8bfb\u3002 \u76ee\u524d\u4e3a\u6b62\uff0c\u5168\u6587\u7d22\u5f15\u6709\u5982\u4e0b\u9650\u5236\uff1a \u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u6700\u5927\u957f\u5ea6\u4e3a256\u5b57\u8282\uff0c\u8d85\u51fa\u7684\u90e8\u5206\u505a\u622a\u65ad\u5904\u7406\u3002 \u4e0d\u80fd\u540c\u65f6\u4e3a\u591a\u4e2a\u5c5e\u6027\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002 \u5168\u6587\u641c\u7d22\u8bed\u53e5 LOOKUP / MATCH \u4e2d\u7684 WHERE \u5b50\u53e5\u4e0d\u652f\u6301\u903b\u8f91\u8fd0\u7b97 AND \u548c OR \u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u652f\u6301\u591a\u4e2a\u6807\u7b7e\u7684\u641c\u7d22\u3002 \u4e2d\u6587\u6ca1\u6709\u5355\u8bcd\u5206\u9694\u7b26\uff0c\u6240\u4ee5\u5185\u7f6e\u7684\u5168\u6587\u89e3\u6790\u5668\u4e0d\u80fd\u786e\u5b9a\u4e2d\u6587\u5355\u8bcd\u7684\u8d77\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\u3002\u60a8\u9700\u8981\u5b89\u88c5 elasticsearch-analysis-ik \u6765\u89e3\u6790\u4e2d\u6587\u3002 \u4e0d\u652f\u6301\u6392\u5e8f\u5168\u6587\u641c\u7d22\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u800c\u662f\u6309\u7167\u6570\u636e\u63d2\u5165\u7684\u987a\u5e8f\u8fd4\u56de\u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u652f\u6301\u641c\u7d22\u5c5e\u6027\u503c\u4e3a NULL \u7684\u5c5e\u6027\u3002 \u76ee\u524d\u4e0d\u652f\u6301\u91cd\u5efa\u6216\u4fee\u6539Elasticsearch\u7d22\u5f15\u3002 LOOKUP \u548c MATCH \u8bed\u53e5\u4e0d\u652f\u6301\u7ba1\u9053\u7b26\uff0c\u6587\u6863\u4e2d\u7684\u793a\u4f8b\u9664\u5916\u3002 \u53ea\u80fd\u7528\u5355\u4e2a\u6761\u4ef6\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u4f1a\u4e0e\u56fe\u7a7a\u95f4\u4e00\u8d77\u5220\u9664\u3002 \u786e\u4fdd\u540c\u65f6\u542f\u52a8\u4e86Elasticsearch\u96c6\u7fa4\u548cNebula Graph\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4Elasticsearch\u96c6\u7fa4\u5199\u5165\u7684\u6570\u636e\u4e0d\u5b8c\u6574\u3002 \u5728\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u503c\u4e2d\u4e0d\u8981\u5305\u542b ' \u6216 \\ \uff0c\u5426\u5219\u4f1a\u5bfc\u81f4Elasticsearch\u96c6\u7fa4\u5b58\u50a8\u65f6\u62a5\u9519\u3002 Elasticsearch\u521b\u5efa\u7d22\u5f15\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\uff0c\u5982\u679cNebula Graph\u62a5\u8b66\u672a\u627e\u5230\u7d22\u5f15\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u7d22\u5f15\u751f\u6548\u3002","title":"\u5168\u6587\u7d22\u5f15\u9650\u5236"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/1.text-based-index-restrictions/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u5168\u6587\u7d22\u5f15\u7684\u9650\u5236\uff0c\u8bf7\u5728\u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\u4ed4\u7ec6\u9605\u8bfb\u3002 \u76ee\u524d\u4e3a\u6b62\uff0c\u5168\u6587\u7d22\u5f15\u6709\u5982\u4e0b\u9650\u5236\uff1a \u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u6700\u5927\u957f\u5ea6\u4e3a256\u5b57\u8282\uff0c\u8d85\u51fa\u7684\u90e8\u5206\u505a\u622a\u65ad\u5904\u7406\u3002 \u4e0d\u80fd\u540c\u65f6\u4e3a\u591a\u4e2a\u5c5e\u6027\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002 \u5168\u6587\u641c\u7d22\u8bed\u53e5 LOOKUP / MATCH \u4e2d\u7684 WHERE \u5b50\u53e5\u4e0d\u652f\u6301\u903b\u8f91\u8fd0\u7b97 AND \u548c OR \u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u652f\u6301\u591a\u4e2a\u6807\u7b7e\u7684\u641c\u7d22\u3002 \u4e2d\u6587\u6ca1\u6709\u5355\u8bcd\u5206\u9694\u7b26\uff0c\u6240\u4ee5\u5185\u7f6e\u7684\u5168\u6587\u89e3\u6790\u5668\u4e0d\u80fd\u786e\u5b9a\u4e2d\u6587\u5355\u8bcd\u7684\u8d77\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\u3002\u60a8\u9700\u8981\u5b89\u88c5 elasticsearch-analysis-ik \u6765\u89e3\u6790\u4e2d\u6587\u3002 \u4e0d\u652f\u6301\u6392\u5e8f\u5168\u6587\u641c\u7d22\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u800c\u662f\u6309\u7167\u6570\u636e\u63d2\u5165\u7684\u987a\u5e8f\u8fd4\u56de\u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u652f\u6301\u641c\u7d22\u5c5e\u6027\u503c\u4e3a NULL \u7684\u5c5e\u6027\u3002 \u76ee\u524d\u4e0d\u652f\u6301\u91cd\u5efa\u6216\u4fee\u6539Elasticsearch\u7d22\u5f15\u3002 LOOKUP \u548c MATCH \u8bed\u53e5\u4e0d\u652f\u6301\u7ba1\u9053\u7b26\uff0c\u6587\u6863\u4e2d\u7684\u793a\u4f8b\u9664\u5916\u3002 \u53ea\u80fd\u7528\u5355\u4e2a\u6761\u4ef6\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002 \u5168\u6587\u7d22\u5f15\u4e0d\u4f1a\u4e0e\u56fe\u7a7a\u95f4\u4e00\u8d77\u5220\u9664\u3002 \u786e\u4fdd\u540c\u65f6\u542f\u52a8\u4e86Elasticsearch\u96c6\u7fa4\u548cNebula Graph\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4Elasticsearch\u96c6\u7fa4\u5199\u5165\u7684\u6570\u636e\u4e0d\u5b8c\u6574\u3002 \u5728\u70b9\u6216\u8fb9\u7684\u5c5e\u6027\u503c\u4e2d\u4e0d\u8981\u5305\u542b ' \u6216 \\ \uff0c\u5426\u5219\u4f1a\u5bfc\u81f4Elasticsearch\u96c6\u7fa4\u5b58\u50a8\u65f6\u62a5\u9519\u3002 Elasticsearch\u521b\u5efa\u7d22\u5f15\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\uff0c\u5982\u679cNebula Graph\u62a5\u8b66\u672a\u627e\u5230\u7d22\u5f15\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u7d22\u5f15\u751f\u6548\u3002","title":"\u5168\u6587\u7d22\u5f15\u9650\u5236"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/","text":"\u90e8\u7f72\u5168\u6587\u7d22\u5f15 \u00b6 Nebula Graph\u7684\u5168\u6587\u7d22\u5f15\u662f\u57fa\u4e8e Elasticsearch \u5b9e\u73b0\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4f7f\u7528Elasticsearch\u5168\u6587\u67e5\u8be2\u8bed\u8a00\u6765\u68c0\u7d22\u60a8\u60f3\u8981\u7684\u5185\u5bb9\u3002\u5168\u6587\u7d22\u5f15\u7531\u5185\u7f6e\u7684\u8fdb\u7a0b\u7ba1\u7406\uff0c\u5f53listener\u96c6\u7fa4\u548cElasticsearch\u96c6\u7fa4\u90e8\u7f72\u540e\uff0c\u5185\u7f6e\u7684\u8fdb\u7a0b\u53ea\u80fd\u4e3a\u6570\u636e\u7c7b\u578b\u4e3a\u5b9a\u957f\u5b57\u7b26\u4e32\u6216\u53d8\u957f\u5b57\u7b26\u4e32\u7684\u5c5e\u6027\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\uff0c\u8bf7\u786e\u8ba4\u60a8\u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002 \u90e8\u7f72Elasticsearch\u96c6\u7fa4 \u00b6 \u90e8\u7f72Elasticsearch\u96c6\u7fa4\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002 \u5f53Elasticsearch\u96c6\u7fa4\u542f\u52a8\u65f6\uff0c\u8bf7\u6dfb\u52a0Nebula Graph\u5168\u6587\u7d22\u5f15\u7684\u6a21\u677f\u6587\u4ef6\u3002\u4ee5\u4e0b\u9762\u7684\u6a21\u677f\u4e3a\u4f8b\uff1a { \"template\" : \"nebula*\" , \"settings\" : { \"index\" : { \"number_of_shards\" : 3 , \"number_of_replicas\" : 1 } }, \"mappings\" : { \"properties\" : { \"tag_id\" : { \"type\" : \"long\" }, \"column_id\" : { \"type\" : \"text\" }, \"value\" :{ \"type\" : \"keyword\" } } } } \u8bf7\u786e\u4fdd\u60a8\u6307\u5b9a\u7684\u4ee5\u4e0b\u5b57\u6bb5\u4e25\u683c\u7b26\u5408\u4e0a\u8ff0\u6a21\u677f\u683c\u5f0f\uff1a \"template\" : \"nebula*\" \"tag_id\" : { \"type\" : \"long\" }, \"column_id\" : { \"type\" : \"text\" }, \"value\" :{ \"type\" : \"keyword\" } \u60a8\u53ef\u4ee5\u914d\u7f6eElasticsearch\u6765\u6ee1\u8db3\u60a8\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u5982\u679c\u9700\u8981\u5b9a\u5236Elasticsearch\uff0c\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002 \u767b\u5f55\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef \u00b6 \u90e8\u7f72Elasticsearch\u96c6\u7fa4\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 SIGN IN \u8bed\u53e5\u767b\u5f55Elasticsearch\u5ba2\u6237\u7aef\u3002\u60a8\u5fc5\u987b\u4f7f\u7528Elasticsearch\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u624d\u80fd\u6b63\u5e38\u8fde\u63a5\uff0c\u540c\u65f6\u767b\u5f55\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u8bf7\u5728\u591a\u4e2a elastic_ip:port \u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 \u8bed\u6cd5 \u00b6 SIGN IN TEXT SERVICE [(<elastic_ip:port> [,<username>, <password>]), (<elastic_ip:port>), ...]; \u793a\u4f8b \u00b6 nebula> SIGN IN TEXT SERVICE (127.0.0.1:9200); \u8bf4\u660e \uff1aElasticsearch\u9ed8\u8ba4\u6ca1\u6709\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u60a8\u8bbe\u7f6e\u4e86\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u8bf7\u5728 SIGN IN \u8bed\u53e5\u4e2d\u6307\u5b9a\u3002 \u663e\u793a\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef \u00b6 SHOW TEXT SEARCH CLIENTS \u8bed\u53e5\u53ef\u4ee5\u5217\u51fa\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef\u3002 \u8bed\u6cd5 \u00b6 SHOW TEXT SEARCH CLIENTS; \u793a\u4f8b \u00b6 nebula> SHOW TEXT SEARCH CLIENTS; +-------------+------+ | Host | Port | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+ \u9000\u51fa\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef \u00b6 SIGN OUT TEXT SERVICE \u8bed\u53e5\u53ef\u4ee5\u9000\u51fa\u6240\u6709\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef\u3002 \u8bed\u6cd5 \u00b6 SIGN OUT TEXT SERVICE; \u793a\u4f8b \u00b6 nebula> SIGN OUT TEXT SERVICE;","title":"\u90e8\u7f72\u5168\u6587\u7d22\u5f15"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_1","text":"Nebula Graph\u7684\u5168\u6587\u7d22\u5f15\u662f\u57fa\u4e8e Elasticsearch \u5b9e\u73b0\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4f7f\u7528Elasticsearch\u5168\u6587\u67e5\u8be2\u8bed\u8a00\u6765\u68c0\u7d22\u60a8\u60f3\u8981\u7684\u5185\u5bb9\u3002\u5168\u6587\u7d22\u5f15\u7531\u5185\u7f6e\u7684\u8fdb\u7a0b\u7ba1\u7406\uff0c\u5f53listener\u96c6\u7fa4\u548cElasticsearch\u96c6\u7fa4\u90e8\u7f72\u540e\uff0c\u5185\u7f6e\u7684\u8fdb\u7a0b\u53ea\u80fd\u4e3a\u6570\u636e\u7c7b\u578b\u4e3a\u5b9a\u957f\u5b57\u7b26\u4e32\u6216\u53d8\u957f\u5b57\u7b26\u4e32\u7684\u5c5e\u6027\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002","title":"\u90e8\u7f72\u5168\u6587\u7d22\u5f15"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_2","text":"\u4f7f\u7528\u5168\u6587\u7d22\u5f15\u524d\uff0c\u8bf7\u786e\u8ba4\u60a8\u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#elasticsearch","text":"\u90e8\u7f72Elasticsearch\u96c6\u7fa4\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002 \u5f53Elasticsearch\u96c6\u7fa4\u542f\u52a8\u65f6\uff0c\u8bf7\u6dfb\u52a0Nebula Graph\u5168\u6587\u7d22\u5f15\u7684\u6a21\u677f\u6587\u4ef6\u3002\u4ee5\u4e0b\u9762\u7684\u6a21\u677f\u4e3a\u4f8b\uff1a { \"template\" : \"nebula*\" , \"settings\" : { \"index\" : { \"number_of_shards\" : 3 , \"number_of_replicas\" : 1 } }, \"mappings\" : { \"properties\" : { \"tag_id\" : { \"type\" : \"long\" }, \"column_id\" : { \"type\" : \"text\" }, \"value\" :{ \"type\" : \"keyword\" } } } } \u8bf7\u786e\u4fdd\u60a8\u6307\u5b9a\u7684\u4ee5\u4e0b\u5b57\u6bb5\u4e25\u683c\u7b26\u5408\u4e0a\u8ff0\u6a21\u677f\u683c\u5f0f\uff1a \"template\" : \"nebula*\" \"tag_id\" : { \"type\" : \"long\" }, \"column_id\" : { \"type\" : \"text\" }, \"value\" :{ \"type\" : \"keyword\" } \u60a8\u53ef\u4ee5\u914d\u7f6eElasticsearch\u6765\u6ee1\u8db3\u60a8\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u5982\u679c\u9700\u8981\u5b9a\u5236Elasticsearch\uff0c\u8bf7\u53c2\u89c1 Elasticsearch\u5b98\u65b9\u6587\u6863 \u3002","title":"\u90e8\u7f72Elasticsearch\u96c6\u7fa4"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_3","text":"\u90e8\u7f72Elasticsearch\u96c6\u7fa4\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 SIGN IN \u8bed\u53e5\u767b\u5f55Elasticsearch\u5ba2\u6237\u7aef\u3002\u60a8\u5fc5\u987b\u4f7f\u7528Elasticsearch\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u624d\u80fd\u6b63\u5e38\u8fde\u63a5\uff0c\u540c\u65f6\u767b\u5f55\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u8bf7\u5728\u591a\u4e2a elastic_ip:port \u4e4b\u95f4\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002","title":"\u767b\u5f55\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_4","text":"SIGN IN TEXT SERVICE [(<elastic_ip:port> [,<username>, <password>]), (<elastic_ip:port>), ...];","title":"\u8bed\u6cd5"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_5","text":"nebula> SIGN IN TEXT SERVICE (127.0.0.1:9200); \u8bf4\u660e \uff1aElasticsearch\u9ed8\u8ba4\u6ca1\u6709\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u60a8\u8bbe\u7f6e\u4e86\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u8bf7\u5728 SIGN IN \u8bed\u53e5\u4e2d\u6307\u5b9a\u3002","title":"\u793a\u4f8b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_6","text":"SHOW TEXT SEARCH CLIENTS \u8bed\u53e5\u53ef\u4ee5\u5217\u51fa\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef\u3002","title":"\u663e\u793a\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_7","text":"SHOW TEXT SEARCH CLIENTS;","title":"\u8bed\u6cd5"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_8","text":"nebula> SHOW TEXT SEARCH CLIENTS; +-------------+------+ | Host | Port | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+ | \"127.0.0.1\" | 9200 | +-------------+------+","title":"\u793a\u4f8b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_9","text":"SIGN OUT TEXT SERVICE \u8bed\u53e5\u53ef\u4ee5\u9000\u51fa\u6240\u6709\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef\u3002","title":"\u9000\u51fa\u6587\u672c\u641c\u7d22\u5ba2\u6237\u7aef"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_10","text":"SIGN OUT TEXT SERVICE;","title":"\u8bed\u6cd5"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/2.deploy-es/#_11","text":"nebula> SIGN OUT TEXT SERVICE;","title":"\u793a\u4f8b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/","text":"\u90e8\u7f72Raft listener \u00b6 \u5168\u6587\u7d22\u5f15\u7684\u6570\u636e\u662f\u5f02\u6b65\u5199\u5165Elasticsearch\u96c6\u7fa4\u7684\uff0c\u901a\u8fc7Raft listener\uff08\u7b80\u79f0listener\uff09\u8fd9\u4e2a\u72ec\u7acb\u8fdb\u7a0b\uff0c\u4eceStorage\u670d\u52a1\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u5199\u5165Elasticsearch\u96c6\u7fa4\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002 \u5df2\u7ecf \u90e8\u7f72Nebula Graph\u96c6\u7fa4 \u3002 \u5df2\u7ecf\u51c6\u5907\u81f3\u5c11\u4e00\u53f0\u989d\u5916\u7684\u670d\u52a1\u5668\uff0c\u4e3aRaft listener\u63d0\u4f9bStorage\u670d\u52a1\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u4e3alistener\u63d0\u4f9b\u670d\u52a1\u7684Storage\u670d\u52a1\u5fc5\u987b\u4e0e\u96c6\u7fa4\u4e2d\u5176\u4ed6\u6240\u6709Nebula Graph\u670d\u52a1\u5177\u6709\u76f8\u540c\u6216\u66f4\u65b0\u7684\u7248\u672c\u3002 \u76ee\u524d\u60a8\u53ea\u80fd\u4e3a\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e00\u6b21\u6027\u7684\u6dfb\u52a0listener\u3002\u5411\u5df2\u7ecf\u5b58\u5728listener\u7684\u56fe\u7a7a\u95f4\u6dfb\u52a0listener\u4f1a\u5931\u8d25\u3002\u8bf7\u5728\u4e00\u4e2a\u8bed\u53e5\u91cc\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2alistener\u3002 \u90e8\u7f72\u6d41\u7a0b \u00b6 \u7b2c\u4e00\u6b65\uff1a\u51c6\u5907listener\u7684\u914d\u7f6e\u6587\u4ef6 \u00b6 \u4f60\u5fc5\u987b\u5728\u9700\u8981\u90e8\u7f72listener\u7684\u673a\u5668\u4e0a\u51c6\u5907listener\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u6587\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3a nebula-storaged-listener.conf \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u63d0\u4f9b\u7684 \u6a21\u677f \u3002 \u8bf4\u660e \uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bf7\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\u66ff\u6362\u57df\u540d\u6216\u56de\u9001\u5730\u5740\uff08127.0.0.1\uff09\u3002 \u7b2c\u4e8c\u6b65\uff1a\u542f\u52a8listener \u00b6 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8\u542f\u52a8listener\uff1a ./bin/nebula-storaged --flagfile <listener_config_path>/nebula-storaged-listener.conf listener_config_path \u662f\u5b58\u50a8listener\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u3002 \u7b2c\u4e09\u6b65\uff1a\u6dfb\u52a0listener\u5230Nebula Graph \u00b6 \u8fde\u63a5Nebula Graph \uff0c\u7136\u540e\u6267\u884c USE <space> \u8fdb\u5165\u9700\u8981\u521b\u5efa\u5168\u6587\u7d22\u5f15\u7684\u56fe\u7a7a\u95f4\u3002\u6700\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6dfb\u52a0listener\uff1a \u8bf4\u660e \uff1alistener\u5fc5\u987b\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\u3002 ADD LISTENER ELASTICSEARCH <listener_ip:port> [,<listener_ip:port>, ...] \u8bf7\u5728\u4e00\u4e2a\u8bed\u53e5\u91cc\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2alistener\u3002\u4f8b\u5982\uff1a nebula> ADD LISTENER ELASTICSEARCH 192.168.8.5:46780,192.168.8.6:46780; \u67e5\u770blistener \u00b6 \u6267\u884c SHOW LISTENER \u8bed\u53e5\u53ef\u4ee5\u5217\u51falistener\u3002 \u793a\u4f8b \u00b6 nebula> SHOW LISTENER; +--------+-----------------+-----------------------+----------+ | PartId | Type | Host | Status | +--------+-----------------+-----------------------+----------+ | 1 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+ | 2 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+ | 3 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+ \u5220\u9664listener \u00b6 \u6267\u884c REMOVE LISTENER ELASTICSEARCH \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6240\u6709listener\u3002 \u793a\u4f8b \u00b6 nebula> REMOVE LISTENER ELASTICSEARCH; \u4e0b\u4e00\u6b65 \u00b6 \u90e8\u7f72 \u5168\u6587\u7d22\u5f15 \u548clistener\u540e\uff0c\u5168\u6587\u7d22\u5f15\u4f1a\u5728Elasticsearch\u96c6\u7fa4\u4e2d\u81ea\u52a8\u521b\u5efa\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5168\u6587\u641c\u7d22 \u3002","title":"\u90e8\u7f72Raft listener"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#raft_listener","text":"\u5168\u6587\u7d22\u5f15\u7684\u6570\u636e\u662f\u5f02\u6b65\u5199\u5165Elasticsearch\u96c6\u7fa4\u7684\uff0c\u901a\u8fc7Raft listener\uff08\u7b80\u79f0listener\uff09\u8fd9\u4e2a\u72ec\u7acb\u8fdb\u7a0b\uff0c\u4eceStorage\u670d\u52a1\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u5199\u5165Elasticsearch\u96c6\u7fa4\u3002","title":"\u90e8\u7f72Raft listener"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_1","text":"\u5df2\u7ecf\u4e86\u89e3\u5168\u6587\u7d22\u5f15\u7684 \u4f7f\u7528\u9650\u5236 \u3002 \u5df2\u7ecf \u90e8\u7f72Nebula Graph\u96c6\u7fa4 \u3002 \u5df2\u7ecf\u51c6\u5907\u81f3\u5c11\u4e00\u53f0\u989d\u5916\u7684\u670d\u52a1\u5668\uff0c\u4e3aRaft listener\u63d0\u4f9bStorage\u670d\u52a1\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_2","text":"\u4e3alistener\u63d0\u4f9b\u670d\u52a1\u7684Storage\u670d\u52a1\u5fc5\u987b\u4e0e\u96c6\u7fa4\u4e2d\u5176\u4ed6\u6240\u6709Nebula Graph\u670d\u52a1\u5177\u6709\u76f8\u540c\u6216\u66f4\u65b0\u7684\u7248\u672c\u3002 \u76ee\u524d\u60a8\u53ea\u80fd\u4e3a\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e00\u6b21\u6027\u7684\u6dfb\u52a0listener\u3002\u5411\u5df2\u7ecf\u5b58\u5728listener\u7684\u56fe\u7a7a\u95f4\u6dfb\u52a0listener\u4f1a\u5931\u8d25\u3002\u8bf7\u5728\u4e00\u4e2a\u8bed\u53e5\u91cc\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2alistener\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_3","text":"","title":"\u90e8\u7f72\u6d41\u7a0b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#listener","text":"\u4f60\u5fc5\u987b\u5728\u9700\u8981\u90e8\u7f72listener\u7684\u673a\u5668\u4e0a\u51c6\u5907listener\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u6587\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3a nebula-storaged-listener.conf \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u63d0\u4f9b\u7684 \u6a21\u677f \u3002 \u8bf4\u660e \uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bf7\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\u66ff\u6362\u57df\u540d\u6216\u56de\u9001\u5730\u5740\uff08127.0.0.1\uff09\u3002","title":"\u7b2c\u4e00\u6b65\uff1a\u51c6\u5907listener\u7684\u914d\u7f6e\u6587\u4ef6"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#listener_1","text":"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u542f\u52a8\u542f\u52a8listener\uff1a ./bin/nebula-storaged --flagfile <listener_config_path>/nebula-storaged-listener.conf listener_config_path \u662f\u5b58\u50a8listener\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u3002","title":"\u7b2c\u4e8c\u6b65\uff1a\u542f\u52a8listener"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#listenernebula_graph","text":"\u8fde\u63a5Nebula Graph \uff0c\u7136\u540e\u6267\u884c USE <space> \u8fdb\u5165\u9700\u8981\u521b\u5efa\u5168\u6587\u7d22\u5f15\u7684\u56fe\u7a7a\u95f4\u3002\u6700\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6dfb\u52a0listener\uff1a \u8bf4\u660e \uff1alistener\u5fc5\u987b\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\u3002 ADD LISTENER ELASTICSEARCH <listener_ip:port> [,<listener_ip:port>, ...] \u8bf7\u5728\u4e00\u4e2a\u8bed\u53e5\u91cc\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2alistener\u3002\u4f8b\u5982\uff1a nebula> ADD LISTENER ELASTICSEARCH 192.168.8.5:46780,192.168.8.6:46780;","title":"\u7b2c\u4e09\u6b65\uff1a\u6dfb\u52a0listener\u5230Nebula Graph"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#listener_2","text":"\u6267\u884c SHOW LISTENER \u8bed\u53e5\u53ef\u4ee5\u5217\u51falistener\u3002","title":"\u67e5\u770blistener"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_4","text":"nebula> SHOW LISTENER; +--------+-----------------+-----------------------+----------+ | PartId | Type | Host | Status | +--------+-----------------+-----------------------+----------+ | 1 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+ | 2 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+ | 3 | \"ELASTICSEARCH\" | \"[192.168.8.5:46780]\" | \"ONLINE\" | +--------+-----------------+-----------------------+----------+","title":"\u793a\u4f8b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#listener_3","text":"\u6267\u884c REMOVE LISTENER ELASTICSEARCH \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6240\u6709listener\u3002","title":"\u5220\u9664listener"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_5","text":"nebula> REMOVE LISTENER ELASTICSEARCH;","title":"\u793a\u4f8b"},{"location":"4.deployment-and-installation/6.deploy-text-based-index/3.deploy-listener/#_6","text":"\u90e8\u7f72 \u5168\u6587\u7d22\u5f15 \u548clistener\u540e\uff0c\u5168\u6587\u7d22\u5f15\u4f1a\u5728Elasticsearch\u96c6\u7fa4\u4e2d\u81ea\u52a8\u521b\u5efa\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5168\u6587\u641c\u7d22 \u3002","title":"\u4e0b\u4e00\u6b65"},{"location":"5.configurations-and-logs/1.configurations/1.configurations/","text":"\u914d\u7f6e\u7b80\u4ecb \u00b6 \u672c\u6587\u7b80\u5355\u4ecb\u7ecdNebula Graph\u7684\u914d\u7f6e\uff0c\u4ee5\u53ca\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u3002 \u83b7\u53d6\u914d\u7f6e \u00b6 \u5927\u591a\u6570\u914d\u7f6e\u90fd\u662f gflags \u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u83b7\u53d6\u6240\u6709\u7684gflags\u548c\u89e3\u91ca\uff1a binary --help \u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula-metad --help /usr/local/nebula/bin/nebula-graphd --help /usr/local/nebula/bin/nebula-storaged --help ./nebula-console --help \u8bf4\u660e \uff1a\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u5177\u4f53\u4f4d\u7f6e\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\uff0c\u4f8b\u5982nebula-metad\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/bin \u3002 \u53e6\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 curl \u83b7\u53d6\u8fd0\u884c\u4e2d\u7684gflags\u7684\u503c\uff0c\u4f8b\u5982\uff1a curl 127 .0.0.1:19559/flags # Meta\u670d\u52a1 curl 127 .0.0.1:19669/flags # Graph\u670d\u52a1 curl 127 .0.0.1:19779/flags # Storage\u670d\u52a1 \u8bf4\u660e \uff1a\u5177\u4f53\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002 \u4fee\u6539\u914d\u7f6e \u00b6 \u867d\u7136\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNebula Graph\u4f1a\u4eceMeta\u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u5e76\u542f\u52a8\u3002 \u4f46\u662f\u6839\u636e\u8fc7\u5f80\u5b9e\u8df5\uff0c\u5efa\u8bae\u60a8\u8ba9Nebula Graph\u4ece\u672c\u5730\u6587\u4ef6\u83b7\u53d6\u914d\u7f6e\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a \u5728 \u6bcf\u4e00\u4e2a \u914d\u7f6e\u6587\u4ef6\u7684\u5f00\u5934\u6dfb\u52a0 --local_config=true \uff0c\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u4fdd\u5b58\u4fee\u6539\u5185\u5bb9\uff0c\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\u3002 \u91cd\u542f \u6240\u6709 Nebula Graph\u670d\u52a1\uff0c\u786e\u4fdd\u4fee\u6539\u751f\u6548\u3002 \u5386\u53f2\u517c\u5bb9\u6027 \u00b6 v2.x curl \u547d\u4ee4\u4e0d\u517c\u5bb9\u5386\u53f2\u7248\u672cv1.x. \u547d\u4ee4\u548c\u53c2\u6570\u90fd\u6709\u6539\u53d8\u3002","title":"\u914d\u7f6e\u7b80\u4ecb"},{"location":"5.configurations-and-logs/1.configurations/1.configurations/#_1","text":"\u672c\u6587\u7b80\u5355\u4ecb\u7ecdNebula Graph\u7684\u914d\u7f6e\uff0c\u4ee5\u53ca\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u914d\u7f6e\u7b80\u4ecb"},{"location":"5.configurations-and-logs/1.configurations/1.configurations/#_2","text":"\u5927\u591a\u6570\u914d\u7f6e\u90fd\u662f gflags \u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u83b7\u53d6\u6240\u6709\u7684gflags\u548c\u89e3\u91ca\uff1a binary --help \u4f8b\u5982\uff1a /usr/local/nebula/bin/nebula-metad --help /usr/local/nebula/bin/nebula-graphd --help /usr/local/nebula/bin/nebula-storaged --help ./nebula-console --help \u8bf4\u660e \uff1a\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u5177\u4f53\u4f4d\u7f6e\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\uff0c\u4f8b\u5982nebula-metad\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/bin \u3002 \u53e6\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 curl \u83b7\u53d6\u8fd0\u884c\u4e2d\u7684gflags\u7684\u503c\uff0c\u4f8b\u5982\uff1a curl 127 .0.0.1:19559/flags # Meta\u670d\u52a1 curl 127 .0.0.1:19669/flags # Graph\u670d\u52a1 curl 127 .0.0.1:19779/flags # Storage\u670d\u52a1 \u8bf4\u660e \uff1a\u5177\u4f53\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002","title":"\u83b7\u53d6\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/1.configurations/#_3","text":"\u867d\u7136\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNebula Graph\u4f1a\u4eceMeta\u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u5e76\u542f\u52a8\u3002 \u4f46\u662f\u6839\u636e\u8fc7\u5f80\u5b9e\u8df5\uff0c\u5efa\u8bae\u60a8\u8ba9Nebula Graph\u4ece\u672c\u5730\u6587\u4ef6\u83b7\u53d6\u914d\u7f6e\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a \u5728 \u6bcf\u4e00\u4e2a \u914d\u7f6e\u6587\u4ef6\u7684\u5f00\u5934\u6dfb\u52a0 --local_config=true \uff0c\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u4fdd\u5b58\u4fee\u6539\u5185\u5bb9\uff0c\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\u3002 \u91cd\u542f \u6240\u6709 Nebula Graph\u670d\u52a1\uff0c\u786e\u4fdd\u4fee\u6539\u751f\u6548\u3002","title":"\u4fee\u6539\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/1.configurations/#_4","text":"v2.x curl \u547d\u4ee4\u4e0d\u517c\u5bb9\u5386\u53f2\u7248\u672cv1.x. \u547d\u4ee4\u548c\u53c2\u6570\u90fd\u6709\u6539\u53d8\u3002","title":"\u5386\u53f2\u517c\u5bb9\u6027"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/","text":"Meta\u670d\u52a1\u914d\u7f6e \u00b6 Meta\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-metad.conf.default \u548c nebula-metad.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f \u00b6 \u9996\u6b21\u542f\u52a8\u65f6\uff0cMeta\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-metad.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cMeta\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002 \u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e \u00b6 \u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-metad.conf.default \u4e3a\u51c6\u3002 basics\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-metad.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002 logging\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eMeta\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file metad-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file metad-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002 networking\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Meta\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-metad\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 port 9559 Meta\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002Meta\u670d\u52a1\u5bf9\u5916\u7aef\u53e3\u4e3a 9559 \uff0c\u5bf9\u5185\u7aef\u53e3\u4e3a \u5bf9\u5916\u7aef\u53e3+1 \uff0c\u5373 9560 \uff0cNebula Graph\u4f7f\u7528\u5185\u90e8\u7aef\u53e3\u8fdb\u884c\u591a\u526f\u672c\u95f4\u7684\u4ea4\u4e92\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19559 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19560 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002 storage\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e data_path data/meta meta\u6570\u636e\u5b58\u50a8\u8def\u5f84\u3002 misc\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e default_parts_num 100 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u5206\u7247\u6570\u91cf\u3002 default_replica_factor 1 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u526f\u672c\u6570\u91cf\u3002 rocksdb options\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e rocksdb_wal_sync true \u662f\u5426\u540c\u6b65RocksDB\u7684WAL\u65e5\u5fd7\u3002","title":"Meta\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#meta","text":"Meta\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-metad.conf.default \u548c nebula-metad.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002","title":"Meta\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#_1","text":"\u9996\u6b21\u542f\u52a8\u65f6\uff0cMeta\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-metad.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cMeta\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#_2","text":"\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-metad.conf.default \u4e3a\u51c6\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#basics","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-metad.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002","title":"basics\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#logging","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eMeta\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file metad-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file metad-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002","title":"logging\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#networking","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Meta\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-metad\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 port 9559 Meta\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002Meta\u670d\u52a1\u5bf9\u5916\u7aef\u53e3\u4e3a 9559 \uff0c\u5bf9\u5185\u7aef\u53e3\u4e3a \u5bf9\u5916\u7aef\u53e3+1 \uff0c\u5373 9560 \uff0cNebula Graph\u4f7f\u7528\u5185\u90e8\u7aef\u53e3\u8fdb\u884c\u591a\u526f\u672c\u95f4\u7684\u4ea4\u4e92\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19559 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19560 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002","title":"networking\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#storage","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e data_path data/meta meta\u6570\u636e\u5b58\u50a8\u8def\u5f84\u3002","title":"storage\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#misc","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e default_parts_num 100 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u5206\u7247\u6570\u91cf\u3002 default_replica_factor 1 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u526f\u672c\u6570\u91cf\u3002","title":"misc\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/2.meta-config/#rocksdb_options","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e rocksdb_wal_sync true \u662f\u5426\u540c\u6b65RocksDB\u7684WAL\u65e5\u5fd7\u3002","title":"rocksdb options\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/","text":"Graph\u670d\u52a1\u914d\u7f6e \u00b6 Graph\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf.default \u548c nebula-graphd.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f \u00b6 \u9996\u6b21\u542f\u52a8\u65f6\uff0cGraph\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cGraph\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002 \u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e \u00b6 \u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-graphd.conf.default \u4e3a\u51c6\u3002 basics\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-graphd.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 enable_optimizer true \u662f\u5426\u542f\u7528\u4f18\u5316\u5668\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002 logging\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eGraph\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file graphd-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file graphd-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002 query\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e accept_partial_success false \u662f\u5426\u5c06\u90e8\u5206\u6210\u529f\u89c6\u4e3a\u9519\u8bef\u3002\u6b64\u914d\u7f6e\u4ec5\u9002\u7528\u4e8e\u53ea\u8bfb\u8bf7\u6c42\uff0c\u5199\u8bf7\u6c42\u603b\u662f\u5c06\u90e8\u5206\u6210\u529f\u89c6\u4e3a\u9519\u8bef\u3002 networking\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Graph\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-graphd\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 listen_netdev any \u76d1\u542c\u7684\u7f51\u7edc\u8bbe\u5907\u3002 port 9669 Graph\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002 reuse_port false \u662f\u5426\u542f\u7528SO_REUSEPORT\u3002 listen_backlog 1024 socket\u76d1\u542c\u7684\u8fde\u63a5\u961f\u5217\u6700\u5927\u957f\u5ea6\uff0c\u8c03\u6574\u672c\u53c2\u6570\u9700\u8981\u540c\u65f6\u8c03\u6574 net.core.somaxconn \u3002 client_idle_timeout_secs 0 \u7a7a\u95f2\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002 0 \u8868\u793a\u6c38\u4e0d\u8d85\u65f6\u3002\u5355\u4f4d\uff1a\u79d2\u3002 session_idle_timeout_secs 0 \u7a7a\u95f2\u4f1a\u8bdd\u7684\u8d85\u65f6\u65f6\u95f4\u3002 0 \u8868\u793a\u6c38\u4e0d\u8d85\u65f6\u3002\u5355\u4f4d\uff1a\u79d2\u3002 num_accept_threads 1 \u63a5\u53d7\u4f20\u5165\u8fde\u63a5\u7684\u7ebf\u7a0b\u6570\u3002 num_netio_threads 0 \u7f51\u7edcIO\u7ebf\u7a0b\u6570\u3002 0 \u8868\u793aCPU\u6838\u6570\u3002 num_worker_threads 0 \u6267\u884c\u7528\u6237\u67e5\u8be2\u7684\u7ebf\u7a0b\u6570\u3002 0 \u8868\u793aCPU\u6838\u6570\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19669 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19670 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 storage_client_timeout_ms - Graph\u670d\u52a1\u4e0eStorage\u670d\u52a1\u7684RPC\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u9ed8\u8ba4\u503c\u4e3a 60000 \u6beb\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002 charset and collate\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e default_charset utf8 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u3002 default_collate utf8_bin \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002 authorization\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e enable_authorize false \u7528\u6237\u767b\u5f55\u65f6\u662f\u5426\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u8eab\u4efd\u9a8c\u8bc1\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002 auth_type password \u7528\u6237\u767b\u5f55\u7684\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\u3002\u53d6\u503c\u4e3a password \u3001 ldap \u3001 cloud \u3002","title":"Graph\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#graph","text":"Graph\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf.default \u548c nebula-graphd.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002","title":"Graph\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#_1","text":"\u9996\u6b21\u542f\u52a8\u65f6\uff0cGraph\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cGraph\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#_2","text":"\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-graphd.conf.default \u4e3a\u51c6\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#basics","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-graphd.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 enable_optimizer true \u662f\u5426\u542f\u7528\u4f18\u5316\u5668\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002","title":"basics\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#logging","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eGraph\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file graphd-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file graphd-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002","title":"logging\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#query","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e accept_partial_success false \u662f\u5426\u5c06\u90e8\u5206\u6210\u529f\u89c6\u4e3a\u9519\u8bef\u3002\u6b64\u914d\u7f6e\u4ec5\u9002\u7528\u4e8e\u53ea\u8bfb\u8bf7\u6c42\uff0c\u5199\u8bf7\u6c42\u603b\u662f\u5c06\u90e8\u5206\u6210\u529f\u89c6\u4e3a\u9519\u8bef\u3002","title":"query\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#networking","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Graph\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-graphd\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 listen_netdev any \u76d1\u542c\u7684\u7f51\u7edc\u8bbe\u5907\u3002 port 9669 Graph\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002 reuse_port false \u662f\u5426\u542f\u7528SO_REUSEPORT\u3002 listen_backlog 1024 socket\u76d1\u542c\u7684\u8fde\u63a5\u961f\u5217\u6700\u5927\u957f\u5ea6\uff0c\u8c03\u6574\u672c\u53c2\u6570\u9700\u8981\u540c\u65f6\u8c03\u6574 net.core.somaxconn \u3002 client_idle_timeout_secs 0 \u7a7a\u95f2\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002 0 \u8868\u793a\u6c38\u4e0d\u8d85\u65f6\u3002\u5355\u4f4d\uff1a\u79d2\u3002 session_idle_timeout_secs 0 \u7a7a\u95f2\u4f1a\u8bdd\u7684\u8d85\u65f6\u65f6\u95f4\u3002 0 \u8868\u793a\u6c38\u4e0d\u8d85\u65f6\u3002\u5355\u4f4d\uff1a\u79d2\u3002 num_accept_threads 1 \u63a5\u53d7\u4f20\u5165\u8fde\u63a5\u7684\u7ebf\u7a0b\u6570\u3002 num_netio_threads 0 \u7f51\u7edcIO\u7ebf\u7a0b\u6570\u3002 0 \u8868\u793aCPU\u6838\u6570\u3002 num_worker_threads 0 \u6267\u884c\u7528\u6237\u67e5\u8be2\u7684\u7ebf\u7a0b\u6570\u3002 0 \u8868\u793aCPU\u6838\u6570\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19669 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19670 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 storage_client_timeout_ms - Graph\u670d\u52a1\u4e0eStorage\u670d\u52a1\u7684RPC\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u9ed8\u8ba4\u503c\u4e3a 60000 \u6beb\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002","title":"networking\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#charset_and_collate","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e default_charset utf8 \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u3002 default_collate utf8_bin \u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u7684\u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\u3002","title":"charset and collate\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/3.graph-config/#authorization","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e enable_authorize false \u7528\u6237\u767b\u5f55\u65f6\u662f\u5426\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u8eab\u4efd\u9a8c\u8bc1\u8be6\u60c5\u8bf7\u53c2\u89c1 \u8eab\u4efd\u9a8c\u8bc1 \u3002 auth_type password \u7528\u6237\u767b\u5f55\u7684\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\u3002\u53d6\u503c\u4e3a password \u3001 ldap \u3001 cloud \u3002","title":"authorization\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/","text":"Storage\u670d\u52a1\u914d\u7f6e \u00b6 Storage\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf.default \u548c nebula-storaged.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u8bf4\u660e \uff1aRaft Listener\u7684\u914d\u7f6e\u548cStorage\u670d\u52a1\u914d\u7f6e\u4e0d\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72Raft listener \u3002 \u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f \u00b6 \u9996\u6b21\u542f\u52a8\u65f6\uff0cStorage\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cStorage\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002 \u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e \u00b6 \u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-storaged.conf.default \u4e3a\u51c6\u3002 basics\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-storaged.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002 logging\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eStorage\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file storaged-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file storaged-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002 networking\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Storage\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-storaged\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 port 9779 Storage\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002Storage\u670d\u52a1\u5bf9\u5916\u7aef\u53e3\u4e3a 9779 \uff0c\u5bf9\u5185\u7aef\u53e3\u4e3a 9777 \u3001 9778 \u548c 9780 \uff0cNebula Graph\u4f7f\u7528\u5185\u90e8\u7aef\u53e3\u8fdb\u884c\u591a\u526f\u672c\u95f4\u7684\u4ea4\u4e92\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19779 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19780 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002 raft\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e raft_heartbeat_interval_secs 30 Raft\u9009\u4e3e\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2\u3002 raft_rpc_timeout_ms 500 Raft\u5ba2\u6237\u7aef\u7684\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff08RPC\uff09\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u6beb\u79d2\u3002 wal_ttl 14400 Raft WAL\u7684\u751f\u5b58\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2\u3002 disk\u914d\u7f6e \u00b6 \u540d\u79f0 \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/storage \u6570\u636e\u5b58\u50a8\u8def\u5f84\uff0c\u591a\u4e2a\u8def\u5f84\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u4e00\u4e2aRocksDB\u5b9e\u4f8b\u5bf9\u5e94\u4e00\u4e2a\u8def\u5f84\u3002 rocksdb_batch_size 4096 \u6279\u91cf\u64cd\u4f5c\u7684\u7f13\u5b58\u5927\u5c0f\u3002\u5355\u4f4d\uff1a\u5b57\u8282\u3002 rocksdb_block_cache 4 BlockBasedTable\u7684\u9ed8\u8ba4\u5757\u7f13\u5b58\u5927\u5c0f\u3002\u5355\u4f4d\uff1a\u5146\uff08MB\uff09\u3002 engine_type rocksdb \u5b58\u50a8\u5f15\u64ce\u7c7b\u578b\u3002 rocksdb_compression lz4 \u538b\u7f29\u7b97\u6cd5\uff0c\u53ef\u9009\u503c\u4e3a no \u3001 snappy \u3001 lz4 \u3001 lz4hc \u3001 zlib \u3001 bzip2 \u548c zstd \u3002 rocksdb_compression_per_level - \u4e3a\u4e0d\u540c\u7ea7\u522b\u8bbe\u7f6e\u4e0d\u540c\u7684\u538b\u7f29\u7b97\u6cd5\u3002 enable_rocksdb_statistics false \u662f\u5426\u542f\u7528RocksDB\u7684\u6570\u636e\u7edf\u8ba1\u3002 rocksdb_stats_level kExceptHistogramOrTimers RocksDB\u7684\u6570\u636e\u7edf\u8ba1\u7ea7\u522b\u3002\u53ef\u9009\u503c\u4e3a kExceptHistogramOrTimers \uff08\u7981\u7528\u8ba1\u65f6\u5668\u7edf\u8ba1\uff0c\u8df3\u8fc7\u67f1\u72b6\u56fe\u7edf\u8ba1\uff09\u3001 kExceptTimers \uff08\u8df3\u8fc7\u8ba1\u65f6\u5668\u7edf\u8ba1\uff09\u3001 kExceptDetailedTimers \uff08\u6536\u96c6\u9664\u4e92\u65a5\u9501\u548c\u538b\u7f29\u82b1\u8d39\u65f6\u95f4\u4e4b\u5916\u7684\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u3001 kExceptTimeForMutex \u6536\u96c6\u9664\u4e92\u65a5\u9501\u82b1\u8d39\u65f6\u95f4\u4e4b\u5916\u7684\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u548c kAll \uff08\u6536\u96c6\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u3002 enable_rocksdb_prefix_filtering false \u662f\u5426\u542f\u7528prefix bloom filter\u3002 enable_rocksdb_whole_key_filtering true \u662f\u5426\u542f\u7528whole key bloom filter\u3002 rocksdb_filtering_prefix_length 12 \u6bcf\u4e2akey\u7684prefix\u957f\u5ea6\u3002\u53ef\u9009\u503c\u4e3a 12 \uff08\u5206\u7247ID+\u70b9ID\uff09\u548c 16 \uff08\u5206\u7247ID+\u70b9ID+\u6807\u7b7eID/\u8fb9\u7c7b\u578bID\uff09\u3002\u5355\u4f4d\uff1a\u5b57\u8282\u3002 rocksdb options\u914d\u7f6e \u00b6 \u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e rocksdb_db_options {} RocksDB database\u9009\u9879\u3002 rocksdb_column_family_options {\"write_buffer_size\":\"67108864\", \"max_write_buffer_number\":\"4\", \"max_bytes_for_level_base\":\"268435456\"} RocksDB column family\u9009\u9879\u3002 rocksdb_block_based_table_options {\"block_size\":\"8192\"} RocksDB block based table\u9009\u9879\u3002 rocksdb options\u914d\u7f6e\u7684\u683c\u5f0f\u4e3a {\"<option_name>\":\"<option_value>\"} \uff0c\u591a\u4e2a\u9009\u9879\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 rocksdb_db_options \u548c rocksdb_column_family_options \u652f\u6301\u7684\u9009\u9879\u5982\u4e0b\uff1a rocksdb_db_options max_total_wal_size delete_obsolete_files_period_micros max_background_jobs stats_dump_period_sec compaction_readahead_size writable_file_max_buffer_size bytes_per_sync wal_bytes_per_sync delayed_write_rate avoid_flush_during_shutdown max_open_files stats_persist_period_sec stats_history_buffer_size strict_bytes_per_sync enable_rocksdb_prefix_filtering enable_rocksdb_whole_key_filtering rocksdb_filtering_prefix_length num_compaction_threads rate_limit rocksdb_column_family_options write_buffer_size max_write_buffer_number level0_file_num_compaction_trigger level0_slowdown_writes_trigger level0_stop_writes_trigger target_file_size_base target_file_size_multiplier max_bytes_for_level_base max_bytes_for_level_multiplier disable_auto_compactions \u53c2\u6570\u7684\u8be6\u7ec6\u8bf4\u660e\u8bf7\u53c2\u89c1 RocksDB\u5b98\u65b9\u6587\u6863 \u3002","title":"Storage\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#storage","text":"Storage\u670d\u52a1\u63d0\u4f9b\u4e86\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf.default \u548c nebula-storaged.conf.production \uff0c\u65b9\u4fbf\u60a8\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u4f7f\u7528\u3002\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u8bf4\u660e \uff1aRaft Listener\u7684\u914d\u7f6e\u548cStorage\u670d\u52a1\u914d\u7f6e\u4e0d\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72Raft listener \u3002","title":"Storage\u670d\u52a1\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#_1","text":"\u9996\u6b21\u542f\u52a8\u65f6\uff0cStorage\u670d\u52a1\u4f1a\u4ece\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f\u3002\u60a8\u9700\u8981\u628a\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00 .default \u6216 .production \u5220\u9664\uff0cStorage\u670d\u52a1\u624d\u80fd\u5c06\u5176\u8bc6\u522b\u4e3a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5e0c\u671b\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0 --local_config=true \u518d\u91cd\u542f\u670d\u52a1\uff0c\u5426\u5219\u4f1a\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fc7\u671f\u914d\u7f6e\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u65b9\u5f0f"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#_2","text":"\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u5185\u6ca1\u6709\u8bbe\u7f6e\u67d0\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53c2\u6570\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u503c\u3002 \u914d\u7f6e\u6587\u4ef6\u5185\u53ea\u9884\u8bbe\u4e86\u90e8\u5206\u53c2\u6570\u7684\u503c\uff0c\u800c\u4e14\u4e24\u4efd\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u5185\u7684\u53c2\u6570\u503c\u4e5f\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6587\u7684\u9884\u8bbe\u503c\u4ee5 nebula-storaged.conf.default \u4e3a\u51c6\u3002","title":"\u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u503c\u8bf4\u660e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#basics","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e daemonize true \u662f\u5426\u542f\u52a8\u5b88\u62a4\u8fdb\u7a0b\u3002 pid_file pids/nebula-storaged.pid \u8bb0\u5f55\u8fdb\u7a0bID\u7684\u6587\u4ef6\u3002 timezone_name - \u6307\u5b9aNebula Graph\u7684\u65f6\u533a\u3002\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u4e2d\u672a\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5982\u9700\u4f7f\u7528\u8bf7\u624b\u52a8\u6dfb\u52a0\u3002\u7cfb\u7edf\u9ed8\u8ba4\u503c\u4e3a UTC+00:00:00 \u3002\u683c\u5f0f\u8bf7\u53c2\u89c1 Specifying the Time Zone with TZ \u3002\u4f8b\u5982\uff0c\u4e1c\u516b\u533a\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e3a --timezone_name=CST-8 \u3002 \u8bf4\u660e\uff1a \u5728\u63d2\u5165 \u65f6\u95f4\u7c7b\u578b \u7684\u5c5e\u6027\u503c\u65f6\uff0cNebula Graph\u4f1a\u6839\u636e timezone_name \u8bbe\u7f6e\u7684\u65f6\u533a\u5c06\u8be5\u65f6\u95f4\u503c\u8f6c\u6362\u6210\u76f8\u5e94\u7684UTC\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u4e2d\u8fd4\u56de\u7684\u65f6\u95f4\u7c7b\u578b\u5c5e\u6027\u503c\u4e3aUTC\u65f6\u95f4\u3002 timezone_name \u53c2\u6570\u53ea\u7528\u4e8e\u8f6c\u6362Nebula Graph\u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff0cNebula Graph\u8fdb\u7a0b\u4e2d\u5176\u5b83\u65f6\u533a\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u65e5\u5fd7\u6253\u5370\u7684\u65f6\u95f4\u7b49\uff0c\u4ecd\u7136\u4f7f\u7528\u4e3b\u673a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u65f6\u533a\u3002","title":"basics\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#logging","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e log_dir logs \u5b58\u653eStorage\u670d\u52a1\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u5efa\u8bae\u548c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u786c\u76d8\u3002 minloglevel 0 \u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v 0 \u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 logbufsecs 0 \u7f13\u51b2\u65e5\u5fd7\u7684\u6700\u5927\u65f6\u95f4\uff0c\u8d85\u65f6\u540e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u3002 0 \u8868\u793a\u5b9e\u65f6\u8f93\u51fa\u3002\u5355\u4f4d\uff1a\u79d2\u3002 redirect_stdout true \u662f\u5426\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u5355\u72ec\u7684\u8f93\u51fa\u6587\u4ef6\u3002 stdout_log_file storaged-stdout.log \u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderr_log_file storaged-stderr.log \u6807\u51c6\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u540d\u79f0\u3002 stderrthreshold 2 \u8981\u590d\u5236\u5230\u6807\u51c6\u9519\u8bef\u4e2d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff08 minloglevel \uff09\u3002","title":"logging\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#networking","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e meta_server_addrs 127.0.0.1:9559 \u5168\u90e8Meta\u670d\u52a1\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002\u591a\u4e2aMeta\u670d\u52a1\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 local_ip 127.0.0.1 Storage\u670d\u52a1\u7684\u672c\u5730IP\u5730\u5740\u3002\u672c\u5730IP\u5730\u5740\u7528\u4e8e\u8bc6\u522bnebula-storaged\u8fdb\u7a0b\uff0c\u5982\u679c\u662f\u5206\u5e03\u5f0f\u96c6\u7fa4\u6216\u9700\u8981\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u8bf7\u4fee\u6539\u4e3a\u5bf9\u5e94\u5730\u5740\u3002 port 9779 Storage\u670d\u52a1\u7684RPC\u5b88\u62a4\u8fdb\u7a0b\u76d1\u542c\u7aef\u53e3\u3002Storage\u670d\u52a1\u5bf9\u5916\u7aef\u53e3\u4e3a 9779 \uff0c\u5bf9\u5185\u7aef\u53e3\u4e3a 9777 \u3001 9778 \u548c 9780 \uff0cNebula Graph\u4f7f\u7528\u5185\u90e8\u7aef\u53e3\u8fdb\u884c\u591a\u526f\u672c\u95f4\u7684\u4ea4\u4e92\u3002 ws_ip 0.0.0.0 HTTP\u670d\u52a1\u7684IP\u5730\u5740\u3002 ws_http_port 19779 HTTP\u670d\u52a1\u7684\u7aef\u53e3\u3002 ws_h2_port 19780 HTTP2\u670d\u52a1\u7684\u7aef\u53e3\u3002 heartbeat_interval_secs 10 \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u670d\u52a1\u7684 heartbeat_interval_secs \u53d6\u503c\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5355\u4f4d\uff1a\u79d2\u3002 NOTE : \u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u771f\u5b9e\u7684IP\u5730\u5740\uff0c\u56e0\u4e3a\u67d0\u4e9b\u60c5\u51b5\u4e0b 127.0.0.1 \u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u3002","title":"networking\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#raft","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e raft_heartbeat_interval_secs 30 Raft\u9009\u4e3e\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2\u3002 raft_rpc_timeout_ms 500 Raft\u5ba2\u6237\u7aef\u7684\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff08RPC\uff09\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u6beb\u79d2\u3002 wal_ttl 14400 Raft WAL\u7684\u751f\u5b58\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2\u3002","title":"raft\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#disk","text":"\u540d\u79f0 \u9ed8\u8ba4\u503c \u8bf4\u660e data_path data/storage \u6570\u636e\u5b58\u50a8\u8def\u5f84\uff0c\u591a\u4e2a\u8def\u5f84\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002\u4e00\u4e2aRocksDB\u5b9e\u4f8b\u5bf9\u5e94\u4e00\u4e2a\u8def\u5f84\u3002 rocksdb_batch_size 4096 \u6279\u91cf\u64cd\u4f5c\u7684\u7f13\u5b58\u5927\u5c0f\u3002\u5355\u4f4d\uff1a\u5b57\u8282\u3002 rocksdb_block_cache 4 BlockBasedTable\u7684\u9ed8\u8ba4\u5757\u7f13\u5b58\u5927\u5c0f\u3002\u5355\u4f4d\uff1a\u5146\uff08MB\uff09\u3002 engine_type rocksdb \u5b58\u50a8\u5f15\u64ce\u7c7b\u578b\u3002 rocksdb_compression lz4 \u538b\u7f29\u7b97\u6cd5\uff0c\u53ef\u9009\u503c\u4e3a no \u3001 snappy \u3001 lz4 \u3001 lz4hc \u3001 zlib \u3001 bzip2 \u548c zstd \u3002 rocksdb_compression_per_level - \u4e3a\u4e0d\u540c\u7ea7\u522b\u8bbe\u7f6e\u4e0d\u540c\u7684\u538b\u7f29\u7b97\u6cd5\u3002 enable_rocksdb_statistics false \u662f\u5426\u542f\u7528RocksDB\u7684\u6570\u636e\u7edf\u8ba1\u3002 rocksdb_stats_level kExceptHistogramOrTimers RocksDB\u7684\u6570\u636e\u7edf\u8ba1\u7ea7\u522b\u3002\u53ef\u9009\u503c\u4e3a kExceptHistogramOrTimers \uff08\u7981\u7528\u8ba1\u65f6\u5668\u7edf\u8ba1\uff0c\u8df3\u8fc7\u67f1\u72b6\u56fe\u7edf\u8ba1\uff09\u3001 kExceptTimers \uff08\u8df3\u8fc7\u8ba1\u65f6\u5668\u7edf\u8ba1\uff09\u3001 kExceptDetailedTimers \uff08\u6536\u96c6\u9664\u4e92\u65a5\u9501\u548c\u538b\u7f29\u82b1\u8d39\u65f6\u95f4\u4e4b\u5916\u7684\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u3001 kExceptTimeForMutex \u6536\u96c6\u9664\u4e92\u65a5\u9501\u82b1\u8d39\u65f6\u95f4\u4e4b\u5916\u7684\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u548c kAll \uff08\u6536\u96c6\u6240\u6709\u7edf\u8ba1\u6570\u636e\uff09\u3002 enable_rocksdb_prefix_filtering false \u662f\u5426\u542f\u7528prefix bloom filter\u3002 enable_rocksdb_whole_key_filtering true \u662f\u5426\u542f\u7528whole key bloom filter\u3002 rocksdb_filtering_prefix_length 12 \u6bcf\u4e2akey\u7684prefix\u957f\u5ea6\u3002\u53ef\u9009\u503c\u4e3a 12 \uff08\u5206\u7247ID+\u70b9ID\uff09\u548c 16 \uff08\u5206\u7247ID+\u70b9ID+\u6807\u7b7eID/\u8fb9\u7c7b\u578bID\uff09\u3002\u5355\u4f4d\uff1a\u5b57\u8282\u3002","title":"disk\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/4.storage-config/#rocksdb_options","text":"\u540d\u79f0 \u9884\u8bbe\u503c \u8bf4\u660e rocksdb_db_options {} RocksDB database\u9009\u9879\u3002 rocksdb_column_family_options {\"write_buffer_size\":\"67108864\", \"max_write_buffer_number\":\"4\", \"max_bytes_for_level_base\":\"268435456\"} RocksDB column family\u9009\u9879\u3002 rocksdb_block_based_table_options {\"block_size\":\"8192\"} RocksDB block based table\u9009\u9879\u3002 rocksdb options\u914d\u7f6e\u7684\u683c\u5f0f\u4e3a {\"<option_name>\":\"<option_value>\"} \uff0c\u591a\u4e2a\u9009\u9879\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 rocksdb_db_options \u548c rocksdb_column_family_options \u652f\u6301\u7684\u9009\u9879\u5982\u4e0b\uff1a rocksdb_db_options max_total_wal_size delete_obsolete_files_period_micros max_background_jobs stats_dump_period_sec compaction_readahead_size writable_file_max_buffer_size bytes_per_sync wal_bytes_per_sync delayed_write_rate avoid_flush_during_shutdown max_open_files stats_persist_period_sec stats_history_buffer_size strict_bytes_per_sync enable_rocksdb_prefix_filtering enable_rocksdb_whole_key_filtering rocksdb_filtering_prefix_length num_compaction_threads rate_limit rocksdb_column_family_options write_buffer_size max_write_buffer_number level0_file_num_compaction_trigger level0_slowdown_writes_trigger level0_stop_writes_trigger target_file_size_base target_file_size_multiplier max_bytes_for_level_base max_bytes_for_level_multiplier disable_auto_compactions \u53c2\u6570\u7684\u8be6\u7ec6\u8bf4\u660e\u8bf7\u53c2\u89c1 RocksDB\u5b98\u65b9\u6587\u6863 \u3002","title":"rocksdb options\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/","text":"\u5185\u6838\u914d\u7f6e \u00b6 \u672c\u6587\u4ecb\u7ecd\u4e0eNebula Graph\u76f8\u5173\u7684Linux\u5185\u6838\u914d\u7f6e\uff0c\u5e76\u4ecb\u7ecd\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u3002 \u8d44\u6e90\u63a7\u5236 \u00b6 ulimit\u6ce8\u610f\u4e8b\u9879 \u00b6 \u547d\u4ee4 ulimit \u7528\u4e8e\u4e3a\u5f53\u524dshell\u4f1a\u8bdd\u8bbe\u7f6e\u8d44\u6e90\u9608\u503c\uff0c\u6ce8\u610f\u4e8b\u9879\u5982\u4e0b\uff1a ulimit \u6240\u505a\u7684\u66f4\u6539\u4ec5\u5bf9\u5f53\u524d\u4f1a\u8bdd\u6216\u5b50\u8fdb\u7a0b\u751f\u6548\u3002 \u8d44\u6e90\u7684\u9608\u503c\uff08\u8f6f\u9608\u503c\uff09\u4e0d\u80fd\u8d85\u8fc7\u786c\u9608\u503c\u3002 \u666e\u901a\u7528\u6237\u4e0d\u80fd\u4f7f\u7528\u547d\u4ee4\u8c03\u6574\u786c\u9608\u503c\uff0c\u5373\u4f7f\u4f7f\u7528 sudo \u4e5f\u4e0d\u80fd\u8c03\u6574\u3002 \u4fee\u6539\u7cfb\u7edf\u7ea7\u522b\u6216\u8c03\u6574\u786c\u6027\u9608\u503c\uff0c\u8bf7\u7f16\u8f91\u6587\u4ef6 /etc/security/limits.conf \u3002\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u751f\u6548\u3002 ulimit -c \u00b6 ulimit -c \u7528\u4e8e\u9650\u5236core\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a unlimited \uff0c\u547d\u4ee4\u5982\u4e0b\uff1a ulimit -c unlimited ulimit -n \u00b6 ulimit -n \u7528\u4e8e\u9650\u5236\u6253\u5f00\u6587\u4ef6\u7684\u6570\u91cf\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u8d85\u8fc710\u4e07\uff0c\u4f8b\u5982\uff1a ulimit -n 130000 \u5185\u5b58 \u00b6 vm.swappiness \u00b6 vm.swappiness \u662f\u89e6\u53d1\u865a\u62df\u5185\u5b58\uff08swap\uff09\u7684\u7a7a\u95f2\u5185\u5b58\u767e\u5206\u6bd4\u3002\u503c\u8d8a\u5927\uff0c\u4f7f\u7528swap\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a0\uff0c\u8868\u793a\u9996\u5148\u5220\u9664\u9875\u7f13\u5b58\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c0\u8868\u793a \u5c3d\u91cf \u4e0d\u4f7f\u7528swap\u3002 vm.min_free_kbytes \u00b6 vm.min_free_kbytes \u7528\u4e8e\u8bbe\u7f6eLinux\u865a\u62df\u673a\u4fdd\u7559\u7684\u6700\u5c0f\u7a7a\u95f2\u5343\u5b57\u8282\u6570\u3002\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u5185\u5b58\u8db3\u591f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u8f83\u5927\u503c\u3002\u4f8b\u5982\u7269\u7406\u5185\u5b58\u4e3a128 GB\uff0c\u53ef\u4ee5\u5c06 vm.min_free_kbytes \u8bbe\u7f6e\u4e3a5 GB\u3002\u5982\u679c\u503c\u592a\u5c0f\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u7533\u8bf7\u8db3\u591f\u7684\u8fde\u7eed\u7269\u7406\u5185\u5b58\u3002 vm.max_map_count \u00b6 vm.max_map_count \u7528\u4e8e\u9650\u5236\u5355\u4e2a\u8fdb\u7a0b\u7684VMA\uff08\u865a\u62df\u5185\u5b58\u533a\u57df\uff09\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 65530 \uff0c\u5bf9\u4e8e\u7edd\u5927\u591a\u6570\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\u5df2\u7ecf\u8db3\u591f\u3002\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u56e0\u4e3a\u5185\u5b58\u6d88\u8017\u8fc7\u5927\u800c\u62a5\u9519\uff0c\u8bf7\u589e\u5927\u672c\u53c2\u6570\u7684\u503c\u3002 vm.dirty_* \u00b6 vm.dirty_* \u662f\u4e00\u7cfb\u5217\u63a7\u5236\u7cfb\u7edf\u810f\u6570\u636e\u7f13\u5b58\u7684\u53c2\u6570\u3002\u5bf9\u4e8e\u5199\u5bc6\u96c6\u578b\u573a\u666f\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\uff08\u541e\u5410\u91cf\u4f18\u5148\u6216\u5ef6\u8fdf\u4f18\u5148\uff09\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c\u3002 Transparent huge page \u00b6 \u4e3a\u4e86\u964d\u4f4e\u5ef6\u8fdf\uff0c\u60a8\u5fc5\u987b\u5173\u95edTHP\uff08transparent huge page\uff09\u3002\u547d\u4ee4\u5982\u4e0b\uff1a root# echo never > /sys/kernel/mm/transparent_hugepage/enabled root# echo never > /sys/kernel/mm/transparent_hugepage/defrag root# swapoff -a && swapon -a \u7f51\u7edc \u00b6 net.ipv4.tcp_slow_start_after_idle \u00b6 net.ipv4.tcp_slow_start_after_idle \u9ed8\u8ba4\u503c\u4e3a1\uff0c\u4f1a\u5bfc\u81f4\u95f2\u7f6e\u4e00\u6bb5\u65f6\u95f4\u540e\u62e5\u585e\u7a97\u53e3\u8d85\u65f6\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a 0 \uff0c\u5c24\u5176\u9002\u5408\u5927\u5e26\u5bbd\u9ad8\u5ef6\u8fdf\u573a\u666f\u3002 net.core.somaxconn \u00b6 net.core.somaxconn \u7528\u4e8e\u9650\u5236socket\u76d1\u542c\u7684\u8fde\u63a5\u961f\u5217\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 128 \u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u7684\u573a\u666f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u4e0d\u4f4e\u4e8e 1024 \u3002 net.ipv4.tcp_max_syn_backlog \u00b6 net.ipv4.tcp_max_syn_backlog \u7528\u4e8e\u9650\u5236\u5904\u4e8eSYN_RECV\uff08\u534a\u8fde\u63a5\uff09\u72b6\u6001\u7684TCP\u8fde\u63a5\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 128 \u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u7684\u573a\u666f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u4e0d\u4f4e\u4e8e 1024 \u3002 net.core.netdev_max_backlog \u00b6 net.core.netdev_max_backlog \u7528\u4e8e\u9650\u5236\u961f\u5217\u4e2d\u6570\u636e\u5305\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 1000 \uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a 10000 \u4ee5\u4e0a\uff0c\u5c24\u5176\u662f\u4e07\u5146\u7f51\u5361\u3002 net.ipv4.tcp_keepalive_* \u00b6 net.ipv4.tcp_keepalive_* \u662f\u4e00\u7cfb\u5217\u4fdd\u6301TCP\u8fde\u63a5\u5b58\u6d3b\u7684\u53c2\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528\u56db\u5c42\u900f\u660e\u8d1f\u8f7d\u5747\u8861\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5982\u679c\u7a7a\u95f2\u8fde\u63a5\u5f02\u5e38\u65ad\u5f00\uff0c\u8bf7\u589e\u5927 tcp_keepalive_time \u548c tcp_keepalive_intvl \u7684\u503c\u3002 net.ipv4.tcp_wmem/rmem \u00b6 TCP\u5957\u63a5\u5b57\u53d1\u9001/\u63a5\u6536\u7f13\u51b2\u6c60\u7684\u6700\u5c0f\u3001\u6700\u5927\u3001\u9ed8\u8ba4\u7a7a\u95f4\u3002\u5bf9\u4e8e\u5927\u8fde\u63a5\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a \u5e26\u5bbd(GB)*\u5f80\u8fd4\u65f6\u5ef6(ms) \u3002 scheduler \u00b6 \u5bf9\u4e8eSSD\u8bbe\u5907\uff0c\u5efa\u8bae\u60a8\u5c06 scheduler \u8bbe\u7f6e\u4e3a noop \u6216\u8005 none \uff0c\u8def\u5f84\u4e3a /sys/block/DEV_NAME/queue/scheduler \u3002 \u5176\u4ed6\u53c2\u6570 \u00b6 kernel.core_pattern \u00b6 \u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a core \uff0c\u5e76\u4e14\u5c06 kernel.core_uses_pid \u8bbe\u7f6e\u4e3a 1 \u3002 \u4fee\u6539\u53c2\u6570 \u00b6 sysctl\u547d\u4ee4 \u00b6 sysctl <conf_name> \u67e5\u770b\u5f53\u524d\u53c2\u6570\u503c\u3002 - sysctl -w <conf_name>=<value> \u4e34\u65f6\u4fee\u6539\u53c2\u6570\u503c\uff0c\u7acb\u5373\u751f\u6548\uff0c\u91cd\u542f\u540e\u6062\u590d\u539f\u503c\u3002 - sysctl -p [<file_path>] \u4ece\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u91cc\u52a0\u8f7dLinux\u7cfb\u7edf\u53c2\u6570\uff0c\u9ed8\u8ba4\u4ece /etc/sysctl.conf \u52a0\u8f7d\u3002 prlimit \u00b6 \u547d\u4ee4 prlimit \u53ef\u4ee5\u83b7\u53d6\u548c\u8bbe\u7f6e\u8fdb\u7a0b\u8d44\u6e90\u7684\u9650\u5236\uff0c\u7ed3\u5408 sudo \u53ef\u4ee5\u4fee\u6539\u786c\u9608\u503c\uff0c\u4f8b\u5982\uff0c prlimit --nofile=140000 --pid=$$ \u8c03\u6574\u5f53\u524d\u8fdb\u7a0b\u5141\u8bb8\u7684\u6253\u5f00\u6587\u4ef6\u7684\u6700\u5927\u6570\u91cf\u4e3a 140000 \uff0c\u7acb\u5373\u751f\u6548\uff0c\u6b64\u547d\u4ee4\u4ec5\u652f\u6301RedHat 7u\u6216\u66f4\u9ad8\u7248\u672c\u3002","title":"\u5185\u6838\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u4e0eNebula Graph\u76f8\u5173\u7684Linux\u5185\u6838\u914d\u7f6e\uff0c\u5e76\u4ecb\u7ecd\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u3002","title":"\u5185\u6838\u914d\u7f6e"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_2","text":"","title":"\u8d44\u6e90\u63a7\u5236"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#ulimit","text":"\u547d\u4ee4 ulimit \u7528\u4e8e\u4e3a\u5f53\u524dshell\u4f1a\u8bdd\u8bbe\u7f6e\u8d44\u6e90\u9608\u503c\uff0c\u6ce8\u610f\u4e8b\u9879\u5982\u4e0b\uff1a ulimit \u6240\u505a\u7684\u66f4\u6539\u4ec5\u5bf9\u5f53\u524d\u4f1a\u8bdd\u6216\u5b50\u8fdb\u7a0b\u751f\u6548\u3002 \u8d44\u6e90\u7684\u9608\u503c\uff08\u8f6f\u9608\u503c\uff09\u4e0d\u80fd\u8d85\u8fc7\u786c\u9608\u503c\u3002 \u666e\u901a\u7528\u6237\u4e0d\u80fd\u4f7f\u7528\u547d\u4ee4\u8c03\u6574\u786c\u9608\u503c\uff0c\u5373\u4f7f\u4f7f\u7528 sudo \u4e5f\u4e0d\u80fd\u8c03\u6574\u3002 \u4fee\u6539\u7cfb\u7edf\u7ea7\u522b\u6216\u8c03\u6574\u786c\u6027\u9608\u503c\uff0c\u8bf7\u7f16\u8f91\u6587\u4ef6 /etc/security/limits.conf \u3002\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u751f\u6548\u3002","title":"ulimit\u6ce8\u610f\u4e8b\u9879"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#ulimit_-c","text":"ulimit -c \u7528\u4e8e\u9650\u5236core\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a unlimited \uff0c\u547d\u4ee4\u5982\u4e0b\uff1a ulimit -c unlimited","title":"ulimit -c"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#ulimit_-n","text":"ulimit -n \u7528\u4e8e\u9650\u5236\u6253\u5f00\u6587\u4ef6\u7684\u6570\u91cf\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u8d85\u8fc710\u4e07\uff0c\u4f8b\u5982\uff1a ulimit -n 130000","title":"ulimit -n"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_3","text":"","title":"\u5185\u5b58"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#vmswappiness","text":"vm.swappiness \u662f\u89e6\u53d1\u865a\u62df\u5185\u5b58\uff08swap\uff09\u7684\u7a7a\u95f2\u5185\u5b58\u767e\u5206\u6bd4\u3002\u503c\u8d8a\u5927\uff0c\u4f7f\u7528swap\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a0\uff0c\u8868\u793a\u9996\u5148\u5220\u9664\u9875\u7f13\u5b58\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c0\u8868\u793a \u5c3d\u91cf \u4e0d\u4f7f\u7528swap\u3002","title":"vm.swappiness"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#vmmin_free_kbytes","text":"vm.min_free_kbytes \u7528\u4e8e\u8bbe\u7f6eLinux\u865a\u62df\u673a\u4fdd\u7559\u7684\u6700\u5c0f\u7a7a\u95f2\u5343\u5b57\u8282\u6570\u3002\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u5185\u5b58\u8db3\u591f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u8f83\u5927\u503c\u3002\u4f8b\u5982\u7269\u7406\u5185\u5b58\u4e3a128 GB\uff0c\u53ef\u4ee5\u5c06 vm.min_free_kbytes \u8bbe\u7f6e\u4e3a5 GB\u3002\u5982\u679c\u503c\u592a\u5c0f\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u7533\u8bf7\u8db3\u591f\u7684\u8fde\u7eed\u7269\u7406\u5185\u5b58\u3002","title":"vm.min_free_kbytes"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#vmmax_map_count","text":"vm.max_map_count \u7528\u4e8e\u9650\u5236\u5355\u4e2a\u8fdb\u7a0b\u7684VMA\uff08\u865a\u62df\u5185\u5b58\u533a\u57df\uff09\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 65530 \uff0c\u5bf9\u4e8e\u7edd\u5927\u591a\u6570\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\u5df2\u7ecf\u8db3\u591f\u3002\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u56e0\u4e3a\u5185\u5b58\u6d88\u8017\u8fc7\u5927\u800c\u62a5\u9519\uff0c\u8bf7\u589e\u5927\u672c\u53c2\u6570\u7684\u503c\u3002","title":"vm.max_map_count"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#vmdirty_","text":"vm.dirty_* \u662f\u4e00\u7cfb\u5217\u63a7\u5236\u7cfb\u7edf\u810f\u6570\u636e\u7f13\u5b58\u7684\u53c2\u6570\u3002\u5bf9\u4e8e\u5199\u5bc6\u96c6\u578b\u573a\u666f\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\uff08\u541e\u5410\u91cf\u4f18\u5148\u6216\u5ef6\u8fdf\u4f18\u5148\uff09\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u503c\u3002","title":"vm.dirty_*"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#transparent_huge_page","text":"\u4e3a\u4e86\u964d\u4f4e\u5ef6\u8fdf\uff0c\u60a8\u5fc5\u987b\u5173\u95edTHP\uff08transparent huge page\uff09\u3002\u547d\u4ee4\u5982\u4e0b\uff1a root# echo never > /sys/kernel/mm/transparent_hugepage/enabled root# echo never > /sys/kernel/mm/transparent_hugepage/defrag root# swapoff -a && swapon -a","title":"Transparent huge page"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_4","text":"","title":"\u7f51\u7edc"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netipv4tcp_slow_start_after_idle","text":"net.ipv4.tcp_slow_start_after_idle \u9ed8\u8ba4\u503c\u4e3a1\uff0c\u4f1a\u5bfc\u81f4\u95f2\u7f6e\u4e00\u6bb5\u65f6\u95f4\u540e\u62e5\u585e\u7a97\u53e3\u8d85\u65f6\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a 0 \uff0c\u5c24\u5176\u9002\u5408\u5927\u5e26\u5bbd\u9ad8\u5ef6\u8fdf\u573a\u666f\u3002","title":"net.ipv4.tcp_slow_start_after_idle"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netcoresomaxconn","text":"net.core.somaxconn \u7528\u4e8e\u9650\u5236socket\u76d1\u542c\u7684\u8fde\u63a5\u961f\u5217\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 128 \u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u7684\u573a\u666f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u4e0d\u4f4e\u4e8e 1024 \u3002","title":"net.core.somaxconn"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netipv4tcp_max_syn_backlog","text":"net.ipv4.tcp_max_syn_backlog \u7528\u4e8e\u9650\u5236\u5904\u4e8eSYN_RECV\uff08\u534a\u8fde\u63a5\uff09\u72b6\u6001\u7684TCP\u8fde\u63a5\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 128 \u3002\u5bf9\u4e8e\u6709\u5927\u91cf\u7a81\u53d1\u8fde\u63a5\u7684\u573a\u666f\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a\u4e0d\u4f4e\u4e8e 1024 \u3002","title":"net.ipv4.tcp_max_syn_backlog"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netcorenetdev_max_backlog","text":"net.core.netdev_max_backlog \u7528\u4e8e\u9650\u5236\u961f\u5217\u4e2d\u6570\u636e\u5305\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a 1000 \uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a 10000 \u4ee5\u4e0a\uff0c\u5c24\u5176\u662f\u4e07\u5146\u7f51\u5361\u3002","title":"net.core.netdev_max_backlog"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netipv4tcp_keepalive_","text":"net.ipv4.tcp_keepalive_* \u662f\u4e00\u7cfb\u5217\u4fdd\u6301TCP\u8fde\u63a5\u5b58\u6d3b\u7684\u53c2\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528\u56db\u5c42\u900f\u660e\u8d1f\u8f7d\u5747\u8861\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5982\u679c\u7a7a\u95f2\u8fde\u63a5\u5f02\u5e38\u65ad\u5f00\uff0c\u8bf7\u589e\u5927 tcp_keepalive_time \u548c tcp_keepalive_intvl \u7684\u503c\u3002","title":"net.ipv4.tcp_keepalive_*"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#netipv4tcp_wmemrmem","text":"TCP\u5957\u63a5\u5b57\u53d1\u9001/\u63a5\u6536\u7f13\u51b2\u6c60\u7684\u6700\u5c0f\u3001\u6700\u5927\u3001\u9ed8\u8ba4\u7a7a\u95f4\u3002\u5bf9\u4e8e\u5927\u8fde\u63a5\uff0c\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a \u5e26\u5bbd(GB)*\u5f80\u8fd4\u65f6\u5ef6(ms) \u3002","title":"net.ipv4.tcp_wmem/rmem"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#scheduler","text":"\u5bf9\u4e8eSSD\u8bbe\u5907\uff0c\u5efa\u8bae\u60a8\u5c06 scheduler \u8bbe\u7f6e\u4e3a noop \u6216\u8005 none \uff0c\u8def\u5f84\u4e3a /sys/block/DEV_NAME/queue/scheduler \u3002","title":"scheduler"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_5","text":"","title":"\u5176\u4ed6\u53c2\u6570"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#kernelcore_pattern","text":"\u5efa\u8bae\u60a8\u8bbe\u7f6e\u4e3a core \uff0c\u5e76\u4e14\u5c06 kernel.core_uses_pid \u8bbe\u7f6e\u4e3a 1 \u3002","title":"kernel.core_pattern"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#_6","text":"","title":"\u4fee\u6539\u53c2\u6570"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#sysctl","text":"sysctl <conf_name> \u67e5\u770b\u5f53\u524d\u53c2\u6570\u503c\u3002 - sysctl -w <conf_name>=<value> \u4e34\u65f6\u4fee\u6539\u53c2\u6570\u503c\uff0c\u7acb\u5373\u751f\u6548\uff0c\u91cd\u542f\u540e\u6062\u590d\u539f\u503c\u3002 - sysctl -p [<file_path>] \u4ece\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u91cc\u52a0\u8f7dLinux\u7cfb\u7edf\u53c2\u6570\uff0c\u9ed8\u8ba4\u4ece /etc/sysctl.conf \u52a0\u8f7d\u3002","title":"sysctl\u547d\u4ee4"},{"location":"5.configurations-and-logs/1.configurations/6.kernel-config/#prlimit","text":"\u547d\u4ee4 prlimit \u53ef\u4ee5\u83b7\u53d6\u548c\u8bbe\u7f6e\u8fdb\u7a0b\u8d44\u6e90\u7684\u9650\u5236\uff0c\u7ed3\u5408 sudo \u53ef\u4ee5\u4fee\u6539\u786c\u9608\u503c\uff0c\u4f8b\u5982\uff0c prlimit --nofile=140000 --pid=$$ \u8c03\u6574\u5f53\u524d\u8fdb\u7a0b\u5141\u8bb8\u7684\u6253\u5f00\u6587\u4ef6\u7684\u6700\u5927\u6570\u91cf\u4e3a 140000 \uff0c\u7acb\u5373\u751f\u6548\uff0c\u6b64\u547d\u4ee4\u4ec5\u652f\u6301RedHat 7u\u6216\u66f4\u9ad8\u7248\u672c\u3002","title":"prlimit"},{"location":"5.configurations-and-logs/2.log-management/logs/","text":"\u65e5\u5fd7\u914d\u7f6e \u00b6 Nebula Graph\u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\uff0c\u4f7f\u7528 gflags \u63a7\u5236\u65e5\u5fd7\u7ea7\u522b\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u901a\u8fc7HTTP\u63a5\u53e3\u52a8\u6001\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b\uff0c\u65b9\u4fbf\u8ddf\u8e2a\u95ee\u9898\u3002 \u65e5\u5fd7\u76ee\u5f55 \u00b6 \u65e5\u5fd7\u7684\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/logs/ \u3002 \u5982\u679c\u60a8\u5728Nebula Graph\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u5220\u9664\u65e5\u5fd7\u76ee\u5f55\uff0c\u65e5\u5fd7\u4e0d\u4f1a\u7ee7\u7eed\u6253\u5370\uff0c\u4f46\u662f\u4e0d\u4f1a\u5f71\u54cd\u4e1a\u52a1\u3002\u91cd\u542f\u670d\u52a1\u53ef\u4ee5\u6062\u590d\u6b63\u5e38\u3002 \u914d\u7f6e\u8bf4\u660e \u00b6 minloglevel \uff1a\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v \uff1a\u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 Meta\u670d\u52a1\u3001Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u65e5\u5fd7\u7ea7\u522b\u53ef\u4ee5\u5728\u5404\u81ea\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002 \u67e5\u770b\u65e5\u5fd7\u7ea7\u522b \u00b6 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u6240\u6709\u7684gflags\u53c2\u6570\uff08\u5305\u62ec\u65e5\u5fd7\u53c2\u6570\uff09\uff1a $ curl <ws_ip>:<ws_port>/flags \u53c2\u6570 \u8bf4\u660e ws_ip HTTP\u670d\u52a1\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u4e3a 127.0.0.1 \u3002 ws_port HTTP\u670d\u52a1\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 19559 \uff08Meta\uff09\u3001 19669 \uff08Graph\uff09 19779 \uff08Storage\uff09\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u67e5\u770bMeta\u670d\u52a1\u5f53\u524d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff1a $ curl 127 .0.0.1:19559/flags | grep 'minloglevel' \u67e5\u770bStorage\u670d\u52a1\u5f53\u524d\u7684\u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff1a $ curl 127 .0.0.1:19779/flags | grep -w 'v' \u4fee\u6539\u65e5\u5fd7\u7ea7\u522b \u00b6 \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b\uff1a $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"<key>\":<value>[,\"<key>\":<value>]}' \"<ws_ip>:<ws_port>/flags\" \u53c2\u6570 \u8bf4\u660e key \u5f85\u4fee\u6539\u7684\u65e5\u5fd7\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u8bf4\u660e \u3002 value \u65e5\u5fd7\u7ea7\u522b\uff0c\u53ef\u9009\u503c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u8bf4\u660e \u3002 ws_ip HTTP\u670d\u52a1\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u4e3a 127.0.0.1 \u3002 ws_port HTTP\u670d\u52a1\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 19559 \uff08Meta\uff09\u3001 19669 \uff08Graph\uff09 19779 \uff08Storage\uff09\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19779/flags\" # storaged $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19669/flags\" # graphd $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19559/flags\" # metad \u5982\u679c\u60a8\u5728Nebula Graph\u8fd0\u884c\u65f6\u4fee\u6539\u4e86\u65e5\u5fd7\u7ea7\u522b\uff0c\u91cd\u542f\u670d\u52a1\u540e\u4f1a\u6062\u590d\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684\u7ea7\u522b\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u4fee\u6539\uff0c\u8bf7\u4fee\u6539 \u914d\u7f6e\u6587\u4ef6 \u3002","title":"\u65e5\u5fd7\u914d\u7f6e"},{"location":"5.configurations-and-logs/2.log-management/logs/#_1","text":"Nebula Graph\u4f7f\u7528 glog \u6253\u5370\u65e5\u5fd7\uff0c\u4f7f\u7528 gflags \u63a7\u5236\u65e5\u5fd7\u7ea7\u522b\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u901a\u8fc7HTTP\u63a5\u53e3\u52a8\u6001\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b\uff0c\u65b9\u4fbf\u8ddf\u8e2a\u95ee\u9898\u3002","title":"\u65e5\u5fd7\u914d\u7f6e"},{"location":"5.configurations-and-logs/2.log-management/logs/#_2","text":"\u65e5\u5fd7\u7684\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/logs/ \u3002 \u5982\u679c\u60a8\u5728Nebula Graph\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u5220\u9664\u65e5\u5fd7\u76ee\u5f55\uff0c\u65e5\u5fd7\u4e0d\u4f1a\u7ee7\u7eed\u6253\u5370\uff0c\u4f46\u662f\u4e0d\u4f1a\u5f71\u54cd\u4e1a\u52a1\u3002\u91cd\u542f\u670d\u52a1\u53ef\u4ee5\u6062\u590d\u6b63\u5e38\u3002","title":"\u65e5\u5fd7\u76ee\u5f55"},{"location":"5.configurations-and-logs/2.log-management/logs/#_3","text":"minloglevel \uff1a\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff0c\u5373\u4e0d\u4f1a\u8bb0\u5f55\u4f4e\u4e8e\u8fd9\u4e2a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u53ef\u9009\u503c\u4e3a 0 \uff08INFO\uff09\u3001 1 \uff08WARNING\uff09\u3001 2 \uff08ERROR\uff09\u3001 3 \uff08FATAL\uff09\u3002\u5efa\u8bae\u60a8\u5728\u8c03\u8bd5\u65f6\u8bbe\u7f6e\u4e3a 0 \uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u8bbe\u7f6e\u4e3a 1 \u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 4 \uff0cNebula Graph\u4e0d\u4f1a\u8bb0\u5f55\u4efb\u4f55\u65e5\u5fd7\u3002 v \uff1a\u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff0c\u503c\u8d8a\u5927\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8d8a\u8be6\u7ec6\u3002\u53ef\u9009\u503c\u4e3a 0 \u3001 1 \u3001 2 \u3001 3 \u3002 Meta\u670d\u52a1\u3001Graph\u670d\u52a1\u548cStorage\u670d\u52a1\u7684\u65e5\u5fd7\u7ea7\u522b\u53ef\u4ee5\u5728\u5404\u81ea\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/etc/ \u3002","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"5.configurations-and-logs/2.log-management/logs/#_4","text":"\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u6240\u6709\u7684gflags\u53c2\u6570\uff08\u5305\u62ec\u65e5\u5fd7\u53c2\u6570\uff09\uff1a $ curl <ws_ip>:<ws_port>/flags \u53c2\u6570 \u8bf4\u660e ws_ip HTTP\u670d\u52a1\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u4e3a 127.0.0.1 \u3002 ws_port HTTP\u670d\u52a1\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 19559 \uff08Meta\uff09\u3001 19669 \uff08Graph\uff09 19779 \uff08Storage\uff09\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u67e5\u770bMeta\u670d\u52a1\u5f53\u524d\u7684\u6700\u5c0f\u65e5\u5fd7\u7ea7\u522b\uff1a $ curl 127 .0.0.1:19559/flags | grep 'minloglevel' \u67e5\u770bStorage\u670d\u52a1\u5f53\u524d\u7684\u65e5\u5fd7\u8be6\u7ec6\u7ea7\u522b\uff1a $ curl 127 .0.0.1:19779/flags | grep -w 'v'","title":"\u67e5\u770b\u65e5\u5fd7\u7ea7\u522b"},{"location":"5.configurations-and-logs/2.log-management/logs/#_5","text":"\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b\uff1a $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"<key>\":<value>[,\"<key>\":<value>]}' \"<ws_ip>:<ws_port>/flags\" \u53c2\u6570 \u8bf4\u660e key \u5f85\u4fee\u6539\u7684\u65e5\u5fd7\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u8bf4\u660e \u3002 value \u65e5\u5fd7\u7ea7\u522b\uff0c\u53ef\u9009\u503c\u8bf7\u53c2\u89c1 \u914d\u7f6e\u8bf4\u660e \u3002 ws_ip HTTP\u670d\u52a1\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u4e3a 127.0.0.1 \u3002 ws_port HTTP\u670d\u52a1\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u67e5\u770b\u3002\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a 19559 \uff08Meta\uff09\u3001 19669 \uff08Graph\uff09 19779 \uff08Storage\uff09\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19779/flags\" # storaged $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19669/flags\" # graphd $ curl -X PUT -H \"Content-Type: application/json\" -d '{\"minloglevel\":0,\"v\":3}' \"127.0.0.1:19559/flags\" # metad \u5982\u679c\u60a8\u5728Nebula Graph\u8fd0\u884c\u65f6\u4fee\u6539\u4e86\u65e5\u5fd7\u7ea7\u522b\uff0c\u91cd\u542f\u670d\u52a1\u540e\u4f1a\u6062\u590d\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684\u7ea7\u522b\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u4fee\u6539\uff0c\u8bf7\u4fee\u6539 \u914d\u7f6e\u6587\u4ef6 \u3002","title":"\u4fee\u6539\u65e5\u5fd7\u7ea7\u522b"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/","text":"\u67e5\u8be2Nebula Graph\u76d1\u63a7\u6307\u6807 \u00b6 Nebula Graph\u652f\u6301\u591a\u79cd\u65b9\u5f0f\u67e5\u8be2\u670d\u52a1\u7684\u76d1\u63a7\u6307\u6807\uff0c\u672c\u6587\u5c06\u4ecb\u7ecd\u6700\u57fa\u7840\u7684\u65b9\u5f0f\uff0c\u5373\u901a\u8fc7HTTP\u7aef\u53e3\u67e5\u8be2\u3002 \u76d1\u63a7\u6307\u6807\u8bf4\u660e \u00b6 Nebula Graph\u7684\u6bcf\u4e2a\u76d1\u63a7\u6307\u6807\u90fd\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u4e2d\u95f4\u7528\u82f1\u6587\u53e5\u53f7\uff08.\uff09\u9694\u5f00\uff0c\u4f8b\u5982 num_queries.sum.600 \u3002\u6307\u6807\u8bf4\u660e\u5982\u4e0b\u3002 \u7c7b\u522b \u793a\u4f8b \u8bf4\u660e \u6307\u6807\u540d\u79f0 num_queries \u7b80\u5355\u63cf\u8ff0\u6307\u6807\u7684\u542b\u4e49\u3002 \u7edf\u8ba1\u7c7b\u578b sum \u6307\u6807\u7edf\u8ba1\u7684\u65b9\u6cd5\u3002\u5f53\u524d\u652f\u6301SUM\u3001COUNT\u3001AVG\u3001RATE\u548cP\u5206\u4f4d\u6570\uff08P75\u3001P95\u3001P99\u3001P99.9\uff09\u3002 \u7edf\u8ba1\u65f6\u95f4 600 \u6307\u6807\u7edf\u8ba1\u7684\u65f6\u95f4\u8303\u56f4\uff0c\u5f53\u524d\u652f\u63015\u79d2\u300160\u79d2\u3001600\u79d2\u548c3600\u79d2\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd15\u79d2\u3001\u6700\u8fd11\u5206\u949f\u3001\u6700\u8fd110\u5206\u949f\u548c\u6700\u8fd11\u5c0f\u65f6\u3002 \u4e0d\u540c\u7684Nebula Graph\u670d\u52a1\u652f\u6301\u67e5\u8be2\u7684\u76d1\u63a7\u6307\u6807\u4e5f\u4e0d\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1Nebula Graph\u670d\u52a1\u76d1\u63a7\u6307\u6807\uff08TODO: doc\uff09\u3002 \u901a\u8fc7HTTP\u7aef\u53e3\u67e5\u8be2\u76d1\u63a7\u6307\u6807 \u00b6 \u8bed\u6cd5 \u00b6 curl -G \"http://<ip>:<port>/stats?stats=<metric_name_list> [&format=json]\" \u9009\u9879 \u8bf4\u660e ip \u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u5b89\u88c5\u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u83b7\u53d6\u3002 port \u670d\u52a1\u5668\u7684HTTP\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u5b89\u88c5\u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u83b7\u53d6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMeta\u670d\u52a1\u7aef\u53e3\u4e3a19559\uff0cGraph\u670d\u52a1\u7aef\u53e3\u4e3a19669\uff0cStorage\u670d\u52a1\u7aef\u53e3\u4e3a19779\u3002 metric_name_list \u76d1\u63a7\u6307\u6807\u540d\u79f0\uff0c\u591a\u4e2a\u76d1\u63a7\u6307\u6807\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 &format=json \u5c06\u7ed3\u679c\u4ee5JSON\u683c\u5f0f\u8fd4\u56de\u3002 \u8bf4\u660e \uff1a\u5982\u679cNebula Graph\u670d\u52a1\u90e8\u7f72\u5728\u5bb9\u5668\u4e2d\uff0c\u9700\u8981\u6267\u884c docker-compose ps \u547d\u4ee4\u67e5\u770b\u6620\u5c04\u5230\u5bb9\u5668\u5916\u90e8\u7684\u7aef\u53e3\uff0c\u7136\u540e\u901a\u8fc7\u8be5\u7aef\u53e3\u67e5\u8be2\u3002 \u793a\u4f8b \u00b6 \u67e5\u8be2\u5355\u4e2a\u76d1\u63a7\u6307\u6807 \u67e5\u8be2Graph\u670d\u52a1\u4e2d\uff0c\u6700\u8fd110\u5206\u949f\u7684\u8bf7\u6c42\u603b\u6570\u3002 $ curl -G \"http://192.168.8.40:19669/stats?stats=num_queries.sum.600\" num_queries.sum.600 = 400 \u67e5\u8be2\u591a\u4e2a\u76d1\u63a7\u6307\u6807 \u67e5\u8be2Meta\u670d\u52a1\u4e2d\uff0c\u6700\u8fd11\u5206\u949f\u7684\u5fc3\u8df3\u5e73\u5747\u5ef6\u8fdf\u548c\u6700\u8fd110\u5206\u949fP99\u5fc3\u8df3\uff081%\u6700\u6162\u7684\u5fc3\u8df3\uff09\u7684\u5e73\u5747\u5ef6\u8fdf\u3002 $ curl -G \"http://192.168.8.40:19559/stats?stats=heartbeat_latency_us.avg.60,heartbeat_latency_us.p99.600\" heartbeat_latency_us.avg.60 = 281 heartbeat_latency_us.p99.600 = 985 \u67e5\u8be2\u76d1\u63a7\u6307\u6807\u5e76\u4ee5JSON\u683c\u5f0f\u8fd4\u56de \u67e5\u8be2Storage\u670d\u52a1\u4e2d\uff0c\u6700\u8fd110\u5206\u949f\u65b0\u589e\u7684\u70b9\u6570\u91cf\uff0c\u5e76\u4ee5JSON\u683c\u5f0f\u8fd4\u56de\u7ed3\u679c\u3002 $ curl -G \"http://192.168.8.40:19779/stats?stats=num_add_vertices.sum.600&format=json\" [{ \"value\" :1, \"name\" : \"num_add_vertices.sum.600\" }] \u67e5\u8be2\u670d\u52a1\u5668\u7684\u6240\u6709\u76d1\u63a7\u6307\u6807 \u4e0d\u6307\u5b9a\u67e5\u8be2\u67d0\u4e2a\u76d1\u63a7\u6307\u6807\u65f6\uff0c\u4f1a\u8fd4\u56de\u8be5\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684\u76d1\u63a7\u6307\u6807\u3002 $ curl -G \"http://192.168.8.40:19559/stats\" heartbeat_latency_us.avg.5 = 304 heartbeat_latency_us.avg.60 = 308 heartbeat_latency_us.avg.600 = 299 heartbeat_latency_us.avg.3600 = 285 heartbeat_latency_us.p75.5 = 652 heartbeat_latency_us.p75.60 = 669 heartbeat_latency_us.p75.600 = 651 heartbeat_latency_us.p75.3600 = 642 heartbeat_latency_us.p95.5 = 930 heartbeat_latency_us.p95.60 = 963 heartbeat_latency_us.p95.600 = 933 heartbeat_latency_us.p95.3600 = 929 heartbeat_latency_us.p99.5 = 986 heartbeat_latency_us.p99.60 = 1409 heartbeat_latency_us.p99.600 = 989 heartbeat_latency_us.p99.3600 = 986 num_heartbeats.rate.5 = 0 num_heartbeats.rate.60 = 0 num_heartbeats.rate.600 = 0 num_heartbeats.rate.3600 = 0 num_heartbeats.sum.5 = 2 num_heartbeats.sum.60 = 40 num_heartbeats.sum.600 = 394 num_heartbeats.sum.3600 = 2364","title":"\u67e5\u8be2Nebula Graph\u76d1\u63a7\u6307\u6807"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/#nebula_graph","text":"Nebula Graph\u652f\u6301\u591a\u79cd\u65b9\u5f0f\u67e5\u8be2\u670d\u52a1\u7684\u76d1\u63a7\u6307\u6807\uff0c\u672c\u6587\u5c06\u4ecb\u7ecd\u6700\u57fa\u7840\u7684\u65b9\u5f0f\uff0c\u5373\u901a\u8fc7HTTP\u7aef\u53e3\u67e5\u8be2\u3002","title":"\u67e5\u8be2Nebula Graph\u76d1\u63a7\u6307\u6807"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/#_1","text":"Nebula Graph\u7684\u6bcf\u4e2a\u76d1\u63a7\u6307\u6807\u90fd\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u4e2d\u95f4\u7528\u82f1\u6587\u53e5\u53f7\uff08.\uff09\u9694\u5f00\uff0c\u4f8b\u5982 num_queries.sum.600 \u3002\u6307\u6807\u8bf4\u660e\u5982\u4e0b\u3002 \u7c7b\u522b \u793a\u4f8b \u8bf4\u660e \u6307\u6807\u540d\u79f0 num_queries \u7b80\u5355\u63cf\u8ff0\u6307\u6807\u7684\u542b\u4e49\u3002 \u7edf\u8ba1\u7c7b\u578b sum \u6307\u6807\u7edf\u8ba1\u7684\u65b9\u6cd5\u3002\u5f53\u524d\u652f\u6301SUM\u3001COUNT\u3001AVG\u3001RATE\u548cP\u5206\u4f4d\u6570\uff08P75\u3001P95\u3001P99\u3001P99.9\uff09\u3002 \u7edf\u8ba1\u65f6\u95f4 600 \u6307\u6807\u7edf\u8ba1\u7684\u65f6\u95f4\u8303\u56f4\uff0c\u5f53\u524d\u652f\u63015\u79d2\u300160\u79d2\u3001600\u79d2\u548c3600\u79d2\uff0c\u5206\u522b\u8868\u793a\u6700\u8fd15\u79d2\u3001\u6700\u8fd11\u5206\u949f\u3001\u6700\u8fd110\u5206\u949f\u548c\u6700\u8fd11\u5c0f\u65f6\u3002 \u4e0d\u540c\u7684Nebula Graph\u670d\u52a1\u652f\u6301\u67e5\u8be2\u7684\u76d1\u63a7\u6307\u6807\u4e5f\u4e0d\u540c\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1Nebula Graph\u670d\u52a1\u76d1\u63a7\u6307\u6807\uff08TODO: doc\uff09\u3002","title":"\u76d1\u63a7\u6307\u6807\u8bf4\u660e"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/#http","text":"","title":"\u901a\u8fc7HTTP\u7aef\u53e3\u67e5\u8be2\u76d1\u63a7\u6307\u6807"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/#_2","text":"curl -G \"http://<ip>:<port>/stats?stats=<metric_name_list> [&format=json]\" \u9009\u9879 \u8bf4\u660e ip \u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0c\u53ef\u4ee5\u5728\u5b89\u88c5\u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u83b7\u53d6\u3002 port \u670d\u52a1\u5668\u7684HTTP\u7aef\u53e3\uff0c\u53ef\u4ee5\u5728\u5b89\u88c5\u76ee\u5f55\u5185\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u83b7\u53d6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMeta\u670d\u52a1\u7aef\u53e3\u4e3a19559\uff0cGraph\u670d\u52a1\u7aef\u53e3\u4e3a19669\uff0cStorage\u670d\u52a1\u7aef\u53e3\u4e3a19779\u3002 metric_name_list \u76d1\u63a7\u6307\u6807\u540d\u79f0\uff0c\u591a\u4e2a\u76d1\u63a7\u6307\u6807\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u9694\u5f00\u3002 &format=json \u5c06\u7ed3\u679c\u4ee5JSON\u683c\u5f0f\u8fd4\u56de\u3002 \u8bf4\u660e \uff1a\u5982\u679cNebula Graph\u670d\u52a1\u90e8\u7f72\u5728\u5bb9\u5668\u4e2d\uff0c\u9700\u8981\u6267\u884c docker-compose ps \u547d\u4ee4\u67e5\u770b\u6620\u5c04\u5230\u5bb9\u5668\u5916\u90e8\u7684\u7aef\u53e3\uff0c\u7136\u540e\u901a\u8fc7\u8be5\u7aef\u53e3\u67e5\u8be2\u3002","title":"\u8bed\u6cd5"},{"location":"6.monitor-and-metrics/1.query-performance-metrics/#_3","text":"\u67e5\u8be2\u5355\u4e2a\u76d1\u63a7\u6307\u6807 \u67e5\u8be2Graph\u670d\u52a1\u4e2d\uff0c\u6700\u8fd110\u5206\u949f\u7684\u8bf7\u6c42\u603b\u6570\u3002 $ curl -G \"http://192.168.8.40:19669/stats?stats=num_queries.sum.600\" num_queries.sum.600 = 400 \u67e5\u8be2\u591a\u4e2a\u76d1\u63a7\u6307\u6807 \u67e5\u8be2Meta\u670d\u52a1\u4e2d\uff0c\u6700\u8fd11\u5206\u949f\u7684\u5fc3\u8df3\u5e73\u5747\u5ef6\u8fdf\u548c\u6700\u8fd110\u5206\u949fP99\u5fc3\u8df3\uff081%\u6700\u6162\u7684\u5fc3\u8df3\uff09\u7684\u5e73\u5747\u5ef6\u8fdf\u3002 $ curl -G \"http://192.168.8.40:19559/stats?stats=heartbeat_latency_us.avg.60,heartbeat_latency_us.p99.600\" heartbeat_latency_us.avg.60 = 281 heartbeat_latency_us.p99.600 = 985 \u67e5\u8be2\u76d1\u63a7\u6307\u6807\u5e76\u4ee5JSON\u683c\u5f0f\u8fd4\u56de \u67e5\u8be2Storage\u670d\u52a1\u4e2d\uff0c\u6700\u8fd110\u5206\u949f\u65b0\u589e\u7684\u70b9\u6570\u91cf\uff0c\u5e76\u4ee5JSON\u683c\u5f0f\u8fd4\u56de\u7ed3\u679c\u3002 $ curl -G \"http://192.168.8.40:19779/stats?stats=num_add_vertices.sum.600&format=json\" [{ \"value\" :1, \"name\" : \"num_add_vertices.sum.600\" }] \u67e5\u8be2\u670d\u52a1\u5668\u7684\u6240\u6709\u76d1\u63a7\u6307\u6807 \u4e0d\u6307\u5b9a\u67e5\u8be2\u67d0\u4e2a\u76d1\u63a7\u6307\u6807\u65f6\uff0c\u4f1a\u8fd4\u56de\u8be5\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684\u76d1\u63a7\u6307\u6807\u3002 $ curl -G \"http://192.168.8.40:19559/stats\" heartbeat_latency_us.avg.5 = 304 heartbeat_latency_us.avg.60 = 308 heartbeat_latency_us.avg.600 = 299 heartbeat_latency_us.avg.3600 = 285 heartbeat_latency_us.p75.5 = 652 heartbeat_latency_us.p75.60 = 669 heartbeat_latency_us.p75.600 = 651 heartbeat_latency_us.p75.3600 = 642 heartbeat_latency_us.p95.5 = 930 heartbeat_latency_us.p95.60 = 963 heartbeat_latency_us.p95.600 = 933 heartbeat_latency_us.p95.3600 = 929 heartbeat_latency_us.p99.5 = 986 heartbeat_latency_us.p99.60 = 1409 heartbeat_latency_us.p99.600 = 989 heartbeat_latency_us.p99.3600 = 986 num_heartbeats.rate.5 = 0 num_heartbeats.rate.60 = 0 num_heartbeats.rate.600 = 0 num_heartbeats.rate.3600 = 0 num_heartbeats.sum.5 = 2 num_heartbeats.sum.60 = 40 num_heartbeats.sum.600 = 394 num_heartbeats.sum.3600 = 2364","title":"\u793a\u4f8b"},{"location":"7.data-security/3.manage-snapshot/","text":"\u7ba1\u7406\u5feb\u7167 \u00b6 Nebula Graph\u63d0\u4f9b\u5feb\u7167\uff08snapshot\uff09\u529f\u80fd\uff0c\u7528\u4e8e\u4fdd\u5b58\u96c6\u7fa4\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u6570\u636e\u72b6\u6001\uff0c\u5f53\u51fa\u73b0\u6570\u636e\u4e22\u5931\u6216\u8bef\u64cd\u4f5c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5feb\u7167\u6062\u590d\u6570\u636e\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 Nebula Graph\u7684 \u8eab\u4efd\u8ba4\u8bc1 \u529f\u80fd\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff0c\u6b64\u65f6\u4efb\u4f55\u7528\u6237\u90fd\u80fd\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u3002 \u5982\u679c\u8eab\u4efd\u8ba4\u8bc1\u5f00\u542f\uff0c\u4ec5God\u89d2\u8272\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u3002\u5173\u4e8e\u89d2\u8272\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u7cfb\u7edf\u7ed3\u6784\u53d1\u751f\u53d8\u5316\u540e\uff0c\u5efa\u8bae\u7acb\u523b\u521b\u5efa\u5feb\u7167\uff0c\u4f8b\u5982\u5728 add host \u3001 drop host \u3001 create space \u3001 drop space \u3001 balance \u7b49\u64cd\u4f5c\u4e4b\u540e\u3002 \u6682\u4e0d\u652f\u6301\u81ea\u52a8\u56de\u6536\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u5783\u573e\u6587\u4ef6\uff0c\u9700\u8981\u60a8\u624b\u52a8\u5220\u9664\u3002 \u6682\u4e0d\u652f\u6301\u6307\u5b9a\u5feb\u7167\u4fdd\u5b58\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/data \u3002 \u5feb\u7167\u8def\u5f84 \u00b6 Nebula Graph\u521b\u5efa\u7684\u5feb\u7167\u4ee5\u76ee\u5f55\u7684\u5f62\u5f0f\u5b58\u50a8\uff0c\u4f8b\u5982 SNAPSHOT_2021_03_09_08_43_12 \uff0c\u540e\u7f00 2021_03_09_08_43_12 \u6839\u636e\u521b\u5efa\u65f6\u95f4\uff08UTC\uff09\u81ea\u52a8\u751f\u6210\u3002 \u521b\u5efa\u5feb\u7167\u65f6\uff0c\u5feb\u7167\u76ee\u5f55\u4f1a\u81ea\u52a8\u5728leader Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\u7684\u76ee\u5f55 checkpoints \u5185\u521b\u5efa\u3002 \u4e3a\u4e86\u5feb\u901f\u5b9a\u4f4d\u5feb\u7167\u6240\u5728\u8def\u5f84\uff0c\u53ef\u4ee5\u4f7f\u7528Linux\u547d\u4ee4 find \u3002\u4f8b\u5982\uff1a $ find | grep 'SNAPSHOT_2021_03_09_08_43_12' ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12 ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12/data ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12/data/000081.sst ... \u521b\u5efa\u5feb\u7167 \u00b6 \u547d\u4ee4 CREATE SNAPSHOT \u53ef\u4ee5\u521b\u5efa\u96c6\u7fa4\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u5feb\u7167\u3002\u6682\u65f6\u53ea\u652f\u6301\u521b\u5efa\u6240\u6709\u56fe\u7a7a\u95f4\u7684\u5feb\u7167\uff0c\u4e0d\u652f\u6301\u521b\u5efa\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5feb\u7167\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5feb\u7167\u521b\u5efa\u5931\u8d25\uff0c\u8bf7 \u5220\u9664\u5feb\u7167 \u91cd\u65b0\u521b\u5efa\u3002 nebula> CREATE SNAPSHOT; \u67e5\u770b\u5feb\u7167 \u00b6 \u547d\u4ee4 SHOW SNAPSHOTS \u53ef\u4ee5\u67e5\u770b\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u5feb\u7167\u3002 nebula> SHOW SNAPSHOTS; +--------------------------------+---------+------------------+ | Name | Status | Hosts | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_08_43_12\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_09_10_52\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+ \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 |\u53c2\u6570|\u8bf4\u660e| |:---|:---| | Name |\u5feb\u7167\u540d\u79f0\uff0c\u524d\u7f00\u4e3a SNAPSHOT \uff0c\u8868\u793a\u8be5\u6587\u4ef6\u4e3a\u5feb\u7167\u6587\u4ef6\uff0c\u540e\u7f00\u4e3a\u5feb\u7167\u521b\u5efa\u7684\u65f6\u95f4\u70b9\uff08UTC\u65f6\u95f4\uff09\u3002| | Status |\u5feb\u7167\u72b6\u6001\u3002 VALID \u8868\u793a\u5feb\u7167\u6709\u6548\uff0c INVALID \u8868\u793a\u5feb\u7167\u65e0\u6548\u3002| | Hosts |\u521b\u5efa\u5feb\u7167\u65f6\u6240\u6709Storage\u670d\u52a1\u5668\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002| \u5220\u9664\u5feb\u7167 \u00b6 \u547d\u4ee4 DROP SNAPSHOT \u53ef\u4ee5\u5220\u9664\u6307\u5b9a\u7684\u5feb\u7167\uff0c\u8bed\u6cd5\u4e3a\uff1a DROP SNAPSHOT <snapshot_name>; \u793a\u4f8b\u5982\u4e0b\uff1a nebula> DROP SNAPSHOT SNAPSHOT_2021_03_09_08_43_12; nebula> SHOW SNAPSHOTS; +--------------------------------+---------+------------------+ | Name | Status | Hosts | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_09_10_52\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+ \u6062\u590d\u5feb\u7167 \u00b6 \u5f53\u524d\u6682\u672a\u63d0\u4f9b\u6062\u590d\u5feb\u7167\u547d\u4ee4\uff0c\u9700\u8981\u60a8\u624b\u52a8\u62f7\u8d1d\u5feb\u7167\u6587\u4ef6\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u5185\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7shell\u811a\u672c\u8fdb\u884c\u64cd\u4f5c\u3002\u5b9e\u73b0\u903b\u8f91\u5982\u4e0b\uff1a \u521b\u5efa\u5feb\u7167\u540e\uff0c\u4f1a\u5728Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684\u5b89\u88c5\u76ee\u5f55\u5185\u751f\u6210 checkpoints \u76ee\u5f55\uff0c\u4fdd\u5b58\u521b\u5efa\u7684\u5feb\u7167\u3002\u4ee5\u672c\u6587\u4e3a\u4f8b\uff0c\u5f53\u5b58\u57282\u4e2a\u56fe\u7a7a\u95f4\u65f6\uff0c\u521b\u5efa\u7684\u5feb\u7167\u5206\u522b\u4fdd\u5b58\u5728 /usr/local/nebula/data/meta/nebula/0/checkpoints \u3001 /usr/local/nebula/data/storage/nebula/3/checkpoints \u548c /usr/local/nebula/data/storage/nebula/4/checkpoints \u4e2d\u3002 $ ls /usr/local/nebula/data/meta/nebula/0/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 $ ls /usr/local/nebula/data/storage/nebula/3/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 $ ls /usr/local/nebula/data/storage/nebula/4/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 \u5f53\u6570\u636e\u4e22\u5931\u9700\u8981\u901a\u8fc7\u5feb\u7167\u6062\u590d\u65f6\uff0c\u60a8\u53ef\u4ee5\u627e\u5230\u5408\u9002\u7684\u65f6\u95f4\u70b9\u5feb\u7167\uff0c\u5c06\u5185\u90e8\u7684\u6587\u4ef6\u5939 data \u548c wal \u5206\u522b\u62f7\u8d1d\u5230\u5404\u81ea\u7684\u4e0a\u7ea7\u76ee\u5f55\uff08\u548c checkpoints \u5e73\u7ea7\uff09\uff0c\u8986\u76d6\u4e4b\u524d\u7684 data \u548c wal \uff0c\u7136\u540e\u91cd\u542f\u96c6\u7fa4\u5373\u53ef\u3002 \u76f8\u5173\u6587\u6863 \u00b6 \u9664\u4e86\u4f7f\u7528\u5feb\u7167\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5907\u4efd\u6062\u590d\u5de5\u5177Backup&Restore\uff08BR\uff09\u5907\u4efd\u6216\u6062\u590dNebula Graph\u6570\u636e\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Backup&Restore \u3002","title":"\u7ba1\u7406\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_1","text":"Nebula Graph\u63d0\u4f9b\u5feb\u7167\uff08snapshot\uff09\u529f\u80fd\uff0c\u7528\u4e8e\u4fdd\u5b58\u96c6\u7fa4\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u6570\u636e\u72b6\u6001\uff0c\u5f53\u51fa\u73b0\u6570\u636e\u4e22\u5931\u6216\u8bef\u64cd\u4f5c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5feb\u7167\u6062\u590d\u6570\u636e\u3002","title":"\u7ba1\u7406\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_2","text":"Nebula Graph\u7684 \u8eab\u4efd\u8ba4\u8bc1 \u529f\u80fd\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff0c\u6b64\u65f6\u4efb\u4f55\u7528\u6237\u90fd\u80fd\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u3002 \u5982\u679c\u8eab\u4efd\u8ba4\u8bc1\u5f00\u542f\uff0c\u4ec5God\u89d2\u8272\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u3002\u5173\u4e8e\u89d2\u8272\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"7.data-security/3.manage-snapshot/#_3","text":"\u7cfb\u7edf\u7ed3\u6784\u53d1\u751f\u53d8\u5316\u540e\uff0c\u5efa\u8bae\u7acb\u523b\u521b\u5efa\u5feb\u7167\uff0c\u4f8b\u5982\u5728 add host \u3001 drop host \u3001 create space \u3001 drop space \u3001 balance \u7b49\u64cd\u4f5c\u4e4b\u540e\u3002 \u6682\u4e0d\u652f\u6301\u81ea\u52a8\u56de\u6536\u521b\u5efa\u5931\u8d25\u7684\u5feb\u7167\u5783\u573e\u6587\u4ef6\uff0c\u9700\u8981\u60a8\u624b\u52a8\u5220\u9664\u3002 \u6682\u4e0d\u652f\u6301\u6307\u5b9a\u5feb\u7167\u4fdd\u5b58\u8def\u5f84\uff0c\u9ed8\u8ba4\u8def\u5f84\u4e3a /usr/local/nebula/data \u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"7.data-security/3.manage-snapshot/#_4","text":"Nebula Graph\u521b\u5efa\u7684\u5feb\u7167\u4ee5\u76ee\u5f55\u7684\u5f62\u5f0f\u5b58\u50a8\uff0c\u4f8b\u5982 SNAPSHOT_2021_03_09_08_43_12 \uff0c\u540e\u7f00 2021_03_09_08_43_12 \u6839\u636e\u521b\u5efa\u65f6\u95f4\uff08UTC\uff09\u81ea\u52a8\u751f\u6210\u3002 \u521b\u5efa\u5feb\u7167\u65f6\uff0c\u5feb\u7167\u76ee\u5f55\u4f1a\u81ea\u52a8\u5728leader Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\u7684\u76ee\u5f55 checkpoints \u5185\u521b\u5efa\u3002 \u4e3a\u4e86\u5feb\u901f\u5b9a\u4f4d\u5feb\u7167\u6240\u5728\u8def\u5f84\uff0c\u53ef\u4ee5\u4f7f\u7528Linux\u547d\u4ee4 find \u3002\u4f8b\u5982\uff1a $ find | grep 'SNAPSHOT_2021_03_09_08_43_12' ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12 ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12/data ./data/meta2/nebula/0/checkpoints/SNAPSHOT_2021_03_09_08_43_12/data/000081.sst ...","title":"\u5feb\u7167\u8def\u5f84"},{"location":"7.data-security/3.manage-snapshot/#_5","text":"\u547d\u4ee4 CREATE SNAPSHOT \u53ef\u4ee5\u521b\u5efa\u96c6\u7fa4\u5f53\u524d\u65f6\u95f4\u70b9\u7684\u5feb\u7167\u3002\u6682\u65f6\u53ea\u652f\u6301\u521b\u5efa\u6240\u6709\u56fe\u7a7a\u95f4\u7684\u5feb\u7167\uff0c\u4e0d\u652f\u6301\u521b\u5efa\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5feb\u7167\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5feb\u7167\u521b\u5efa\u5931\u8d25\uff0c\u8bf7 \u5220\u9664\u5feb\u7167 \u91cd\u65b0\u521b\u5efa\u3002 nebula> CREATE SNAPSHOT;","title":"\u521b\u5efa\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_6","text":"\u547d\u4ee4 SHOW SNAPSHOTS \u53ef\u4ee5\u67e5\u770b\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u5feb\u7167\u3002 nebula> SHOW SNAPSHOTS; +--------------------------------+---------+------------------+ | Name | Status | Hosts | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_08_43_12\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_09_10_52\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+ \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\u3002 |\u53c2\u6570|\u8bf4\u660e| |:---|:---| | Name |\u5feb\u7167\u540d\u79f0\uff0c\u524d\u7f00\u4e3a SNAPSHOT \uff0c\u8868\u793a\u8be5\u6587\u4ef6\u4e3a\u5feb\u7167\u6587\u4ef6\uff0c\u540e\u7f00\u4e3a\u5feb\u7167\u521b\u5efa\u7684\u65f6\u95f4\u70b9\uff08UTC\u65f6\u95f4\uff09\u3002| | Status |\u5feb\u7167\u72b6\u6001\u3002 VALID \u8868\u793a\u5feb\u7167\u6709\u6548\uff0c INVALID \u8868\u793a\u5feb\u7167\u65e0\u6548\u3002| | Hosts |\u521b\u5efa\u5feb\u7167\u65f6\u6240\u6709Storage\u670d\u52a1\u5668\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002|","title":"\u67e5\u770b\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_7","text":"\u547d\u4ee4 DROP SNAPSHOT \u53ef\u4ee5\u5220\u9664\u6307\u5b9a\u7684\u5feb\u7167\uff0c\u8bed\u6cd5\u4e3a\uff1a DROP SNAPSHOT <snapshot_name>; \u793a\u4f8b\u5982\u4e0b\uff1a nebula> DROP SNAPSHOT SNAPSHOT_2021_03_09_08_43_12; nebula> SHOW SNAPSHOTS; +--------------------------------+---------+------------------+ | Name | Status | Hosts | +--------------------------------+---------+------------------+ | \"SNAPSHOT_2021_03_09_09_10_52\" | \"VALID\" | \"127.0.0.1:9779\" | +--------------------------------+---------+------------------+","title":"\u5220\u9664\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_8","text":"\u5f53\u524d\u6682\u672a\u63d0\u4f9b\u6062\u590d\u5feb\u7167\u547d\u4ee4\uff0c\u9700\u8981\u60a8\u624b\u52a8\u62f7\u8d1d\u5feb\u7167\u6587\u4ef6\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u5185\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7shell\u811a\u672c\u8fdb\u884c\u64cd\u4f5c\u3002\u5b9e\u73b0\u903b\u8f91\u5982\u4e0b\uff1a \u521b\u5efa\u5feb\u7167\u540e\uff0c\u4f1a\u5728Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684\u5b89\u88c5\u76ee\u5f55\u5185\u751f\u6210 checkpoints \u76ee\u5f55\uff0c\u4fdd\u5b58\u521b\u5efa\u7684\u5feb\u7167\u3002\u4ee5\u672c\u6587\u4e3a\u4f8b\uff0c\u5f53\u5b58\u57282\u4e2a\u56fe\u7a7a\u95f4\u65f6\uff0c\u521b\u5efa\u7684\u5feb\u7167\u5206\u522b\u4fdd\u5b58\u5728 /usr/local/nebula/data/meta/nebula/0/checkpoints \u3001 /usr/local/nebula/data/storage/nebula/3/checkpoints \u548c /usr/local/nebula/data/storage/nebula/4/checkpoints \u4e2d\u3002 $ ls /usr/local/nebula/data/meta/nebula/0/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 $ ls /usr/local/nebula/data/storage/nebula/3/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 $ ls /usr/local/nebula/data/storage/nebula/4/checkpoints/ SNAPSHOT_2021_03_09_09_10_52 \u5f53\u6570\u636e\u4e22\u5931\u9700\u8981\u901a\u8fc7\u5feb\u7167\u6062\u590d\u65f6\uff0c\u60a8\u53ef\u4ee5\u627e\u5230\u5408\u9002\u7684\u65f6\u95f4\u70b9\u5feb\u7167\uff0c\u5c06\u5185\u90e8\u7684\u6587\u4ef6\u5939 data \u548c wal \u5206\u522b\u62f7\u8d1d\u5230\u5404\u81ea\u7684\u4e0a\u7ea7\u76ee\u5f55\uff08\u548c checkpoints \u5e73\u7ea7\uff09\uff0c\u8986\u76d6\u4e4b\u524d\u7684 data \u548c wal \uff0c\u7136\u540e\u91cd\u542f\u96c6\u7fa4\u5373\u53ef\u3002","title":"\u6062\u590d\u5feb\u7167"},{"location":"7.data-security/3.manage-snapshot/#_9","text":"\u9664\u4e86\u4f7f\u7528\u5feb\u7167\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5907\u4efd\u6062\u590d\u5de5\u5177Backup&Restore\uff08BR\uff09\u5907\u4efd\u6216\u6062\u590dNebula Graph\u6570\u636e\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Backup&Restore \u3002","title":"\u76f8\u5173\u6587\u6863"},{"location":"7.data-security/1.authentication/1.authentication/","text":"\u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u8eab\u4efd\u9a8c\u8bc1\u7528\u4e8e\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7279\u5b9a\u7528\u6237\uff0c\u4ece\u800c\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236\u3002 \u5f53\u5ba2\u6237\u7aef\u8fde\u63a5\u5230Nebula Graph\u65f6\uff0cNebula Graph\u4f1a\u521b\u5efa\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u4f1a\u8bdd\u4e2d\u5b58\u50a8\u8fde\u63a5\u7684\u5404\u79cd\u4fe1\u606f\uff0c\u5982\u679c\u5f00\u542f\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5c31\u4f1a\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u7528\u6237\u3002 \u8bf4\u660e \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u8f93\u5165\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230Nebula Graph\u3002 Nebula Graph\u652f\u6301\u4e24\u79cd\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff1a\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u548cLDAP\u9a8c\u8bc1\u3002 \u672c\u5730\u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u662f\u6307\u5728\u670d\u52a1\u5668\u672c\u5730\u5b58\u50a8\u7528\u6237\u540d\u3001\u52a0\u5bc6\u5bc6\u7801\uff0c\u5f53\u7528\u6237\u5c1d\u8bd5\u8bbf\u95eeNebula Graph\u65f6\uff0c\u5c06\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002 \u542f\u7528\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf \uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u8bbe\u7f6e --enable_authorize=true \u5e76\u4fdd\u5b58\u9000\u51fa\u3002 \u91cd\u542fNebula Graph\u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u9ed8\u8ba4\u7684God\u89d2\u8272\u8d26\u53f7\u4e3a root \uff0c\u5bc6\u7801\u4e3a nebula \u3002\u89d2\u8272\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 LDAP\u9a8c\u8bc1 \u00b6 \u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff08LDAP\uff09\u662f\u7528\u4e8e\u8bbf\u95ee\u76ee\u5f55\u670d\u52a1\u7684\u8f7b\u578b\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u534f\u8bae\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8d26\u53f7\u96c6\u4e2d\u7ba1\u7406\u3002 \u542f\u7528LDAP\u9a8c\u8bc1\u540e\uff0cLDAP\u4e2d\u5b58\u50a8\u7684\u7528\u6237\u4f18\u5148\u7ea7\u9ad8\u4e8e\u672c\u5730\u7528\u6237\u3002\u4f8b\u5982\u672c\u5730\u548cLDAP\u90fd\u6709\u4e00\u4e2a\u540d\u4e3a Amber \u7684\u7528\u6237\uff0c\u5219\u4f18\u5148\u4eceLDAP\u8bfb\u53d6\u8be5\u7528\u6237\u7684\u8bbe\u7f6e\u548c\u89d2\u8272\u4fe1\u606f\u3002 \u542f\u7528LDAP\u9a8c\u8bc1 \u00b6 \u5f53\u524d\u4ec5\u4f01\u4e1a\u7248\u652f\u6301\u96c6\u6210LDAP\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1\u4f7f\u7528LDAP\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff08TODO: doc\uff09\u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/1.authentication/#_1","text":"\u8eab\u4efd\u9a8c\u8bc1\u7528\u4e8e\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u7279\u5b9a\u7528\u6237\uff0c\u4ece\u800c\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236\u3002 \u5f53\u5ba2\u6237\u7aef\u8fde\u63a5\u5230Nebula Graph\u65f6\uff0cNebula Graph\u4f1a\u521b\u5efa\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u4f1a\u8bdd\u4e2d\u5b58\u50a8\u8fde\u63a5\u7684\u5404\u79cd\u4fe1\u606f\uff0c\u5982\u679c\u5f00\u542f\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5c31\u4f1a\u5c06\u4f1a\u8bdd\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u7528\u6237\u3002 \u8bf4\u660e \uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u8f93\u5165\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230Nebula Graph\u3002 Nebula Graph\u652f\u6301\u4e24\u79cd\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff1a\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u548cLDAP\u9a8c\u8bc1\u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/1.authentication/#_2","text":"\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1\u662f\u6307\u5728\u670d\u52a1\u5668\u672c\u5730\u5b58\u50a8\u7528\u6237\u540d\u3001\u52a0\u5bc6\u5bc6\u7801\uff0c\u5f53\u7528\u6237\u5c1d\u8bd5\u8bbf\u95eeNebula Graph\u65f6\uff0c\u5c06\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002","title":"\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/1.authentication/#_3","text":"\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 nebula-graphd.conf \uff08\u9ed8\u8ba4\u76ee\u5f55\u4e3a /usr/local/nebula/etc/ \uff09\uff0c\u8bbe\u7f6e --enable_authorize=true \u5e76\u4fdd\u5b58\u9000\u51fa\u3002 \u91cd\u542fNebula Graph\u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u9ed8\u8ba4\u7684God\u89d2\u8272\u8d26\u53f7\u4e3a root \uff0c\u5bc6\u7801\u4e3a nebula \u3002\u89d2\u8272\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002","title":"\u542f\u7528\u672c\u5730\u8eab\u4efd\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/1.authentication/#ldap","text":"\u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff08LDAP\uff09\u662f\u7528\u4e8e\u8bbf\u95ee\u76ee\u5f55\u670d\u52a1\u7684\u8f7b\u578b\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u534f\u8bae\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8d26\u53f7\u96c6\u4e2d\u7ba1\u7406\u3002 \u542f\u7528LDAP\u9a8c\u8bc1\u540e\uff0cLDAP\u4e2d\u5b58\u50a8\u7684\u7528\u6237\u4f18\u5148\u7ea7\u9ad8\u4e8e\u672c\u5730\u7528\u6237\u3002\u4f8b\u5982\u672c\u5730\u548cLDAP\u90fd\u6709\u4e00\u4e2a\u540d\u4e3a Amber \u7684\u7528\u6237\uff0c\u5219\u4f18\u5148\u4eceLDAP\u8bfb\u53d6\u8be5\u7528\u6237\u7684\u8bbe\u7f6e\u548c\u89d2\u8272\u4fe1\u606f\u3002","title":"LDAP\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/1.authentication/#ldap_1","text":"\u5f53\u524d\u4ec5\u4f01\u4e1a\u7248\u652f\u6301\u96c6\u6210LDAP\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1\u4f7f\u7528LDAP\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff08TODO: doc\uff09\u3002","title":"\u542f\u7528LDAP\u9a8c\u8bc1"},{"location":"7.data-security/1.authentication/2.management-user/","text":"\u7528\u6237\u7ba1\u7406 \u00b6 \u7528\u6237\u7ba1\u7406\u662fNebula Graph\u8bbf\u95ee\u63a7\u5236\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u7ec4\u6210\u90e8\u5206\uff0c\u672c\u6587\u5c06\u4ecb\u7ecd\u7528\u6237\u7ba1\u7406\u7684\u76f8\u5173\u8bed\u6cd5\u3002 \u5f00\u542f \u8eab\u4efd\u9a8c\u8bc1 \u540e\uff0c\u60a8\u9700\u8981\u4f7f\u7528\u5df2\u521b\u5efa\u7684\u7528\u6237\u624d\u80fd\u8fde\u63a5Nebula Graph\uff0c\u800c\u4e14\u8fde\u63a5\u540e\u53ef\u4ee5\u8fdb\u884c\u7684\u64cd\u4f5c\u4e5f\u53d6\u51b3\u4e8e\u8be5\u7528\u6237\u62e5\u6709\u7684 \u89d2\u8272\u6743\u9650 \u3002 \u8bf4\u660e \uff1a \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u8f93\u5165\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230Nebula Graph\u3002 \u4fee\u6539\u6743\u9650\u540e\uff0c\u5bf9\u5e94\u7684\u7528\u6237\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u80fd\u751f\u6548\u3002 \u521b\u5efa\u7528\u6237\uff08 CREATE USER \uff09 \u00b6 \u6267\u884c CREATE USER \u8bed\u53e5\u53ef\u4ee5\u521b\u5efa\u65b0\u7684Nebula Graph\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\uff08\u5373 root \u7528\u6237\uff09\u80fd\u591f\u6267\u884c CREATE USER \u8bed\u53e5\u3002 \u8bed\u6cd5 CREATE USER [IF NOT EXISTS] <user_name> [WITH PASSWORD '<password>']; \u793a\u4f8b nebula> CREATE USER user1 WITH PASSWORD 'nebula'; \u6388\u6743\u7528\u6237\uff08 GRANT ROLE \uff09 \u00b6 \u6267\u884c GRANT ROLE \u8bed\u53e5\u53ef\u4ee5\u5c06\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5185\u7f6e\u89d2\u8272\u6743\u9650\u6388\u4e88\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u548c Admin \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c GRANT ROLE \u8bed\u53e5\u3002\u89d2\u8272\u6743\u9650\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 GRANT ROLE <role_type> ON <space_name> TO <user_name>; \u793a\u4f8b nebula> GRANT ROLE USER ON basketballplayer TO user1; \u64a4\u9500\u7528\u6237\u6743\u9650\uff08 REVOKE ROLE \uff09 \u00b6 \u6267\u884c REVOKE ROLE \u8bed\u53e5\u53ef\u4ee5\u64a4\u9500\u7528\u6237\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5185\u7f6e\u89d2\u8272\u6743\u9650\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u548c Admin \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c REVOKE ROLE \u8bed\u53e5\u3002\u89d2\u8272\u6743\u9650\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 REVOKE ROLE <role_type> ON <space_name> FROM <user_name>; \u793a\u4f8b nebula> REVOKE ROLE USER ON basketballplayer FROM user1; \u4fee\u6539\u7528\u6237\u5bc6\u7801\uff08 CHANGE PASSWORD \uff09 \u00b6 \u6267\u884c CHANGE PASSWORD \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u4fee\u6539\u65f6\u9700\u8981\u63d0\u4f9b\u65e7\u5bc6\u7801\u548c\u65b0\u5bc6\u7801\u3002 \u8bed\u6cd5 CHANGE PASSWORD <user_name> FROM '<old_password>' TO '<new_password>'; \u793a\u4f8b nebula> CHANGE PASSWORD user1 FROM 'nebula' TO 'nebula123'; \u4fee\u6539\u7528\u6237\u5bc6\u7801\uff08 ALTER USER \uff09 \u00b6 \u6267\u884c ALTER USER \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u4fee\u6539\u65f6\u4e0d\u9700\u8981\u63d0\u4f9b\u65e7\u5bc6\u7801\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\uff08\u5373 root \u7528\u6237\uff09\u80fd\u591f\u6267\u884c ALTER USER \u8bed\u53e5\u3002 \u8bed\u6cd5 ALTER USER <user_name> WITH PASSWORD '<password>'; \u793a\u4f8b nebula> ALTER USER user1 WITH PASSWORD 'nebula'; \u5220\u9664\u7528\u6237\uff08 DROP USER \uff09 \u00b6 \u6267\u884c DROP USER \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c DROP USER \u8bed\u53e5\u3002 \u8bf4\u660e \uff1a\u5220\u9664\u7528\u6237\u4e0d\u4f1a\u81ea\u52a8\u65ad\u5f00\u8be5\u7528\u6237\u5f53\u524d\u4f1a\u8bdd\uff0c\u800c\u4e14\u6743\u9650\u4ecd\u5728\u5f53\u524d\u4f1a\u8bdd\u4e2d\u751f\u6548\u3002 \u8bed\u6cd5 DROP USER [IF EXISTS] <user_name>; \u793a\u4f8b nebula> DROP USER user1; \u67e5\u770b\u7528\u6237\u5217\u8868\uff08 SHOW USERS \uff09 \u00b6 \u6267\u884c SHOW USERS \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u7528\u6237\u5217\u8868\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c SHOW USERS \u8bed\u53e5\u3002 \u8bed\u6cd5 SHOW USERS; \u793a\u4f8b nebula> SHOW USERS; +-----------+ | Account | +-----------+ | \"test1\" | +-----------+ | \"test2\" | +-----------+ | \"test3\" | +-----------+","title":"\u7528\u6237\u7ba1\u7406"},{"location":"7.data-security/1.authentication/2.management-user/#_1","text":"\u7528\u6237\u7ba1\u7406\u662fNebula Graph\u8bbf\u95ee\u63a7\u5236\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u7ec4\u6210\u90e8\u5206\uff0c\u672c\u6587\u5c06\u4ecb\u7ecd\u7528\u6237\u7ba1\u7406\u7684\u76f8\u5173\u8bed\u6cd5\u3002 \u5f00\u542f \u8eab\u4efd\u9a8c\u8bc1 \u540e\uff0c\u60a8\u9700\u8981\u4f7f\u7528\u5df2\u521b\u5efa\u7684\u7528\u6237\u624d\u80fd\u8fde\u63a5Nebula Graph\uff0c\u800c\u4e14\u8fde\u63a5\u540e\u53ef\u4ee5\u8fdb\u884c\u7684\u64cd\u4f5c\u4e5f\u53d6\u51b3\u4e8e\u8be5\u7528\u6237\u62e5\u6709\u7684 \u89d2\u8272\u6743\u9650 \u3002 \u8bf4\u660e \uff1a \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\u662f\u5173\u95ed\u7684\uff0c\u8f93\u5165\u4efb\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230Nebula Graph\u3002 \u4fee\u6539\u6743\u9650\u540e\uff0c\u5bf9\u5e94\u7684\u7528\u6237\u9700\u8981\u91cd\u65b0\u767b\u5f55\u624d\u80fd\u751f\u6548\u3002","title":"\u7528\u6237\u7ba1\u7406"},{"location":"7.data-security/1.authentication/2.management-user/#create_user","text":"\u6267\u884c CREATE USER \u8bed\u53e5\u53ef\u4ee5\u521b\u5efa\u65b0\u7684Nebula Graph\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\uff08\u5373 root \u7528\u6237\uff09\u80fd\u591f\u6267\u884c CREATE USER \u8bed\u53e5\u3002 \u8bed\u6cd5 CREATE USER [IF NOT EXISTS] <user_name> [WITH PASSWORD '<password>']; \u793a\u4f8b nebula> CREATE USER user1 WITH PASSWORD 'nebula';","title":"\u521b\u5efa\u7528\u6237\uff08CREATE USER\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#grant_role","text":"\u6267\u884c GRANT ROLE \u8bed\u53e5\u53ef\u4ee5\u5c06\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5185\u7f6e\u89d2\u8272\u6743\u9650\u6388\u4e88\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u548c Admin \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c GRANT ROLE \u8bed\u53e5\u3002\u89d2\u8272\u6743\u9650\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 GRANT ROLE <role_type> ON <space_name> TO <user_name>; \u793a\u4f8b nebula> GRANT ROLE USER ON basketballplayer TO user1;","title":"\u6388\u6743\u7528\u6237\uff08GRANT ROLE\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#revoke_role","text":"\u6267\u884c REVOKE ROLE \u8bed\u53e5\u53ef\u4ee5\u64a4\u9500\u7528\u6237\u7684\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5185\u7f6e\u89d2\u8272\u6743\u9650\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u548c Admin \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c REVOKE ROLE \u8bed\u53e5\u3002\u89d2\u8272\u6743\u9650\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 \u5185\u7f6e\u89d2\u8272\u6743\u9650 \u3002 \u8bed\u6cd5 REVOKE ROLE <role_type> ON <space_name> FROM <user_name>; \u793a\u4f8b nebula> REVOKE ROLE USER ON basketballplayer FROM user1;","title":"\u64a4\u9500\u7528\u6237\u6743\u9650\uff08REVOKE ROLE\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#change_password","text":"\u6267\u884c CHANGE PASSWORD \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u4fee\u6539\u65f6\u9700\u8981\u63d0\u4f9b\u65e7\u5bc6\u7801\u548c\u65b0\u5bc6\u7801\u3002 \u8bed\u6cd5 CHANGE PASSWORD <user_name> FROM '<old_password>' TO '<new_password>'; \u793a\u4f8b nebula> CHANGE PASSWORD user1 FROM 'nebula' TO 'nebula123';","title":"\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff08CHANGE PASSWORD\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#alter_user","text":"\u6267\u884c ALTER USER \u8bed\u53e5\u53ef\u4ee5\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u4fee\u6539\u65f6\u4e0d\u9700\u8981\u63d0\u4f9b\u65e7\u5bc6\u7801\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\uff08\u5373 root \u7528\u6237\uff09\u80fd\u591f\u6267\u884c ALTER USER \u8bed\u53e5\u3002 \u8bed\u6cd5 ALTER USER <user_name> WITH PASSWORD '<password>'; \u793a\u4f8b nebula> ALTER USER user1 WITH PASSWORD 'nebula';","title":"\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff08ALTER USER\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#drop_user","text":"\u6267\u884c DROP USER \u8bed\u53e5\u53ef\u4ee5\u5220\u9664\u7528\u6237\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c DROP USER \u8bed\u53e5\u3002 \u8bf4\u660e \uff1a\u5220\u9664\u7528\u6237\u4e0d\u4f1a\u81ea\u52a8\u65ad\u5f00\u8be5\u7528\u6237\u5f53\u524d\u4f1a\u8bdd\uff0c\u800c\u4e14\u6743\u9650\u4ecd\u5728\u5f53\u524d\u4f1a\u8bdd\u4e2d\u751f\u6548\u3002 \u8bed\u6cd5 DROP USER [IF EXISTS] <user_name>; \u793a\u4f8b nebula> DROP USER user1;","title":"\u5220\u9664\u7528\u6237\uff08DROP USER\uff09"},{"location":"7.data-security/1.authentication/2.management-user/#show_users","text":"\u6267\u884c SHOW USERS \u8bed\u53e5\u53ef\u4ee5\u67e5\u770b\u7528\u6237\u5217\u8868\u3002\u5f53\u524d\u4ec5 God \u89d2\u8272\u7528\u6237\u80fd\u591f\u6267\u884c SHOW USERS \u8bed\u53e5\u3002 \u8bed\u6cd5 SHOW USERS; \u793a\u4f8b nebula> SHOW USERS; +-----------+ | Account | +-----------+ | \"test1\" | +-----------+ | \"test2\" | +-----------+ | \"test3\" | +-----------+","title":"\u67e5\u770b\u7528\u6237\u5217\u8868\uff08SHOW USERS\uff09"},{"location":"7.data-security/1.authentication/3.role-list/","text":"\u5185\u7f6e\u89d2\u8272\u6743\u9650 \u00b6 \u6240\u8c13\u89d2\u8272\uff0c\u5c31\u662f\u4e00\u7ec4\u76f8\u5173\u6743\u9650\u7684\u96c6\u5408\u3002\u60a8\u53ef\u4ee5\u628a\u89d2\u8272\u5206\u914d\u7ed9 \u521b\u5efa\u7684\u7528\u6237 \uff0c\u4ece\u800c\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236\u3002 \u5185\u7f6e\u89d2\u8272 \u00b6 Nebula Graph\u5185\u7f6e\u4e86\u591a\u79cd\u89d2\u8272\uff0c\u8bf4\u660e\u5982\u4e0b\uff1a God \u521d\u59cb\u6700\u9ad8\u6743\u9650\u89d2\u8272\uff0c\u62e5\u6709 \u6240\u6709\u64cd\u4f5c \u7684\u6743\u9650\u3002\u7c7b\u4f3c\u4e8eLinux\u4e2d\u7684 root \u548cWindows\u4e2d\u7684 administrator \u3002 Meta\u670d\u52a1\u521d\u59cb\u5316\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efaGod\u89d2\u8272\u7528\u6237 root \uff0c\u5bc6\u7801\u4e3a nebula \u3002 \u6ce8\u610f \uff1a\u8bf7\u53ca\u65f6\u4fee\u6539 root \u7528\u6237\u7684\u5bc6\u7801\uff0c\u4fdd\u8bc1\u6570\u636e\u5b89\u5168\u3002 \u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2aGod\u89d2\u8272\u7528\u6237\uff0c\u8be5\u7528\u6237\u53ef\u4ee5\u7ba1\u7406\u96c6\u7fa4\u5185\u6240\u6709\u56fe\u7a7a\u95f4\u3002 \u4e0d\u652f\u6301\u624b\u52a8\u6388\u6743God\u89d2\u8272\uff0c\u53ea\u80fd\u4f7f\u7528\u9ed8\u8ba4God\u89d2\u8272\u7528\u6237 root \u3002 Admin \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u8bfb\u5199 \u6743\u9650\u3002 \u53ef\u4ee5\u5c06\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u6388\u6743\u7ed9\u5176\u4ed6\u7528\u6237\u3002 \u6ce8\u610f \uff1a\u53ea\u80fd\u6388\u6743\u4f4e\u4e8eADMIN\u7ea7\u522b\u7684\u89d2\u8272\u7ed9\u5176\u4ed6\u7528\u6237\u3002 DBA \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u8bfb\u5199 \u6743\u9650\u3002 \u65e0\u6cd5\u5c06\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u6388\u6743\u7ed9\u5176\u4ed6\u7528\u6237\u3002 User \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u7684 \u53ea\u8bfb \u6743\u9650\u3002 \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709data\u7684 \u8bfb\u5199 \u6743\u9650\u3002 Guest \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u53ea\u8bfb \u6743\u9650\u3002 \u8bf4\u660e \uff1a \u6682\u4e0d\u652f\u6301\u81ea\u884c\u521b\u5efa\u89d2\u8272\uff0c\u53ea\u80fd\u4f7f\u7528\u9ed8\u8ba4\u7684\u5185\u7f6e\u89d2\u8272\u3002 \u4e00\u4e2a\u7528\u6237\u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u5185\u53ea\u80fd\u62e5\u6709\u4e00\u4e2a\u89d2\u8272\u6743\u9650\u3002\u6388\u6743\u7528\u6237\u8bf7\u53c2\u89c1 \u7528\u6237\u7ba1\u7406 \u3002 \u89d2\u8272\u6743\u9650 \u00b6 \u5404\u89d2\u8272\u7684\u6267\u884c\u6743\u9650\u5982\u4e0b\u3002 \u6743\u9650 God Admin DBA User Guest \u76f8\u5173\u8bed\u53e5 Read space Y Y Y Y Y USE \u3001 DESCRIBE SPACE Write space Y CREATE SPACE \u3001 DROP SPACE \u3001 CREATE SNAPSHOT \u3001 DROP SNAPSHOT \u3001 BALANCE \u3001 ADMIN \u3001 CONFIG \u3001 INGEST \u3001 DOWNLOAD Read schema Y Y Y Y Y DESCRIBE TAG \u3001 DESCRIBE EDGE \u3001 DESCRIBE TAG INDEX \u3001 DESCRIBE EDGE INDEX Write schema Y Y Y CREATE TAG \u3001 ALTER TAG \u3001 CREATE EDGE \u3001 ALTER EDGE \u3001 DROP TAG \u3001 DROP EDGE \u3001 CREATE TAG INDEX \u3001 CREATE EDGE INDEX \u3001 DROP TAG INDEX \u3001 DROP EDGE INDEX Write user Y CREATE USER \u3001 DROP USER \u3001 ALTER USER Write role Y Y GRANT \u3001 REVOKE Read data Y Y Y Y Y GO \u3001 SET \u3001 PIPE \u3001 MATCH \u3001 ASSIGNMENT \u3001 LOOKUP \u3001 YIELD \u3001 ORDER BY \u3001 FETCH VERTICES \u3001 Find \u3001 FETCH EDGES \u3001 FIND PATH \u3001 LIMIT \u3001 GROUP BY \u3001 RETURN Write data Y Y Y Y BUILD TAG INDEX \u3001 BUILD EDGE INDEX \u3001 INSERT VERTEX \u3001 UPDATE VERTEX \u3001 INSERT EDGE \u3001 UPDATE EDGE \u3001 DELETE VERTEX \u3001 DELETE EDGES Show operations Y Y Y Y Y SHOW \u3001 CHANGE PASSWORD \u6ce8\u610f \uff1a Show operations\u4e3a\u7279\u6b8a\u64cd\u4f5c\uff0c\u53ea\u4f1a\u5728\u81ea\u8eab\u6743\u9650\u5185\u6267\u884c\u3002\u4f8b\u5982 SHOW SPACES \uff0c\u6bcf\u4e2a\u89d2\u8272\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u662f\u53ea\u4f1a\u8fd4\u56de\u81ea\u8eab\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u3002 \u53ea\u6709God\u89d2\u8272\u53ef\u4ee5\u6267\u884c SHOW USERS \u548c SHOW SNAPSHOTS \u8bed\u53e5\u3002","title":"\u5185\u7f6e\u89d2\u8272\u6743\u9650"},{"location":"7.data-security/1.authentication/3.role-list/#_1","text":"\u6240\u8c13\u89d2\u8272\uff0c\u5c31\u662f\u4e00\u7ec4\u76f8\u5173\u6743\u9650\u7684\u96c6\u5408\u3002\u60a8\u53ef\u4ee5\u628a\u89d2\u8272\u5206\u914d\u7ed9 \u521b\u5efa\u7684\u7528\u6237 \uff0c\u4ece\u800c\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236\u3002","title":"\u5185\u7f6e\u89d2\u8272\u6743\u9650"},{"location":"7.data-security/1.authentication/3.role-list/#_2","text":"Nebula Graph\u5185\u7f6e\u4e86\u591a\u79cd\u89d2\u8272\uff0c\u8bf4\u660e\u5982\u4e0b\uff1a God \u521d\u59cb\u6700\u9ad8\u6743\u9650\u89d2\u8272\uff0c\u62e5\u6709 \u6240\u6709\u64cd\u4f5c \u7684\u6743\u9650\u3002\u7c7b\u4f3c\u4e8eLinux\u4e2d\u7684 root \u548cWindows\u4e2d\u7684 administrator \u3002 Meta\u670d\u52a1\u521d\u59cb\u5316\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efaGod\u89d2\u8272\u7528\u6237 root \uff0c\u5bc6\u7801\u4e3a nebula \u3002 \u6ce8\u610f \uff1a\u8bf7\u53ca\u65f6\u4fee\u6539 root \u7528\u6237\u7684\u5bc6\u7801\uff0c\u4fdd\u8bc1\u6570\u636e\u5b89\u5168\u3002 \u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2aGod\u89d2\u8272\u7528\u6237\uff0c\u8be5\u7528\u6237\u53ef\u4ee5\u7ba1\u7406\u96c6\u7fa4\u5185\u6240\u6709\u56fe\u7a7a\u95f4\u3002 \u4e0d\u652f\u6301\u624b\u52a8\u6388\u6743God\u89d2\u8272\uff0c\u53ea\u80fd\u4f7f\u7528\u9ed8\u8ba4God\u89d2\u8272\u7528\u6237 root \u3002 Admin \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u8bfb\u5199 \u6743\u9650\u3002 \u53ef\u4ee5\u5c06\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u6388\u6743\u7ed9\u5176\u4ed6\u7528\u6237\u3002 \u6ce8\u610f \uff1a\u53ea\u80fd\u6388\u6743\u4f4e\u4e8eADMIN\u7ea7\u522b\u7684\u89d2\u8272\u7ed9\u5176\u4ed6\u7528\u6237\u3002 DBA \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u8bfb\u5199 \u6743\u9650\u3002 \u65e0\u6cd5\u5c06\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u6388\u6743\u7ed9\u5176\u4ed6\u7528\u6237\u3002 User \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u7684 \u53ea\u8bfb \u6743\u9650\u3002 \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709data\u7684 \u8bfb\u5199 \u6743\u9650\u3002 Guest \u5bf9\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u62e5\u6709Schema\u548cdata\u7684 \u53ea\u8bfb \u6743\u9650\u3002 \u8bf4\u660e \uff1a \u6682\u4e0d\u652f\u6301\u81ea\u884c\u521b\u5efa\u89d2\u8272\uff0c\u53ea\u80fd\u4f7f\u7528\u9ed8\u8ba4\u7684\u5185\u7f6e\u89d2\u8272\u3002 \u4e00\u4e2a\u7528\u6237\u5728\u4e00\u4e2a\u56fe\u7a7a\u95f4\u5185\u53ea\u80fd\u62e5\u6709\u4e00\u4e2a\u89d2\u8272\u6743\u9650\u3002\u6388\u6743\u7528\u6237\u8bf7\u53c2\u89c1 \u7528\u6237\u7ba1\u7406 \u3002","title":"\u5185\u7f6e\u89d2\u8272"},{"location":"7.data-security/1.authentication/3.role-list/#_3","text":"\u5404\u89d2\u8272\u7684\u6267\u884c\u6743\u9650\u5982\u4e0b\u3002 \u6743\u9650 God Admin DBA User Guest \u76f8\u5173\u8bed\u53e5 Read space Y Y Y Y Y USE \u3001 DESCRIBE SPACE Write space Y CREATE SPACE \u3001 DROP SPACE \u3001 CREATE SNAPSHOT \u3001 DROP SNAPSHOT \u3001 BALANCE \u3001 ADMIN \u3001 CONFIG \u3001 INGEST \u3001 DOWNLOAD Read schema Y Y Y Y Y DESCRIBE TAG \u3001 DESCRIBE EDGE \u3001 DESCRIBE TAG INDEX \u3001 DESCRIBE EDGE INDEX Write schema Y Y Y CREATE TAG \u3001 ALTER TAG \u3001 CREATE EDGE \u3001 ALTER EDGE \u3001 DROP TAG \u3001 DROP EDGE \u3001 CREATE TAG INDEX \u3001 CREATE EDGE INDEX \u3001 DROP TAG INDEX \u3001 DROP EDGE INDEX Write user Y CREATE USER \u3001 DROP USER \u3001 ALTER USER Write role Y Y GRANT \u3001 REVOKE Read data Y Y Y Y Y GO \u3001 SET \u3001 PIPE \u3001 MATCH \u3001 ASSIGNMENT \u3001 LOOKUP \u3001 YIELD \u3001 ORDER BY \u3001 FETCH VERTICES \u3001 Find \u3001 FETCH EDGES \u3001 FIND PATH \u3001 LIMIT \u3001 GROUP BY \u3001 RETURN Write data Y Y Y Y BUILD TAG INDEX \u3001 BUILD EDGE INDEX \u3001 INSERT VERTEX \u3001 UPDATE VERTEX \u3001 INSERT EDGE \u3001 UPDATE EDGE \u3001 DELETE VERTEX \u3001 DELETE EDGES Show operations Y Y Y Y Y SHOW \u3001 CHANGE PASSWORD \u6ce8\u610f \uff1a Show operations\u4e3a\u7279\u6b8a\u64cd\u4f5c\uff0c\u53ea\u4f1a\u5728\u81ea\u8eab\u6743\u9650\u5185\u6267\u884c\u3002\u4f8b\u5982 SHOW SPACES \uff0c\u6bcf\u4e2a\u89d2\u8272\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u662f\u53ea\u4f1a\u8fd4\u56de\u81ea\u8eab\u6743\u9650\u5185\u7684\u56fe\u7a7a\u95f4\u3002 \u53ea\u6709God\u89d2\u8272\u53ef\u4ee5\u6267\u884c SHOW USERS \u548c SHOW SNAPSHOTS \u8bed\u53e5\u3002","title":"\u89d2\u8272\u6743\u9650"},{"location":"7.data-security/2.backup-restore/1.what-is-br/","text":"\u4ec0\u4e48\u662fBackup&Restore \u00b6 Backup&Restore\uff08\u7b80\u79f0BR\uff09\u662f\u4e00\u6b3e\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5907\u4efdNebula Graph\u7684\u56fe\u7a7a\u95f4\u6570\u636e\uff0c\u6216\u8005\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002 \u529f\u80fd \u00b6 \u652f\u6301\u5907\u4efd\u4e00\u4e2a\u6216\u591a\u4e2a\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u3002 \u652f\u6301\u57fa\u4e8e\u672c\u5730\u78c1\u76d8\uff08SSD\u6216HDD\uff09\u3001Hadoop\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08HDFS\uff09\u3001\u963f\u91cc\u4e91\u5bf9\u8c61\u5b58\u50a8\uff08Alibaba Cloud OSS\uff09\u6216\u4e9a\u9a6c\u900a\u5bf9\u8c61\u5b58\u50a8\uff08Amazon S3\uff09\u4e2d\u7684\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002 \u9650\u5236 \u00b6 Nebula Graph\u7248\u672c\u9700\u8981\u4e3av2.0.0-RC\u6216\u66f4\u65b0\u7248\u672c\u3002 \u6570\u636e\u5907\u4efd\u6682\u65f6\u4ec5\u652f\u6301\u5168\u91cf\u5907\u4efd\uff0c\u4e0d\u652f\u6301\u589e\u91cf\u5907\u4efd\u3002 \u6570\u636e\u5907\u4efd\u8fc7\u7a0b\u4e2d\uff0c\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u7684DDL\u548cDML\u8bed\u53e5\u5c06\u4f1a\u963b\u585e\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f8b\u5982\u51cc\u66682\u70b9\u81f35\u70b9\u3002 \u6570\u636e\u6062\u590d\u4ec5\u652f\u6301\u5728\u76f8\u540c\u62d3\u6251\u7684\u96c6\u7fa4\u4e0a\u8fdb\u884c\uff0c\u5373\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u5fc5\u987b\u76f8\u540c\u3002 \u6570\u636e\u6062\u590d\u9700\u8981\u5220\u9664\u6570\u636e\u5e76\u91cd\u542f\uff0c\u5efa\u8bae\u79bb\u7ebf\u8fdb\u884c\u3002 \u5907\u4efd\u6216\u6062\u590d\u90e8\u7f72\u5728Docker\u4e2d\u7684\u6570\u636e\u65f6\uff0c\u9700\u8981\u505a\u597d\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982IP\u548c\u7aef\u53e3\u7684\u6620\u5c04\u3002 \u5de5\u4f5c\u539f\u7406 \u00b6 \u5907\u4efd \u00b6 \u4e3a\u4e86\u5907\u4efd\u6570\u636e\uff0cBR\u4f1a\u53d1\u9001\u5907\u4efd\u8bf7\u6c42\u7ed9leader\u7684metad\u8fdb\u7a0b\uff0c\u89e6\u53d1\u5907\u4efd\u3002\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a \u9a8c\u8bc1BR\u8bbf\u95eeMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684SSH\u767b\u5f55\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5fc5\u987b\u4f7f\u7528\u4e91\u5b58\u50a8\uff0c\u4f8b\u5982Alibaba Cloud OSS\u6216Amazon S3\uff0c\u8fd8\u9700\u8981\u9a8c\u8bc1\u5b83\u4eec\u7684\u5ba2\u6237\u7aef\u5b89\u88c5\u548c\u914d\u7f6e\u3002 BR\u53d1\u8d77\u8bf7\u6c42\u521b\u5efa\u5907\u4efd\u6587\u4ef6\u3002 leader\u7684metad\u8fdb\u7a0b\u88ab\u9501\u5b9a\u3002 \u6ce8\u610f \uff1a\u4ece\u6b64\u65f6\u8d77\u81f3\u7b2c9\u6b65\u7ed3\u675f\uff0c\u60a8\u65e0\u6cd5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DDL\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u963b\u585e\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5199\u8bf7\u6c42\u3002 \u6ce8\u610f \uff1a\u4ece\u6b64\u65f6\u8d77\u81f3\u7b2c7\u6b65\u7ed3\u675f\uff0c\u60a8\u65e0\u6cd5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DML\u8bed\u53e5\uff0c\u4f46\u662f\u53ef\u4ee5\u6267\u884cDQL\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u53d1\u9001\u8bf7\u6c42\u81f3storaged\u8fdb\u7a0b\uff0c\u8bf7\u6c42\u5feb\u7167\u6587\u4ef6\u540d\u79f0\u3002 leader\u7684metad\u8fdb\u7a0b\u626b\u63cf\u672c\u5730RocksDB\u6587\u4ef6\uff0c\u8f93\u51fa\u4e3aSST\uff08Static Sorted Table\uff09\u683c\u5f0f\u6587\u4ef6\u3002 leader\u7684metad\u8fdb\u7a0b\u89e3\u9664\u963b\u585e\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5199\u8bf7\u6c42\u3002 \u8bf4\u660e \uff1a\u4ece\u6b64\u65f6\u8d77\uff0c\u60a8\u53ef\u4ee5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884cnGQL\u7684DML\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u56de\u5e94BR\uff0c\u5305\u542b\u7684Meta\u6570\u636e\u548c\u5feb\u7167\u4fe1\u606f\u5982\u4e0b\uff1a thrift\u683c\u5f0f\u4fe1\u606f \u56fe\u7a7a\u95f4\u5206\u533a\u4fe1\u606f \u6bcf\u4e2a\u5206\u533a\u7684Raft\u65e5\u5fd7\u63d0\u4ea4ID \u5feb\u7167\u4fe1\u606f\uff08\u6bcf\u4e2a\u5feb\u7167\u5b58\u50a8\u8fdb\u7a0b\u7684\u76ee\u5f55\uff09 Meta\u670d\u52a1\u5668SST\u683c\u5f0f\u6587\u4ef6\u540d\u79f0 \u5907\u4efd\u6587\u4ef6\u540d\u79f0 leader\u7684metad\u8fdb\u7a0b\u89e3\u9664\u9501\u5b9a\u3002 \u8bf4\u660e \uff1a\u4ece\u6b64\u65f6\u8d77\uff0c\u60a8\u53ef\u4ee5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DDL\u8bed\u53e5\u3002 BR\u901a\u8fc7SSH\u767b\u5f55\u81f3leader\u6240\u5728\u7684Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\uff0c\u7136\u540e\u5907\u4efd\u6587\u4ef6\u3002 \u5982\u679c\u4f7f\u7528\u7684\u662fAlibaba Cloud OSS\u6216Amazon S3\uff0cBR\u4f1a\u8c03\u7528\u547d\u4ee4\u5c06\u5907\u4efd\u6587\u4ef6\u4e0a\u4f20\u81f3\u4e91\u5b58\u50a8\u4e2d\u3002 > \u6ce8\u610f \uff1a\u672c\u6b65\u9aa4\u4f1a\u5927\u91cf\u8bfb\u53d6\u78c1\u76d8\uff0c\u5efa\u8bae\u4f7f\u7528\u4e07\u5146\u7f51\u7edc\u4fdd\u8bc1\u901f\u7387\u3002\u5982\u679c\u4e0a\u4f20\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7f51\u7edc\u9519\u8bef\uff0c\u5907\u4efd\u4f1a\u5931\u8d25\uff0c\u5fc5\u987b\u91cd\u65b0\u6267\u884c\u5907\u4efd\u64cd\u4f5c\u3002\u76ee\u524d\u5907\u4efd\u8fc7\u7a0b\u4e0d\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 BR\u53d1\u8d77\u8bf7\u6c42\u6e05\u7406Storage\u670d\u52a1\u5668\u7684\u5feb\u7167\uff0c\u5907\u4efd\u5b8c\u6210\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u5907\u4efd\u7684\u5177\u4f53\u6d41\u7a0b\u3002 \u5907\u4efd\u6587\u4ef6\u751f\u6210\u65f6\u4f1a\u81ea\u52a8\u547d\u540d\uff0c\u547d\u540d\u683c\u5f0f\u4e3a BACKUP_YY_MM_DD_HH_mm_SS \uff1a BACKUP \u8868\u793a\u8be5\u6587\u4ef6\u662f\u5907\u4efd\u6587\u4ef6\u3002 YY_MM_DD_HH_mm_SS \u8868\u793a\u8be5\u6587\u4ef6\u7684\u751f\u6210\u65f6\u95f4\u3002 \u6062\u590d \u00b6 \u8b66\u544a \uff1a\u6062\u590d\u8fc7\u7a0b\u4e2d\uff0c\u76ee\u6807\u96c6\u7fa4\u4e0a\u5df2\u6709\u7684\u6570\u636e\u4f1a\u88ab\u5220\u9664\uff0c\u7136\u540e\u66ff\u6362\u4e3a\u5907\u4efd\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002\u5efa\u8bae\u60a8\u63d0\u524d\u5907\u4efd\u76ee\u6807\u96c6\u7fa4\u4e0a\u7684\u6570\u636e\u3002 \u6062\u590d\u8fc7\u7a0b\u7684\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a \u9a8c\u8bc1BR\u8bbf\u95eeMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684SSH\u767b\u5f55\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5fc5\u987b\u4f7f\u7528\u4e91\u5b58\u50a8\uff0c\u4f8b\u5982Alibaba Cloud OSS\u6216Amazon S3\uff0c\u8fd8\u9700\u8981\u9a8c\u8bc1\u5b83\u4eec\u7684\u5ba2\u6237\u7aef\u5b89\u88c5\u548c\u914d\u7f6e\u3002 BR\u4ece\u5916\u90e8\u5b58\u50a8\u6216\u4e91\u5b58\u50a8\u4e2d\u4e0b\u8f7dMeta\u4fe1\u606f\uff08\u975e\u5b8c\u6574\u6570\u636e\uff09\u3002 BR\u9a8c\u8bc1\u96c6\u7fa4\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u786e\u4fdd\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u4e00\u81f4\u3002 BR\u8fdc\u7a0b\u505c\u6b62Meta\u670d\u52a1\u548cStorage\u670d\u52a1\u3002 BR\u901a\u8fc7SSH\u767b\u5f55\u81f3leader\u6240\u5728\u7684Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\uff0c\u7136\u540e\u5220\u9664\u73b0\u6709\u7684\u6570\u636e\u6587\u4ef6\u3002 \u73b0\u6709\u6570\u636e\u6587\u4ef6\u5220\u9664\u540e\uff0cMeta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\u4ece\u5916\u90e8\u5b58\u50a8\u6216\u4e91\u5b58\u50a8\u4e2d\u4e0b\u8f7d\u5907\u4efd\u6587\u4ef6\u3002 \u5907\u4efd\u6587\u4ef6\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0cBR\u542f\u52a8Meta\u670d\u52a1\u3002 BR\u8c03\u7528 br restore \u547d\u4ee4\u66f4\u6539\u6307\u5b9ametad\u8fdb\u7a0b\u7684\u5206\u533a\u4fe1\u606f\u3002 BR\u542f\u52a8Storage\u670d\u52a1\uff0c\u6062\u590d\u8fc7\u7a0b\u5b8c\u6210\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u6062\u590d\u7684\u5177\u4f53\u6d41\u7a0b\u3002 \u5982\u4f55\u4f7f\u7528BR \u00b6 \u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u4f7f\u7528BR\uff1a \u7f16\u8bd1BR \u4f7f\u7528BR\u5907\u4efd\u6570\u636e \u4f7f\u7528BR\u6062\u590d\u6570\u636e","title":"\u4ec0\u4e48\u662fBR"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#backuprestore","text":"Backup&Restore\uff08\u7b80\u79f0BR\uff09\u662f\u4e00\u6b3e\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5907\u4efdNebula Graph\u7684\u56fe\u7a7a\u95f4\u6570\u636e\uff0c\u6216\u8005\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002","title":"\u4ec0\u4e48\u662fBackup&amp;Restore"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#_1","text":"\u652f\u6301\u5907\u4efd\u4e00\u4e2a\u6216\u591a\u4e2a\u56fe\u7a7a\u95f4\u7684\u6570\u636e\u3002 \u652f\u6301\u57fa\u4e8e\u672c\u5730\u78c1\u76d8\uff08SSD\u6216HDD\uff09\u3001Hadoop\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08HDFS\uff09\u3001\u963f\u91cc\u4e91\u5bf9\u8c61\u5b58\u50a8\uff08Alibaba Cloud OSS\uff09\u6216\u4e9a\u9a6c\u900a\u5bf9\u8c61\u5b58\u50a8\uff08Amazon S3\uff09\u4e2d\u7684\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002","title":"\u529f\u80fd"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#_2","text":"Nebula Graph\u7248\u672c\u9700\u8981\u4e3av2.0.0-RC\u6216\u66f4\u65b0\u7248\u672c\u3002 \u6570\u636e\u5907\u4efd\u6682\u65f6\u4ec5\u652f\u6301\u5168\u91cf\u5907\u4efd\uff0c\u4e0d\u652f\u6301\u589e\u91cf\u5907\u4efd\u3002 \u6570\u636e\u5907\u4efd\u8fc7\u7a0b\u4e2d\uff0c\u6307\u5b9a\u56fe\u7a7a\u95f4\u4e2d\u7684DDL\u548cDML\u8bed\u53e5\u5c06\u4f1a\u963b\u585e\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f8b\u5982\u51cc\u66682\u70b9\u81f35\u70b9\u3002 \u6570\u636e\u6062\u590d\u4ec5\u652f\u6301\u5728\u76f8\u540c\u62d3\u6251\u7684\u96c6\u7fa4\u4e0a\u8fdb\u884c\uff0c\u5373\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u5fc5\u987b\u76f8\u540c\u3002 \u6570\u636e\u6062\u590d\u9700\u8981\u5220\u9664\u6570\u636e\u5e76\u91cd\u542f\uff0c\u5efa\u8bae\u79bb\u7ebf\u8fdb\u884c\u3002 \u5907\u4efd\u6216\u6062\u590d\u90e8\u7f72\u5728Docker\u4e2d\u7684\u6570\u636e\u65f6\uff0c\u9700\u8981\u505a\u597d\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982IP\u548c\u7aef\u53e3\u7684\u6620\u5c04\u3002","title":"\u9650\u5236"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#_3","text":"","title":"\u5de5\u4f5c\u539f\u7406"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#_4","text":"\u4e3a\u4e86\u5907\u4efd\u6570\u636e\uff0cBR\u4f1a\u53d1\u9001\u5907\u4efd\u8bf7\u6c42\u7ed9leader\u7684metad\u8fdb\u7a0b\uff0c\u89e6\u53d1\u5907\u4efd\u3002\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a \u9a8c\u8bc1BR\u8bbf\u95eeMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684SSH\u767b\u5f55\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5fc5\u987b\u4f7f\u7528\u4e91\u5b58\u50a8\uff0c\u4f8b\u5982Alibaba Cloud OSS\u6216Amazon S3\uff0c\u8fd8\u9700\u8981\u9a8c\u8bc1\u5b83\u4eec\u7684\u5ba2\u6237\u7aef\u5b89\u88c5\u548c\u914d\u7f6e\u3002 BR\u53d1\u8d77\u8bf7\u6c42\u521b\u5efa\u5907\u4efd\u6587\u4ef6\u3002 leader\u7684metad\u8fdb\u7a0b\u88ab\u9501\u5b9a\u3002 \u6ce8\u610f \uff1a\u4ece\u6b64\u65f6\u8d77\u81f3\u7b2c9\u6b65\u7ed3\u675f\uff0c\u60a8\u65e0\u6cd5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DDL\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u963b\u585e\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5199\u8bf7\u6c42\u3002 \u6ce8\u610f \uff1a\u4ece\u6b64\u65f6\u8d77\u81f3\u7b2c7\u6b65\u7ed3\u675f\uff0c\u60a8\u65e0\u6cd5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DML\u8bed\u53e5\uff0c\u4f46\u662f\u53ef\u4ee5\u6267\u884cDQL\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u53d1\u9001\u8bf7\u6c42\u81f3storaged\u8fdb\u7a0b\uff0c\u8bf7\u6c42\u5feb\u7167\u6587\u4ef6\u540d\u79f0\u3002 leader\u7684metad\u8fdb\u7a0b\u626b\u63cf\u672c\u5730RocksDB\u6587\u4ef6\uff0c\u8f93\u51fa\u4e3aSST\uff08Static Sorted Table\uff09\u683c\u5f0f\u6587\u4ef6\u3002 leader\u7684metad\u8fdb\u7a0b\u89e3\u9664\u963b\u585e\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u5199\u8bf7\u6c42\u3002 \u8bf4\u660e \uff1a\u4ece\u6b64\u65f6\u8d77\uff0c\u60a8\u53ef\u4ee5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884cnGQL\u7684DML\u8bed\u53e5\u3002 leader\u7684metad\u8fdb\u7a0b\u56de\u5e94BR\uff0c\u5305\u542b\u7684Meta\u6570\u636e\u548c\u5feb\u7167\u4fe1\u606f\u5982\u4e0b\uff1a thrift\u683c\u5f0f\u4fe1\u606f \u56fe\u7a7a\u95f4\u5206\u533a\u4fe1\u606f \u6bcf\u4e2a\u5206\u533a\u7684Raft\u65e5\u5fd7\u63d0\u4ea4ID \u5feb\u7167\u4fe1\u606f\uff08\u6bcf\u4e2a\u5feb\u7167\u5b58\u50a8\u8fdb\u7a0b\u7684\u76ee\u5f55\uff09 Meta\u670d\u52a1\u5668SST\u683c\u5f0f\u6587\u4ef6\u540d\u79f0 \u5907\u4efd\u6587\u4ef6\u540d\u79f0 leader\u7684metad\u8fdb\u7a0b\u89e3\u9664\u9501\u5b9a\u3002 \u8bf4\u660e \uff1a\u4ece\u6b64\u65f6\u8d77\uff0c\u60a8\u53ef\u4ee5\u5728\u6307\u5b9a\u56fe\u7a7a\u95f4\u5185\u6267\u884c\u4efb\u4f55nGQL\u7684DDL\u8bed\u53e5\u3002 BR\u901a\u8fc7SSH\u767b\u5f55\u81f3leader\u6240\u5728\u7684Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\uff0c\u7136\u540e\u5907\u4efd\u6587\u4ef6\u3002 \u5982\u679c\u4f7f\u7528\u7684\u662fAlibaba Cloud OSS\u6216Amazon S3\uff0cBR\u4f1a\u8c03\u7528\u547d\u4ee4\u5c06\u5907\u4efd\u6587\u4ef6\u4e0a\u4f20\u81f3\u4e91\u5b58\u50a8\u4e2d\u3002 > \u6ce8\u610f \uff1a\u672c\u6b65\u9aa4\u4f1a\u5927\u91cf\u8bfb\u53d6\u78c1\u76d8\uff0c\u5efa\u8bae\u4f7f\u7528\u4e07\u5146\u7f51\u7edc\u4fdd\u8bc1\u901f\u7387\u3002\u5982\u679c\u4e0a\u4f20\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7f51\u7edc\u9519\u8bef\uff0c\u5907\u4efd\u4f1a\u5931\u8d25\uff0c\u5fc5\u987b\u91cd\u65b0\u6267\u884c\u5907\u4efd\u64cd\u4f5c\u3002\u76ee\u524d\u5907\u4efd\u8fc7\u7a0b\u4e0d\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u3002 BR\u53d1\u8d77\u8bf7\u6c42\u6e05\u7406Storage\u670d\u52a1\u5668\u7684\u5feb\u7167\uff0c\u5907\u4efd\u5b8c\u6210\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u5907\u4efd\u7684\u5177\u4f53\u6d41\u7a0b\u3002 \u5907\u4efd\u6587\u4ef6\u751f\u6210\u65f6\u4f1a\u81ea\u52a8\u547d\u540d\uff0c\u547d\u540d\u683c\u5f0f\u4e3a BACKUP_YY_MM_DD_HH_mm_SS \uff1a BACKUP \u8868\u793a\u8be5\u6587\u4ef6\u662f\u5907\u4efd\u6587\u4ef6\u3002 YY_MM_DD_HH_mm_SS \u8868\u793a\u8be5\u6587\u4ef6\u7684\u751f\u6210\u65f6\u95f4\u3002","title":"\u5907\u4efd"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#_5","text":"\u8b66\u544a \uff1a\u6062\u590d\u8fc7\u7a0b\u4e2d\uff0c\u76ee\u6807\u96c6\u7fa4\u4e0a\u5df2\u6709\u7684\u6570\u636e\u4f1a\u88ab\u5220\u9664\uff0c\u7136\u540e\u66ff\u6362\u4e3a\u5907\u4efd\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002\u5efa\u8bae\u60a8\u63d0\u524d\u5907\u4efd\u76ee\u6807\u96c6\u7fa4\u4e0a\u7684\u6570\u636e\u3002 \u6062\u590d\u8fc7\u7a0b\u7684\u8be6\u7ec6\u8bf4\u660e\u5982\u4e0b\uff1a \u9a8c\u8bc1BR\u8bbf\u95eeMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684SSH\u767b\u5f55\u4fe1\u606f\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u5fc5\u987b\u4f7f\u7528\u4e91\u5b58\u50a8\uff0c\u4f8b\u5982Alibaba Cloud OSS\u6216Amazon S3\uff0c\u8fd8\u9700\u8981\u9a8c\u8bc1\u5b83\u4eec\u7684\u5ba2\u6237\u7aef\u5b89\u88c5\u548c\u914d\u7f6e\u3002 BR\u4ece\u5916\u90e8\u5b58\u50a8\u6216\u4e91\u5b58\u50a8\u4e2d\u4e0b\u8f7dMeta\u4fe1\u606f\uff08\u975e\u5b8c\u6574\u6570\u636e\uff09\u3002 BR\u9a8c\u8bc1\u96c6\u7fa4\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u786e\u4fdd\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u4e00\u81f4\u3002 BR\u8fdc\u7a0b\u505c\u6b62Meta\u670d\u52a1\u548cStorage\u670d\u52a1\u3002 BR\u901a\u8fc7SSH\u767b\u5f55\u81f3leader\u6240\u5728\u7684Meta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\uff0c\u7136\u540e\u5220\u9664\u73b0\u6709\u7684\u6570\u636e\u6587\u4ef6\u3002 \u73b0\u6709\u6570\u636e\u6587\u4ef6\u5220\u9664\u540e\uff0cMeta\u670d\u52a1\u5668\u548c\u6240\u6709Storage\u670d\u52a1\u5668\u4ece\u5916\u90e8\u5b58\u50a8\u6216\u4e91\u5b58\u50a8\u4e2d\u4e0b\u8f7d\u5907\u4efd\u6587\u4ef6\u3002 \u5907\u4efd\u6587\u4ef6\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0cBR\u542f\u52a8Meta\u670d\u52a1\u3002 BR\u8c03\u7528 br restore \u547d\u4ee4\u66f4\u6539\u6307\u5b9ametad\u8fdb\u7a0b\u7684\u5206\u533a\u4fe1\u606f\u3002 BR\u542f\u52a8Storage\u670d\u52a1\uff0c\u6062\u590d\u8fc7\u7a0b\u5b8c\u6210\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u6062\u590d\u7684\u5177\u4f53\u6d41\u7a0b\u3002","title":"\u6062\u590d"},{"location":"7.data-security/2.backup-restore/1.what-is-br/#br","text":"\u60a8\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u4f7f\u7528BR\uff1a \u7f16\u8bd1BR \u4f7f\u7528BR\u5907\u4efd\u6570\u636e \u4f7f\u7528BR\u6062\u590d\u6570\u636e","title":"\u5982\u4f55\u4f7f\u7528BR"},{"location":"7.data-security/2.backup-restore/2.compile-br/","text":"\u7f16\u8bd1BR \u00b6 \u76ee\u524d\uff0cBR\u8fd8\u6ca1\u6709\u4f5c\u4e3a\u4e00\u4e2a\u5305\u63d0\u4f9b\u3002\u60a8\u9700\u8981\u5148\u7f16\u8bd1BR\u3002 \u51c6\u5907\u5de5\u4f5c \u00b6 \u5b89\u88c5 Go 1.14\u6216\u66f4\u65b0\u7248\u672c\u3002 \u5b89\u88c5make\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u514b\u9686 nebula-storage \u5e93\u81f3\u60a8\u7684\u673a\u5668\u3002 git clone https://github.com/vesoft-inc/nebula-storage.git \u8fdb\u5165 br \u76ee\u5f55\u3002 cd nebula-storage/util/br \u7f16\u8bd1BR\u3002 make build && make test \u5982\u679cBR\u7f16\u8bd1\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u5728 nebula-storage/util/br/bin/ \u76ee\u5f55\u5185\u627e\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6 br \u3002","title":"\u7f16\u8bd1BR"},{"location":"7.data-security/2.backup-restore/2.compile-br/#br","text":"\u76ee\u524d\uff0cBR\u8fd8\u6ca1\u6709\u4f5c\u4e3a\u4e00\u4e2a\u5305\u63d0\u4f9b\u3002\u60a8\u9700\u8981\u5148\u7f16\u8bd1BR\u3002","title":"\u7f16\u8bd1BR"},{"location":"7.data-security/2.backup-restore/2.compile-br/#_1","text":"\u5b89\u88c5 Go 1.14\u6216\u66f4\u65b0\u7248\u672c\u3002 \u5b89\u88c5make\u3002","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"7.data-security/2.backup-restore/2.compile-br/#_2","text":"\u514b\u9686 nebula-storage \u5e93\u81f3\u60a8\u7684\u673a\u5668\u3002 git clone https://github.com/vesoft-inc/nebula-storage.git \u8fdb\u5165 br \u76ee\u5f55\u3002 cd nebula-storage/util/br \u7f16\u8bd1BR\u3002 make build && make test \u5982\u679cBR\u7f16\u8bd1\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u5728 nebula-storage/util/br/bin/ \u76ee\u5f55\u5185\u627e\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6 br \u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"7.data-security/2.backup-restore/3.br-backup-data/","text":"\u4f7f\u7528BR\u5907\u4efd\u6570\u636e \u00b6 BR\u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5907\u4efd\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u6570\u636e\uff0c\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528BR\u5907\u4efd\u6570\u636e\u3002 \u51c6\u5907\u5de5\u4f5c \u00b6 BR\u7f16\u8bd1\u5b8c\u6210\u3002\u5982\u4f55\u7f16\u8bd1BR\uff0c\u8bf7\u53c2\u89c1 \u7f16\u8bd1BR \u3002 \u786e\u8ba4Nebula Graph\u670d\u52a1\u6b63\u5728\u8fd0\u884c\u4e2d\u3002 \u786e\u8ba4\u9700\u8981\u5907\u4efd\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u672c\u6587\u793a\u4f8b\u4e3a basketballplayer \u3002 \u786e\u8ba4Nebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84\u3002\u672c\u6587\u793a\u4f8b\u4e3a /usr/local/nebula/ \u3002 \u786e\u8ba4Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b nebula-metad.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-metad.conf )\uff0c\u786e\u8ba4Meta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9559 \u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b\u548c nebula-storaged.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-storaged.conf )\uff0c\u786e\u8ba4Storage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9779 \u3002 \u6ce8\u610f \uff1a\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u662f\u5b9e\u9645\u7684IP\u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u3002 BR\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5373\u60a8\u5728BR\u673a\u5668\u4e0a\u7684\u8d26\u53f7\u53ef\u4ee5\u901a\u8fc7SSH\u514d\u5bc6\u767b\u5f55\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SSH tunnels with keys \u3002\u672c\u6587\u793a\u4f8b\u8d26\u53f7\u540d\u79f0\u4e3a nebula \u3002 \u5982\u679c\u60a8\u4f7f\u7528Alibaba Cloud OSS\u6216Amazon S3\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u786e\u4fddMeta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u90fd\u5df2\u5b89\u88c5\u76f8\u5e94\u7684\u5ba2\u6237\u7aef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Alibaba Cloud ossutil\u6587\u6863 \u548c Amazon S3 CLI\u6587\u6863 \u3002 \u6ce8\u610f \uff1a\u8bf7\u521b\u5efa\u8f6f\u94fe\u63a5\u65b9\u4fbf\u4f7f\u7528ossutil\u547d\u4ee4\u3002\u547d\u4ee4\u4e3a ln -s /<ossutil_tool_installation_path>/<ossutil64 or ossutil> /usr/local/bin/ossutil \uff0c\u6839\u636e\u5b9e\u9645\u8def\u5f84\u548c\u7cfb\u7edf\u66ff\u6362\u5185\u5bb9\u3002 \u5982\u679c\u60a8\u5728\u672c\u5730\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u9700\u8981\u5728Meta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u4e0a\u521b\u5efa\u7edd\u5bf9\u8def\u5f84\u76f8\u540c\u7684\u76ee\u5f55\uff0c\u5e76\u8bb0\u5f55\u7edd\u5bf9\u8def\u5f84\uff0c\u540c\u65f6\u9700\u8981\u4fdd\u8bc1\u8d26\u53f7\u5bf9\u8be5\u76ee\u5f55\u6709\u5199\u6743\u9650\u3002\u672c\u6587\u793a\u4f8b\u4e3a /home/user/backup/ \u3002 \u6ce8\u610f \uff1a\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5c06NFS (Network File System\uff09\u5b58\u50a8\u8bbe\u5907\u6302\u8f7d\u5230Meta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u4e0a\u8fdb\u884c\u672c\u5730\u5907\u4efd\uff0c\u6216\u8005\u4f7f\u7528Alibaba Cloud OSS\u3001Amazon S3\u8fdb\u884c\u8fdc\u7a0b\u5907\u4efd\u3002\u5426\u5219\u5f53\u60a8\u9700\u8981\u901a\u8fc7\u672c\u5730\u6587\u4ef6\u6062\u590d\u6570\u636e\u65f6\uff0c\u5fc5\u987b\u624b\u52a8\u5c06\u8fd9\u4e9b\u5907\u4efd\u6587\u4ef6\u79fb\u52a8\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u5197\u4f59\u548c\u67d0\u4e9b\u95ee\u9898\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u6062\u590d\u6570\u636e \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5728 nebula-storage/util/br/config \u76ee\u5f55\u5185\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 backup.yaml \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\uff0c\u76ee\u5f55\u5185\u4e5f\u6709\u793a\u4f8b\u6587\u4ef6 backup_example.yaml \u3002 ```yaml meta_nodes: - # \u914d\u7f6e\u4e00\u4e2aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs: \"192.168.8.161:9559\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root: \"/usr/local/nebula/\" # \u914d\u7f6emetad\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data: \"/usr/local/nebula/data/meta\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user: \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2ametad\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" #- addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" storage_nodes: - # \u914d\u7f6e\u4e00\u4e2aStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs: \"192.168.8.161:9779\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root: \"/usr/local/nebula/\" # \u914d\u7f6estoraged\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data: \"/usr/local/nebula/data/storage\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user: \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2astoraged\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" #- addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" # \u8bbe\u7f6e\u5907\u4efd\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84 # \u5982\u679c\u5728\u672c\u5730\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a backend: \"local:///home/user/backup/\" # \u5982\u679c\u4f7f\u7528HDFS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # hdfs://namenode:port/nebulabackup # \u5982\u679c\u4f7f\u7528Alibaba Cloud OSS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"oss://nebulabackup\" # \u5982\u679c\u4f7f\u7528Amazon S3\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"s3://nebulabackup\" # \u8bbe\u7f6e\u8981\u5907\u4efd\u7684\u56fe\u7a7a\u95f4 # \u5982\u679c\u9700\u8981\u5907\u4efd\u591a\u4e2a\u56fe\u7a7a\u95f4\uff0c\u8bf7\u8bbe\u7f6e\uff1a # space_names: [\"space_name1\", \"space_name2\", ..., \"space_name\"] space_name: [\"basketballplayer\"] ``` \u5207\u6362\u5230 nebula-storage/util/br/bin/ \u76ee\u5f55\u3002 cd nebula-storage/util/br/bin/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5907\u4efd\u6570\u636e\u3002 ./br backup full --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" backup full : \u8868\u793a\u5907\u4efd\u6570\u636e\u3002 --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" : \u586b\u5199\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u5907\u4efd\u3002 \uff08\u53ef\u9009\uff09\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5907\u4efd\u5b8c\u6210\u540e\uff0c\u6240\u6709\u5feb\u7167\u90fd\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u5220\u9664\u8fc7\u7a0b\u4e2d\u51fa\u9519\uff0c\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u624b\u52a8\u5220\u9664\u5feb\u7167\u3002 ./br cleanup --backup_name [ backup file name ] --meta 192 .168.8.161:9559 cleanup : \u8868\u793a\u5220\u9664Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u4e0a\u7684\u6240\u6709\u4e34\u65f6\u6587\u4ef6\uff0c\u5305\u62ec\u5feb\u7167\u3002 --backup_name BACKUP_YY_MM_DD_HH_mm_SS : \u6307\u5b9a\u8981\u5220\u9664\u7684\u5907\u4efd\u6587\u4ef6\u540d\u79f0\u3002 --meta <IP address:port> : \u6307\u5b9aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002 \u4e0b\u4e00\u6b65 \u00b6 \u5907\u4efd\u6587\u4ef6\u751f\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528BR\u5c06\u5907\u4efd\u6587\u4ef6\u7684\u6570\u636e\u6062\u590d\u5230Nebula Graph\u4e2d\u3002\u5177\u4f53\u64cd\u4f5c\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u6062\u590d\u6570\u636e \u3002","title":"\u4f7f\u7528BR\u5907\u4efd\u6570\u636e"},{"location":"7.data-security/2.backup-restore/3.br-backup-data/#br","text":"BR\u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5907\u4efd\u6307\u5b9a\u56fe\u7a7a\u95f4\u7684\u6570\u636e\uff0c\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528BR\u5907\u4efd\u6570\u636e\u3002","title":"\u4f7f\u7528BR\u5907\u4efd\u6570\u636e"},{"location":"7.data-security/2.backup-restore/3.br-backup-data/#_1","text":"BR\u7f16\u8bd1\u5b8c\u6210\u3002\u5982\u4f55\u7f16\u8bd1BR\uff0c\u8bf7\u53c2\u89c1 \u7f16\u8bd1BR \u3002 \u786e\u8ba4Nebula Graph\u670d\u52a1\u6b63\u5728\u8fd0\u884c\u4e2d\u3002 \u786e\u8ba4\u9700\u8981\u5907\u4efd\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u672c\u6587\u793a\u4f8b\u4e3a basketballplayer \u3002 \u786e\u8ba4Nebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84\u3002\u672c\u6587\u793a\u4f8b\u4e3a /usr/local/nebula/ \u3002 \u786e\u8ba4Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b nebula-metad.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-metad.conf )\uff0c\u786e\u8ba4Meta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9559 \u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b\u548c nebula-storaged.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-storaged.conf )\uff0c\u786e\u8ba4Storage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9779 \u3002 \u6ce8\u610f \uff1a\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u662f\u5b9e\u9645\u7684IP\u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u3002 BR\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5373\u60a8\u5728BR\u673a\u5668\u4e0a\u7684\u8d26\u53f7\u53ef\u4ee5\u901a\u8fc7SSH\u514d\u5bc6\u767b\u5f55\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SSH tunnels with keys \u3002\u672c\u6587\u793a\u4f8b\u8d26\u53f7\u540d\u79f0\u4e3a nebula \u3002 \u5982\u679c\u60a8\u4f7f\u7528Alibaba Cloud OSS\u6216Amazon S3\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u786e\u4fddMeta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u90fd\u5df2\u5b89\u88c5\u76f8\u5e94\u7684\u5ba2\u6237\u7aef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Alibaba Cloud ossutil\u6587\u6863 \u548c Amazon S3 CLI\u6587\u6863 \u3002 \u6ce8\u610f \uff1a\u8bf7\u521b\u5efa\u8f6f\u94fe\u63a5\u65b9\u4fbf\u4f7f\u7528ossutil\u547d\u4ee4\u3002\u547d\u4ee4\u4e3a ln -s /<ossutil_tool_installation_path>/<ossutil64 or ossutil> /usr/local/bin/ossutil \uff0c\u6839\u636e\u5b9e\u9645\u8def\u5f84\u548c\u7cfb\u7edf\u66ff\u6362\u5185\u5bb9\u3002 \u5982\u679c\u60a8\u5728\u672c\u5730\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u9700\u8981\u5728Meta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u4e0a\u521b\u5efa\u7edd\u5bf9\u8def\u5f84\u76f8\u540c\u7684\u76ee\u5f55\uff0c\u5e76\u8bb0\u5f55\u7edd\u5bf9\u8def\u5f84\uff0c\u540c\u65f6\u9700\u8981\u4fdd\u8bc1\u8d26\u53f7\u5bf9\u8be5\u76ee\u5f55\u6709\u5199\u6743\u9650\u3002\u672c\u6587\u793a\u4f8b\u4e3a /home/user/backup/ \u3002 \u6ce8\u610f \uff1a\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5c06NFS (Network File System\uff09\u5b58\u50a8\u8bbe\u5907\u6302\u8f7d\u5230Meta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u4e0a\u8fdb\u884c\u672c\u5730\u5907\u4efd\uff0c\u6216\u8005\u4f7f\u7528Alibaba Cloud OSS\u3001Amazon S3\u8fdb\u884c\u8fdc\u7a0b\u5907\u4efd\u3002\u5426\u5219\u5f53\u60a8\u9700\u8981\u901a\u8fc7\u672c\u5730\u6587\u4ef6\u6062\u590d\u6570\u636e\u65f6\uff0c\u5fc5\u987b\u624b\u52a8\u5c06\u8fd9\u4e9b\u5907\u4efd\u6587\u4ef6\u79fb\u52a8\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u5197\u4f59\u548c\u67d0\u4e9b\u95ee\u9898\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u6062\u590d\u6570\u636e \u3002","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"7.data-security/2.backup-restore/3.br-backup-data/#_2","text":"\u5728 nebula-storage/util/br/config \u76ee\u5f55\u5185\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 backup.yaml \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\uff0c\u76ee\u5f55\u5185\u4e5f\u6709\u793a\u4f8b\u6587\u4ef6 backup_example.yaml \u3002 ```yaml meta_nodes: - # \u914d\u7f6e\u4e00\u4e2aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs: \"192.168.8.161:9559\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root: \"/usr/local/nebula/\" # \u914d\u7f6emetad\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data: \"/usr/local/nebula/data/meta\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user: \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2ametad\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" #- addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" storage_nodes: - # \u914d\u7f6e\u4e00\u4e2aStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs: \"192.168.8.161:9779\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root: \"/usr/local/nebula/\" # \u914d\u7f6estoraged\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data: \"/usr/local/nebula/data/storage\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user: \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2astoraged\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" #- addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" # \u8bbe\u7f6e\u5907\u4efd\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84 # \u5982\u679c\u5728\u672c\u5730\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a backend: \"local:///home/user/backup/\" # \u5982\u679c\u4f7f\u7528HDFS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # hdfs://namenode:port/nebulabackup # \u5982\u679c\u4f7f\u7528Alibaba Cloud OSS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"oss://nebulabackup\" # \u5982\u679c\u4f7f\u7528Amazon S3\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"s3://nebulabackup\" # \u8bbe\u7f6e\u8981\u5907\u4efd\u7684\u56fe\u7a7a\u95f4 # \u5982\u679c\u9700\u8981\u5907\u4efd\u591a\u4e2a\u56fe\u7a7a\u95f4\uff0c\u8bf7\u8bbe\u7f6e\uff1a # space_names: [\"space_name1\", \"space_name2\", ..., \"space_name\"] space_name: [\"basketballplayer\"] ``` \u5207\u6362\u5230 nebula-storage/util/br/bin/ \u76ee\u5f55\u3002 cd nebula-storage/util/br/bin/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5907\u4efd\u6570\u636e\u3002 ./br backup full --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" backup full : \u8868\u793a\u5907\u4efd\u6570\u636e\u3002 --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" : \u586b\u5199\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u5907\u4efd\u3002 \uff08\u53ef\u9009\uff09\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5907\u4efd\u5b8c\u6210\u540e\uff0c\u6240\u6709\u5feb\u7167\u90fd\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u5220\u9664\u8fc7\u7a0b\u4e2d\u51fa\u9519\uff0c\u60a8\u53ef\u4ee5\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u624b\u52a8\u5220\u9664\u5feb\u7167\u3002 ./br cleanup --backup_name [ backup file name ] --meta 192 .168.8.161:9559 cleanup : \u8868\u793a\u5220\u9664Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u4e0a\u7684\u6240\u6709\u4e34\u65f6\u6587\u4ef6\uff0c\u5305\u62ec\u5feb\u7167\u3002 --backup_name BACKUP_YY_MM_DD_HH_mm_SS : \u6307\u5b9a\u8981\u5220\u9664\u7684\u5907\u4efd\u6587\u4ef6\u540d\u79f0\u3002 --meta <IP address:port> : \u6307\u5b9aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"7.data-security/2.backup-restore/3.br-backup-data/#_3","text":"\u5907\u4efd\u6587\u4ef6\u751f\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528BR\u5c06\u5907\u4efd\u6587\u4ef6\u7684\u6570\u636e\u6062\u590d\u5230Nebula Graph\u4e2d\u3002\u5177\u4f53\u64cd\u4f5c\uff0c\u8bf7\u53c2\u89c1 \u4f7f\u7528BR\u6062\u590d\u6570\u636e \u3002","title":"\u4e0b\u4e00\u6b65"},{"location":"7.data-security/2.backup-restore/4.br-restore-data/","text":"\u4f7f\u7528BR\u6062\u590d\u6570\u636e \u00b6 \u5982\u679c\u60a8\u4f7f\u7528BR\u5907\u4efd\u4e86Nebula Graph\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002 \u8b66\u544a \uff1a\u6062\u590d\u8fc7\u7a0b\u4e2d\uff0c\u76ee\u6807\u96c6\u7fa4\u4e0a\u5df2\u6709\u7684\u6570\u636e\u4f1a\u88ab\u5220\u9664\uff0c\u7136\u540e\u66ff\u6362\u4e3a\u5907\u4efd\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002\u5efa\u8bae\u60a8\u63d0\u524d\u5907\u4efd\u76ee\u6807\u96c6\u7fa4\u4e0a\u7684\u6570\u636e\u3002 \u6ce8\u610f \uff1a\u6570\u636e\u6062\u590d\u9700\u8981\u79bb\u7ebf\u8fdb\u884c\u3002 \u51c6\u5907\u5de5\u4f5c \u00b6 BR\u7f16\u8bd1\u5b8c\u6210\u3002\u5982\u4f55\u7f16\u8bd1BR\uff0c\u8bf7\u53c2\u89c1 \u7f16\u8bd1BR \u3002 \u786e\u8ba4\u6ca1\u6709\u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u5230\u5f85\u6062\u590d\u6570\u636e\u7684Nebula Graph\u96c6\u7fa4\u3002 \u786e\u8ba4\u96c6\u7fa4\u7684\u62d3\u6251\u7ed3\u6784\u4e00\u81f4\uff0c\u5373\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u4e00\u81f4\u3002 \u786e\u8ba4\u8fdb\u884c\u6570\u636e\u6062\u590d\u7684\u5907\u4efd\u6587\u4ef6\u5939\u540d\u79f0\u3002\u672c\u6587\u793a\u4f8b\u4e3a BACKUP_2020_12_21_01_17_53 \u3002 \u786e\u8ba4\u76ee\u6807\u96c6\u7fa4\u4e2dMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b nebula-metad.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-metad.conf )\uff0c\u786e\u8ba4Meta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9559 \u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b\u548c nebula-storaged.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-storaged.conf )\uff0c\u786e\u8ba4Storage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9779 \u3002 \u6ce8\u610f \uff1a\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u662f\u5b9e\u9645\u7684IP\u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u3002 BR\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5373\u60a8\u5728BR\u673a\u5668\u4e0a\u7684\u8d26\u53f7\u53ef\u4ee5\u901a\u8fc7SSH\u514d\u5bc6\u767b\u5f55\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SSH tunnels with keys \u3002\u672c\u6587\u793a\u4f8b\u8d26\u53f7\u540d\u79f0\u4e3a nebula \u3002 \u6ce8\u610f :\u8be5\u8d26\u53f7\u5fc5\u987b\u6709Nebula Graph\u5b89\u88c5\u76ee\u5f55\u7684\u5199\u6743\u9650\u3002 \u5982\u679c\u60a8\u4f7f\u7528Alibaba Cloud OSS\u6216Amazon S3\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u786e\u4fddMeta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u90fd\u5df2\u5b89\u88c5\u76f8\u5e94\u7684\u5ba2\u6237\u7aef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Alibaba Cloud ossutil\u6587\u6863 \u548c Amazon S3 CLI\u6587\u6863 \u3002 \u6ce8\u610f \uff1a\u8bf7\u521b\u5efa\u8f6f\u94fe\u63a5\u65b9\u4fbf\u4f7f\u7528ossutil\u547d\u4ee4\u3002\u547d\u4ee4\u4e3a ln -s /<ossutil_tool_installation_path>/<ossutil64 or ossutil> /usr/local/bin/ossutil \uff0c\u6839\u636e\u5b9e\u9645\u8def\u5f84\u548c\u7cfb\u7edf\u66ff\u6362\u5185\u5bb9\u3002 \u5982\u679c\u60a8\u7684\u5907\u4efd\u6587\u4ef6\u4fdd\u5b58\u5728\u672c\u5730\u78c1\u76d8\uff0c\u9700\u8981\u5c06BR\u673a\u5668\u4e0a\u5907\u4efd\u7684Meta\u6587\u4ef6\u624b\u52a8\u5408\u5e76\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684\u5907\u4efd\u76ee\u5f55\u5185\uff08\u548cmeta\u3001storage\u76ee\u5f55\u5e73\u7ea7\uff09\u3002\u672c\u6587\u793a\u4f8b\u4e3a /home/user/backup/ \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5728 nebula-storage/util/br/config \u76ee\u5f55\u5185\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 backup.yaml \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\uff0c\u76ee\u5f55\u5185\u4e5f\u6709\u793a\u4f8b\u6587\u4ef6 restore_example.yaml \u3002 meta_nodes : - # \u914d\u7f6e\u4e00\u4e2aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs : \"192.168.8.161:9559\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root : \"/usr/local/nebula/\" # \u914d\u7f6emetad\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data : \"/usr/local/nebula/data/meta\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user : \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2ametad\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" #- addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" storage_nodes : - # \u914d\u7f6e\u4e00\u4e2aStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs : \"192.168.8.161:9779\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root : \"/usr/local/nebula/\" # \u914d\u7f6estoraged\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data : \"/usr/local/nebula/data/storage\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user : \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2astoraged\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" #- addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" # \u8bbe\u7f6e\u5907\u4efd\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84 # \u5982\u679c\u662f\u672c\u5730\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a backend : \"local:///home/user/backup/\" # \u5982\u679c\u4f7f\u7528HDFS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # hdfs://namenode:port/nebulabackup # \u5982\u679c\u4f7f\u7528Alibaba Cloud OSS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"oss://nebulabackup\" # \u5982\u679c\u4f7f\u7528Amazon S3\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"s3://nebulabackup\" # \u8bbe\u7f6e\u8981\u6062\u590d\u7684\u5907\u4efd\u6587\u4ef6\u5939 backup_name : \"BACKUP_2020_12_21_01_17_53\" \u5207\u6362\u5230 nebula-storage/util/br/bin/ \u76ee\u5f55\u3002 cd nebula-storage/util/br/bin/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6062\u590d\u6570\u636e\u3002 ./br restore full --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" restore full : \u8868\u793a\u6062\u590d\u6570\u636e\u3002 --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" : \u586b\u5199\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u6062\u590d\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u6062\u590d\u8fc7\u7a0b\u4e2dleader\u53d1\u751f\u53d8\u66f4\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u6062\u590d\u51fa\u9519\uff0c\u4e3a\u4fdd\u8bc1\u6570\u636e\u6b63\u786e\u6027\uff0c\u8bf7\u91cd\u65b0\u6267\u884c\u672c\u6b65\u9aa4\u547d\u4ee4\u3002 \u6062\u590d\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728Nebula Graph\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 data/storage \u76ee\u5f55\u5185\u627e\u5230\u6570\u636e\u6587\u4ef6\uff0c\u4f8b\u5982 /usr/local/nebula/data/storage/ \u3002 \u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u81f3Meta\u6570\u636e\u548cSchema\u540c\u6b65\uff0c\u60a8\u53ef\u4ee5\u767b\u5f55\u6570\u636e\u5e93\u9a8c\u8bc1\u6570\u636e\u3002\u4f8b\u5982\u8fd0\u884c SHOW STATS \u9a8c\u8bc1\u56fe\u7a7a\u95f4\u4e2d\u70b9\u548c\u8fb9\u7684\u6570\u91cf\u662f\u5426\u6b63\u786e\u3002 \u6ce8\u610f \uff1a\u6062\u590d\u5b8c\u6210\u540e\uff0c\u60a8\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e24\u70b9\uff1a \u5982\u679c\u6267\u884c USE <space_name> \u8fd4\u56de\u9519\u8bef\uff0c\u5efa\u8bae\u60a8\u91cd\u542fNebula Graph\u670d\u52a1\u3002 \u5982\u679c\u67e5\u8be2\u6570\u636e\u65f6\u62a5\u9519 Storage Error: part: 2, error code: -3. \uff0c\u8bf7\u68c0\u67e5Storage\u670d\u52a1\u7684\u72b6\u6001\uff0c\u6216\u8005\u91cd\u542fStorage\u670d\u52a1\u540e\u518d\u6b21\u5c1d\u8bd5\u67e5\u8be2\u3002","title":"\u4f7f\u7528BR\u6062\u590d\u6570\u636e"},{"location":"7.data-security/2.backup-restore/4.br-restore-data/#br","text":"\u5982\u679c\u60a8\u4f7f\u7528BR\u5907\u4efd\u4e86Nebula Graph\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002 \u8b66\u544a \uff1a\u6062\u590d\u8fc7\u7a0b\u4e2d\uff0c\u76ee\u6807\u96c6\u7fa4\u4e0a\u5df2\u6709\u7684\u6570\u636e\u4f1a\u88ab\u5220\u9664\uff0c\u7136\u540e\u66ff\u6362\u4e3a\u5907\u4efd\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002\u5efa\u8bae\u60a8\u63d0\u524d\u5907\u4efd\u76ee\u6807\u96c6\u7fa4\u4e0a\u7684\u6570\u636e\u3002 \u6ce8\u610f \uff1a\u6570\u636e\u6062\u590d\u9700\u8981\u79bb\u7ebf\u8fdb\u884c\u3002","title":"\u4f7f\u7528BR\u6062\u590d\u6570\u636e"},{"location":"7.data-security/2.backup-restore/4.br-restore-data/#_1","text":"BR\u7f16\u8bd1\u5b8c\u6210\u3002\u5982\u4f55\u7f16\u8bd1BR\uff0c\u8bf7\u53c2\u89c1 \u7f16\u8bd1BR \u3002 \u786e\u8ba4\u6ca1\u6709\u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u5230\u5f85\u6062\u590d\u6570\u636e\u7684Nebula Graph\u96c6\u7fa4\u3002 \u786e\u8ba4\u96c6\u7fa4\u7684\u62d3\u6251\u7ed3\u6784\u4e00\u81f4\uff0c\u5373\u539f\u96c6\u7fa4\u548c\u76ee\u6807\u96c6\u7fa4\u7684\u4e3b\u673a\u6570\u91cf\u4e00\u81f4\u3002 \u786e\u8ba4\u8fdb\u884c\u6570\u636e\u6062\u590d\u7684\u5907\u4efd\u6587\u4ef6\u5939\u540d\u79f0\u3002\u672c\u6587\u793a\u4f8b\u4e3a BACKUP_2020_12_21_01_17_53 \u3002 \u786e\u8ba4\u76ee\u6807\u96c6\u7fa4\u4e2dMeta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b nebula-metad.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-metad.conf )\uff0c\u786e\u8ba4Meta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9559 \u3002 \u5728Nebula Graph\u7684\u5b89\u88c5\u8def\u5f84\u5185\u67e5\u770b\u548c nebula-storaged.conf \u6587\u4ef6(\u4f8b\u5982 /usr/local/nebula/etc/nebula-storaged.conf )\uff0c\u786e\u8ba4Storage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3\u3002\u672c\u6587\u793a\u4f8b\u4e3a 192.168.8.161:9779 \u3002 \u6ce8\u610f \uff1a\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u662f\u5b9e\u9645\u7684IP\u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u3002 BR\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5373\u60a8\u5728BR\u673a\u5668\u4e0a\u7684\u8d26\u53f7\u53ef\u4ee5\u901a\u8fc7SSH\u514d\u5bc6\u767b\u5f55\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 SSH tunnels with keys \u3002\u672c\u6587\u793a\u4f8b\u8d26\u53f7\u540d\u79f0\u4e3a nebula \u3002 \u6ce8\u610f :\u8be5\u8d26\u53f7\u5fc5\u987b\u6709Nebula Graph\u5b89\u88c5\u76ee\u5f55\u7684\u5199\u6743\u9650\u3002 \u5982\u679c\u60a8\u4f7f\u7528Alibaba Cloud OSS\u6216Amazon S3\u4fdd\u5b58\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u786e\u4fddMeta\u670d\u52a1\u5668\u3001Storage\u670d\u52a1\u5668\u548cBR\u673a\u5668\u90fd\u5df2\u5b89\u88c5\u76f8\u5e94\u7684\u5ba2\u6237\u7aef\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 Alibaba Cloud ossutil\u6587\u6863 \u548c Amazon S3 CLI\u6587\u6863 \u3002 \u6ce8\u610f \uff1a\u8bf7\u521b\u5efa\u8f6f\u94fe\u63a5\u65b9\u4fbf\u4f7f\u7528ossutil\u547d\u4ee4\u3002\u547d\u4ee4\u4e3a ln -s /<ossutil_tool_installation_path>/<ossutil64 or ossutil> /usr/local/bin/ossutil \uff0c\u6839\u636e\u5b9e\u9645\u8def\u5f84\u548c\u7cfb\u7edf\u66ff\u6362\u5185\u5bb9\u3002 \u5982\u679c\u60a8\u7684\u5907\u4efd\u6587\u4ef6\u4fdd\u5b58\u5728\u672c\u5730\u78c1\u76d8\uff0c\u9700\u8981\u5c06BR\u673a\u5668\u4e0a\u5907\u4efd\u7684Meta\u6587\u4ef6\u624b\u52a8\u5408\u5e76\u5230Meta\u670d\u52a1\u5668\u548cStorage\u670d\u52a1\u5668\u7684\u5907\u4efd\u76ee\u5f55\u5185\uff08\u548cmeta\u3001storage\u76ee\u5f55\u5e73\u7ea7\uff09\u3002\u672c\u6587\u793a\u4f8b\u4e3a /home/user/backup/ \u3002","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"7.data-security/2.backup-restore/4.br-restore-data/#_2","text":"\u5728 nebula-storage/util/br/config \u76ee\u5f55\u5185\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 backup.yaml \u3002\u60a8\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\uff0c\u76ee\u5f55\u5185\u4e5f\u6709\u793a\u4f8b\u6587\u4ef6 restore_example.yaml \u3002 meta_nodes : - # \u914d\u7f6e\u4e00\u4e2aMeta\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs : \"192.168.8.161:9559\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root : \"/usr/local/nebula/\" # \u914d\u7f6emetad\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data : \"/usr/local/nebula/data/meta\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user : \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2ametad\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" #- addrs: \"192.168.8.161:9559\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/meta\" # user: \"nebula\" storage_nodes : - # \u914d\u7f6e\u4e00\u4e2aStorage\u670d\u52a1\u5668\u7684IP\u548c\u7aef\u53e3 addrs : \"192.168.8.161:9779\" # \u914d\u7f6eNebula Graph\u7684\u7edd\u5bf9\u5b89\u88c5\u8def\u5f84 root : \"/usr/local/nebula/\" # \u914d\u7f6estoraged\u8fdb\u7a0b\u6570\u636e\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84 data : \"/usr/local/nebula/data/storage\" # \u914d\u7f6e\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668\u7684\u8d26\u53f7\u540d\u79f0\uff0c\u9700\u8981\u5bf9\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u6709\u8bfb\u5199\u6743\u9650 user : \"nebula\" #- # \u5982\u679c\u5b58\u5728\u591a\u4e2astoraged\u8fdb\u7a0b\uff0c\u8bf7\u53c2\u8003\u4e0a\u8ff0\u914d\u7f6e\u7ee7\u7eed\u6dfb\u52a0 # addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" #- addrs: \"192.168.8.161:9779\" # root: \"/usr/local/nebula/\" # data: \"/usr/local/nebula/data/storage\" # user: \"nebula\" # \u8bbe\u7f6e\u5907\u4efd\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84 # \u5982\u679c\u662f\u672c\u5730\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a backend : \"local:///home/user/backup/\" # \u5982\u679c\u4f7f\u7528HDFS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # hdfs://namenode:port/nebulabackup # \u5982\u679c\u4f7f\u7528Alibaba Cloud OSS\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"oss://nebulabackup\" # \u5982\u679c\u4f7f\u7528Amazon S3\u5b58\u50a8\u5907\u4efd\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\uff1a # backend: \"s3://nebulabackup\" # \u8bbe\u7f6e\u8981\u6062\u590d\u7684\u5907\u4efd\u6587\u4ef6\u5939 backup_name : \"BACKUP_2020_12_21_01_17_53\" \u5207\u6362\u5230 nebula-storage/util/br/bin/ \u76ee\u5f55\u3002 cd nebula-storage/util/br/bin/ \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6062\u590d\u6570\u636e\u3002 ./br restore full --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" restore full : \u8868\u793a\u6062\u590d\u6570\u636e\u3002 --config \"/home/vesoft/nebula-storage/util/br/config/backup.yaml\" : \u586b\u5199\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u6062\u590d\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u6062\u590d\u8fc7\u7a0b\u4e2dleader\u53d1\u751f\u53d8\u66f4\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u6062\u590d\u51fa\u9519\uff0c\u4e3a\u4fdd\u8bc1\u6570\u636e\u6b63\u786e\u6027\uff0c\u8bf7\u91cd\u65b0\u6267\u884c\u672c\u6b65\u9aa4\u547d\u4ee4\u3002 \u6062\u590d\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728Nebula Graph\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 data/storage \u76ee\u5f55\u5185\u627e\u5230\u6570\u636e\u6587\u4ef6\uff0c\u4f8b\u5982 /usr/local/nebula/data/storage/ \u3002 \u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u81f3Meta\u6570\u636e\u548cSchema\u540c\u6b65\uff0c\u60a8\u53ef\u4ee5\u767b\u5f55\u6570\u636e\u5e93\u9a8c\u8bc1\u6570\u636e\u3002\u4f8b\u5982\u8fd0\u884c SHOW STATS \u9a8c\u8bc1\u56fe\u7a7a\u95f4\u4e2d\u70b9\u548c\u8fb9\u7684\u6570\u91cf\u662f\u5426\u6b63\u786e\u3002 \u6ce8\u610f \uff1a\u6062\u590d\u5b8c\u6210\u540e\uff0c\u60a8\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e24\u70b9\uff1a \u5982\u679c\u6267\u884c USE <space_name> \u8fd4\u56de\u9519\u8bef\uff0c\u5efa\u8bae\u60a8\u91cd\u542fNebula Graph\u670d\u52a1\u3002 \u5982\u679c\u67e5\u8be2\u6570\u636e\u65f6\u62a5\u9519 Storage Error: part: 2, error code: -3. \uff0c\u8bf7\u68c0\u67e5Storage\u670d\u52a1\u7684\u72b6\u6001\uff0c\u6216\u8005\u91cd\u542fStorage\u670d\u52a1\u540e\u518d\u6b21\u5c1d\u8bd5\u67e5\u8be2\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"8.service-tuning/compaction/","text":"Compaction \u00b6 \u672c\u6587\u4ecb\u7ecdCompaction\u7684\u76f8\u5173\u4fe1\u606f\u3002 Nebula Graph\u4e2d\uff0c Compaction \u662f\u6700\u91cd\u8981\u7684\u540e\u53f0\u64cd\u4f5c\uff0c\u5bf9\u6027\u80fd\u6709\u6781\u5176\u91cd\u8981\u7684\u5f71\u54cd\u3002 Compaction \u64cd\u4f5c\u4f1a\u8bfb\u53d6\u786c\u76d8\u4e0a\u7684\u6570\u636e\uff0c\u7136\u540e\u91cd\u7ec4\u6570\u636e\u7ed3\u6784\u548c\u7d22\u5f15\uff0c\u7136\u540e\u518d\u5199\u56de\u786c\u76d8\uff0c\u53ef\u4ee5\u6210\u500d\u63d0\u5347\u8bfb\u53d6\u6027\u80fd\u3002\u5c06\u5927\u91cf\u6570\u636e\u5199\u5165Nebula Graph\u540e\uff0c\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u6027\u80fd\uff0c\u9700\u8981\u624b\u52a8\u89e6\u53d1 Compaction \u64cd\u4f5c\uff08\u5168\u91cf Compaction \uff09\u3002 \u8bf4\u660e \uff1a Compaction \u64cd\u4f5c\u4f1a\u957f\u65f6\u95f4\u5360\u7528\u786c\u76d8\u7684IO\uff0c\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c\u8be5\u64cd\u4f5c\u3002 Nebula Graph\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Compaction \u64cd\u4f5c\uff1a\u81ea\u52a8 Compaction \u548c\u5168\u91cf Compaction \u3002 \u81ea\u52a8 Compaction \u00b6 \u81ea\u52a8 Compaction \u662f\u5728\u7cfb\u7edf\u8bfb\u53d6\u6570\u636e\u3001\u5199\u5165\u6570\u636e\u6216\u7cfb\u7edf\u91cd\u542f\u65f6\u81ea\u52a8\u89e6\u53d1 Compaction \u64cd\u4f5c\uff0c\u63d0\u5347\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u53d6\u6027\u80fd\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u81ea\u52a8 Compaction \u662f\u5f00\u542f\u72b6\u6001\uff0c\u53ef\u80fd\u5728\u4e1a\u52a1\u9ad8\u5cf0\u671f\u89e6\u53d1\uff0c\u5bfc\u81f4\u610f\u5916\u62a2\u5360IO\u5f71\u54cd\u4e1a\u52a1\u3002\u5982\u679c\u9700\u8981\u5b8c\u5168\u624b\u52a8\u63a7\u5236 Compaction \u64cd\u4f5c\uff0c\u60a8\u53ef\u4ee5\u5173\u95ed\u81ea\u52a8 Compaction \u3002 \u5173\u95ed\u81ea\u52a8 Compaction \u00b6 \u8b66\u544a \uff1a\u547d\u4ee4 UPDATE CONFIGS \u4f1a\u5c06\u672a\u8bbe\u7f6e\u7684\u53c2\u6570\u6062\u590d\u4e3a\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u4fee\u6539\u524d\u60a8\u9700\u8981\u4f7f\u7528 SHOW CONFIGS STORAGE \u67e5\u770b rocksdb_column_family_options \u914d\u7f6e\uff0c\u7136\u540e\u4e00\u8d77\u91cd\u65b0\u4f20\u5165\u503c\u3002 # \u67e5\u770b\u5f53\u524drocksdb_column_family_options\u8bbe\u7f6e\uff0c\u590d\u5236value\u5217\u5185\u5bb9\u3002 nebula> SHOW CONFIGS STORAGE; +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | module | name | type | mode | value | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"v\" | \"int\" | \"MUTABLE\" | 0 | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ ... +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"rocksdb_column_family_options\" | \"map\" | \"MUTABLE\" | {max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"} | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ ... # \u4fee\u6539rocksdb_column_family_options\u8bbe\u7f6e\uff0c\u5728\u590d\u5236\u7684value\u5185\u5bb9\u4e2d\u6dfb\u52a0disable_auto_compactions: true nebula> UPDATE CONFIGS storage:rocksdb_column_family_options = {disable_auto_compactions: true, max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"}; # \u67e5\u770b\u662f\u5426\u4fee\u6539\u6210\u529f\u3002 nebula> SHOW CONFIGS STORAGE; +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | module | name | type | mode | value | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"v\" | \"int\" | \"MUTABLE\" | 0 | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ ... +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"rocksdb_column_family_options\" | \"map\" | \"MUTABLE\" | {disable_auto_compactions: true, max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"} | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ ... \u5168\u91cf Compaction \u00b6 \u5168\u91cf Compaction \u53ef\u4ee5\u5bf9\u56fe\u7a7a\u95f4\u8fdb\u884c\u5927\u89c4\u6a21\u540e\u53f0\u64cd\u4f5c\uff0c\u4f8b\u5982\u5408\u5e76\u6587\u4ef6\u3001\u5220\u9664TTL\u8fc7\u671f\u6570\u636e\u7b49\uff0c\u8be5\u64cd\u4f5c\u9700\u8981\u60a8\u624b\u52a8\u53d1\u8d77\u3002\u4f7f\u7528\u5982\u4e0b\u8bed\u53e5\u6267\u884c\u5168\u91cf Compaction \u64cd\u4f5c\uff1a \u8bf4\u660e \uff1a\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c\u8be5\u64cd\u4f5c\uff0c\u907f\u514d\u5927\u91cf\u5360\u7528\u786c\u76d8IO\u5f71\u54cd\u4e1a\u52a1\u3002 nebula> USE <your_graph_space>; nebula> SUBMIT JOB COMPACT; \u4e0a\u8ff0\u547d\u4ee4\u4f1a\u8fd4\u56de\u4f5c\u4e1a\u7684ID\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b Compaction \u72b6\u6001\uff1a nebula> SHOW JOB <job_id>; \u64cd\u4f5c\u5efa\u8bae \u00b6 \u4e3a\u4fdd\u8bc1Nebula Graph\u7684\u6027\u80fd\uff0c\u8bf7\u53c2\u8003\u5982\u4e0b\u64cd\u4f5c\u5efa\u8bae\uff1a \u6570\u636e\u5199\u5165\u65f6\u4e3a\u907f\u514d\u6d6a\u8d39IO\uff0c\u8bf7\u5728\u5927\u91cf\u6570\u636e\u5199\u5165\u524d\u5173\u95ed\u81ea\u52a8 Compaction \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u95ed\u81ea\u52a8 Compaction \u3002 \u6570\u636e\u5bfc\u5165\u5b8c\u6210\u540e\uff0c\u8bf7\u6267\u884c SUBMIT JOB COMPACT \u3002 \u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c SUBMIT JOB COMPACT \u3002 \u767d\u5929\u65f6\u8bbe\u7f6e disable_auto_compactions \u4e3a flase \uff0c\u63d0\u5347\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u53d6\u6027\u80fd\u3002 \u4e3a\u63a7\u5236 Compaction \u7684\u8bfb\u5199\u901f\u7387\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u8bbe\u7f6e\u5982\u4e0b\u4e24\u4e2a\u53c2\u6570\uff1a # \u8bbe\u7f6e\u4e3a\u4ece\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u8bfb\u53d6\u914d\u7f6e\u3002 --local-config = true # \u8bfb\u5199\u901f\u7387\u9650\u5236\u4e3a20MB/S\u3002 --rate_limit = 20 ( in MB/s ) FAQ \u00b6 \u53ef\u4ee5\u540c\u65f6\u5728\u591a\u4e2a\u56fe\u7a7a\u95f4\u6267\u884c\u5168\u91cf Compaction \u64cd\u4f5c\u5417\uff1f \u00b6 \u53ef\u4ee5\uff0c\u4f46\u662f\u6b64\u65f6\u7684\u786c\u76d8IO\u4f1a\u5f88\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u6548\u7387\u3002 \u5168\u91cf Compaction \u64cd\u4f5c\u4f1a\u8017\u8d39\u591a\u957f\u65f6\u95f4\uff1f \u00b6 \u5982\u679c\u60a8\u5df2\u7ecf\u8bbe\u7f6e\u8bfb\u5199\u901f\u7387\u9650\u5236\uff0c\u4f8b\u5982 rate_limit \u9650\u5236\u4e3a20MB/S\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 \u786c\u76d8\u4f7f\u7528\u91cf/rate_limit \u9884\u4f30\u9700\u8981\u8017\u8d39\u7684\u65f6\u95f4\u3002\u5982\u679c\u60a8\u6ca1\u6709\u8bbe\u7f6e\u8bfb\u5199\u901f\u7387\u9650\u5236\uff0c\u6839\u636e\u7ecf\u9a8c\uff0c\u901f\u7387\u5927\u7ea6\u4e3a50MB/S\u3002 \u53ef\u4ee5\u52a8\u6001\u8c03\u6574 rate_limit \u5417\uff1f \u00b6 \u4e0d\u53ef\u4ee5\u3002 \u5168\u91cf Compaction \u64cd\u4f5c\u5f00\u59cb\u540e\u53ef\u4ee5\u505c\u6b62\u5417\uff1f \u00b6 \u4e0d\u53ef\u4ee5\u505c\u6b62\uff0c\u5fc5\u987b\u7b49\u5f85\u64cd\u4f5c\u5b8c\u6210\u3002\u8fd9\u662fRocksDB\u7684\u9650\u5236\u3002","title":"Compaction"},{"location":"8.service-tuning/compaction/#compaction","text":"\u672c\u6587\u4ecb\u7ecdCompaction\u7684\u76f8\u5173\u4fe1\u606f\u3002 Nebula Graph\u4e2d\uff0c Compaction \u662f\u6700\u91cd\u8981\u7684\u540e\u53f0\u64cd\u4f5c\uff0c\u5bf9\u6027\u80fd\u6709\u6781\u5176\u91cd\u8981\u7684\u5f71\u54cd\u3002 Compaction \u64cd\u4f5c\u4f1a\u8bfb\u53d6\u786c\u76d8\u4e0a\u7684\u6570\u636e\uff0c\u7136\u540e\u91cd\u7ec4\u6570\u636e\u7ed3\u6784\u548c\u7d22\u5f15\uff0c\u7136\u540e\u518d\u5199\u56de\u786c\u76d8\uff0c\u53ef\u4ee5\u6210\u500d\u63d0\u5347\u8bfb\u53d6\u6027\u80fd\u3002\u5c06\u5927\u91cf\u6570\u636e\u5199\u5165Nebula Graph\u540e\uff0c\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u6027\u80fd\uff0c\u9700\u8981\u624b\u52a8\u89e6\u53d1 Compaction \u64cd\u4f5c\uff08\u5168\u91cf Compaction \uff09\u3002 \u8bf4\u660e \uff1a Compaction \u64cd\u4f5c\u4f1a\u957f\u65f6\u95f4\u5360\u7528\u786c\u76d8\u7684IO\uff0c\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c\u8be5\u64cd\u4f5c\u3002 Nebula Graph\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Compaction \u64cd\u4f5c\uff1a\u81ea\u52a8 Compaction \u548c\u5168\u91cf Compaction \u3002","title":"Compaction"},{"location":"8.service-tuning/compaction/#compaction_1","text":"\u81ea\u52a8 Compaction \u662f\u5728\u7cfb\u7edf\u8bfb\u53d6\u6570\u636e\u3001\u5199\u5165\u6570\u636e\u6216\u7cfb\u7edf\u91cd\u542f\u65f6\u81ea\u52a8\u89e6\u53d1 Compaction \u64cd\u4f5c\uff0c\u63d0\u5347\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u53d6\u6027\u80fd\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u81ea\u52a8 Compaction \u662f\u5f00\u542f\u72b6\u6001\uff0c\u53ef\u80fd\u5728\u4e1a\u52a1\u9ad8\u5cf0\u671f\u89e6\u53d1\uff0c\u5bfc\u81f4\u610f\u5916\u62a2\u5360IO\u5f71\u54cd\u4e1a\u52a1\u3002\u5982\u679c\u9700\u8981\u5b8c\u5168\u624b\u52a8\u63a7\u5236 Compaction \u64cd\u4f5c\uff0c\u60a8\u53ef\u4ee5\u5173\u95ed\u81ea\u52a8 Compaction \u3002","title":"\u81ea\u52a8Compaction"},{"location":"8.service-tuning/compaction/#compaction_2","text":"\u8b66\u544a \uff1a\u547d\u4ee4 UPDATE CONFIGS \u4f1a\u5c06\u672a\u8bbe\u7f6e\u7684\u53c2\u6570\u6062\u590d\u4e3a\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u4fee\u6539\u524d\u60a8\u9700\u8981\u4f7f\u7528 SHOW CONFIGS STORAGE \u67e5\u770b rocksdb_column_family_options \u914d\u7f6e\uff0c\u7136\u540e\u4e00\u8d77\u91cd\u65b0\u4f20\u5165\u503c\u3002 # \u67e5\u770b\u5f53\u524drocksdb_column_family_options\u8bbe\u7f6e\uff0c\u590d\u5236value\u5217\u5185\u5bb9\u3002 nebula> SHOW CONFIGS STORAGE; +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | module | name | type | mode | value | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"v\" | \"int\" | \"MUTABLE\" | 0 | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ ... +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"rocksdb_column_family_options\" | \"map\" | \"MUTABLE\" | {max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"} | +-----------+-------------------------------------+-------+-----------+------------------------------------------------------------------------------------------------------+ ... # \u4fee\u6539rocksdb_column_family_options\u8bbe\u7f6e\uff0c\u5728\u590d\u5236\u7684value\u5185\u5bb9\u4e2d\u6dfb\u52a0disable_auto_compactions: true nebula> UPDATE CONFIGS storage:rocksdb_column_family_options = {disable_auto_compactions: true, max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"}; # \u67e5\u770b\u662f\u5426\u4fee\u6539\u6210\u529f\u3002 nebula> SHOW CONFIGS STORAGE; +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | module | name | type | mode | value | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"v\" | \"int\" | \"MUTABLE\" | 0 | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ ... +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ | \"STORAGE\" | \"rocksdb_column_family_options\" | \"map\" | \"MUTABLE\" | {disable_auto_compactions: true, max_bytes_for_level_base: \"268435456\", max_write_buffer_number: \"4\", write_buffer_size: \"67108864\"} | +-----------+-------------------------------------+-------+-----------+--------------------------------------------------------------------------------------------------------------------------------------+ ...","title":"\u5173\u95ed\u81ea\u52a8Compaction"},{"location":"8.service-tuning/compaction/#compaction_3","text":"\u5168\u91cf Compaction \u53ef\u4ee5\u5bf9\u56fe\u7a7a\u95f4\u8fdb\u884c\u5927\u89c4\u6a21\u540e\u53f0\u64cd\u4f5c\uff0c\u4f8b\u5982\u5408\u5e76\u6587\u4ef6\u3001\u5220\u9664TTL\u8fc7\u671f\u6570\u636e\u7b49\uff0c\u8be5\u64cd\u4f5c\u9700\u8981\u60a8\u624b\u52a8\u53d1\u8d77\u3002\u4f7f\u7528\u5982\u4e0b\u8bed\u53e5\u6267\u884c\u5168\u91cf Compaction \u64cd\u4f5c\uff1a \u8bf4\u660e \uff1a\u5efa\u8bae\u60a8\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c\u8be5\u64cd\u4f5c\uff0c\u907f\u514d\u5927\u91cf\u5360\u7528\u786c\u76d8IO\u5f71\u54cd\u4e1a\u52a1\u3002 nebula> USE <your_graph_space>; nebula> SUBMIT JOB COMPACT; \u4e0a\u8ff0\u547d\u4ee4\u4f1a\u8fd4\u56de\u4f5c\u4e1a\u7684ID\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b Compaction \u72b6\u6001\uff1a nebula> SHOW JOB <job_id>;","title":"\u5168\u91cfCompaction"},{"location":"8.service-tuning/compaction/#_1","text":"\u4e3a\u4fdd\u8bc1Nebula Graph\u7684\u6027\u80fd\uff0c\u8bf7\u53c2\u8003\u5982\u4e0b\u64cd\u4f5c\u5efa\u8bae\uff1a \u6570\u636e\u5199\u5165\u65f6\u4e3a\u907f\u514d\u6d6a\u8d39IO\uff0c\u8bf7\u5728\u5927\u91cf\u6570\u636e\u5199\u5165\u524d\u5173\u95ed\u81ea\u52a8 Compaction \u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u5173\u95ed\u81ea\u52a8 Compaction \u3002 \u6570\u636e\u5bfc\u5165\u5b8c\u6210\u540e\uff0c\u8bf7\u6267\u884c SUBMIT JOB COMPACT \u3002 \u4e1a\u52a1\u4f4e\u5cf0\u671f\uff08\u4f8b\u5982\u51cc\u6668\uff09\u6267\u884c SUBMIT JOB COMPACT \u3002 \u767d\u5929\u65f6\u8bbe\u7f6e disable_auto_compactions \u4e3a flase \uff0c\u63d0\u5347\u77ed\u65f6\u95f4\u5185\u7684\u8bfb\u53d6\u6027\u80fd\u3002 \u4e3a\u63a7\u5236 Compaction \u7684\u8bfb\u5199\u901f\u7387\uff0c\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6 nebula-storaged.conf \u4e2d\u8bbe\u7f6e\u5982\u4e0b\u4e24\u4e2a\u53c2\u6570\uff1a # \u8bbe\u7f6e\u4e3a\u4ece\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u8bfb\u53d6\u914d\u7f6e\u3002 --local-config = true # \u8bfb\u5199\u901f\u7387\u9650\u5236\u4e3a20MB/S\u3002 --rate_limit = 20 ( in MB/s )","title":"\u64cd\u4f5c\u5efa\u8bae"},{"location":"8.service-tuning/compaction/#faq","text":"","title":"FAQ"},{"location":"8.service-tuning/compaction/#compaction_4","text":"\u53ef\u4ee5\uff0c\u4f46\u662f\u6b64\u65f6\u7684\u786c\u76d8IO\u4f1a\u5f88\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u6548\u7387\u3002","title":"\u53ef\u4ee5\u540c\u65f6\u5728\u591a\u4e2a\u56fe\u7a7a\u95f4\u6267\u884c\u5168\u91cfCompaction\u64cd\u4f5c\u5417\uff1f"},{"location":"8.service-tuning/compaction/#compaction_5","text":"\u5982\u679c\u60a8\u5df2\u7ecf\u8bbe\u7f6e\u8bfb\u5199\u901f\u7387\u9650\u5236\uff0c\u4f8b\u5982 rate_limit \u9650\u5236\u4e3a20MB/S\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 \u786c\u76d8\u4f7f\u7528\u91cf/rate_limit \u9884\u4f30\u9700\u8981\u8017\u8d39\u7684\u65f6\u95f4\u3002\u5982\u679c\u60a8\u6ca1\u6709\u8bbe\u7f6e\u8bfb\u5199\u901f\u7387\u9650\u5236\uff0c\u6839\u636e\u7ecf\u9a8c\uff0c\u901f\u7387\u5927\u7ea6\u4e3a50MB/S\u3002","title":"\u5168\u91cfCompaction\u64cd\u4f5c\u4f1a\u8017\u8d39\u591a\u957f\u65f6\u95f4\uff1f"},{"location":"8.service-tuning/compaction/#rate_limit","text":"\u4e0d\u53ef\u4ee5\u3002","title":"\u53ef\u4ee5\u52a8\u6001\u8c03\u6574rate_limit\u5417\uff1f"},{"location":"8.service-tuning/compaction/#compaction_6","text":"\u4e0d\u53ef\u4ee5\u505c\u6b62\uff0c\u5fc5\u987b\u7b49\u5f85\u64cd\u4f5c\u5b8c\u6210\u3002\u8fd9\u662fRocksDB\u7684\u9650\u5236\u3002","title":"\u5168\u91cfCompaction\u64cd\u4f5c\u5f00\u59cb\u540e\u53ef\u4ee5\u505c\u6b62\u5417\uff1f"},{"location":"8.service-tuning/load-balance/","text":"Storage\u8d1f\u8f7d\u5747\u8861 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528 BALANCE \u8bed\u53e5\u5e73\u8861\u5206\u7247\u548cRaft leader\u7684\u5206\u5e03\uff0c\u6216\u8005\u5220\u9664\u5197\u4f59\u7684Storage\u670d\u52a1\u5668\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4e3a\u4e86\u5e73\u8861\u5206\u7247\u548cRaft leader\u7684\u5206\u5e03\uff0cNebula Graph\u4e2d\u56fe\u7a7a\u95f4\u7684\u526f\u672c\u6570\u90fd\u5fc5\u987b\u5927\u4e8e1\u3002 \u5747\u8861\u5206\u7247\u5206\u5e03 \u00b6 BALANCE DATA \u8bed\u53e5\u4f1a\u5f00\u59cb\u4e00\u4e2a\u4efb\u52a1\uff0c\u5c06Nebula Graph\u96c6\u7fa4\u4e2d\u7684\u5206\u7247\u5e73\u5747\u5206\u914d\u5230\u6240\u6709Storage\u670d\u52a1\u5668\u3002\u901a\u8fc7\u521b\u5efa\u548c\u6267\u884c\u4e00\u7ec4\u5b50\u4efb\u52a1\u6765\u8fc1\u79fb\u6570\u636e\u548c\u5747\u8861\u5206\u7247\u5206\u5e03\u3002 \u7981\u6b62 \uff1a\u4e0d\u8981\u505c\u6b62\u96c6\u7fa4\u4e2d\u7684\u4efb\u4f55\u673a\u5668\u6216\u6539\u53d8\u673a\u5668\u7684IP\u5730\u5740\uff0c\u76f4\u5230\u6240\u6709\u5b50\u4efb\u52a1\u5b8c\u6210\uff0c\u5426\u5219\u540e\u7eed\u5b50\u4efb\u52a1\u4f1a\u5931\u8d25\u3002 \u793a\u4f8b \u00b6 \u4ee5\u6a2a\u5411\u6269\u5bb9Nebula Graph\u4e3a\u4f8b\uff0c\u96c6\u7fa4\u4e2d\u589e\u52a0\u65b0\u7684Storage\u670d\u52a1\u5668\u540e\uff0c\u65b0\u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u5206\u7247\u3002 \u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u3002 nebual> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 4 | \"basketballplayer:4\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:8\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ \u6267\u884c\u547d\u4ee4 BALANCE DATA \u5c06\u6240\u6709\u5206\u7247\u5747\u8861\u5206\u5e03\u3002 nebula> BALANCE DATA; +------------+ | ID | +------------+ | 1614237867 | +------------+ \u6839\u636e\u8fd4\u56de\u7684\u4efb\u52a1ID\uff0c\u6267\u884c\u547d\u4ee4 BALANCE DATA <balance_id> \u68c0\u67e5\u4efb\u52a1\u72b6\u6001\u3002 nebula> BALANCE DATA 1614237867; +--------------------------------------------------------------+-------------------+ | balanceId, spaceId:partId, src->dst | status | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:1, storaged1:9779->storaged3:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:1, storaged2:9779->storaged4:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:2, storaged1:9779->storaged3:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ ... +--------------------------------------------------------------+-------------------+ | \"Total:22, Succeeded:22, Failed:0, In Progress:0, Invalid:0\" | 100 | +--------------------------------------------------------------+-------------------+ \u7b49\u5f85\u6240\u6709\u5b50\u4efb\u52a1\u5b8c\u6210\uff0c\u8d1f\u8f7d\u5747\u8861\u8fdb\u7a0b\u7ed3\u675f\uff0c\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u786e\u8ba4\u5206\u7247\u5df2\u7ecf\u5747\u8861\u5206\u5e03\u3002 \u8bf4\u660e \uff1a BALANCE DATA \u4e0d\u4f1a\u5747\u8861leader\u7684\u5206\u5e03\u3002\u5747\u8861leader\u8bf7\u53c2\u89c1 \u5747\u8861leader\u5206\u5e03 \u3002 nebula> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 4 | \"basketballplayer:4\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:8\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ \u5982\u679c\u6709\u5b50\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6267\u884c BALANCE DATA \u3002\u5982\u679c\u91cd\u505a\u8d1f\u8f7d\u5747\u8861\u4ecd\u7136\u4e0d\u80fd\u89e3\u51b3\u95ee\u9898\uff0c\u8bf7\u5230 Nebula Graph\u793e\u533a \u5bfb\u6c42\u5e2e\u52a9\u3002 \u505c\u6b62\u8d1f\u8f7d\u5747\u8861 \u00b6 \u505c\u6b62\u8d1f\u8f7d\u5747\u8861\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 BALANCE DATA STOP \u3002 \u5982\u679c\u6ca1\u6709\u6b63\u5728\u6267\u884c\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u6709\u6b63\u5728\u6267\u884c\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u4f1a\u8fd4\u56de\u505c\u6b62\u7684\u4efb\u52a1ID\uff08 balance_id \uff09\u3002 BALANCE DATA STOP \u4e0d\u4f1a\u505c\u6b62\u6b63\u5728\u6267\u884c\u7684\u5b50\u4efb\u52a1\uff0c\u800c\u662f\u53d6\u6d88\u6240\u6709\u540e\u7eed\u5b50\u4efb\u52a1\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 BALANCE DATA <balance_id> \u68c0\u67e5\u505c\u6b62\u7684\u4efb\u52a1\u72b6\u6001\u3002 \u4e00\u65e6\u6240\u6709\u5b50\u4efb\u52a1\u90fd\u5b8c\u6210\u6216\u505c\u6b62\uff0c\u60a8\u53ef\u4ee5\u518d\u6b21\u6267\u884c\u547d\u4ee4 BALANCE DATA \u3002 \u5982\u679c\u524d\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u7684\u4efb\u4f55\u4e00\u4e2a\u5b50\u4efb\u52a1\u5931\u8d25\uff0cNebula Graph\u4f1a\u91cd\u65b0\u542f\u52a8\u4e4b\u524d\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u3002 \u5982\u679c\u524d\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u7684\u4efb\u4f55\u4e00\u4e2a\u5b50\u4efb\u52a1\u90fd\u6ca1\u6709\u5931\u8d25\uff0cNebula Graph\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u3002 \u79fb\u9664Storage\u670d\u52a1\u5668 \u00b6 \u79fb\u9664\u6307\u5b9a\u7684Storage\u670d\u52a1\u5668\u6765\u7f29\u5c0f\u96c6\u7fa4\u89c4\u6a21\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BALANCE DATA REMOVE <host_list> \u3002 \u793a\u4f8b \u00b6 \u5982\u679c\u9700\u8981\u79fb\u9664\u4ee5\u4e0b\u4e24\u53f0Storage\u670d\u52a1\u5668\u3002 \u670d\u52a1\u5668\u540d\u79f0 IP\u5730\u5740 \u7aef\u53e3 storage3 192.168.0.8 19779 storage4 192.168.0.9 19779 \u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a BALANCE DATA REMOVE 192.168.0.8:19779,192.168.0.9:19779; Nebula Graph\u5c06\u542f\u52a8\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u8fc1\u79fbstorage3\u548cstorage4\u4e2d\u7684\u5206\u7247\uff0c\u7136\u540e\u5c06\u670d\u52a1\u5668\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\u3002 \u5747\u8861leader\u5206\u5e03 \u00b6 BALANCE DATA \u53ea\u80fd\u5747\u8861\u5206\u7247\u5206\u5e03\uff0c\u4e0d\u80fd\u5747\u8861Raft leader\u5206\u5e03\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BALANCE LEADER \u5747\u8861leader\u5206\u5e03\u3002 \u793a\u4f8b \u00b6 nebula> BALANCE LEADER; \u60a8\u53ef\u4ee5\u6267\u884c SHOW HOSTS \u68c0\u67e5\u7ed3\u679c\u3002 nebula> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+","title":"Storage\u8d1f\u8f7d\u5747\u8861"},{"location":"8.service-tuning/load-balance/#storage","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528 BALANCE \u8bed\u53e5\u5e73\u8861\u5206\u7247\u548cRaft leader\u7684\u5206\u5e03\uff0c\u6216\u8005\u5220\u9664\u5197\u4f59\u7684Storage\u670d\u52a1\u5668\u3002","title":"Storage\u8d1f\u8f7d\u5747\u8861"},{"location":"8.service-tuning/load-balance/#_1","text":"\u4e3a\u4e86\u5e73\u8861\u5206\u7247\u548cRaft leader\u7684\u5206\u5e03\uff0cNebula Graph\u4e2d\u56fe\u7a7a\u95f4\u7684\u526f\u672c\u6570\u90fd\u5fc5\u987b\u5927\u4e8e1\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"8.service-tuning/load-balance/#_2","text":"BALANCE DATA \u8bed\u53e5\u4f1a\u5f00\u59cb\u4e00\u4e2a\u4efb\u52a1\uff0c\u5c06Nebula Graph\u96c6\u7fa4\u4e2d\u7684\u5206\u7247\u5e73\u5747\u5206\u914d\u5230\u6240\u6709Storage\u670d\u52a1\u5668\u3002\u901a\u8fc7\u521b\u5efa\u548c\u6267\u884c\u4e00\u7ec4\u5b50\u4efb\u52a1\u6765\u8fc1\u79fb\u6570\u636e\u548c\u5747\u8861\u5206\u7247\u5206\u5e03\u3002 \u7981\u6b62 \uff1a\u4e0d\u8981\u505c\u6b62\u96c6\u7fa4\u4e2d\u7684\u4efb\u4f55\u673a\u5668\u6216\u6539\u53d8\u673a\u5668\u7684IP\u5730\u5740\uff0c\u76f4\u5230\u6240\u6709\u5b50\u4efb\u52a1\u5b8c\u6210\uff0c\u5426\u5219\u540e\u7eed\u5b50\u4efb\u52a1\u4f1a\u5931\u8d25\u3002","title":"\u5747\u8861\u5206\u7247\u5206\u5e03"},{"location":"8.service-tuning/load-balance/#_3","text":"\u4ee5\u6a2a\u5411\u6269\u5bb9Nebula Graph\u4e3a\u4f8b\uff0c\u96c6\u7fa4\u4e2d\u589e\u52a0\u65b0\u7684Storage\u670d\u52a1\u5668\u540e\uff0c\u65b0\u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u5206\u7247\u3002 \u6267\u884c\u547d\u4ee4 SHOW HOSTS \u68c0\u67e5\u5206\u7247\u7684\u5206\u5e03\u3002 nebual> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 4 | \"basketballplayer:4\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:8\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:15\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"No valid partition\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ \u6267\u884c\u547d\u4ee4 BALANCE DATA \u5c06\u6240\u6709\u5206\u7247\u5747\u8861\u5206\u5e03\u3002 nebula> BALANCE DATA; +------------+ | ID | +------------+ | 1614237867 | +------------+ \u6839\u636e\u8fd4\u56de\u7684\u4efb\u52a1ID\uff0c\u6267\u884c\u547d\u4ee4 BALANCE DATA <balance_id> \u68c0\u67e5\u4efb\u52a1\u72b6\u6001\u3002 nebula> BALANCE DATA 1614237867; +--------------------------------------------------------------+-------------------+ | balanceId, spaceId:partId, src->dst | status | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:1, storaged1:9779->storaged3:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:1, storaged2:9779->storaged4:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ | \"[1614237867, 11:2, storaged1:9779->storaged3:9779]\" | \"SUCCEEDED\" | +--------------------------------------------------------------+-------------------+ ... +--------------------------------------------------------------+-------------------+ | \"Total:22, Succeeded:22, Failed:0, In Progress:0, Invalid:0\" | 100 | +--------------------------------------------------------------+-------------------+ \u7b49\u5f85\u6240\u6709\u5b50\u4efb\u52a1\u5b8c\u6210\uff0c\u8d1f\u8f7d\u5747\u8861\u8fdb\u7a0b\u7ed3\u675f\uff0c\u6267\u884c\u547d\u4ee4 SHOW HOSTS \u786e\u8ba4\u5206\u7247\u5df2\u7ecf\u5747\u8861\u5206\u5e03\u3002 \u8bf4\u660e \uff1a BALANCE DATA \u4e0d\u4f1a\u5747\u8861leader\u7684\u5206\u5e03\u3002\u5747\u8861leader\u8bf7\u53c2\u89c1 \u5747\u8861leader\u5206\u5e03 \u3002 nebula> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 4 | \"basketballplayer:4\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 8 | \"basketballplayer:8\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 0 | \"No valid partition\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ \u5982\u679c\u6709\u5b50\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6267\u884c BALANCE DATA \u3002\u5982\u679c\u91cd\u505a\u8d1f\u8f7d\u5747\u8861\u4ecd\u7136\u4e0d\u80fd\u89e3\u51b3\u95ee\u9898\uff0c\u8bf7\u5230 Nebula Graph\u793e\u533a \u5bfb\u6c42\u5e2e\u52a9\u3002","title":"\u793a\u4f8b"},{"location":"8.service-tuning/load-balance/#_4","text":"\u505c\u6b62\u8d1f\u8f7d\u5747\u8861\uff0c\u8bf7\u6267\u884c\u547d\u4ee4 BALANCE DATA STOP \u3002 \u5982\u679c\u6ca1\u6709\u6b63\u5728\u6267\u884c\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u4f1a\u8fd4\u56de\u9519\u8bef\u3002 \u5982\u679c\u6709\u6b63\u5728\u6267\u884c\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u4f1a\u8fd4\u56de\u505c\u6b62\u7684\u4efb\u52a1ID\uff08 balance_id \uff09\u3002 BALANCE DATA STOP \u4e0d\u4f1a\u505c\u6b62\u6b63\u5728\u6267\u884c\u7684\u5b50\u4efb\u52a1\uff0c\u800c\u662f\u53d6\u6d88\u6240\u6709\u540e\u7eed\u5b50\u4efb\u52a1\u3002\u60a8\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 BALANCE DATA <balance_id> \u68c0\u67e5\u505c\u6b62\u7684\u4efb\u52a1\u72b6\u6001\u3002 \u4e00\u65e6\u6240\u6709\u5b50\u4efb\u52a1\u90fd\u5b8c\u6210\u6216\u505c\u6b62\uff0c\u60a8\u53ef\u4ee5\u518d\u6b21\u6267\u884c\u547d\u4ee4 BALANCE DATA \u3002 \u5982\u679c\u524d\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u7684\u4efb\u4f55\u4e00\u4e2a\u5b50\u4efb\u52a1\u5931\u8d25\uff0cNebula Graph\u4f1a\u91cd\u65b0\u542f\u52a8\u4e4b\u524d\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u3002 \u5982\u679c\u524d\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u7684\u4efb\u4f55\u4e00\u4e2a\u5b50\u4efb\u52a1\u90fd\u6ca1\u6709\u5931\u8d25\uff0cNebula Graph\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u7684\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\u3002","title":"\u505c\u6b62\u8d1f\u8f7d\u5747\u8861"},{"location":"8.service-tuning/load-balance/#storage_1","text":"\u79fb\u9664\u6307\u5b9a\u7684Storage\u670d\u52a1\u5668\u6765\u7f29\u5c0f\u96c6\u7fa4\u89c4\u6a21\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BALANCE DATA REMOVE <host_list> \u3002","title":"\u79fb\u9664Storage\u670d\u52a1\u5668"},{"location":"8.service-tuning/load-balance/#_5","text":"\u5982\u679c\u9700\u8981\u79fb\u9664\u4ee5\u4e0b\u4e24\u53f0Storage\u670d\u52a1\u5668\u3002 \u670d\u52a1\u5668\u540d\u79f0 IP\u5730\u5740 \u7aef\u53e3 storage3 192.168.0.8 19779 storage4 192.168.0.9 19779 \u8bf7\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a BALANCE DATA REMOVE 192.168.0.8:19779,192.168.0.9:19779; Nebula Graph\u5c06\u542f\u52a8\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u4efb\u52a1\uff0c\u8fc1\u79fbstorage3\u548cstorage4\u4e2d\u7684\u5206\u7247\uff0c\u7136\u540e\u5c06\u670d\u52a1\u5668\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\u3002","title":"\u793a\u4f8b"},{"location":"8.service-tuning/load-balance/#leader","text":"BALANCE DATA \u53ea\u80fd\u5747\u8861\u5206\u7247\u5206\u5e03\uff0c\u4e0d\u80fd\u5747\u8861Raft leader\u5206\u5e03\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BALANCE LEADER \u5747\u8861leader\u5206\u5e03\u3002","title":"\u5747\u8861leader\u5206\u5e03"},{"location":"8.service-tuning/load-balance/#_6","text":"nebula> BALANCE LEADER; \u60a8\u53ef\u4ee5\u6267\u884c SHOW HOSTS \u68c0\u67e5\u7ed3\u679c\u3002 nebula> SHOW HOSTS; +-------------+------+----------+--------------+-----------------------------------+------------------------+ | Host | Port | Status | Leader count | Leader distribution | Partition distribution | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged0\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged1\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged2\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged3\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"storaged4\" | 9779 | \"ONLINE\" | 3 | \"basketballplayer:3\" | \"basketballplayer:9\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+ | \"Total\" | | | 15 | \"basketballplayer:15\" | \"basketballplayer:45\" | +-------------+------+----------+--------------+-----------------------------------+------------------------+","title":"\u793a\u4f8b"},{"location":"nebula-algorithm/na-ug-compile/","text":"\u7f16\u8bd1 nebula-algorithm \u00b6 \u524d\u63d0\u6761\u4ef6 \u00b6 \u7f16\u8bd1 nebula-algorithm \u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u7f16\u8bd1 Nebula Spark Connector \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5207\u6362\u5230 nebula-java/tools/nebula-algorithm \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1\u6253\u5305 nebula-algorithm\u3002 $ cd nebula-java/tools/nebula-algorithm $ mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 . \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.682519136.timestamp \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-algorithm-1.x.y-tests.jar \u251c\u2500\u2500 nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 original-nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.682519136.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-algorithm-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u5728\u4f7f\u7528 nebula-algorithm \u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003 \u4f7f\u7528\u793a\u4f8b \u3002","title":"\u7f16\u8bd1 nebula-algorithm"},{"location":"nebula-algorithm/na-ug-compile/#nebula-algorithm","text":"","title":"\u7f16\u8bd1 nebula-algorithm"},{"location":"nebula-algorithm/na-ug-compile/#_1","text":"\u7f16\u8bd1 nebula-algorithm \u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u7f16\u8bd1 Nebula Spark Connector \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-algorithm/na-ug-compile/#_2","text":"\u5207\u6362\u5230 nebula-java/tools/nebula-algorithm \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1\u6253\u5305 nebula-algorithm\u3002 $ cd nebula-java/tools/nebula-algorithm $ mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002 . \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.682519136.timestamp \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-algorithm-1.x.y-tests.jar \u251c\u2500\u2500 nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 original-nebula-algorithm-1.x.y.jar \u251c\u2500\u2500 test-classes \u2514\u2500\u2500 test-classes.682519136.timestamp \u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-algorithm-1.x.y.jar \u6587\u4ef6\u3002 \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-algorithm/na-ug-compile/#_3","text":"\u5728\u4f7f\u7528 nebula-algorithm \u65f6\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 target/classes/application.conf \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003 \u4f7f\u7528\u793a\u4f8b \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-algorithm/na-ug-example/","text":"\u4f7f\u7528\u793a\u4f8b \u00b6 \u4e00\u822c\uff0c\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 nebula-algorithm\uff1a \u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4fee\u6539 nebula-algorithm \u7684\u914d\u7f6e\u3002 \u8fd0\u884c nebula-algorithm\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 nebula-algorithm\u3002 \u793a\u4f8b\u73af\u5883 \u00b6 \u4e09\u53f0\u865a\u62df\u673a\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a CPU\uff1aIntel(R) Xeon(R) Platinum 8260M CPU @ 2.30GHz Processors\uff1a32 CPU Cores\uff1a16 \u5185\u5b58\uff1a128 GB \u8f6f\u4ef6\u73af\u5883\uff1a Spark\uff1aspark-2.4.6-bin-hadoop2.7 \u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 yarn V2.10.0\uff1a\u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 Nebula Graph V1.1.0\uff1a\u5206\u5e03\u5f0f\u90e8\u7f72\uff0c\u9ed8\u8ba4\u914d\u7f6e \u793a\u4f8b\u6570\u636e \u00b6 \u5728\u672c\u793a\u4f8b\u4e2d\uff0cNebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0\u4e3a algoTest\uff0cSchema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e PERSON \u65e0 \u8fb9\u7c7b\u578b FRIEND likeness ( double ) \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u64cd\u4f5c\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 nebula-algorithm \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 nebula-algorithm \u3002 Nebula Graph \u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u6709\u56fe\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u5c06\u5176\u4ed6\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\uff0c\u4f8b\u5982 Spark Writer \u3002 \u5f53\u524d\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5 Spark \u5e76\u5df2\u542f\u52a8 Spark \u670d\u52a1\u3002 \u7b2c 1 \u6b65. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 \u6839\u636e\u9879\u76ee\u4e2d\u7684 src/main/resources/application.conf \u6587\u4ef6\u4fee\u6539 nebula-algorithm \u914d\u7f6e\u3002 { # Spark \u76f8\u5173\u8bbe\u7f6e spark: { app: { # Spark \u5e94\u7528\u7a0b\u5e8f\u7684\u540d\u79f0\uff0c\u53ef\u9009\u9879\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u60a8\u5373\u5c06\u8fd0\u884c\u7684\u7b97\u6cd5\u540d\u79f0\uff0c\u4f8b\u5982 PageRank name: PageRank # Spark \u4e2d\u5206\u533a\u6570\u91cf\uff0c\u53ef\u9009\u9879\u3002 partitionNum: 12 } master: local # \u53ef\u9009\u9879\uff0c\u5982\u679c\u8fd9\u91cc\u672a\u8bbe\u7f6e\uff0c\u5219\u5728\u6267\u884c spark-submit spark \u4efb\u52a1\u65f6\u8bbe\u7f6e conf: { driver-memory: 20g executor-memory: 100g executor-cores: 3 cores-max:6 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { # \u5fc5\u9700\u3002Meta \u670d\u52a1\u7684\u4fe1\u606f addresses: \"127.0.0.1:45500\" # \u5982\u679c\u6709\u591a\u4e2a Meta \u670d\u52a1\u590d\u672c\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 user: root pswd: nebula space: algoTest # \u5fc5\u9700\u3002\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\u7684\u5206\u533a\u6570\u91cf\u3002\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\uff0c\u5219\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c 100 partitionNumber: 100 # \u5fc5\u9700\u3002Nebula Graph \u7684\u8fb9\u7c7b\u578b\uff0c\u5982\u679c\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 labels: [\"FRIENDS\"] hasWeight: true # \u5982\u679c hasWeight \u914d\u7f6e\u4e3a true\uff0c\u5219\u5fc5\u987b\u914d\u7f6e weightCols\u3002\u6839\u636e labels \u5217\u51fa\u7684\u8fb9\u7c7b\u578b\uff0c\u6309\u987a\u5e8f\u5728 weightCols \u91cc\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4e00\u79cd\u8fb9\u7c7b\u578b\u4ec5\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027 # \u8bf4\u660e\uff1anebula-algorithm \u4ec5\u652f\u6301\u540c\u6784\u56fe\uff0c\u6240\u4ee5\uff0cweightCols \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u800c\u4e14\u5747\u4e3a\u6570\u5b57\u7c7b\u578b weightCols: [\"likeness\"] # \u5982\u679c labels \u91cc\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u76f8\u5e94\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 } algorithm: { # \u6307\u5b9a\u5373\u5c06\u6267\u884c\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e3a pagerank \u6216 louvain executeAlgo: louvain # \u6307\u5b9a\u7b97\u6cd5\u7ed3\u679c\u7684\u5b58\u50a8\u8def\u5f84 path: /tmp # \u5982\u679c\u9009\u62e9\u7684\u662f PageRank\uff0c\u5219\u914d\u7f6e pagerank \u76f8\u5173\u53c2\u6570 #pagerank: { # maxIter: 20 # resetProb: 0.15 # \u9ed8\u8ba4\u503c\u4e3a 0.15 #} # \u5982\u679c\u9009\u62e9\u7684\u662f louvain\uff0c\u5219\u914d\u7f6e louvain \u76f8\u5173\u53c2\u6570 #louvain: { # maxIter: 20 # internalIter: 10 # tol: 0.5 #} } } \u7b2c 2 \u6b65. \u6267\u884c nebula-algorithm \u00b6 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u63d0\u4ea4 nebula-algorithm \u5e94\u7528\u7a0b\u5e8f\u3002 spark-submit --master \"local\" --class com.vesoft.nebula.tools.algorithm.Main /your-jar-path/nebula-algorithm-1.x.y.jar -p /your-application.conf-path/application.conf \u5176\u4e2d\uff0c --master \uff1a\u6307\u5b9a Spark \u96c6\u7fa4\u4e2dMaster \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 master-urls \u3002 --class \uff1a\u6307\u5b9a Driver \u4e3b\u7c7b\u3002 \u6307\u5b9a nebula-algorithm JAR \u6587\u4ef6\u7684\u8def\u5f84\uff0cJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 -p \uff1aSpark \u914d\u7f6e\u6587\u4ef6\u6587\u4ef6\u8def\u5f84\u3002 \u5176\u4ed6\uff1a\u5982\u679c\u60a8\u672a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e Spark \u7684\u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff08 conf \uff09\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u547d\u4ee4\u4e2d\u6307\u5b9a\u3002\u4f8b\u5982\uff0c\u672c\u793a\u4f8b\u4e2d\uff0c --driver-memory=20G --executor-memory=100G --executor-cores=3 \u3002 \u6d4b\u8bd5\u7ed3\u679c \u00b6 \u6309\u672c\u793a\u4f8b\u8bbe\u7f6e\u7684 Spark \u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u62e5\u6709\u4e00\u4ebf\u4e2a\u6570\u636e\u7684\u6570\u636e\u96c6\uff1a PageRank \u7684\u6267\u884c\u65f6\u95f4\uff08PageRank \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 21 \u5206\u949f Louvain \u7684\u6267\u884c\u65f6\u95f4\uff08Reader + Louvain \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 1.3 \u5c0f\u65f6","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"nebula-algorithm/na-ug-example/#_1","text":"\u4e00\u822c\uff0c\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 nebula-algorithm\uff1a \u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4fee\u6539 nebula-algorithm \u7684\u914d\u7f6e\u3002 \u8fd0\u884c nebula-algorithm\u3002 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 nebula-algorithm\u3002","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"nebula-algorithm/na-ug-example/#_2","text":"\u4e09\u53f0\u865a\u62df\u673a\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a CPU\uff1aIntel(R) Xeon(R) Platinum 8260M CPU @ 2.30GHz Processors\uff1a32 CPU Cores\uff1a16 \u5185\u5b58\uff1a128 GB \u8f6f\u4ef6\u73af\u5883\uff1a Spark\uff1aspark-2.4.6-bin-hadoop2.7 \u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 yarn V2.10.0\uff1a\u4e09\u4e2a\u8282\u70b9\u96c6\u7fa4 Nebula Graph V1.1.0\uff1a\u5206\u5e03\u5f0f\u90e8\u7f72\uff0c\u9ed8\u8ba4\u914d\u7f6e","title":"\u793a\u4f8b\u73af\u5883"},{"location":"nebula-algorithm/na-ug-example/#_3","text":"\u5728\u672c\u793a\u4f8b\u4e2d\uff0cNebula Graph \u56fe\u7a7a\u95f4\u540d\u79f0\u4e3a algoTest\uff0cSchema \u8981\u7d20\u5982\u4e0b\u8868\u6240\u793a\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027 \u6807\u7b7e PERSON \u65e0 \u8fb9\u7c7b\u578b FRIEND likeness ( double )","title":"\u793a\u4f8b\u6570\u636e"},{"location":"nebula-algorithm/na-ug-example/#_4","text":"\u5728\u64cd\u4f5c\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u5df2\u7ecf\u5b8c\u6210 nebula-algorithm \u7f16\u8bd1\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 nebula-algorithm \u3002 Nebula Graph \u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u6709\u56fe\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u5c06\u5176\u4ed6\u6765\u6e90\u7684\u6570\u636e\u5bfc\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\uff0c\u4f8b\u5982 Spark Writer \u3002 \u5f53\u524d\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5 Spark \u5e76\u5df2\u542f\u52a8 Spark \u670d\u52a1\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-algorithm/na-ug-example/#1","text":"\u6839\u636e\u9879\u76ee\u4e2d\u7684 src/main/resources/application.conf \u6587\u4ef6\u4fee\u6539 nebula-algorithm \u914d\u7f6e\u3002 { # Spark \u76f8\u5173\u8bbe\u7f6e spark: { app: { # Spark \u5e94\u7528\u7a0b\u5e8f\u7684\u540d\u79f0\uff0c\u53ef\u9009\u9879\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u60a8\u5373\u5c06\u8fd0\u884c\u7684\u7b97\u6cd5\u540d\u79f0\uff0c\u4f8b\u5982 PageRank name: PageRank # Spark \u4e2d\u5206\u533a\u6570\u91cf\uff0c\u53ef\u9009\u9879\u3002 partitionNum: 12 } master: local # \u53ef\u9009\u9879\uff0c\u5982\u679c\u8fd9\u91cc\u672a\u8bbe\u7f6e\uff0c\u5219\u5728\u6267\u884c spark-submit spark \u4efb\u52a1\u65f6\u8bbe\u7f6e conf: { driver-memory: 20g executor-memory: 100g executor-cores: 3 cores-max:6 } } # Nebula Graph \u76f8\u5173\u914d\u7f6e nebula: { # \u5fc5\u9700\u3002Meta \u670d\u52a1\u7684\u4fe1\u606f addresses: \"127.0.0.1:45500\" # \u5982\u679c\u6709\u591a\u4e2a Meta \u670d\u52a1\u590d\u672c\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 user: root pswd: nebula space: algoTest # \u5fc5\u9700\u3002\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u8bbe\u7f6e\u7684\u5206\u533a\u6570\u91cf\u3002\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\uff0c\u5219\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c 100 partitionNumber: 100 # \u5fc5\u9700\u3002Nebula Graph \u7684\u8fb9\u7c7b\u578b\uff0c\u5982\u679c\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 labels: [\"FRIENDS\"] hasWeight: true # \u5982\u679c hasWeight \u914d\u7f6e\u4e3a true\uff0c\u5219\u5fc5\u987b\u914d\u7f6e weightCols\u3002\u6839\u636e labels \u5217\u51fa\u7684\u8fb9\u7c7b\u578b\uff0c\u6309\u987a\u5e8f\u5728 weightCols \u91cc\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u4e00\u79cd\u8fb9\u7c7b\u578b\u4ec5\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027 # \u8bf4\u660e\uff1anebula-algorithm \u4ec5\u652f\u6301\u540c\u6784\u56fe\uff0c\u6240\u4ee5\uff0cweightCols \u4e2d\u5217\u51fa\u7684\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u800c\u4e14\u5747\u4e3a\u6570\u5b57\u7c7b\u578b weightCols: [\"likeness\"] # \u5982\u679c labels \u91cc\u6709\u591a\u79cd\u8fb9\u7c7b\u578b\uff0c\u5219\u76f8\u5e94\u8bbe\u7f6e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u4e4b\u95f4\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00 } algorithm: { # \u6307\u5b9a\u5373\u5c06\u6267\u884c\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e3a pagerank \u6216 louvain executeAlgo: louvain # \u6307\u5b9a\u7b97\u6cd5\u7ed3\u679c\u7684\u5b58\u50a8\u8def\u5f84 path: /tmp # \u5982\u679c\u9009\u62e9\u7684\u662f PageRank\uff0c\u5219\u914d\u7f6e pagerank \u76f8\u5173\u53c2\u6570 #pagerank: { # maxIter: 20 # resetProb: 0.15 # \u9ed8\u8ba4\u503c\u4e3a 0.15 #} # \u5982\u679c\u9009\u62e9\u7684\u662f louvain\uff0c\u5219\u914d\u7f6e louvain \u76f8\u5173\u53c2\u6570 #louvain: { # maxIter: 20 # internalIter: 10 # tol: 0.5 #} } }","title":"\u7b2c 1 \u6b65. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"nebula-algorithm/na-ug-example/#2_nebula-algorithm","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u63d0\u4ea4 nebula-algorithm \u5e94\u7528\u7a0b\u5e8f\u3002 spark-submit --master \"local\" --class com.vesoft.nebula.tools.algorithm.Main /your-jar-path/nebula-algorithm-1.x.y.jar -p /your-application.conf-path/application.conf \u5176\u4e2d\uff0c --master \uff1a\u6307\u5b9a Spark \u96c6\u7fa4\u4e2dMaster \u8fdb\u7a0b\u7684 URL\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 master-urls \u3002 --class \uff1a\u6307\u5b9a Driver \u4e3b\u7c7b\u3002 \u6307\u5b9a nebula-algorithm JAR \u6587\u4ef6\u7684\u8def\u5f84\uff0cJAR \u6587\u4ef6\u7248\u672c\u53f7\u4ee5\u60a8\u5b9e\u9645\u7f16\u8bd1\u5f97\u5230\u7684 JAR \u6587\u4ef6\u540d\u79f0\u4e3a\u51c6\u3002 -p \uff1aSpark \u914d\u7f6e\u6587\u4ef6\u6587\u4ef6\u8def\u5f84\u3002 \u5176\u4ed6\uff1a\u5982\u679c\u60a8\u672a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e Spark \u7684\u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff08 conf \uff09\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u547d\u4ee4\u4e2d\u6307\u5b9a\u3002\u4f8b\u5982\uff0c\u672c\u793a\u4f8b\u4e2d\uff0c --driver-memory=20G --executor-memory=100G --executor-cores=3 \u3002","title":"\u7b2c 2 \u6b65. \u6267\u884c nebula-algorithm"},{"location":"nebula-algorithm/na-ug-example/#_5","text":"\u6309\u672c\u793a\u4f8b\u8bbe\u7f6e\u7684 Spark \u4efb\u52a1\u8d44\u6e90\u5206\u914d\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u62e5\u6709\u4e00\u4ebf\u4e2a\u6570\u636e\u7684\u6570\u636e\u96c6\uff1a PageRank \u7684\u6267\u884c\u65f6\u95f4\uff08PageRank \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 21 \u5206\u949f Louvain \u7684\u6267\u884c\u65f6\u95f4\uff08Reader + Louvain \u7b97\u6cd5\u6267\u884c\u65f6\u95f4\uff09\u4e3a 1.3 \u5c0f\u65f6","title":"\u6d4b\u8bd5\u7ed3\u679c"},{"location":"nebula-algorithm/na-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 nebula-algorithm \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.0.1 \u548c v1.1.0\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0.0-alpha\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-algorithm/na-ug-limitations/#_1","text":"nebula-algorithm \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.0.1 \u548c v1.1.0\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0.0-alpha\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-algorithm/na-ug-toc/","text":"nebula-algorithm \u7528\u6237\u624b\u518c \u00b6 \u4ec0\u4e48\u662f nebula-algorithm \u4f7f\u7528\u9650\u5236 \u7f16\u8bd1 nebula-algorithm \u4f7f\u7528\u793a\u4f8b","title":"nebula-algorithm \u7528\u6237\u624b\u518c"},{"location":"nebula-algorithm/na-ug-toc/#nebula-algorithm","text":"\u4ec0\u4e48\u662f nebula-algorithm \u4f7f\u7528\u9650\u5236 \u7f16\u8bd1 nebula-algorithm \u4f7f\u7528\u793a\u4f8b","title":"nebula-algorithm \u7528\u6237\u624b\u518c"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/","text":"\u4ec0\u4e48\u662f nebula-algorithm \u00b6 nebula-algorithm \u662f\u4e00\u6b3e\u57fa\u4e8e GraphX \u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7684\u56fe\u8ba1\u7b97\u7b97\u6cd5\u3002\u4f7f\u7528 nebula-algorithm\uff0c\u60a8\u80fd\u4ee5\u63d0\u4ea4 Spark \u4efb\u52a1\u7684\u5f62\u5f0f\u5bf9 Nebula Graph \u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u6267\u884c\u56fe\u8ba1\u7b97\u3002 \u76ee\u524d nebula-algorithm \u4ec5\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7b97\u6cd5\u3002\u5982\u679c\u60a8\u6709\u5176\u4ed6\u9700\u6c42\uff0c\u53ef\u4ee5\u53c2\u8003\u672c\u9879\u76ee\uff0c\u7f16\u5199 Spark \u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 GraphX \u81ea\u5e26\u7684\u5176\u4ed6\u56fe\u7b97\u6cd5\uff0c\u5982 LabelPropagation\u3001ConnectedComponent \u7b49\u3002 \u5b9e\u73b0\u65b9\u6cd5 \u00b6 nebula-algorithm \u6839\u636e\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u56fe\u7b97\u6cd5\uff1a \u4ece Nebula Graph \u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u56fe\u6570\u636e\u5e76\u5904\u7406\u6210 DataFrame\u3002 \u5c06 DataFrame \u8f6c\u6362\u4e3a GraphX \u7684\u56fe\u3002 \u8c03\u7528 GraphX \u63d0\u4f9b\u7684\u56fe\u7b97\u6cd5\uff08\u4f8b\u5982 PageRank\uff09\u6216\u8005\u60a8\u81ea\u5df1\u5b9e\u73b0\u7684\u7b97\u6cd5\uff08\u4f8b\u5982 Louvain \u793e\u533a\u53d1\u73b0\uff09\u3002 \u8be6\u7ec6\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 LouvainAlgo.scala \u548c PageRankAlgo.scala \u3002 PageRank \u548c Louvain \u7b80\u4ecb \u00b6 PageRank \u00b6 GraphX \u7684 PageRank \u7b97\u6cd5\u57fa\u4e8e Pregel \u8ba1\u7b97\u6a21\u578b\uff0c\u8be5\u7b97\u6cd5\u6d41\u7a0b\u5305\u62ec 3 \u4e2a\u6b65\u9aa4\uff1a \u4e3a\u56fe\u4e2d\u6bcf\u4e2a\u9876\u70b9\uff08\u5982\u7f51\u9875\uff09\u8bbe\u7f6e\u4e00\u4e2a\u76f8\u540c\u7684\u521d\u59cb PageRank \u503c\u3002 \u7b2c\u4e00\u6b21\u8fed\u4ee3\uff1a\u6cbf\u8fb9\u53d1\u9001\u6d88\u606f\uff0c\u6bcf\u4e2a\u9876\u70b9\u6536\u5230\u6240\u6709\u5173\u8054\u8fb9\u4e0a\u90bb\u63a5\u70b9\uff08Adjacent Node\uff09\u7684\u4fe1\u606f\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684 PageRank \u503c\uff1b \u7b2c\u4e8c\u6b21\u8fed\u4ee3\uff1a\u7528\u8fd9\u7ec4\u65b0\u7684 PageRank \u6309\u4e0d\u540c\u7b97\u6cd5\u6a21\u5f0f\u5bf9\u5e94\u7684\u516c\u5f0f\u5f62\u6210\u8be5\u9876\u70b9\u65b0\u7684 PageRank\u3002 \u5173\u4e8e PageRank \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Wikipedia PageRank \u9875\u9762 \u3002 Louvain \u00b6 Louvain \u662f\u57fa\u4e8e\u6a21\u5757\u5ea6\uff08Modularity\uff09\u7684\u793e\u533a\u53d1\u73b0\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u5757\u5ea6\u6765\u8861\u91cf\u4e00\u4e2a\u793e\u533a\u7684\u7d27\u5bc6\u7a0b\u5ea6\uff0c\u5c5e\u4e8e\u56fe\u7684\u805a\u7c7b\u7b97\u6cd5\u3002\u5982\u679c\u4e00\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u67d0\u4e00\u793e\u533a\u4e2d\u4f7f\u8be5\u793e\u533a\u7684\u6a21\u5757\u5ea6\u76f8\u6bd4\u5176\u4ed6\u793e\u533a\u6709\u6700\u5927\u7a0b\u5ea6\u7684\u589e\u52a0\uff0c\u5219\u8be5\u9876\u70b9\u5c31\u5e94\u5f53\u5c5e\u4e8e\u8be5\u793e\u533a\u3002\u5982\u679c\u52a0\u5165\u5176\u5b83\u793e\u533a\u540e\u6ca1\u6709\u4f7f\u5176\u6a21\u5757\u5ea6\u589e\u52a0\uff0c\u5219\u7559\u5728\u81ea\u5df1\u5f53\u524d\u793e\u533a\u4e2d\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u8bba\u6587 \u300aFast unfolding of communities in large networks\u300b \u3002 Louvain \u7b97\u6cd5\u5305\u62ec\u4e24\u4e2a\u9636\u6bb5\uff0c\u5176\u6d41\u7a0b\u5c31\u662f\u8fd9\u4e24\u4e2a\u9636\u6bb5\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002 \u9636\u6bb5\u4e00\uff1a\u4e0d\u65ad\u5730\u904d\u5386\u7f51\u7edc\u56fe\u4e2d\u7684\u9876\u70b9\uff0c\u901a\u8fc7\u6bd4\u8f83\u9876\u70b9\u7ed9\u6bcf\u4e2a\u90bb\u5c45\u793e\u533a\u5e26\u6765\u7684\u6a21\u5757\u5ea6\u7684\u53d8\u5316\uff0c\u5c06\u5355\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u80fd\u591f\u4f7f Modulaity \u6a21\u5757\u5ea6\u6709\u6700\u5927\u589e\u91cf\u7684\u793e\u533a\u4e2d\u3002\u4f8b\u5982\uff0c\u9876\u70b9 v \u5206\u522b\u52a0\u5165\u5230\u793e\u533a A\u3001B\u3001C \u4e2d\uff0c\u4f7f\u5f97\u4e09\u4e2a\u793e\u533a\u7684\u6a21\u5757\u5ea6\u589e\u91cf\u4e3a -1\u30011\u30012\uff0c\u5219\u9876\u70b9 v \u6700\u7ec8\u5e94\u8be5\u52a0\u5165\u5230\u793e\u533a C \u4e2d\u3002 \u9636\u6bb5\u4e8c\uff1a\u5bf9\u7b2c\u4e00\u9636\u6bb5\u8fdb\u884c\u5904\u7406\uff0c\u5c06\u5c5e\u4e8e\u540c\u4e00\u793e\u533a\u7684\u9876\u70b9\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927\u7684\u8d85\u70b9\u91cd\u65b0\u6784\u9020\u7f51\u7edc\u56fe\uff0c\u5373\u4e00\u4e2a\u793e\u533a\u4f5c\u4e3a\u56fe\u7684\u4e00\u4e2a\u65b0\u7684\u9876\u70b9\u3002\u6b64\u65f6\u4e24\u4e2a\u8d85\u70b9\u4e4b\u95f4\u8fb9\u7684\u6743\u91cd\u662f\u4e24\u4e2a\u8d85\u70b9\u5185\u6240\u6709\u539f\u59cb\u9876\u70b9\u4e4b\u95f4\u76f8\u8fde\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\uff0c\u5373\u4e24\u4e2a\u793e\u533a\u4e4b\u95f4\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\u3002 \u6574\u4e2a Louvain \u7b97\u6cd5\u5c31\u662f\u4e0d\u65ad\u8fed\u4ee3\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u76f4\u5230\u7b97\u6cd5\u7a33\u5b9a\uff08\u56fe\u7684\u6a21\u5757\u5ea6\u4e0d\u518d\u53d8\u5316\uff09\u6216\u8005\u5230\u8fbe\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3002 \u4f7f\u7528\u573a\u666f \u00b6 \u60a8\u53ef\u4ee5\u5c06 PageRank \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u793e\u4ea4\u5e94\u7528\u7684\u76f8\u4f3c\u5ea6\u5185\u5bb9\u63a8\u8350\uff1a\u5728\u5bf9\u5fae\u535a\u3001\u5fae\u4fe1\u7b49\u793e\u4ea4\u5e73\u53f0\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\uff0c\u53ef\u4ee5\u57fa\u4e8e PageRank \u7b97\u6cd5\u6839\u636e\u7528\u6237\u901a\u5e38\u6d4f\u89c8\u7684\u4fe1\u606f\u4ee5\u53ca\u505c\u7559\u65f6\u95f4\u5b9e\u73b0\u57fa\u4e8e\u7528\u6237\u7684\u76f8\u4f3c\u5ea6\u7684\u5185\u5bb9\u63a8\u8350\u3002 \u5206\u6790\u7528\u6237\u793e\u4ea4\u5f71\u54cd\u529b\uff1a\u5728\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\u6839\u636e\u7528\u6237\u7684 PageRank \u503c\u8fdb\u884c\u7528\u6237\u5f71\u54cd\u529b\u5206\u6790\u3002 \u6587\u732e\u91cd\u8981\u6027\u7814\u7a76\uff1a\u6839\u636e\u6587\u732e\u7684 PageRank \u503c\u8bc4\u5224\u8be5\u6587\u732e\u7684\u8d28\u91cf\uff0cPageRank \u7b97\u6cd5\u5c31\u662f\u57fa\u4e8e\u8bc4\u5224\u6587\u732e\u8d28\u91cf\u7684\u60f3\u6cd5\u6765\u5b9e\u73b0\u8bbe\u8ba1\u3002 \u60a8\u53ef\u4ee5\u5c06 Louvain \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u91d1\u878d\u98ce\u63a7\uff1a\u5728\u91d1\u878d\u98ce\u63a7\u573a\u666f\u4e2d\u6839\u636e\u7528\u6237\u884c\u4e3a\u7279\u5f81\u8fdb\u884c\u56e2\u4f19\u8bc6\u522b\u3002 \u793e\u4ea4\u7f51\u7edc\uff1a\u57fa\u4e8e\u7f51\u7edc\u5173\u7cfb\u4e2d\u70b9\u5bf9\uff08\u4e00\u6761\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u9876\u70b9\uff09\u4e4b\u95f4\u5173\u8054\u7684\u5e7f\u5ea6\u548c\u5f3a\u5ea6\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5212\u5206\uff1b\u5bf9\u590d\u6742\u7f51\u7edc\u5206\u6790\u3001\u7535\u8bdd\u7f51\u7edc\u5206\u6790\u4eba\u7fa4\u4e4b\u95f4\u7684\u8054\u7cfb\u5bc6\u5207\u5ea6\u3002 \u63a8\u8350\u7cfb\u7edf\uff1a\u57fa\u4e8e\u7528\u6237\u5174\u8da3\u7231\u597d\u7684\u793e\u533a\u53d1\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u793e\u533a\u5e76\u7ed3\u5408\u534f\u540c\u8fc7\u6ee4\u7b49\u63a8\u8350\u7b97\u6cd5\u8fdb\u884c\u66f4\u7cbe\u786e\u6709\u6548\u7684\u4e2a\u6027\u5316\u63a8\u8350\u3002","title":"\u4ec0\u4e48\u662f nebula-algorithm"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#nebula-algorithm","text":"nebula-algorithm \u662f\u4e00\u6b3e\u57fa\u4e8e GraphX \u7684 Spark \u5e94\u7528\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7684\u56fe\u8ba1\u7b97\u7b97\u6cd5\u3002\u4f7f\u7528 nebula-algorithm\uff0c\u60a8\u80fd\u4ee5\u63d0\u4ea4 Spark \u4efb\u52a1\u7684\u5f62\u5f0f\u5bf9 Nebula Graph \u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u6267\u884c\u56fe\u8ba1\u7b97\u3002 \u76ee\u524d nebula-algorithm \u4ec5\u63d0\u4f9b\u4e86 PageRank \u548c Louvain \u793e\u533a\u53d1\u73b0\u7b97\u6cd5\u3002\u5982\u679c\u60a8\u6709\u5176\u4ed6\u9700\u6c42\uff0c\u53ef\u4ee5\u53c2\u8003\u672c\u9879\u76ee\uff0c\u7f16\u5199 Spark \u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 GraphX \u81ea\u5e26\u7684\u5176\u4ed6\u56fe\u7b97\u6cd5\uff0c\u5982 LabelPropagation\u3001ConnectedComponent \u7b49\u3002","title":"\u4ec0\u4e48\u662f nebula-algorithm"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#_1","text":"nebula-algorithm \u6839\u636e\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u56fe\u7b97\u6cd5\uff1a \u4ece Nebula Graph \u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u56fe\u6570\u636e\u5e76\u5904\u7406\u6210 DataFrame\u3002 \u5c06 DataFrame \u8f6c\u6362\u4e3a GraphX \u7684\u56fe\u3002 \u8c03\u7528 GraphX \u63d0\u4f9b\u7684\u56fe\u7b97\u6cd5\uff08\u4f8b\u5982 PageRank\uff09\u6216\u8005\u60a8\u81ea\u5df1\u5b9e\u73b0\u7684\u7b97\u6cd5\uff08\u4f8b\u5982 Louvain \u793e\u533a\u53d1\u73b0\uff09\u3002 \u8be6\u7ec6\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 LouvainAlgo.scala \u548c PageRankAlgo.scala \u3002","title":"\u5b9e\u73b0\u65b9\u6cd5"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#pagerank_louvain","text":"","title":"PageRank \u548c Louvain \u7b80\u4ecb"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#pagerank","text":"GraphX \u7684 PageRank \u7b97\u6cd5\u57fa\u4e8e Pregel \u8ba1\u7b97\u6a21\u578b\uff0c\u8be5\u7b97\u6cd5\u6d41\u7a0b\u5305\u62ec 3 \u4e2a\u6b65\u9aa4\uff1a \u4e3a\u56fe\u4e2d\u6bcf\u4e2a\u9876\u70b9\uff08\u5982\u7f51\u9875\uff09\u8bbe\u7f6e\u4e00\u4e2a\u76f8\u540c\u7684\u521d\u59cb PageRank \u503c\u3002 \u7b2c\u4e00\u6b21\u8fed\u4ee3\uff1a\u6cbf\u8fb9\u53d1\u9001\u6d88\u606f\uff0c\u6bcf\u4e2a\u9876\u70b9\u6536\u5230\u6240\u6709\u5173\u8054\u8fb9\u4e0a\u90bb\u63a5\u70b9\uff08Adjacent Node\uff09\u7684\u4fe1\u606f\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684 PageRank \u503c\uff1b \u7b2c\u4e8c\u6b21\u8fed\u4ee3\uff1a\u7528\u8fd9\u7ec4\u65b0\u7684 PageRank \u6309\u4e0d\u540c\u7b97\u6cd5\u6a21\u5f0f\u5bf9\u5e94\u7684\u516c\u5f0f\u5f62\u6210\u8be5\u9876\u70b9\u65b0\u7684 PageRank\u3002 \u5173\u4e8e PageRank \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Wikipedia PageRank \u9875\u9762 \u3002","title":"PageRank"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#louvain","text":"Louvain \u662f\u57fa\u4e8e\u6a21\u5757\u5ea6\uff08Modularity\uff09\u7684\u793e\u533a\u53d1\u73b0\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u5757\u5ea6\u6765\u8861\u91cf\u4e00\u4e2a\u793e\u533a\u7684\u7d27\u5bc6\u7a0b\u5ea6\uff0c\u5c5e\u4e8e\u56fe\u7684\u805a\u7c7b\u7b97\u6cd5\u3002\u5982\u679c\u4e00\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u67d0\u4e00\u793e\u533a\u4e2d\u4f7f\u8be5\u793e\u533a\u7684\u6a21\u5757\u5ea6\u76f8\u6bd4\u5176\u4ed6\u793e\u533a\u6709\u6700\u5927\u7a0b\u5ea6\u7684\u589e\u52a0\uff0c\u5219\u8be5\u9876\u70b9\u5c31\u5e94\u5f53\u5c5e\u4e8e\u8be5\u793e\u533a\u3002\u5982\u679c\u52a0\u5165\u5176\u5b83\u793e\u533a\u540e\u6ca1\u6709\u4f7f\u5176\u6a21\u5757\u5ea6\u589e\u52a0\uff0c\u5219\u7559\u5728\u81ea\u5df1\u5f53\u524d\u793e\u533a\u4e2d\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u8bba\u6587 \u300aFast unfolding of communities in large networks\u300b \u3002 Louvain \u7b97\u6cd5\u5305\u62ec\u4e24\u4e2a\u9636\u6bb5\uff0c\u5176\u6d41\u7a0b\u5c31\u662f\u8fd9\u4e24\u4e2a\u9636\u6bb5\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002 \u9636\u6bb5\u4e00\uff1a\u4e0d\u65ad\u5730\u904d\u5386\u7f51\u7edc\u56fe\u4e2d\u7684\u9876\u70b9\uff0c\u901a\u8fc7\u6bd4\u8f83\u9876\u70b9\u7ed9\u6bcf\u4e2a\u90bb\u5c45\u793e\u533a\u5e26\u6765\u7684\u6a21\u5757\u5ea6\u7684\u53d8\u5316\uff0c\u5c06\u5355\u4e2a\u9876\u70b9\u52a0\u5165\u5230\u80fd\u591f\u4f7f Modulaity \u6a21\u5757\u5ea6\u6709\u6700\u5927\u589e\u91cf\u7684\u793e\u533a\u4e2d\u3002\u4f8b\u5982\uff0c\u9876\u70b9 v \u5206\u522b\u52a0\u5165\u5230\u793e\u533a A\u3001B\u3001C \u4e2d\uff0c\u4f7f\u5f97\u4e09\u4e2a\u793e\u533a\u7684\u6a21\u5757\u5ea6\u589e\u91cf\u4e3a -1\u30011\u30012\uff0c\u5219\u9876\u70b9 v \u6700\u7ec8\u5e94\u8be5\u52a0\u5165\u5230\u793e\u533a C \u4e2d\u3002 \u9636\u6bb5\u4e8c\uff1a\u5bf9\u7b2c\u4e00\u9636\u6bb5\u8fdb\u884c\u5904\u7406\uff0c\u5c06\u5c5e\u4e8e\u540c\u4e00\u793e\u533a\u7684\u9876\u70b9\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927\u7684\u8d85\u70b9\u91cd\u65b0\u6784\u9020\u7f51\u7edc\u56fe\uff0c\u5373\u4e00\u4e2a\u793e\u533a\u4f5c\u4e3a\u56fe\u7684\u4e00\u4e2a\u65b0\u7684\u9876\u70b9\u3002\u6b64\u65f6\u4e24\u4e2a\u8d85\u70b9\u4e4b\u95f4\u8fb9\u7684\u6743\u91cd\u662f\u4e24\u4e2a\u8d85\u70b9\u5185\u6240\u6709\u539f\u59cb\u9876\u70b9\u4e4b\u95f4\u76f8\u8fde\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\uff0c\u5373\u4e24\u4e2a\u793e\u533a\u4e4b\u95f4\u7684\u8fb9\u6743\u91cd\u4e4b\u548c\u3002 \u6574\u4e2a Louvain \u7b97\u6cd5\u5c31\u662f\u4e0d\u65ad\u8fed\u4ee3\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u76f4\u5230\u7b97\u6cd5\u7a33\u5b9a\uff08\u56fe\u7684\u6a21\u5757\u5ea6\u4e0d\u518d\u53d8\u5316\uff09\u6216\u8005\u5230\u8fbe\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3002","title":"Louvain"},{"location":"nebula-algorithm/na-ug-what-is-nebula-algorithm/#_2","text":"\u60a8\u53ef\u4ee5\u5c06 PageRank \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u793e\u4ea4\u5e94\u7528\u7684\u76f8\u4f3c\u5ea6\u5185\u5bb9\u63a8\u8350\uff1a\u5728\u5bf9\u5fae\u535a\u3001\u5fae\u4fe1\u7b49\u793e\u4ea4\u5e73\u53f0\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\uff0c\u53ef\u4ee5\u57fa\u4e8e PageRank \u7b97\u6cd5\u6839\u636e\u7528\u6237\u901a\u5e38\u6d4f\u89c8\u7684\u4fe1\u606f\u4ee5\u53ca\u505c\u7559\u65f6\u95f4\u5b9e\u73b0\u57fa\u4e8e\u7528\u6237\u7684\u76f8\u4f3c\u5ea6\u7684\u5185\u5bb9\u63a8\u8350\u3002 \u5206\u6790\u7528\u6237\u793e\u4ea4\u5f71\u54cd\u529b\uff1a\u5728\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u65f6\u6839\u636e\u7528\u6237\u7684 PageRank \u503c\u8fdb\u884c\u7528\u6237\u5f71\u54cd\u529b\u5206\u6790\u3002 \u6587\u732e\u91cd\u8981\u6027\u7814\u7a76\uff1a\u6839\u636e\u6587\u732e\u7684 PageRank \u503c\u8bc4\u5224\u8be5\u6587\u732e\u7684\u8d28\u91cf\uff0cPageRank \u7b97\u6cd5\u5c31\u662f\u57fa\u4e8e\u8bc4\u5224\u6587\u732e\u8d28\u91cf\u7684\u60f3\u6cd5\u6765\u5b9e\u73b0\u8bbe\u8ba1\u3002 \u60a8\u53ef\u4ee5\u5c06 Louvain \u7b97\u6cd5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u91d1\u878d\u98ce\u63a7\uff1a\u5728\u91d1\u878d\u98ce\u63a7\u573a\u666f\u4e2d\u6839\u636e\u7528\u6237\u884c\u4e3a\u7279\u5f81\u8fdb\u884c\u56e2\u4f19\u8bc6\u522b\u3002 \u793e\u4ea4\u7f51\u7edc\uff1a\u57fa\u4e8e\u7f51\u7edc\u5173\u7cfb\u4e2d\u70b9\u5bf9\uff08\u4e00\u6761\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u9876\u70b9\uff09\u4e4b\u95f4\u5173\u8054\u7684\u5e7f\u5ea6\u548c\u5f3a\u5ea6\u8fdb\u884c\u793e\u4ea4\u7f51\u7edc\u5212\u5206\uff1b\u5bf9\u590d\u6742\u7f51\u7edc\u5206\u6790\u3001\u7535\u8bdd\u7f51\u7edc\u5206\u6790\u4eba\u7fa4\u4e4b\u95f4\u7684\u8054\u7cfb\u5bc6\u5207\u5ea6\u3002 \u63a8\u8350\u7cfb\u7edf\uff1a\u57fa\u4e8e\u7528\u6237\u5174\u8da3\u7231\u597d\u7684\u793e\u533a\u53d1\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u793e\u533a\u5e76\u7ed3\u5408\u534f\u540c\u8fc7\u6ee4\u7b49\u63a8\u8350\u7b97\u6cd5\u8fdb\u884c\u66f4\u7cbe\u786e\u6709\u6548\u7684\u4e2a\u6027\u5316\u63a8\u8350\u3002","title":"\u4f7f\u7528\u573a\u666f"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-check-updates/","text":"\u68c0\u67e5\u66f4\u65b0 \u00b6 Studio 2.x\u6301\u7eed\u5f00\u53d1\u4e2d\uff0c\u60a8\u53ef\u4ee5\u8bbf\u95eeGitHub\u67e5\u770b Changelog \uff0c\u4e86\u89e3\u5f00\u53d1\u8fdb\u5ea6\u3002 \u5f53\u60a8\u767b\u5f55Studio 2.0.0\uff0c\u53ef\u4ee5\u5728\u53f3\u4e0a\u89d2\u67e5\u770b\u5f53\u524d\u7248\u672c\u3002\u4e5f\u53ef\u4ee5\u5728\u7248\u672c\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u5355\u51fb \u65b0\u53d1\u5e03 \u67e5\u770bChangelog\u3002 \u5982\u679c\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u8bf7\u5728\u76ee\u5f55 nebula-web-docker \u5185\u6309\u5982\u4e0b\u6b65\u9aa4\u6267\u884c\u547d\u4ee4\u66f4\u65b0\u955c\u50cf\u5e76\u542f\u52a8\u670d\u52a1\u3002 $ git pull origin master $ cd v2 $ docker-compose pull && docker-compose up -d","title":"\u68c0\u67e5\u66f4\u65b0"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-check-updates/#_1","text":"Studio 2.x\u6301\u7eed\u5f00\u53d1\u4e2d\uff0c\u60a8\u53ef\u4ee5\u8bbf\u95eeGitHub\u67e5\u770b Changelog \uff0c\u4e86\u89e3\u5f00\u53d1\u8fdb\u5ea6\u3002 \u5f53\u60a8\u767b\u5f55Studio 2.0.0\uff0c\u53ef\u4ee5\u5728\u53f3\u4e0a\u89d2\u67e5\u770b\u5f53\u524d\u7248\u672c\u3002\u4e5f\u53ef\u4ee5\u5728\u7248\u672c\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u5355\u51fb \u65b0\u53d1\u5e03 \u67e5\u770bChangelog\u3002 \u5982\u679c\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u8bf7\u5728\u76ee\u5f55 nebula-web-docker \u5185\u6309\u5982\u4e0b\u6b65\u9aa4\u6267\u884c\u547d\u4ee4\u66f4\u65b0\u955c\u50cf\u5e76\u542f\u52a8\u670d\u52a1\u3002 $ git pull origin master $ cd v2 $ docker-compose pull && docker-compose up -d","title":"\u68c0\u67e5\u66f4\u65b0"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/","text":"\u9650\u5236 \u00b6 \u672c\u6587\u4ecb\u7ecdStudio 2.0.0\u7684\u9650\u5236\u3002 Nebula Graph\u7248\u672c \u00b6 \u4ec5\u652f\u6301Nebula Graph 2.0.0\uff0c\u5176\u4ed62.x\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u672a\u77e5\u95ee\u9898\u3002 \u67b6\u6784 \u00b6 \u76ee\u524dStudio 2.0.0\u4ec5\u652f\u6301x86_64\u67b6\u6784\u3002 \u4e0a\u4f20\u6570\u636e \u00b6 \u53ea\u6709\u4ee5\u9017\u53f7\u5206\u9694\u4e14\u6ca1\u6709\u5217\u540d\u7684 .CSV \u683c\u5f0f\u6587\u4ef6\u624d\u80fd\u4e0a\u4f20\uff0c\u5bf9\u4e8e\u5355\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u548c\u5b58\u50a8\u5468\u671f\u6ca1\u6709\u9650\u5236\u3002\u6700\u5927\u6570\u636e\u91cf\u53d6\u51b3\u4e8e\u60a8\u673a\u5668\u7684\u5b58\u50a8\u7a7a\u95f4\u3002 \u6570\u636e\u5907\u4efd \u00b6 \u60a8\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u9875\u9762\u5c06\u67e5\u8be2\u7ed3\u679c\u5bfc\u51fa\u4e3a .CSV \u683c\u5f0f\u6587\u4ef6\u3002 nGQL\u8bed\u53e5 \u00b6 \u5728Studio 2.0.0\u4e2d\uff0c\u51e0\u4e4e\u652f\u6301\u6240\u6709nGQL\u8bed\u6cd5\uff0c\u9664\u4e86\u4ee5\u4e0b\u51e0\u70b9\uff1a USE <space_name> \uff1a\u4e0d\u80fd\u5728Studio\u4e2d\u6267\u884c USE \u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u9700\u8981\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u8bf7\u5728\u5de6\u4e0a\u89d2\u7684 \u5f53\u524d\u56fe\u7a7a\u95f4 \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9\u3002 \u6362\u884c\u7b26\uff08\\\uff09\uff1a\u4e0d\u80fd\u5728Studio\u4e2d\u4f7f\u7528\u6362\u884c\u7b26\u3002\u5982\u679c\u9700\u8981\u6362\u884c\uff0c\u8bf7\u4f7f\u7528 Enter \u952e\u6362\u884c\u3002 \u6d4f\u89c8\u5668 \u00b6 \u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684Chrome\u6d4f\u89c8\u5668\u8bbf\u95eeStudio 2.0.0\u3002","title":"\u9650\u5236"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#_1","text":"\u672c\u6587\u4ecb\u7ecdStudio 2.0.0\u7684\u9650\u5236\u3002","title":"\u9650\u5236"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#nebula_graph","text":"\u4ec5\u652f\u6301Nebula Graph 2.0.0\uff0c\u5176\u4ed62.x\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u672a\u77e5\u95ee\u9898\u3002","title":"Nebula Graph\u7248\u672c"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#_2","text":"\u76ee\u524dStudio 2.0.0\u4ec5\u652f\u6301x86_64\u67b6\u6784\u3002","title":"\u67b6\u6784"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#_3","text":"\u53ea\u6709\u4ee5\u9017\u53f7\u5206\u9694\u4e14\u6ca1\u6709\u5217\u540d\u7684 .CSV \u683c\u5f0f\u6587\u4ef6\u624d\u80fd\u4e0a\u4f20\uff0c\u5bf9\u4e8e\u5355\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u548c\u5b58\u50a8\u5468\u671f\u6ca1\u6709\u9650\u5236\u3002\u6700\u5927\u6570\u636e\u91cf\u53d6\u51b3\u4e8e\u60a8\u673a\u5668\u7684\u5b58\u50a8\u7a7a\u95f4\u3002","title":"\u4e0a\u4f20\u6570\u636e"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#_4","text":"\u60a8\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u9875\u9762\u5c06\u67e5\u8be2\u7ed3\u679c\u5bfc\u51fa\u4e3a .CSV \u683c\u5f0f\u6587\u4ef6\u3002","title":"\u6570\u636e\u5907\u4efd"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#ngql","text":"\u5728Studio 2.0.0\u4e2d\uff0c\u51e0\u4e4e\u652f\u6301\u6240\u6709nGQL\u8bed\u6cd5\uff0c\u9664\u4e86\u4ee5\u4e0b\u51e0\u70b9\uff1a USE <space_name> \uff1a\u4e0d\u80fd\u5728Studio\u4e2d\u6267\u884c USE \u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u9700\u8981\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u8bf7\u5728\u5de6\u4e0a\u89d2\u7684 \u5f53\u524d\u56fe\u7a7a\u95f4 \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9\u3002 \u6362\u884c\u7b26\uff08\\\uff09\uff1a\u4e0d\u80fd\u5728Studio\u4e2d\u4f7f\u7528\u6362\u884c\u7b26\u3002\u5982\u679c\u9700\u8981\u6362\u884c\uff0c\u8bf7\u4f7f\u7528 Enter \u952e\u6362\u884c\u3002","title":"nGQL\u8bed\u53e5"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-limitations/#_5","text":"\u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684Chrome\u6d4f\u89c8\u5668\u8bbf\u95eeStudio 2.0.0\u3002","title":"\u6d4f\u89c8\u5668"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-what-is-graph-studio/","text":"\u4ec0\u4e48\u662fNebula Graph Studio \u00b6 Nebula Graph Studio\uff08\u7b80\u79f0Studio\uff09\u662f\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u53ef\u4ee5\u7ba1\u7406Nebula Graph\u3002Studio\u63d0\u4f9b\u56fe\u5f62\u754c\u9762\u64cd\u4f5cSchema\u3001\u5bfc\u5165\u6570\u636e\u3001\u63a2\u6d4b\u56fe\u6570\u636e\u3001\u6267\u884cnGQL\uff08Nebula Graph Query Language\uff09\u8bed\u53e5\u7b49\u3002\u4f7f\u7528Studio\uff0c\u60a8\u53ef\u4ee5\u4ece\u96f6\u5f00\u59cb\u5feb\u901f\u4e0a\u624bNebula Graph\u3002 \u90e8\u7f72\u65b9\u5f0f \u00b6 \u76ee\u524dStudio 2.0.0\u4ec5\u652f\u6301\u7528Docker\u90e8\u7f72\uff0c\u90e8\u7f72\u540e\u53ef\u4ee5\u8fde\u63a5Nebula Graph 2.0.0\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72Studio \u3002 \u529f\u80fd \u00b6 Studio\u652f\u6301\u5982\u4e0b\u529f\u80fd\uff1a \u63d0\u4f9b\u56fe\u5f62\u754c\u9762\u63a7\u5236\u53f0\uff0c\u65b9\u4fbf\u6267\u884cnGQL\u8bed\u53e5\uff0c\u5e76\u8fd4\u56de\u6613\u4e8e\u9605\u8bfb\u7684\u7ed3\u679c\u3002 \u63d0\u4f9b Explore \u51fd\u6570\uff0c\u53ef\u4ee5\u63a2\u7d22\u56fe\u6570\u636e\uff0c\u5e2e\u52a9\u60a8\u6316\u6398\u6570\u636e\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u6548\u7387\u3002 \u573a\u666f \u00b6 Studio\u9002\u7528\u4e8e\u5982\u4e0b\u573a\u666f\uff1a \u62e5\u6709\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u5e0c\u671b\u4ee5\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528Nebula Graph\u4e91\u670d\u52a1\u3001Docker Compose\u7b49\u65b9\u5f0f\u90e8\u7f72Nebula Graph\uff0c\u7136\u540e\u901a\u8fc7Studio\u7684\u56fe\u5f62\u754c\u9762\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002 \u5df2\u7ecf\u90e8\u7f72Nebula Graph\u5e76\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u5e0c\u671b\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u6267\u884cnGQL\u8bed\u53e5\u6216\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002 \u4f5c\u4e3anGQL\u7684\u521d\u5b66\u8005\uff0c\u5e0c\u671b\u901a\u8fc7\u7b80\u5355\u7684\u56fe\u5f62\u754c\u9762\u800c\u4e0d\u662f\u547d\u4ee4\u884c\u5b66\u4e60nGQL\u3002","title":"\u4ec0\u4e48\u662fNebula Graph Studio"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-what-is-graph-studio/#nebula_graph_studio","text":"Nebula Graph Studio\uff08\u7b80\u79f0Studio\uff09\u662f\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u53ef\u4ee5\u7ba1\u7406Nebula Graph\u3002Studio\u63d0\u4f9b\u56fe\u5f62\u754c\u9762\u64cd\u4f5cSchema\u3001\u5bfc\u5165\u6570\u636e\u3001\u63a2\u6d4b\u56fe\u6570\u636e\u3001\u6267\u884cnGQL\uff08Nebula Graph Query Language\uff09\u8bed\u53e5\u7b49\u3002\u4f7f\u7528Studio\uff0c\u60a8\u53ef\u4ee5\u4ece\u96f6\u5f00\u59cb\u5feb\u901f\u4e0a\u624bNebula Graph\u3002","title":"\u4ec0\u4e48\u662fNebula Graph Studio"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-what-is-graph-studio/#_1","text":"\u76ee\u524dStudio 2.0.0\u4ec5\u652f\u6301\u7528Docker\u90e8\u7f72\uff0c\u90e8\u7f72\u540e\u53ef\u4ee5\u8fde\u63a5Nebula Graph 2.0.0\u3002\u8be6\u60c5\u8bf7\u53c2\u89c1 \u90e8\u7f72Studio \u3002","title":"\u90e8\u7f72\u65b9\u5f0f"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-what-is-graph-studio/#_2","text":"Studio\u652f\u6301\u5982\u4e0b\u529f\u80fd\uff1a \u63d0\u4f9b\u56fe\u5f62\u754c\u9762\u63a7\u5236\u53f0\uff0c\u65b9\u4fbf\u6267\u884cnGQL\u8bed\u53e5\uff0c\u5e76\u8fd4\u56de\u6613\u4e8e\u9605\u8bfb\u7684\u7ed3\u679c\u3002 \u63d0\u4f9b Explore \u51fd\u6570\uff0c\u53ef\u4ee5\u63a2\u7d22\u56fe\u6570\u636e\uff0c\u5e2e\u52a9\u60a8\u6316\u6398\u6570\u636e\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u6548\u7387\u3002","title":"\u529f\u80fd"},{"location":"nebula-docs/docs-2.0/nebula-studio/about-studio/st-ug-what-is-graph-studio/#_3","text":"Studio\u9002\u7528\u4e8e\u5982\u4e0b\u573a\u666f\uff1a \u62e5\u6709\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u5e0c\u671b\u4ee5\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528Nebula Graph\u4e91\u670d\u52a1\u3001Docker Compose\u7b49\u65b9\u5f0f\u90e8\u7f72Nebula Graph\uff0c\u7136\u540e\u901a\u8fc7Studio\u7684\u56fe\u5f62\u754c\u9762\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002 \u5df2\u7ecf\u90e8\u7f72Nebula Graph\u5e76\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u5e0c\u671b\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u6267\u884cnGQL\u8bed\u53e5\u6216\u63a2\u7d22\u5206\u6790\u6570\u636e\u3002 \u4f5c\u4e3anGQL\u7684\u521d\u5b66\u8005\uff0c\u5e0c\u671b\u901a\u8fc7\u7b80\u5355\u7684\u56fe\u5f62\u754c\u9762\u800c\u4e0d\u662f\u547d\u4ee4\u884c\u5b66\u4e60nGQL\u3002","title":"\u573a\u666f"},{"location":"nebula-flink/nf-ug-compile/","text":"\u7f16\u8bd1 Nebula Flink Connector \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Flink Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-flink \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Flink Connector v1.x\u3002 cd nebula-java/tools/nebula-flink mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-flink-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u7684 com/vesoft/nebula-flink/ \u76ee\u5f55\u4e2d\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-flink-1.x.y-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-test-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-tests.jar \u251c\u2500\u2500 nebula-flink-1.x.y.jar \u251c\u2500\u2500 original-nebula-flink-1.x.y.jar \u2514\u2500\u2500 test-classes \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-compile/#nebula_flink_connector","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Flink Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-flink \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Flink Connector v1.x\u3002 cd nebula-java/tools/nebula-flink mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-flink-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u7684 com/vesoft/nebula-flink/ \u76ee\u5f55\u4e2d\u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 main \u2502 \u2514\u2500\u2500 test \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 generated-test-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-flink-1.x.y-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-test-sources.jar \u251c\u2500\u2500 nebula-flink-1.x.y-tests.jar \u251c\u2500\u2500 nebula-flink-1.x.y.jar \u251c\u2500\u2500 original-nebula-flink-1.x.y.jar \u2514\u2500\u2500 test-classes \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-customize-sink/","text":"\u81ea\u5b9a\u4e49 sink (NebulaSink) \u00b6 Nebula Flink Connector \u652f\u6301\u4ee5 DataStream.addSink \u7684\u65b9\u5f0f\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1aNebula Flink Connector \u4f7f\u7528 Flink 1.11-SNAPSHOT \u5f00\u53d1\uff0c\u8fd9\u4e2a\u7248\u672c\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\u4f7f\u7528 writeUsingOutputFormat \u65b9\u5f0f\u5b9a\u4e49\u8f93\u51fa\u7aef\u7684\u63a5\u53e3\uff0c\u6e90\u7801\u5982\u4e0b\u3002\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49 NebulaSink \u65f6\uff0c\u8bf7\u60a8\u52a1\u5fc5\u4f7f\u7528 DataStream.addSink \u65b9\u5f0f\u3002 /** @deprecated */ @Deprecated @PublicEvolving public DataStreamSink<T> writeUsingOutputFormat(OutputFormat<T> format) { return this.addSink(new OutputFormatSinkFunction(format)); } Nebula Flink Connector \u4e2d\u5b9e\u73b0\u4e86\u81ea\u5b9a\u4e49\u7684 NebulaSinkFunction \uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u8c03\u7528 dataSource.addSink \u65b9\u6cd5\u5e76\u5c06 NebulaSinkFunction \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\u5b9e\u73b0\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 NebulaSink \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 \u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7c7b\u662f NebulaSinkFunction NebulaBatchOutputFormat \u3002 NebulaSinkFunction \u00b6 NebulaSinkFunction \u7ee7\u627f\u81ea AbstractRichFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 open \u65b9\u6cd5\u4ee5\u51c6\u5907\u8d44\u6e90\u3002 close \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 close \u65b9\u6cd5\u4ee5\u91ca\u653e\u8d44\u6e90\u3002 invoke \uff1a\u662f NebulaSink \u4e2d\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u8c03\u7528 NebulaBatchOutputFormat \u4e2d\u7684 write \u65b9\u6cd5\u5199\u5165\u6570\u636e\u3002 flush \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 flush \u65b9\u6cd5\u63d0\u4ea4\u6570\u636e\u3002 NebulaBatchOutputFormat \u00b6 NebulaBatchOutputFormat \u7ee7\u627f\u81ea AbstractNebulaOutPutFormat \uff0c\u800c\u540e\u8005\u7ee7\u627f\u81ea RichOutputFormat \uff0c\u4e3b\u8981\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u6570\u636e\u5e93\u7684 Graph \u670d\u52a1\u7684\u8fde\u63a5\uff0c\u5e76\u521d\u59cb\u5316\u6570\u636e\u5199\u5165\u6267\u884c\u5668 nebulaBatchExecutor \u3002 close \uff1a\u63d0\u4ea4\u6700\u540e\u6279\u6b21\u7684\u6570\u636e\uff0c\u7b49\u5f85\u6700\u540e\u63d0\u4ea4\u7684\u56de\u8c03\u7ed3\u679c\u5e76\u5173\u95ed\u670d\u52a1\u8fde\u63a5\u7b49\u8d44\u6e90\u3002 writeRecord \uff1a\u6838\u5fc3\u65b9\u6cd5\uff0c\u5c06\u6570\u636e\u5199\u5165 bufferedRow \u4e2d\uff0c\u5e76\u5728\u8fbe\u5230\u914d\u7f6e\u7684\u6279\u91cf\u5199\u5165\u4e0a\u9650\u65f6\u63d0\u4ea4\u5199\u5165\u3002NebulaSink \u7684\u5199\u5165\u64cd\u4f5c\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u6267\u884c\u56de\u8c03\u6765\u83b7\u53d6\u6267\u884c\u7ed3\u679c\u3002 flush \uff1a\u5f53 bufferedRow \u5b58\u5728\u6570\u636e\u65f6\uff0c\u5c06\u6570\u636e\u63d0\u4ea4\u5230 Nebula Graph \u4e2d\u3002 \u5728 AbstractNebulaOutputFormat \u4e2d\u8c03\u7528\u4e86 NebulaBatchExecutor \uff0c\u7528\u4e8e\u6570\u636e\u7684\u6279\u91cf\u7ba1\u7406\u548c\u6279\u91cf\u63d0\u4ea4\uff0c\u5e76\u901a\u8fc7\u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u6279\u91cf\u63d0\u4ea4\u7684\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * write one record to buffer */ @Override public final synchronized void writeRecord ( T row ) throws IOException { nebulaBatchExecutor . addToBatch ( row ); if ( numPendingRow . incrementAndGet () >= executionOptions . getBatch ()) { commit (); } } /** * put record into buffer * * @param record represent vertex or edge */ void addToBatch ( T record ) { boolean isVertex = executionOptions . getDataType (). isVertex (); NebulaOutputFormatConverter converter ; if ( isVertex ) { converter = new NebulaRowVertexOutputFormatConverter (( VertexExecutionOptions ) executionOptions ); } else { converter = new NebulaRowEdgeOutputFormatConverter (( EdgeExecutionOptions ) executionOptions ); } String value = converter . createValue ( record , executionOptions . getPolicy ()); if ( value == null ) { return ; } nebulaBufferedRow . putRow ( value ); } /** * commit batch insert statements */ private synchronized void commit () throws IOException { graphClient . switchSpace ( executionOptions . getGraphSpace ()); future = nebulaBatchExecutor . executeBatch ( graphClient ); // clear waiting rows numPendingRow . compareAndSet ( executionOptions . getBatch (), 0 ); } /** * execute the insert statement * * @param client Asynchronous graph client */ ListenableFuture executeBatch ( AsyncGraphClientImpl client ) { String propNames = String . join ( NebulaConstant . COMMA , executionOptions . getFields ()); String values = String . join ( NebulaConstant . COMMA , nebulaBufferedRow . getRows ()); // construct insert statement String exec = String . format ( NebulaConstant . BATCH_INSERT_TEMPLATE , executionOptions . getDataType (), executionOptions . getLabel (), propNames , values ); // execute insert statement ListenableFuture < Optional < Integer >> execResult = client . execute ( exec ); // define callback function Futures . addCallback ( execResult , new FutureCallback < Optional < Integer >> () { @Override public void onSuccess ( Optional < Integer > integerOptional ) { if ( integerOptional . isPresent ()) { if ( integerOptional . get () == ErrorCode . SUCCEEDED ) { LOG . info ( \"batch insert Succeed\" ); } else { LOG . error ( String . format ( \"batch insert Error: %d\" , integerOptional . get ())); } } else { LOG . error ( \"batch insert Error\" ); } } @Override public void onFailure ( Throwable throwable ) { LOG . error ( \"batch insert Error\" ); } }); nebulaBufferedRow . clean (); return execResult ; } \u7531\u4e8e NebulaSink \u7684\u5199\u5165\u662f\u6279\u91cf\u3001\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u5728\u6700\u540e\u4e1a\u52a1\u7ed3\u675f\u5173\u95ed\uff08 close \uff09\u8d44\u6e90\u4e4b\u524d\u9700\u8981\u5c06\u7f13\u5b58\u4e2d\u7684\u6279\u91cf\u6570\u636e\u63d0\u4ea4\u4e14\u7b49\u5f85\u5199\u5165\u64cd\u4f5c\u7684\u5b8c\u6210\uff0c\u4ee5\u9632\u5728\u5199\u5165\u63d0\u4ea4\u4e4b\u524d\u63d0\u524d\u5173\u95ed Nebula Graph \u7684\u5ba2\u6237\u7aef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * commit the batch write operator before release connection */ @Override public final synchronized void close () throws IOException { if ( numPendingRow . get () > 0 ){ commit (); } while ( ! future . isDone ()){ try { Thread . sleep ( 100 ); } catch ( InterruptedException e ) { LOG . error ( \"sleep interrupted, \" , e ); } } super . close (); } \u5e94\u7528\u5b9e\u8df5 \u00b6 Flink \u5c06\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e sink \u5230 Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u5c06 Flink \u6570\u636e\u6d41\u8fdb\u884c map \u8f6c\u6362\u6210 NebulaSink \u53ef\u63a5\u6536\u7684\u6570\u636e\u683c\u5f0f\u3002\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u901a\u8fc7 addSink \u7684\u5f62\u5f0f\uff0c \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u7684 NebulaSink \u5411 Nebula Graph \u5199\u5165\u6570\u636e\uff1a \u5c06 Flink \u6570\u636e\u8f6c\u6362\u6210 NebulaSink \u53ef\u4ee5\u63a5\u53d7\u7684\u6570\u636e\u683c\u5f0f\u3002 \u5c06 NebulaSinkFunction \u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9 addSink \u65b9\u6cd5\u6765\u5b9e\u73b0 Flink \u6570\u636e\u6d41\u7684\u5199\u5165\u3002 \u5728\u6784\u9020\u7684 NebulaSinkFunction \u4e2d\u5206\u522b\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u4e86\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u70b9 VID \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u8d77\u70b9 VID\uff08src_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7ec8\u70b9 VID\uff08dst_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9 rank \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u5199\u5165\u8fb9\u6570\u636e\u65f6\u4e0d\u5e26 rank \u4fe1\u606f\u3002 \u5355\u6b21\u5199\u5165\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000\u3002 \u5047\u8bbe\u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Graph \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSink \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u7684 Graph \u670d\u52a1\u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:3699\") .build(); NebulaConnectionProvider graphConnectionProvider = new NebulaGraphConnectionProvider(nebulaClientOptions); // \u6784\u9020 Nebula Graph \u5199\u5165\u70b9\u6570\u636e\u7684\u64cd\u4f5c\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\") ExecutionOptions sinkExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSink\") .setTag(tag) .setFields(cols) .setIdIndex(0) .setBatch(2) .builder(); // \u5c06\u70b9\u6570\u636e\u5199\u5165 Nebula Graph dataSource.addSink(nebulaSinkFunction); NebulaSink \u793a\u4f8b\u7a0b\u5e8f \u00b6 \u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testSourceSink \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testSourceSink \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u7684\u56fe\u7a7a\u95f4 flinkSource \u4f5c\u4e3a source\uff0c\u901a\u8fc7 Flink \u8bfb\u53d6\u8fdb\u884c map \u7c7b\u578b\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u518d\u5199\u5165 Nebula Graph \u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \uff0c\u5373 Nebula Graph \u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSource \u7684\u6570\u636e\u6d41\u5165\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \u4e2d\u3002","title":"\u81ea\u5b9a\u4e49 sink (NebulaSink)"},{"location":"nebula-flink/nf-ug-customize-sink/#sink_nebulasink","text":"Nebula Flink Connector \u652f\u6301\u4ee5 DataStream.addSink \u7684\u65b9\u5f0f\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u3002 \u8bf4\u660e \uff1aNebula Flink Connector \u4f7f\u7528 Flink 1.11-SNAPSHOT \u5f00\u53d1\uff0c\u8fd9\u4e2a\u7248\u672c\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\u4f7f\u7528 writeUsingOutputFormat \u65b9\u5f0f\u5b9a\u4e49\u8f93\u51fa\u7aef\u7684\u63a5\u53e3\uff0c\u6e90\u7801\u5982\u4e0b\u3002\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49 NebulaSink \u65f6\uff0c\u8bf7\u60a8\u52a1\u5fc5\u4f7f\u7528 DataStream.addSink \u65b9\u5f0f\u3002 /** @deprecated */ @Deprecated @PublicEvolving public DataStreamSink<T> writeUsingOutputFormat(OutputFormat<T> format) { return this.addSink(new OutputFormatSinkFunction(format)); } Nebula Flink Connector \u4e2d\u5b9e\u73b0\u4e86\u81ea\u5b9a\u4e49\u7684 NebulaSinkFunction \uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u8c03\u7528 dataSource.addSink \u65b9\u6cd5\u5e76\u5c06 NebulaSinkFunction \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\u5b9e\u73b0\u5c06 Flink \u6570\u636e\u6d41\u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u4e2d\u3002 NebulaSink \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 \u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7c7b\u662f NebulaSinkFunction NebulaBatchOutputFormat \u3002","title":"\u81ea\u5b9a\u4e49 sink (NebulaSink)"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulasinkfunction","text":"NebulaSinkFunction \u7ee7\u627f\u81ea AbstractRichFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 open \u65b9\u6cd5\u4ee5\u51c6\u5907\u8d44\u6e90\u3002 close \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 close \u65b9\u6cd5\u4ee5\u91ca\u653e\u8d44\u6e90\u3002 invoke \uff1a\u662f NebulaSink \u4e2d\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u8c03\u7528 NebulaBatchOutputFormat \u4e2d\u7684 write \u65b9\u6cd5\u5199\u5165\u6570\u636e\u3002 flush \uff1a\u8c03\u7528 NebulaBatchOutputFormat \u7684 flush \u65b9\u6cd5\u63d0\u4ea4\u6570\u636e\u3002","title":"NebulaSinkFunction"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulabatchoutputformat","text":"NebulaBatchOutputFormat \u7ee7\u627f\u81ea AbstractNebulaOutPutFormat \uff0c\u800c\u540e\u8005\u7ee7\u627f\u81ea RichOutputFormat \uff0c\u4e3b\u8981\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u6570\u636e\u5e93\u7684 Graph \u670d\u52a1\u7684\u8fde\u63a5\uff0c\u5e76\u521d\u59cb\u5316\u6570\u636e\u5199\u5165\u6267\u884c\u5668 nebulaBatchExecutor \u3002 close \uff1a\u63d0\u4ea4\u6700\u540e\u6279\u6b21\u7684\u6570\u636e\uff0c\u7b49\u5f85\u6700\u540e\u63d0\u4ea4\u7684\u56de\u8c03\u7ed3\u679c\u5e76\u5173\u95ed\u670d\u52a1\u8fde\u63a5\u7b49\u8d44\u6e90\u3002 writeRecord \uff1a\u6838\u5fc3\u65b9\u6cd5\uff0c\u5c06\u6570\u636e\u5199\u5165 bufferedRow \u4e2d\uff0c\u5e76\u5728\u8fbe\u5230\u914d\u7f6e\u7684\u6279\u91cf\u5199\u5165\u4e0a\u9650\u65f6\u63d0\u4ea4\u5199\u5165\u3002NebulaSink \u7684\u5199\u5165\u64cd\u4f5c\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u6267\u884c\u56de\u8c03\u6765\u83b7\u53d6\u6267\u884c\u7ed3\u679c\u3002 flush \uff1a\u5f53 bufferedRow \u5b58\u5728\u6570\u636e\u65f6\uff0c\u5c06\u6570\u636e\u63d0\u4ea4\u5230 Nebula Graph \u4e2d\u3002 \u5728 AbstractNebulaOutputFormat \u4e2d\u8c03\u7528\u4e86 NebulaBatchExecutor \uff0c\u7528\u4e8e\u6570\u636e\u7684\u6279\u91cf\u7ba1\u7406\u548c\u6279\u91cf\u63d0\u4ea4\uff0c\u5e76\u901a\u8fc7\u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u6279\u91cf\u63d0\u4ea4\u7684\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * write one record to buffer */ @Override public final synchronized void writeRecord ( T row ) throws IOException { nebulaBatchExecutor . addToBatch ( row ); if ( numPendingRow . incrementAndGet () >= executionOptions . getBatch ()) { commit (); } } /** * put record into buffer * * @param record represent vertex or edge */ void addToBatch ( T record ) { boolean isVertex = executionOptions . getDataType (). isVertex (); NebulaOutputFormatConverter converter ; if ( isVertex ) { converter = new NebulaRowVertexOutputFormatConverter (( VertexExecutionOptions ) executionOptions ); } else { converter = new NebulaRowEdgeOutputFormatConverter (( EdgeExecutionOptions ) executionOptions ); } String value = converter . createValue ( record , executionOptions . getPolicy ()); if ( value == null ) { return ; } nebulaBufferedRow . putRow ( value ); } /** * commit batch insert statements */ private synchronized void commit () throws IOException { graphClient . switchSpace ( executionOptions . getGraphSpace ()); future = nebulaBatchExecutor . executeBatch ( graphClient ); // clear waiting rows numPendingRow . compareAndSet ( executionOptions . getBatch (), 0 ); } /** * execute the insert statement * * @param client Asynchronous graph client */ ListenableFuture executeBatch ( AsyncGraphClientImpl client ) { String propNames = String . join ( NebulaConstant . COMMA , executionOptions . getFields ()); String values = String . join ( NebulaConstant . COMMA , nebulaBufferedRow . getRows ()); // construct insert statement String exec = String . format ( NebulaConstant . BATCH_INSERT_TEMPLATE , executionOptions . getDataType (), executionOptions . getLabel (), propNames , values ); // execute insert statement ListenableFuture < Optional < Integer >> execResult = client . execute ( exec ); // define callback function Futures . addCallback ( execResult , new FutureCallback < Optional < Integer >> () { @Override public void onSuccess ( Optional < Integer > integerOptional ) { if ( integerOptional . isPresent ()) { if ( integerOptional . get () == ErrorCode . SUCCEEDED ) { LOG . info ( \"batch insert Succeed\" ); } else { LOG . error ( String . format ( \"batch insert Error: %d\" , integerOptional . get ())); } } else { LOG . error ( \"batch insert Error\" ); } } @Override public void onFailure ( Throwable throwable ) { LOG . error ( \"batch insert Error\" ); } }); nebulaBufferedRow . clean (); return execResult ; } \u7531\u4e8e NebulaSink \u7684\u5199\u5165\u662f\u6279\u91cf\u3001\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u5728\u6700\u540e\u4e1a\u52a1\u7ed3\u675f\u5173\u95ed\uff08 close \uff09\u8d44\u6e90\u4e4b\u524d\u9700\u8981\u5c06\u7f13\u5b58\u4e2d\u7684\u6279\u91cf\u6570\u636e\u63d0\u4ea4\u4e14\u7b49\u5f85\u5199\u5165\u64cd\u4f5c\u7684\u5b8c\u6210\uff0c\u4ee5\u9632\u5728\u5199\u5165\u63d0\u4ea4\u4e4b\u524d\u63d0\u524d\u5173\u95ed Nebula Graph \u7684\u5ba2\u6237\u7aef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a /** * commit the batch write operator before release connection */ @Override public final synchronized void close () throws IOException { if ( numPendingRow . get () > 0 ){ commit (); } while ( ! future . isDone ()){ try { Thread . sleep ( 100 ); } catch ( InterruptedException e ) { LOG . error ( \"sleep interrupted, \" , e ); } } super . close (); }","title":"NebulaBatchOutputFormat"},{"location":"nebula-flink/nf-ug-customize-sink/#_1","text":"Flink \u5c06\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e sink \u5230 Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u5c06 Flink \u6570\u636e\u6d41\u8fdb\u884c map \u8f6c\u6362\u6210 NebulaSink \u53ef\u63a5\u6536\u7684\u6570\u636e\u683c\u5f0f\u3002\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u901a\u8fc7 addSink \u7684\u5f62\u5f0f\uff0c \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u7684 NebulaSink \u5411 Nebula Graph \u5199\u5165\u6570\u636e\uff1a \u5c06 Flink \u6570\u636e\u8f6c\u6362\u6210 NebulaSink \u53ef\u4ee5\u63a5\u53d7\u7684\u6570\u636e\u683c\u5f0f\u3002 \u5c06 NebulaSinkFunction \u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9 addSink \u65b9\u6cd5\u6765\u5b9e\u73b0 Flink \u6570\u636e\u6d41\u7684\u5199\u5165\u3002 \u5728\u6784\u9020\u7684 NebulaSinkFunction \u4e2d\u5206\u522b\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u4e86\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u5730\u5740\uff0c\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u70b9 VID \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u5355\u6b21\u5199\u5165 Nebula Graph \u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u5199\u5165\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u8d77\u70b9 VID\uff08src_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9\u7ec8\u70b9 VID\uff08dst_Id\uff09\u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002 \u9700\u8981\u5199\u5165\u7684\u8fb9 rank \u6240\u5728 Flink \u6570\u636e\u6d41 Row \u4e2d\u7684\u7d22\u5f15\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u5199\u5165\u8fb9\u6570\u636e\u65f6\u4e0d\u5e26 rank \u4fe1\u606f\u3002 \u5355\u6b21\u5199\u5165\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000\u3002 \u5047\u8bbe\u9700\u8981\u5199\u5165\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Graph \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSink \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSink \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u7684 Graph \u670d\u52a1\u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:3699\") .build(); NebulaConnectionProvider graphConnectionProvider = new NebulaGraphConnectionProvider(nebulaClientOptions); // \u6784\u9020 Nebula Graph \u5199\u5165\u70b9\u6570\u636e\u7684\u64cd\u4f5c\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\") ExecutionOptions sinkExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSink\") .setTag(tag) .setFields(cols) .setIdIndex(0) .setBatch(2) .builder(); // \u5c06\u70b9\u6570\u636e\u5199\u5165 Nebula Graph dataSource.addSink(nebulaSinkFunction);","title":"\u5e94\u7528\u5b9e\u8df5"},{"location":"nebula-flink/nf-ug-customize-sink/#nebulasink","text":"\u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testSourceSink \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testSourceSink \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u7684\u56fe\u7a7a\u95f4 flinkSource \u4f5c\u4e3a source\uff0c\u901a\u8fc7 Flink \u8bfb\u53d6\u8fdb\u884c map \u7c7b\u578b\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u518d\u5199\u5165 Nebula Graph \u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \uff0c\u5373 Nebula Graph \u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSource \u7684\u6570\u636e\u6d41\u5165\u53e6\u4e00\u4e2a\u56fe\u7a7a\u95f4 flinkSink \u4e2d\u3002","title":"NebulaSink \u793a\u4f8b\u7a0b\u5e8f"},{"location":"nebula-flink/nf-ug-customize-source/","text":"\u81ea\u5b9a\u4e49 source (NebulaSource) \u00b6 Nebula Flink Connector \u652f\u6301\u4ee5 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u56fe\u6570\u636e\u5e93\u6ce8\u518c\u4e3a Flink \u7684\u6570\u636e\u6e90\uff08source\uff09\u3002\u5176\u4e2d\uff0c\u901a\u8fc7 addSource \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataStreamSource \uff0c\u8868\u793a DataStream \u7684\u8d77\u70b9\uff0c\u800c\u901a\u8fc7 createInput \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataSource \u3002 DataSource \u4f1a\u4f5c\u4e3a\u8fdb\u4e00\u6b65\u8f6c\u6362\u7684\u6570\u636e\u96c6\u3002 DataSource \u53ef\u4ee5\u901a\u8fc7 withParameters \u5c01\u88c5\u914d\u7f6e\u53c2\u6570\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 NebulaSource \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002 addSource \u00b6 addSource \u65b9\u5f0f\u901a\u8fc7 NebulaSourceFunction \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichSourceFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u5e76\u83b7\u53d6 Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u548c Storage \u670d\u52a1\u7684\u8fde\u63a5\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 run \uff1a\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u586b\u5145\u5230 sourceContext \u3002 cancel \uff1a\u53d6\u6d88 Flink \u4f5c\u4e1a\u65f6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u5173\u95ed\u8d44\u6e90\u3002 createInput \u00b6 createInput \u65b9\u5f0f\u901a\u8fc7 NebulaInputFormat \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichInputFormat \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a openInputFormat \uff1a\u51c6\u5907 inputFormat \u4ee5\u83b7\u53d6\u8fde\u63a5\u3002 closeInputFormat \uff1a\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\u3002\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 open \uff1a\u5f00\u59cb inputFormat \u7684\u6570\u636e\u8bfb\u53d6\uff0c\u5c06\u8bfb\u53d6\u7684\u6570\u636e\u8f6c\u6362\u4e3a Flink \u7684\u6570\u636e\u683c\u5f0f\uff0c\u6784\u9020\u8fed\u4ee3\u5668\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u6253\u5370\u8bfb\u53d6\u65e5\u5fd7\u3002 reachedEnd \uff1a\u5224\u65ad\u662f\u5426\u8bfb\u53d6\u5b8c\u6210\u3002 nextRecord \uff1a\u901a\u8fc7\u8fed\u4ee3\u5668\u83b7\u53d6\u4e0b\u4e00\u6761\u6570\u636e. \u5e94\u7528\u5b9e\u8df5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u8bfb\u53d6 Nebula Graph \u7684\u56fe\u6570\u636e\uff1a \u6784\u9020 NebulaSourceFunction \u548c NebulaOutputFormat \u3002 \u901a\u8fc7 Flink \u7684 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90\u3002 \u5728\u6784\u9020\u7684 NebulaSourceFunction \u548c NebulaOutputFormat \u4e2d\uff0c\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u670d\u52a1\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 \u201cip1:port1,ip2:port2\" \u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u6807\u7b7e\u3002 \u8981\u8bfb\u53d6\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u6807\u7b7e\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000 \u4e2a\u70b9\u6570\u636e\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u8fb9\u7c7b\u578b\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000 \u4e2a\u8fb9\u6570\u636e\u3002 \u5047\u8bbe\u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Meta \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSource \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u5355\u6b21\u6700\u591a\u8bfb\u53d6 100 \u4e2a\u70b9\u6570\u636e \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSource \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:45500\") .build(); // \u521b\u5efa connectionProvider NebulaConnectionProvider metaConnectionProvider = new NebulaMetaConnectionProvider(nebulaClientOptions); // \u6784\u9020\u8bfb\u53d6 Nebula Graph \u6570\u636e\u9700\u8981\u7684\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\"); VertexExecutionOptions sourceExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSource\") .setTag(tag) .setFields(cols) .setLimit(100) .builder(); // \u6784\u9020 NebulaInputFormat NebulaInputFormat inputFormat = new NebulaInputFormat(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); // \u65b9\u5f0f 1 \u4f7f\u7528 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 DataSource <Row> dataSource1 = ExecutionEnvironment.getExecutionEnvironment() .createInput(inputFormat); // \u65b9\u5f0f 2 \u4f7f\u7528 addSource \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 NebulaSourceFunction sourceFunction = new NebulaSourceFunction(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); DataStreamSource <Row> dataSource2 = StreamExecutionEnvironment.getExecutionEnvironment() .addSource(sourceFunction); \u793a\u4f8b\u7a0b\u5e8f \u00b6 \u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testNebulaSource \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testNebulaSource \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e3a source\uff0c\u4ee5 Print \u4e3a sink\uff0c\u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6 59,671,064 \u6761\u70b9\u6570\u636e\u540e\u518d\u6253\u5370\u3002\u5c06\u8be5\u7a0b\u5e8f\u6253\u5305\u63d0\u4ea4\u5230 Flink \u96c6\u7fa4\u6267\u884c\uff0c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u7531\u4e0a\u56fe\u53ef\u77e5\uff0csource \u53d1\u9001\u6570\u636e 59,671,064 \u6761\uff0csink \u63a5\u6536\u6570\u636e 59,671,064 \u6761\u3002","title":"\u81ea\u5b9a\u4e49 source (NebulaSource)"},{"location":"nebula-flink/nf-ug-customize-source/#source_nebulasource","text":"Nebula Flink Connector \u652f\u6301\u4ee5 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u56fe\u6570\u636e\u5e93\u6ce8\u518c\u4e3a Flink \u7684\u6570\u636e\u6e90\uff08source\uff09\u3002\u5176\u4e2d\uff0c\u901a\u8fc7 addSource \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataStreamSource \uff0c\u8868\u793a DataStream \u7684\u8d77\u70b9\uff0c\u800c\u901a\u8fc7 createInput \u8bfb\u53d6 source \u6570\u636e\u5f97\u5230\u7684\u662f Flink \u7684 DataSource \u3002 DataSource \u4f1a\u4f5c\u4e3a\u8fdb\u4e00\u6b65\u8f6c\u6362\u7684\u6570\u636e\u96c6\u3002 DataSource \u53ef\u4ee5\u901a\u8fc7 withParameters \u5c01\u88c5\u914d\u7f6e\u53c2\u6570\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002 NebulaSource \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\u6240\u793a\u3002","title":"\u81ea\u5b9a\u4e49 source (NebulaSource)"},{"location":"nebula-flink/nf-ug-customize-source/#addsource","text":"addSource \u65b9\u5f0f\u901a\u8fc7 NebulaSourceFunction \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichSourceFunction \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a open \uff1a\u51c6\u5907 Nebula Graph \u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u5e76\u83b7\u53d6 Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u548c Storage \u670d\u52a1\u7684\u8fde\u63a5\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 run \uff1a\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u586b\u5145\u5230 sourceContext \u3002 cancel \uff1a\u53d6\u6d88 Flink \u4f5c\u4e1a\u65f6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u5173\u95ed\u8d44\u6e90\u3002","title":"addSource"},{"location":"nebula-flink/nf-ug-customize-source/#createinput","text":"createInput \u65b9\u5f0f\u901a\u8fc7 NebulaInputFormat \u7c7b\u5b9e\u73b0\uff0c\u8be5\u7c7b\u7ee7\u627f\u81ea RichInputFormat \u5e76\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u65b9\u6cd5\uff1a openInputFormat \uff1a\u51c6\u5907 inputFormat \u4ee5\u83b7\u53d6\u8fde\u63a5\u3002 closeInputFormat \uff1a\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u91ca\u653e\u8d44\u6e90\u3002\u65ad\u5f00\u4e0e Nebula Graph \u56fe\u6570\u636e\u5e93\u670d\u52a1\u7684\u8fde\u63a5\u3002 open \uff1a\u5f00\u59cb inputFormat \u7684\u6570\u636e\u8bfb\u53d6\uff0c\u5c06\u8bfb\u53d6\u7684\u6570\u636e\u8f6c\u6362\u4e3a Flink \u7684\u6570\u636e\u683c\u5f0f\uff0c\u6784\u9020\u8fed\u4ee3\u5668\u3002 close \uff1a\u5728\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\u540e\u6253\u5370\u8bfb\u53d6\u65e5\u5fd7\u3002 reachedEnd \uff1a\u5224\u65ad\u662f\u5426\u8bfb\u53d6\u5b8c\u6210\u3002 nextRecord \uff1a\u901a\u8fc7\u8fed\u4ee3\u5668\u83b7\u53d6\u4e0b\u4e00\u6761\u6570\u636e.","title":"createInput"},{"location":"nebula-flink/nf-ug-customize-source/#_1","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Flink Connector \u8bfb\u53d6 Nebula Graph \u7684\u56fe\u6570\u636e\uff1a \u6784\u9020 NebulaSourceFunction \u548c NebulaOutputFormat \u3002 \u901a\u8fc7 Flink \u7684 addSource \u6216\u8005 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90\u3002 \u5728\u6784\u9020\u7684 NebulaSourceFunction \u548c NebulaOutputFormat \u4e2d\uff0c\u5bf9\u5ba2\u6237\u7aef\u53c2\u6570\u548c\u6267\u884c\u53c2\u6570\u4f5c\u5982\u4e0b\u914d\u7f6e\uff1a NebulaClientOptions \u9700\u8981\u914d\u7f6e\uff1a Nebula Graph \u56fe\u6570\u636e\u5e93 Meta \u670d\u52a1\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5982\u679c\u6709\u591a\u4e2a\u670d\u52a1\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 \u201cip1:port1,ip2:port2\" \u3002 Nebula Graph \u56fe\u6570\u636e\u5e93\u7684\u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u3002 VertexExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u540d\u79f0\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u6807\u7b7e\u3002 \u8981\u8bfb\u53d6\u7684\u6807\u7b7e\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u6807\u7b7e\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u4e3a 2000 \u4e2a\u70b9\u6570\u636e\u3002 EdgeExecutionOptions \u9700\u8981\u914d\u7f6e\uff1a \u9700\u8981\u8bfb\u53d6\u8fb9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u3002\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8fb9\u7c7b\u578b\u3002 \u9700\u8981\u8bfb\u53d6\u7684\u8fb9\u7c7b\u578b\u5c5e\u6027\u3002 \u662f\u5426\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u5982\u679c\u914d\u7f6e\u4e3a true \u5219\u8fb9\u7c7b\u578b\u5c5e\u6027\u7684\u914d\u7f6e\u65e0\u6548\u3002 \u5355\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u9650\u503c\uff0c\u9ed8\u8ba4\u503c\u4e3a 2000 \u4e2a\u8fb9\u6570\u636e\u3002 \u5047\u8bbe\u9700\u8981\u8bfb\u53d6\u70b9\u6570\u636e\u7684 Nebula Graph \u56fe\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a Meta \u670d\u52a1\u4e3a\u672c\u5730\u5355\u526f\u672c\u90e8\u7f72\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 \u56fe\u7a7a\u95f4\u540d\u79f0\uff1a flinkSource \u6807\u7b7e\uff1a player \u6807\u7b7e\u5c5e\u6027\uff1a name \u548c age \u5355\u6b21\u6700\u591a\u8bfb\u53d6 100 \u4e2a\u70b9\u6570\u636e \u4ee5\u4e0b\u4e3a\u81ea\u5b9a\u4e49 NebulaSource \u7684\u4ee3\u7801\u793a\u4f8b\u3002 // \u6784\u9020 Nebula Graph \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\u7684\u53c2\u6570 NebulaClientOptions nebulaClientOptions = new NebulaClientOptions .NebulaClientOptionsBuilder() .setAddress(\"127.0.0.1:45500\") .build(); // \u521b\u5efa connectionProvider NebulaConnectionProvider metaConnectionProvider = new NebulaMetaConnectionProvider(nebulaClientOptions); // \u6784\u9020\u8bfb\u53d6 Nebula Graph \u6570\u636e\u9700\u8981\u7684\u53c2\u6570 List <String> cols = Arrays.asList(\"name\", \"age\"); VertexExecutionOptions sourceExecutionOptions = new VertexExecutionOptions.ExecutionOptionBuilder() .setGraphSpace(\"flinkSource\") .setTag(tag) .setFields(cols) .setLimit(100) .builder(); // \u6784\u9020 NebulaInputFormat NebulaInputFormat inputFormat = new NebulaInputFormat(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); // \u65b9\u5f0f 1 \u4f7f\u7528 createInput \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 DataSource <Row> dataSource1 = ExecutionEnvironment.getExecutionEnvironment() .createInput(inputFormat); // \u65b9\u5f0f 2 \u4f7f\u7528 addSource \u65b9\u5f0f\u5c06 Nebula Graph \u6ce8\u518c\u4e3a\u6570\u636e\u6e90 NebulaSourceFunction sourceFunction = new NebulaSourceFunction(metaConnectionProvider) .setExecutionOptions(sourceExecutionOptions); DataStreamSource <Row> dataSource2 = StreamExecutionEnvironment.getExecutionEnvironment() .addSource(sourceFunction);","title":"\u5e94\u7528\u5b9e\u8df5"},{"location":"nebula-flink/nf-ug-customize-source/#_2","text":"\u60a8\u53ef\u4ee5\u53c2\u8003 GitHub \u4e0a\u7684\u793a\u4f8b\u7a0b\u5e8f testNebulaSource \u7f16\u5199\u60a8\u81ea\u5df1\u7684 Flink \u5e94\u7528\u7a0b\u5e8f\u3002 \u4ee5 testNebulaSource \u4e3a\u4f8b\uff1a\u8be5\u7a0b\u5e8f\u4ee5 Nebula Graph \u56fe\u6570\u636e\u5e93\u4e3a source\uff0c\u4ee5 Print \u4e3a sink\uff0c\u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6 59,671,064 \u6761\u70b9\u6570\u636e\u540e\u518d\u6253\u5370\u3002\u5c06\u8be5\u7a0b\u5e8f\u6253\u5305\u63d0\u4ea4\u5230 Flink \u96c6\u7fa4\u6267\u884c\uff0c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u7531\u4e0a\u56fe\u53ef\u77e5\uff0csource \u53d1\u9001\u6570\u636e 59,671,064 \u6761\uff0csink \u63a5\u6536\u6570\u636e 59,671,064 \u6761\u3002","title":"\u793a\u4f8b\u7a0b\u5e8f"},{"location":"nebula-flink/nf-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0 Nebula Flink Connector \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002 Nebula Graph \u7248\u672c \u00b6 Nebula Flink Connector \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.1.0 \u53ca\u4ee5\u524d\u7684\u7248\u672c\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0.0\u3002 \u8f6f\u4ef6\u4f9d\u8d56 \u00b6 \u4e3a\u4fdd\u8bc1 Nebula Flink Connector \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Flink\u00ae\uff1a1.11 \u53ca\u4ee5\u540e\u7248\u672c JDK 8","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-flink/nf-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0 Nebula Flink Connector \u7684\u4e00\u4e9b\u4f7f\u7528\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-flink/nf-ug-limitations/#nebula_graph","text":"Nebula Flink Connector \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.1.0 \u53ca\u4ee5\u524d\u7684\u7248\u672c\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0.0\u3002","title":"Nebula Graph \u7248\u672c"},{"location":"nebula-flink/nf-ug-limitations/#_2","text":"\u4e3a\u4fdd\u8bc1 Nebula Flink Connector \u6b63\u5e38\u5de5\u4f5c\uff0c\u786e\u8ba4\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Flink\u00ae\uff1a1.11 \u53ca\u4ee5\u540e\u7248\u672c JDK 8","title":"\u8f6f\u4ef6\u4f9d\u8d56"},{"location":"nebula-flink/nf-ug-notes/","text":"\u7279\u6b8a\u8bf4\u660e \u00b6 Catalog \u00b6 Flink 1.11.0 \u4e4b\u524d\uff0c\u5982\u679c\u4f9d\u8d56 Flink \u7684 source/sink \u8bfb\u5199\u5916\u90e8\u6570\u636e\u6e90\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u624b\u52a8\u8bfb\u53d6\u5bf9\u5e94\u6570\u636e\u7cfb\u7edf\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u8bfb\u5199 Nebula Graph \u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u5148\u4fdd\u8bc1\u660e\u786e\u5730\u77e5\u6653 Nebula Graph \u4e2d\u7684 Schema \u4fe1\u606f\u3002\u7531\u6b64\u5e26\u6765\u7684\u95ee\u9898\u662f\uff1a\u5f53 Nebula Graph \u4e2d\u7684 Schema \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7528\u6237\u9700\u8981\u624b\u52a8\u66f4\u65b0\u5bf9\u5e94\u7684 Flink \u4efb\u52a1\u4ee5\u4fdd\u6301\u7c7b\u578b\u5339\u914d\uff0c\u5426\u5219\uff0c\u4efb\u4f55\u4e0d\u5339\u914d\u90fd\u4f1a\u9020\u6210\u8fd0\u884c\u65f6\u62a5\u9519\u4f7f\u4f5c\u4e1a\u5931\u8d25\uff0c\u6574\u4e2a\u64cd\u4f5c\u5197\u4f59\u4e14\u7e41\u7410\uff0c\u4f53\u9a8c\u6781\u5dee\u3002 Flink 1.11.0 \u7248\u672c\u540e\uff0c\u7528\u6237\u4f7f\u7528 Flink SQL \u65f6\u53ef\u4ee5\u81ea\u52a8\u83b7\u53d6\u8868\u7684 Schema \u800c\u4e0d\u518d\u9700\u8981\u8f93\u5165 DDL\uff0c\u5373 Flink \u5728\u4e0d\u4e86\u89e3\u5916\u90e8\u7cfb\u7edf\u6570\u636e\u7684 Schema \u65f6\u4ecd\u80fd\u5b8c\u6210\u6570\u636e\u5339\u914d\u3002 \u76ee\u524d Nebula Flink Connector \u5df2\u7ecf\u652f\u6301\u6570\u636e\u7684\u8bfb\u5199\uff0c\u8981\u5b9e\u73b0 Schema \u7684\u5339\u914d\u5219\u9700\u8981\u4e3a Flink Connector \u5b9e\u73b0 Catalog \u7ba1\u7406\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u786e\u4fdd Nebula Graph \u4e2d\u7684\u6570\u636e\u5b89\u5168\uff0cNebula Flink Connector \u4ec5\u652f\u6301 Catalog \u7684\u8bfb\u64cd\u4f5c\uff0c\u4e0d\u5141\u8bb8\u8fdb\u884c Catalog \u7684\u4fee\u6539\u548c\u5199\u5165\u3002 \u8bbf\u95ee Nebula Graph \u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u5b8c\u6574\u8def\u5f84\u683c\u5f0f\u5982\u4e0b\uff1a <graphSpace>.<VERTEX.tag> \u6216\u8005 <graphSpace>.<EDGE.edge> \u3002 \u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a // \u5176\u4e2d address \u53ef\u4ee5\u914d\u7f6e\u4e3a\u591a\u4e2a IP \u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port,ip2:port\" String catalogName = \"testCatalog\" ; String defaultSpace = \"flinkSink\" ; String username = \"root\" ; String password = \"nebula\" ; String address = \"127.0.0.1:45500\" ; String table = \"VERTEX.player\" // define Nebula catalog Catalog catalog = NebulaCatalogUtils . createNebulaCatalog ( catalogName , defaultSpace , address , username , password ); // define Flink table environment StreamExecutionEnvironment bsEnv = StreamExecutionEnvironment . getExecutionEnvironment (); tEnv = StreamTableEnvironment . create ( bsEnv ); // register customed nebula catalog tEnv . registerCatalog ( catalogName , catalog ); // use customed nebula catalog tEnv . useCatalog ( catalogName ); // show graph spaces of nebula String [] spaces = tEnv . listDatabases (); // // show tags and edges of Nebula Graph tEnv . useDatabase ( defaultSpace ); String [] tables = tEnv . listTables (); // check tage player exist in defaultSpace ObjectPath path = new ObjectPath ( defaultSpace , table ); assert catalog . tableExists ( path ) == true // get nebula tag schema CatalogBaseTable table = catalog . getTable ( new ObjectPath ( defaultSpace , table )); table . getSchema (); \u5173\u4e8e Catalog \u63a5\u53e3\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Flink-table \u4ee3\u7801 \u3002 Exactly-once \u00b6 Flink Connector \u7684 Exactly-once \u662f\u6307 Flink \u501f\u52a9 checkpoint \u673a\u5236\u4fdd\u8bc1\u6bcf\u4e2a\u8f93\u5165\u4e8b\u4ef6\u53ea\u5bf9\u6700\u7ec8\u7ed3\u679c\u5f71\u54cd\u4e00\u6b21\uff0c\u5728\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u4e2d\u5373\u4f7f\u51fa\u73b0\u6545\u969c\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u548c\u4e22\u5931\u7684\u60c5\u51b5\u3002 \u4e3a\u4e86\u63d0\u4f9b\u7aef\u5230\u7aef\u7684 Exactly-once \u8bed\u4e49\uff0cFlink \u7684\u5916\u90e8\u6570\u636e\u7cfb\u7edf\u4e5f\u5fc5\u987b\u63d0\u4f9b\u63d0\u4ea4\u6216\u56de\u6eda\u7684\u65b9\u6cd5\uff0c\u7136\u540e\u901a\u8fc7 Flink \u7684 checkpoint \u673a\u5236\u534f\u8c03\u3002Flink \u63d0\u4f9b\u4e86\u5b9e\u73b0\u7aef\u5230\u7aef\u7684 Exactly-once \u7684\u62bd\u8c61\uff0c\u5373\u5b9e\u73b0\u4e8c\u9636\u6bb5\u63d0\u4ea4\u7684\u62bd\u8c61\u7c7b TwoPhaseCommitSinkFunction \u3002 \u8981\u4e3a\u6570\u636e\u8f93\u51fa\u7aef\u5b9e\u73b0 Exactly-once\uff0c\u9700\u8981\u5b9e\u73b0\u56db\u4e2a\u51fd\u6570\uff1a beginTransaction \uff1a\u5728\u4e8b\u52a1\u5f00\u59cb\u524d\uff0c\u5728\u76ee\u6807\u6587\u4ef6\u7cfb\u7edf\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u968f\u540e\u53ef\u4ee5\u5728\u6570\u636e\u5904\u7406\u65f6\u5c06\u6570\u636e\u5199\u5165\u6b64\u6587\u4ef6\u3002 preCommit \uff1a\u9884\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5237\u65b0\u6587\u4ef6\u5230\u5b58\u50a8\uff0c\u5173\u95ed\u6587\u4ef6\u4e0d\u518d\u5199\u5165\u3002\u4e3a\u4e0b\u4e00\u4e2a checkpoint \u7684\u4efb\u4f55\u540e\u7eed\u6587\u4ef6\u5199\u5165\u542f\u52a8\u4e00\u4e2a\u65b0\u4e8b\u52a1\u3002 commit \uff1a\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5c06\u9884\u63d0\u4ea4\u9636\u6bb5\u7684\u6587\u4ef6\u539f\u5b50\u5730\u79fb\u52a8\u5230\u771f\u6b63\u7684\u76ee\u6807\u76ee\u5f55\u3002\u4e8c\u9636\u6bb5\u63d0\u4ea4\u8fc7\u7a0b\u4f1a\u589e\u52a0\u8f93\u51fa\u6570\u636e\u53ef\u89c1\u6027\u7684\u5ef6\u8fdf\u3002 abort \uff1a\u7ec8\u6b62\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u3002 \u7531\u4ee5\u4e0a\u51fd\u6570\u53ef\u770b\u51fa\uff0cFlink \u7684\u4e8c\u9636\u6bb5\u63d0\u4ea4\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u6709\u8981\u6c42\uff0c\u5373 source \u6570\u636e\u6e90\u5fc5\u987b\u5177\u5907\u91cd\u53d1\u529f\u80fd\uff0csink \u6570\u636e\u6c60\u5fc5\u987b\u652f\u6301\u4e8b\u52a1\u63d0\u4ea4\u548c\u5e42\u7b49\u5199\u3002 Nebula Graph v1.1.0 \u867d\u7136\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4f46\u5176\u5199\u5165\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\uff0c\u5373\u540c\u4e00\u6761\u6570\u636e\u7684\u591a\u6b21\u5199\u5165\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7 checkpoint \u673a\u5236\u5b9e\u73b0 Nebula Flink Connector \u7684 At-least-Once \u673a\u5236\uff0c\u6839\u636e\u591a\u6b21\u5199\u5165\u7684\u5e42\u7b49\u6027\u53ef\u4ee5\u95f4\u63a5\u5b9e\u73b0 sink \u7684 Exactly-once\u3002 \u8981\u4f7f\u7528 NebulaSink \u7684\u5bb9\u9519\u6027\uff0c\u8bf7\u786e\u4fdd\u5728 Flink \u7684\u6267\u884c\u73af\u5883\u4e2d\u5f00\u542f\u4e86 checkpoint \u914d\u7f6e\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002 StreamExecutionEnvironment env = StreamExecutionEnvironment . getExecutionEnvironment (); env . enableCheckpointing ( 10000 ) // checkpoint every 10000 msecs . getCheckpointConfig () . setCheckpointingMode ( CheckpointingMode . AT_LEAST_ONCE );","title":"\u7279\u6b8a\u8bf4\u660e"},{"location":"nebula-flink/nf-ug-notes/#_1","text":"","title":"\u7279\u6b8a\u8bf4\u660e"},{"location":"nebula-flink/nf-ug-notes/#catalog","text":"Flink 1.11.0 \u4e4b\u524d\uff0c\u5982\u679c\u4f9d\u8d56 Flink \u7684 source/sink \u8bfb\u5199\u5916\u90e8\u6570\u636e\u6e90\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u624b\u52a8\u8bfb\u53d6\u5bf9\u5e94\u6570\u636e\u7cfb\u7edf\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u8bfb\u5199 Nebula Graph \u7684\u6570\u636e\uff0c\u5219\u5fc5\u987b\u5148\u4fdd\u8bc1\u660e\u786e\u5730\u77e5\u6653 Nebula Graph \u4e2d\u7684 Schema \u4fe1\u606f\u3002\u7531\u6b64\u5e26\u6765\u7684\u95ee\u9898\u662f\uff1a\u5f53 Nebula Graph \u4e2d\u7684 Schema \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7528\u6237\u9700\u8981\u624b\u52a8\u66f4\u65b0\u5bf9\u5e94\u7684 Flink \u4efb\u52a1\u4ee5\u4fdd\u6301\u7c7b\u578b\u5339\u914d\uff0c\u5426\u5219\uff0c\u4efb\u4f55\u4e0d\u5339\u914d\u90fd\u4f1a\u9020\u6210\u8fd0\u884c\u65f6\u62a5\u9519\u4f7f\u4f5c\u4e1a\u5931\u8d25\uff0c\u6574\u4e2a\u64cd\u4f5c\u5197\u4f59\u4e14\u7e41\u7410\uff0c\u4f53\u9a8c\u6781\u5dee\u3002 Flink 1.11.0 \u7248\u672c\u540e\uff0c\u7528\u6237\u4f7f\u7528 Flink SQL \u65f6\u53ef\u4ee5\u81ea\u52a8\u83b7\u53d6\u8868\u7684 Schema \u800c\u4e0d\u518d\u9700\u8981\u8f93\u5165 DDL\uff0c\u5373 Flink \u5728\u4e0d\u4e86\u89e3\u5916\u90e8\u7cfb\u7edf\u6570\u636e\u7684 Schema \u65f6\u4ecd\u80fd\u5b8c\u6210\u6570\u636e\u5339\u914d\u3002 \u76ee\u524d Nebula Flink Connector \u5df2\u7ecf\u652f\u6301\u6570\u636e\u7684\u8bfb\u5199\uff0c\u8981\u5b9e\u73b0 Schema \u7684\u5339\u914d\u5219\u9700\u8981\u4e3a Flink Connector \u5b9e\u73b0 Catalog \u7ba1\u7406\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u786e\u4fdd Nebula Graph \u4e2d\u7684\u6570\u636e\u5b89\u5168\uff0cNebula Flink Connector \u4ec5\u652f\u6301 Catalog \u7684\u8bfb\u64cd\u4f5c\uff0c\u4e0d\u5141\u8bb8\u8fdb\u884c Catalog \u7684\u4fee\u6539\u548c\u5199\u5165\u3002 \u8bbf\u95ee Nebula Graph \u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u5b8c\u6574\u8def\u5f84\u683c\u5f0f\u5982\u4e0b\uff1a <graphSpace>.<VERTEX.tag> \u6216\u8005 <graphSpace>.<EDGE.edge> \u3002 \u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a // \u5176\u4e2d address \u53ef\u4ee5\u914d\u7f6e\u4e3a\u591a\u4e2a IP \u5730\u5740\uff0c\u683c\u5f0f\u4e3a \"ip1:port,ip2:port\" String catalogName = \"testCatalog\" ; String defaultSpace = \"flinkSink\" ; String username = \"root\" ; String password = \"nebula\" ; String address = \"127.0.0.1:45500\" ; String table = \"VERTEX.player\" // define Nebula catalog Catalog catalog = NebulaCatalogUtils . createNebulaCatalog ( catalogName , defaultSpace , address , username , password ); // define Flink table environment StreamExecutionEnvironment bsEnv = StreamExecutionEnvironment . getExecutionEnvironment (); tEnv = StreamTableEnvironment . create ( bsEnv ); // register customed nebula catalog tEnv . registerCatalog ( catalogName , catalog ); // use customed nebula catalog tEnv . useCatalog ( catalogName ); // show graph spaces of nebula String [] spaces = tEnv . listDatabases (); // // show tags and edges of Nebula Graph tEnv . useDatabase ( defaultSpace ); String [] tables = tEnv . listTables (); // check tage player exist in defaultSpace ObjectPath path = new ObjectPath ( defaultSpace , table ); assert catalog . tableExists ( path ) == true // get nebula tag schema CatalogBaseTable table = catalog . getTable ( new ObjectPath ( defaultSpace , table )); table . getSchema (); \u5173\u4e8e Catalog \u63a5\u53e3\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Flink-table \u4ee3\u7801 \u3002","title":"Catalog"},{"location":"nebula-flink/nf-ug-notes/#exactly-once","text":"Flink Connector \u7684 Exactly-once \u662f\u6307 Flink \u501f\u52a9 checkpoint \u673a\u5236\u4fdd\u8bc1\u6bcf\u4e2a\u8f93\u5165\u4e8b\u4ef6\u53ea\u5bf9\u6700\u7ec8\u7ed3\u679c\u5f71\u54cd\u4e00\u6b21\uff0c\u5728\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u4e2d\u5373\u4f7f\u51fa\u73b0\u6545\u969c\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u548c\u4e22\u5931\u7684\u60c5\u51b5\u3002 \u4e3a\u4e86\u63d0\u4f9b\u7aef\u5230\u7aef\u7684 Exactly-once \u8bed\u4e49\uff0cFlink \u7684\u5916\u90e8\u6570\u636e\u7cfb\u7edf\u4e5f\u5fc5\u987b\u63d0\u4f9b\u63d0\u4ea4\u6216\u56de\u6eda\u7684\u65b9\u6cd5\uff0c\u7136\u540e\u901a\u8fc7 Flink \u7684 checkpoint \u673a\u5236\u534f\u8c03\u3002Flink \u63d0\u4f9b\u4e86\u5b9e\u73b0\u7aef\u5230\u7aef\u7684 Exactly-once \u7684\u62bd\u8c61\uff0c\u5373\u5b9e\u73b0\u4e8c\u9636\u6bb5\u63d0\u4ea4\u7684\u62bd\u8c61\u7c7b TwoPhaseCommitSinkFunction \u3002 \u8981\u4e3a\u6570\u636e\u8f93\u51fa\u7aef\u5b9e\u73b0 Exactly-once\uff0c\u9700\u8981\u5b9e\u73b0\u56db\u4e2a\u51fd\u6570\uff1a beginTransaction \uff1a\u5728\u4e8b\u52a1\u5f00\u59cb\u524d\uff0c\u5728\u76ee\u6807\u6587\u4ef6\u7cfb\u7edf\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u968f\u540e\u53ef\u4ee5\u5728\u6570\u636e\u5904\u7406\u65f6\u5c06\u6570\u636e\u5199\u5165\u6b64\u6587\u4ef6\u3002 preCommit \uff1a\u9884\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5237\u65b0\u6587\u4ef6\u5230\u5b58\u50a8\uff0c\u5173\u95ed\u6587\u4ef6\u4e0d\u518d\u5199\u5165\u3002\u4e3a\u4e0b\u4e00\u4e2a checkpoint \u7684\u4efb\u4f55\u540e\u7eed\u6587\u4ef6\u5199\u5165\u542f\u52a8\u4e00\u4e2a\u65b0\u4e8b\u52a1\u3002 commit \uff1a\u63d0\u4ea4\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5c06\u9884\u63d0\u4ea4\u9636\u6bb5\u7684\u6587\u4ef6\u539f\u5b50\u5730\u79fb\u52a8\u5230\u771f\u6b63\u7684\u76ee\u6807\u76ee\u5f55\u3002\u4e8c\u9636\u6bb5\u63d0\u4ea4\u8fc7\u7a0b\u4f1a\u589e\u52a0\u8f93\u51fa\u6570\u636e\u53ef\u89c1\u6027\u7684\u5ef6\u8fdf\u3002 abort \uff1a\u7ec8\u6b62\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u3002 \u7531\u4ee5\u4e0a\u51fd\u6570\u53ef\u770b\u51fa\uff0cFlink \u7684\u4e8c\u9636\u6bb5\u63d0\u4ea4\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u6709\u8981\u6c42\uff0c\u5373 source \u6570\u636e\u6e90\u5fc5\u987b\u5177\u5907\u91cd\u53d1\u529f\u80fd\uff0csink \u6570\u636e\u6c60\u5fc5\u987b\u652f\u6301\u4e8b\u52a1\u63d0\u4ea4\u548c\u5e42\u7b49\u5199\u3002 Nebula Graph v1.1.0 \u867d\u7136\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4f46\u5176\u5199\u5165\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\uff0c\u5373\u540c\u4e00\u6761\u6570\u636e\u7684\u591a\u6b21\u5199\u5165\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7 checkpoint \u673a\u5236\u5b9e\u73b0 Nebula Flink Connector \u7684 At-least-Once \u673a\u5236\uff0c\u6839\u636e\u591a\u6b21\u5199\u5165\u7684\u5e42\u7b49\u6027\u53ef\u4ee5\u95f4\u63a5\u5b9e\u73b0 sink \u7684 Exactly-once\u3002 \u8981\u4f7f\u7528 NebulaSink \u7684\u5bb9\u9519\u6027\uff0c\u8bf7\u786e\u4fdd\u5728 Flink \u7684\u6267\u884c\u73af\u5883\u4e2d\u5f00\u542f\u4e86 checkpoint \u914d\u7f6e\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002 StreamExecutionEnvironment env = StreamExecutionEnvironment . getExecutionEnvironment (); env . enableCheckpointing ( 10000 ) // checkpoint every 10000 msecs . getCheckpointConfig () . setCheckpointingMode ( CheckpointingMode . AT_LEAST_ONCE );","title":"Exactly-once"},{"location":"nebula-flink/nf-ug-toc/","text":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector \u00b6 \u4ec0\u4e48\u662f Nebula Flink Connector \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-toc/#nebula_flink_connector","text":"\u4ec0\u4e48\u662f Nebula Flink Connector \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u6b22\u8fce\u4f7f\u7528 Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-what-is-flink-connector/","text":"\u4ec0\u4e48\u662f Nebula Flink Connector \u00b6 Nebula Flink Connector \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 Flink \u8fde\u63a5\u5668\uff0c\u652f\u6301 Flink \u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\uff08source\uff09\uff0c\u6216\u8005\u5c06\u5176\u4ed6\u5916\u90e8\u6570\u636e\u6e90\u8bfb\u53d6\u7684\u6570\u636e\u5199\u5165 Nebula Graph \u56fe\u6570\u636e\u5e93\uff08sink\uff09\u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Flink Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u60a8\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u6863\u4f7f\u7528 Nebula Flink Connector\uff1a \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u4ec0\u4e48\u662f Nebula Flink Connector"},{"location":"nebula-flink/nf-ug-what-is-flink-connector/#nebula_flink_connector","text":"Nebula Flink Connector \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 Flink \u8fde\u63a5\u5668\uff0c\u652f\u6301 Flink \u4ece Nebula Graph \u56fe\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\uff08source\uff09\uff0c\u6216\u8005\u5c06\u5176\u4ed6\u5916\u90e8\u6570\u636e\u6e90\u8bfb\u53d6\u7684\u6570\u636e\u5199\u5165 Nebula Graph \u56fe\u6570\u636e\u5e93\uff08sink\uff09\u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Flink Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u60a8\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u6863\u4f7f\u7528 Nebula Flink Connector\uff1a \u4f7f\u7528\u9650\u5236 \u81ea\u5b9a\u4e49 source (NebulaSource) \u81ea\u5b9a\u4e49 sink (NebulaSink) \u7279\u6b8a\u8bf4\u660e","title":"\u4ec0\u4e48\u662f Nebula Flink Connector"},{"location":"nebula-studio/st-ug-toc/","text":"Nebula Graph Studio \u7528\u6237\u624b\u518c \u00b6 \u8ba4\u8bc6 Nebula Graph Studio \u4ec0\u4e48\u662f Nebula Graph Studio \u540d\u8bcd\u89e3\u91ca \u4f7f\u7528\u9650\u5236 \u7248\u672c\u66f4\u65b0 \u5feb\u6377\u952e \u5b89\u88c5\u4e0e\u767b\u5f55 \u90e8\u7f72 Studio \u8fde\u63a5\u6570\u636e\u5e93 \u6e05\u9664\u8fde\u63a5 \u5feb\u901f\u5f00\u59cb \u89c4\u5212 Schema \u51c6\u5907 CSV \u6587\u4ef6 \u521b\u5efa Schema \u5bfc\u5165\u6570\u636e \u67e5\u8be2\u56fe\u6570\u636e \u64cd\u4f5c\u6307\u5357 \u7ba1\u7406 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4 \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15 \u4f7f\u7528\u56fe\u63a2\u7d22[TODO] \u4f7f\u7528\u63a7\u5236\u53f0 \u63a7\u5236\u53f0\u754c\u9762 \u5bfc\u5165\u56fe\u63a2\u7d22 \u67e5\u770b\u5b50\u56fe \u6700\u4f73\u5b9e\u8df5 [TODO] \u6545\u969c\u6392\u67e5 \u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u65e0\u6cd5\u8bbf\u95ee Studio \u5e38\u89c1\u95ee\u9898 \u9519\u8bef\u4fe1\u606f [TODO] * \u672c\u9875\u9762\u6240\u5217 [TODO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\uff0c\u5e76\u975e\u8868\u793a Studio \u4e0d\u5177\u5907\u76f8\u5e94\u7684\u529f\u80fd\u3002","title":"Nebula Graph Studio \u7528\u6237\u624b\u518c"},{"location":"nebula-studio/st-ug-toc/#nebula_graph_studio","text":"\u8ba4\u8bc6 Nebula Graph Studio \u4ec0\u4e48\u662f Nebula Graph Studio \u540d\u8bcd\u89e3\u91ca \u4f7f\u7528\u9650\u5236 \u7248\u672c\u66f4\u65b0 \u5feb\u6377\u952e \u5b89\u88c5\u4e0e\u767b\u5f55 \u90e8\u7f72 Studio \u8fde\u63a5\u6570\u636e\u5e93 \u6e05\u9664\u8fde\u63a5 \u5feb\u901f\u5f00\u59cb \u89c4\u5212 Schema \u51c6\u5907 CSV \u6587\u4ef6 \u521b\u5efa Schema \u5bfc\u5165\u6570\u636e \u67e5\u8be2\u56fe\u6570\u636e \u64cd\u4f5c\u6307\u5357 \u7ba1\u7406 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4 \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15 \u4f7f\u7528\u56fe\u63a2\u7d22[TODO] \u4f7f\u7528\u63a7\u5236\u53f0 \u63a7\u5236\u53f0\u754c\u9762 \u5bfc\u5165\u56fe\u63a2\u7d22 \u67e5\u770b\u5b50\u56fe \u6700\u4f73\u5b9e\u8df5 [TODO] \u6545\u969c\u6392\u67e5 \u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u65e0\u6cd5\u8bbf\u95ee Studio \u5e38\u89c1\u95ee\u9898 \u9519\u8bef\u4fe1\u606f [TODO] * \u672c\u9875\u9762\u6240\u5217 [TODO] \u4ec5\u8868\u793a\u6587\u6863\u5c1a\u672a\u5b8c\u6210\uff0c\u5e76\u975e\u8868\u793a Studio \u4e0d\u5177\u5907\u76f8\u5e94\u7684\u529f\u80fd\u3002","title":"Nebula Graph Studio \u7528\u6237\u624b\u518c"},{"location":"nebula-studio/about-studio/st-ug-check-updates/","text":"\u7248\u672c\u66f4\u65b0 \u00b6 Studio \u5904\u4e8e\u6301\u7eed\u5f00\u53d1\u72b6\u6001\u4e2d\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55 \u67e5\u770b\u6700\u65b0\u53d1\u5e03\u7684\u529f\u80fd\u3002 \u4e91\u670d\u52a1\u7248 Studio \u00b6 \u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u4ee5 Nebula Graph Cloud Service \u4e0a\u5b9e\u9645\u90e8\u7f72\u7684\u7248\u672c\u4e3a\u51c6\uff0c\u60a8\u4e0d\u80fd\u81ea\u884c\u66f4\u65b0 Studio \u7248\u672c\u3002\u5f53\u524d\u516c\u6d4b\u73af\u5883\u91cc\u7684 Studio \u7248\u672c\u4e3a v1.1.1-beta\u3002 Docker \u7248 Studio \u00b6 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5efa\u8bae\u60a8\u6bcf\u6b21\u90fd\u5728 nebula-web-docker \u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Studio\uff1a docker-compose pull && docker-compose up -d \u6210\u529f\u8fde\u63a5 Docker \u7248 Studio \u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9875\u9762\u53f3\u4e0a\u89d2\u70b9\u51fb\u7248\u672c\u53f7\uff0c\u518d\u70b9\u51fb \u65b0\u53d1\u5e03 \uff0c\u524d\u5f80\u67e5\u770b Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55\u3002","title":"\u7248\u672c\u66f4\u65b0"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#_1","text":"Studio \u5904\u4e8e\u6301\u7eed\u5f00\u53d1\u72b6\u6001\u4e2d\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55 \u67e5\u770b\u6700\u65b0\u53d1\u5e03\u7684\u529f\u80fd\u3002","title":"\u7248\u672c\u66f4\u65b0"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#studio","text":"\u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u4ee5 Nebula Graph Cloud Service \u4e0a\u5b9e\u9645\u90e8\u7f72\u7684\u7248\u672c\u4e3a\u51c6\uff0c\u60a8\u4e0d\u80fd\u81ea\u884c\u66f4\u65b0 Studio \u7248\u672c\u3002\u5f53\u524d\u516c\u6d4b\u73af\u5883\u91cc\u7684 Studio \u7248\u672c\u4e3a v1.1.1-beta\u3002","title":"\u4e91\u670d\u52a1\u7248 Studio"},{"location":"nebula-studio/about-studio/st-ug-check-updates/#docker_studio","text":"\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5efa\u8bae\u60a8\u6bcf\u6b21\u90fd\u5728 nebula-web-docker \u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Studio\uff1a docker-compose pull && docker-compose up -d \u6210\u529f\u8fde\u63a5 Docker \u7248 Studio \u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9875\u9762\u53f3\u4e0a\u89d2\u70b9\u51fb\u7248\u672c\u53f7\uff0c\u518d\u70b9\u51fb \u65b0\u53d1\u5e03 \uff0c\u524d\u5f80\u67e5\u770b Studio \u7684\u7248\u672c\u66f4\u65b0\u8bb0\u5f55\u3002","title":"Docker \u7248 Studio"},{"location":"nebula-studio/about-studio/st-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u7684\u9650\u5236\u3002 Nebula Graph \u7248\u672c\u652f\u6301 \u00b6 \u76ee\u524d Studio v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002 \u7cfb\u7edf\u67b6\u6784 \u00b6 Docker \u7248 Studio \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002 \u6570\u636e\u4e0a\u4f20 \u00b6 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u4e0a\u4f20\u6570\u636e\u6709\u4ee5\u4e0b\u9650\u5236\uff1a \u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20\u6ca1\u6709\u8868\u5934\u884c\u7684 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u4ec5\u652f\u6301\u82f1\u6587\u9017\u53f7\uff08,\uff09\u4f5c\u4e3a\u5206\u9694\u7b26\u3002 \u5355\u4e2a\u6587\u4ef6\u4e0d\u5f97\u8d85\u8fc7 100 MB\u3002 \u5355\u4e2a\u5b9e\u4f8b\u4e0a\u4f20\u6587\u4ef6\u603b\u91cf\u4e0d\u5f97\u8d85\u8fc7 1 GB\u3002 \u5355\u4e2a\u6587\u4ef6\u4ec5\u80fd\u4fdd\u5b58 1 \u5929\u3002 \u4f7f\u7528 Docker \u7248 Studio \u4e0a\u4f20\u6570\u636e\u4e5f\u4ec5\u652f\u6301\u4e0a\u4f20\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\uff0c\u4f46\u662f\uff0c\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u53ca\u4fdd\u5b58\u65f6\u95f4\u4e0d\u53d7\u9650\u5236\uff0c\u800c\u4e14\uff0c\u6570\u636e\u603b\u91cf\u4ee5\u672c\u5730\u5b58\u50a8\u5bb9\u91cf\u4e3a\u51c6\u3002 \u6570\u636e\u5907\u4efd \u00b6 \u76ee\u524d\u4ec5\u652f\u6301\u5728 \u63a7\u5236\u53f0 \u4e0a\u4ee5 CSV \u683c\u5f0f\u5bfc\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6570\u636e\u5907\u4efd\u65b9\u5f0f\u3002 nGQL \u652f\u6301 \u00b6 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0b\u5185\u5bb9\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u6240\u6709 nGQL \u8bed\u53e5\u8bed\u6cd5\uff1a USE <space_name> \uff1a\u60a8\u53ea\u80fd\u5728 Space \u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u4e0d\u80fd\u8fd0\u884c\u8fd9\u4e2a\u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u65f6\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\u6362\u884c\uff0c\u4e0d\u80fd\u4f7f\u7528\u6362\u884c\u7b26\u3002 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0a\u9650\u5236\u5916\uff0c\u60a8\u4e5f\u4e0d\u80fd\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u7528\u6237\u7ba1\u7406\u548c\u89d2\u8272\u7ba1\u7406\u76f8\u5173\u7684\u8bed\u53e5\uff0c\u5305\u62ec\uff1a CREATE USER ALTER USER CHANGE PASSWORD DROP USER GRANT ROLE REVOKE ROLE \u5173\u4e8e\u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 \u6d4f\u89c8\u5668\u652f\u6301 \u00b6 \u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Chrome \u8bbf\u95ee Studio\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u7684\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"nebula-studio/about-studio/st-ug-limitations/#nebula_graph","text":"\u76ee\u524d Studio v1.x \u4ec5\u652f\u6301 Nebula Graph v1.x\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.x\u3002","title":"Nebula Graph \u7248\u672c\u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_2","text":"Docker \u7248 Studio \u76ee\u524d\u4ec5\u652f\u6301 x86_64 \u67b6\u6784\u3002","title":"\u7cfb\u7edf\u67b6\u6784"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_3","text":"\u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u4e0a\u4f20\u6570\u636e\u6709\u4ee5\u4e0b\u9650\u5236\uff1a \u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20\u6ca1\u6709\u8868\u5934\u884c\u7684 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u4ec5\u652f\u6301\u82f1\u6587\u9017\u53f7\uff08,\uff09\u4f5c\u4e3a\u5206\u9694\u7b26\u3002 \u5355\u4e2a\u6587\u4ef6\u4e0d\u5f97\u8d85\u8fc7 100 MB\u3002 \u5355\u4e2a\u5b9e\u4f8b\u4e0a\u4f20\u6587\u4ef6\u603b\u91cf\u4e0d\u5f97\u8d85\u8fc7 1 GB\u3002 \u5355\u4e2a\u6587\u4ef6\u4ec5\u80fd\u4fdd\u5b58 1 \u5929\u3002 \u4f7f\u7528 Docker \u7248 Studio \u4e0a\u4f20\u6570\u636e\u4e5f\u4ec5\u652f\u6301\u4e0a\u4f20\u65e0\u8868\u5934\u7684 CSV \u6587\u4ef6\uff0c\u4f46\u662f\uff0c\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u53ca\u4fdd\u5b58\u65f6\u95f4\u4e0d\u53d7\u9650\u5236\uff0c\u800c\u4e14\uff0c\u6570\u636e\u603b\u91cf\u4ee5\u672c\u5730\u5b58\u50a8\u5bb9\u91cf\u4e3a\u51c6\u3002","title":"\u6570\u636e\u4e0a\u4f20"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_4","text":"\u76ee\u524d\u4ec5\u652f\u6301\u5728 \u63a7\u5236\u53f0 \u4e0a\u4ee5 CSV \u683c\u5f0f\u5bfc\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u6570\u636e\u5907\u4efd\u65b9\u5f0f\u3002","title":"\u6570\u636e\u5907\u4efd"},{"location":"nebula-studio/about-studio/st-ug-limitations/#ngql","text":"\u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0b\u5185\u5bb9\u5916\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u6240\u6709 nGQL \u8bed\u53e5\u8bed\u6cd5\uff1a USE <space_name> \uff1a\u60a8\u53ea\u80fd\u5728 Space \u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u56fe\u7a7a\u95f4\uff0c\u4e0d\u80fd\u8fd0\u884c\u8fd9\u4e2a\u8bed\u53e5\u9009\u62e9\u56fe\u7a7a\u95f4\u3002 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u65f6\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\u6362\u884c\uff0c\u4e0d\u80fd\u4f7f\u7528\u6362\u884c\u7b26\u3002 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u9664\u4ee5\u4e0a\u9650\u5236\u5916\uff0c\u60a8\u4e5f\u4e0d\u80fd\u5728 \u63a7\u5236\u53f0 \u4e0a\u6267\u884c\u7528\u6237\u7ba1\u7406\u548c\u89d2\u8272\u7ba1\u7406\u76f8\u5173\u7684\u8bed\u53e5\uff0c\u5305\u62ec\uff1a CREATE USER ALTER USER CHANGE PASSWORD DROP USER GRANT ROLE REVOKE ROLE \u5173\u4e8e\u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"nGQL \u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-limitations/#_5","text":"\u5efa\u8bae\u60a8\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Chrome \u8bbf\u95ee Studio\u3002","title":"\u6d4f\u89c8\u5668\u652f\u6301"},{"location":"nebula-studio/about-studio/st-ug-shortcuts/","text":"\u5feb\u6377\u952e \u00b6 \u672c\u6587\u5217\u51fa\u4e86 Studio \u652f\u6301\u7684\u5feb\u6377\u952e\u3002 \u8981\u5b8c\u6210\u7684\u4efb\u52a1 \u64cd\u4f5c \u5728 \u63a7\u5236\u53f0 \u9875\u9762\u8fd0\u884c nGQL \u8bed\u53e5 \u6309 Shift + Enter \u952e \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u9009\u4e2d\u591a\u4e2a\u70b9 \u6309 Shift \u952e + \u9f20\u6807\u5355\u51fb \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u5bf9\u67d0\u4e2a\u70b9\u5feb\u901f\u62d3\u5c55 \u9f20\u6807\u53cc\u51fb\u3002\u4ece v1.2.4-beta \u7248\u672c\u5f00\u59cb\u652f\u6301\u3002","title":"\u5feb\u6377\u952e"},{"location":"nebula-studio/about-studio/st-ug-shortcuts/#_1","text":"\u672c\u6587\u5217\u51fa\u4e86 Studio \u652f\u6301\u7684\u5feb\u6377\u952e\u3002 \u8981\u5b8c\u6210\u7684\u4efb\u52a1 \u64cd\u4f5c \u5728 \u63a7\u5236\u53f0 \u9875\u9762\u8fd0\u884c nGQL \u8bed\u53e5 \u6309 Shift + Enter \u952e \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u9009\u4e2d\u591a\u4e2a\u70b9 \u6309 Shift \u952e + \u9f20\u6807\u5355\u51fb \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u5bf9\u67d0\u4e2a\u70b9\u5feb\u901f\u62d3\u5c55 \u9f20\u6807\u53cc\u51fb\u3002\u4ece v1.2.4-beta \u7248\u672c\u5f00\u59cb\u652f\u6301\u3002","title":"\u5feb\u6377\u952e"},{"location":"nebula-studio/about-studio/st-ug-terms/","text":"\u540d\u8bcd\u89e3\u91ca \u00b6 \u672c\u6587\u63d0\u4f9b\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u9700\u8981\u77e5\u9053\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Graph Studio\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Studio\uff0c\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002 Nebula Graph\uff1a\u4e00\u6b3e\u5f00\u6e90\u56fe\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08Graph Database Management System\uff09\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 Nebula Graph Cloud Service\uff1aNebula Graph \u56fe\u6570\u636e\u5e93\u7684\u4e91\u670d\u52a1\u5e73\u53f0\uff08Database-as-a-Service\uff0cDBaaS\uff09\uff0c\u6309\u9700\u4ed8\u8d39\uff0c\u652f\u6301\u4e00\u952e\u90e8\u7f72 Nebula Graph\uff0c\u96c6\u6210\u4e86 Nebula Graph Studio\uff0c\u5e76\u5185\u7f6e\u8d44\u6e90\u76d1\u63a7\u5de5\u5177\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-studio/about-studio/st-ug-terms/#_1","text":"\u672c\u6587\u63d0\u4f9b\u4e86\u60a8\u5728\u4f7f\u7528 Studio \u65f6\u53ef\u80fd\u9700\u8981\u77e5\u9053\u7684\u540d\u8bcd\u89e3\u91ca\u3002 Nebula Graph Studio\uff1a\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Studio\uff0c\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002 Nebula Graph\uff1a\u4e00\u6b3e\u5f00\u6e90\u56fe\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08Graph Database Management System\uff09\uff0c\u64c5\u957f\u5904\u7406\u5343\u4ebf\u4e2a\u70b9\u548c\u4e07\u4ebf\u6761\u8fb9\u7684\u8d85\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 Nebula Graph Cloud Service\uff1aNebula Graph \u56fe\u6570\u636e\u5e93\u7684\u4e91\u670d\u52a1\u5e73\u53f0\uff08Database-as-a-Service\uff0cDBaaS\uff09\uff0c\u6309\u9700\u4ed8\u8d39\uff0c\u652f\u6301\u4e00\u952e\u90e8\u7f72 Nebula Graph\uff0c\u96c6\u6210\u4e86 Nebula Graph Studio\uff0c\u5e76\u5185\u7f6e\u8d44\u6e90\u76d1\u63a7\u5de5\u5177\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/","text":"\u4ec0\u4e48\u662f Nebula Graph Studio \u00b6 Nebula Graph Studio\uff08\u7b80\u79f0 Studio\uff09\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002\u5373\u4f7f\u6ca1\u6709\u56fe\u6570\u636e\u5e93\u64cd\u4f5c\u7ecf\u9a8c\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5feb\u901f\u6210\u4e3a\u56fe\u4e13\u5bb6\u3002 \u53d1\u884c\u7248\u672c \u00b6 Studio \u76ee\u524d\u6709\u4e24\u4e2a\u53d1\u884c\u7248\u672c\uff1a Docker \u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u670d\u52a1\u90e8\u7f72 Studio\uff0c\u5e76\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u4e91\u670d\u52a1\u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u5e76\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u4e24\u4e2a\u53d1\u884c\u7248\u672c\u529f\u80fd\u57fa\u672c\u76f8\u540c\u3002\u4f46\u662f\uff0c\u56e0\u4e3a\u90e8\u7f72\u65b9\u5f0f\u4e0d\u540c\uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u9650\u5236\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528\u9650\u5236 \u3002 \u4ea7\u54c1\u529f\u80fd \u00b6 Studio \u5177\u5907\u4ee5\u4e0b\u529f\u80fd\uff1a GUI \u8bbe\u8ba1\uff0c\u65b9\u4fbf\u60a8\u7ba1\u7406 Nebula Graph \u56fe\u6570\u636e\uff1a \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u5b8c\u6210 Schema\uff08\u6a21\u5f0f\uff09\u521b\u5efa\uff0c\u5feb\u901f\u4e0a\u624b Nebula Graph\u3002 \u4f7f\u7528 \u63a7\u5236\u53f0 \u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 nGQL \u8bed\u53e5\u521b\u5efa Schema\uff0c\u5e76\u5bf9\u6570\u636e\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 \u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u60a8\u5373\u80fd\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5e76\u80fd\u5b9e\u65f6\u67e5\u770b\u6570\u636e\u5bfc\u5165\u65e5\u5fd7\u3002 \u56fe\u63a2\u7d22\uff0c\u652f\u6301\u53ef\u89c6\u5316\u5c55\u793a\u56fe\u6570\u636e\uff0c\u4f7f\u60a8\u66f4\u5bb9\u6613\u53d1\u73b0\u6570\u636e\u4e4b\u95f4\u7684\u5173\u8054\u6027\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u548c\u89e3\u8bfb\u7684\u6548\u7387\u3002 \u9002\u7528\u573a\u666f \u00b6 \u5982\u679c\u60a8\u6709\u4ee5\u4e0b\u4efb\u4e00\u9700\u6c42\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 Studio\uff1a \u60a8\u6709\u4e00\u4efd\u6570\u636e\u96c6\uff0c\u60f3\u8fdb\u884c\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker Compose \u6216\u8005 Nebula Graph Cloud Service \u90e8\u7f72 Nebula Graph\uff0c\u518d\u4f7f\u7528 Studio \u5b8c\u6210\u53ef\u89c6\u5316\u64cd\u4f5c\u3002 \u60a8\u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u60f3\u4f7f\u7528 GUI \u5de5\u5177\u6267\u884c nGQL \u8bed\u53e5\u67e5\u8be2\u3001\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002 \u60a8\u521a\u5f00\u59cb\u5b66\u4e60 nGQL\uff08Nebula Graph Query Language\uff09\uff0c\u4f46\u662f\u4e0d\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u66f4\u5e0c\u671b\u4f7f\u7528 GUI \u5de5\u5177\u67e5\u770b\u8bed\u53e5\u8f93\u51fa\u7684\u7ed3\u679c\u3002 \u8eab\u4efd\u9a8c\u8bc1 \u00b6 \u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u53ea\u6709 Nebula Graph \u5b9e\u4f8b\u7684\u521b\u5efa\u8005\u4ee5\u53ca\u88ab\u6388\u4e88\u64cd\u4f5c\u6743\u9650\u7684 Nebula Graph Cloud Service \u7528\u6237\u53ef\u4ee5\u767b\u5f55 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u56e0\u4e3a Nebula Graph \u9ed8\u8ba4\u4e0d\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u8d26\u53f7\u548c\u5bc6\u7801\uff08 user \u548c password \uff09\u767b\u5f55 Studio\u3002\u5f53 Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u6307\u5b9a\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55 Studio\u3002\u5173\u4e8e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u4ec0\u4e48\u662f Nebula Graph Studio"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#nebula_graph_studio","text":"Nebula Graph Studio\uff08\u7b80\u79f0 Studio\uff09\u662f\u4e00\u6b3e\u53ef\u4ee5\u901a\u8fc7 Web \u8bbf\u95ee\u7684\u56fe\u6570\u636e\u5e93\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u642d\u914d Nebula Graph DBMS \u4f7f\u7528\uff0c\u4e3a\u60a8\u63d0\u4f9b\u6784\u56fe\u3001\u6570\u636e\u5bfc\u5165\u3001\u7f16\u5199 nGQL \u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002\u5373\u4f7f\u6ca1\u6709\u56fe\u6570\u636e\u5e93\u64cd\u4f5c\u7ecf\u9a8c\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5feb\u901f\u6210\u4e3a\u56fe\u4e13\u5bb6\u3002","title":"\u4ec0\u4e48\u662f Nebula Graph Studio"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_1","text":"Studio \u76ee\u524d\u6709\u4e24\u4e2a\u53d1\u884c\u7248\u672c\uff1a Docker \u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker \u670d\u52a1\u90e8\u7f72 Studio\uff0c\u5e76\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u4e91\u670d\u52a1\u7248\u672c\uff1a\u60a8\u53ef\u4ee5\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u5e76\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u4e24\u4e2a\u53d1\u884c\u7248\u672c\u529f\u80fd\u57fa\u672c\u76f8\u540c\u3002\u4f46\u662f\uff0c\u56e0\u4e3a\u90e8\u7f72\u65b9\u5f0f\u4e0d\u540c\uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u9650\u5236\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528\u9650\u5236 \u3002","title":"\u53d1\u884c\u7248\u672c"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_2","text":"Studio \u5177\u5907\u4ee5\u4e0b\u529f\u80fd\uff1a GUI \u8bbe\u8ba1\uff0c\u65b9\u4fbf\u60a8\u7ba1\u7406 Nebula Graph \u56fe\u6570\u636e\uff1a \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u5b8c\u6210 Schema\uff08\u6a21\u5f0f\uff09\u521b\u5efa\uff0c\u5feb\u901f\u4e0a\u624b Nebula Graph\u3002 \u4f7f\u7528 \u63a7\u5236\u53f0 \u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 nGQL \u8bed\u53e5\u521b\u5efa Schema\uff0c\u5e76\u5bf9\u6570\u636e\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002 \u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u60a8\u5373\u80fd\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\uff0c\u5e76\u80fd\u5b9e\u65f6\u67e5\u770b\u6570\u636e\u5bfc\u5165\u65e5\u5fd7\u3002 \u56fe\u63a2\u7d22\uff0c\u652f\u6301\u53ef\u89c6\u5316\u5c55\u793a\u56fe\u6570\u636e\uff0c\u4f7f\u60a8\u66f4\u5bb9\u6613\u53d1\u73b0\u6570\u636e\u4e4b\u95f4\u7684\u5173\u8054\u6027\uff0c\u63d0\u9ad8\u6570\u636e\u5206\u6790\u548c\u89e3\u8bfb\u7684\u6548\u7387\u3002","title":"\u4ea7\u54c1\u529f\u80fd"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_3","text":"\u5982\u679c\u60a8\u6709\u4ee5\u4e0b\u4efb\u4e00\u9700\u6c42\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 Studio\uff1a \u60a8\u6709\u4e00\u4efd\u6570\u636e\u96c6\uff0c\u60f3\u8fdb\u884c\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Docker Compose \u6216\u8005 Nebula Graph Cloud Service \u90e8\u7f72 Nebula Graph\uff0c\u518d\u4f7f\u7528 Studio \u5b8c\u6210\u53ef\u89c6\u5316\u64cd\u4f5c\u3002 \u60a8\u5df2\u7ecf\u5b89\u88c5\u90e8\u7f72\u4e86 Nebula Graph \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\uff0c\u60f3\u4f7f\u7528 GUI \u5de5\u5177\u6267\u884c nGQL \u8bed\u53e5\u67e5\u8be2\u3001\u53ef\u89c6\u5316\u56fe\u63a2\u7d22\u6216\u8005\u6570\u636e\u5206\u6790\u3002 \u60a8\u521a\u5f00\u59cb\u5b66\u4e60 nGQL\uff08Nebula Graph Query Language\uff09\uff0c\u4f46\u662f\u4e0d\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u66f4\u5e0c\u671b\u4f7f\u7528 GUI \u5de5\u5177\u67e5\u770b\u8bed\u53e5\u8f93\u51fa\u7684\u7ed3\u679c\u3002","title":"\u9002\u7528\u573a\u666f"},{"location":"nebula-studio/about-studio/st-ug-what-is-graph-studio/#_4","text":"\u5bf9\u4e8e\u4e91\u670d\u52a1\u7248 Studio\uff0c\u53ea\u6709 Nebula Graph \u5b9e\u4f8b\u7684\u521b\u5efa\u8005\u4ee5\u53ca\u88ab\u6388\u4e88\u64cd\u4f5c\u6743\u9650\u7684 Nebula Graph Cloud Service \u7528\u6237\u53ef\u4ee5\u767b\u5f55 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002 \u5bf9\u4e8e Docker \u7248 Studio\uff0c\u56e0\u4e3a Nebula Graph \u9ed8\u8ba4\u4e0d\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u8d26\u53f7\u548c\u5bc6\u7801\uff08 user \u548c password \uff09\u767b\u5f55 Studio\u3002\u5f53 Nebula Graph \u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\u540e\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u6307\u5b9a\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55 Studio\u3002\u5173\u4e8e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u8eab\u4efd\u9a8c\u8bc1"},{"location":"nebula-studio/deploy-connect/st-ug-connect/","text":"\u8fde\u63a5\u6570\u636e\u5e93 \u00b6 \u5728 Nebula Graph Cloud Service \u4e0a\uff0c\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u540e\uff0c\u60a8\u53ef\u4ee5\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002\u4f46\u662f\uff0c\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5728\u6210\u529f\u542f\u52a8 Studio \u540e\uff0c\u60a8\u9700\u8981\u914d\u7f6e\u8fde\u63a5 Nebula Graph\u3002\u672c\u6587\u4e3b\u8981\u63cf\u8ff0 Docker \u7248 Studio \u5982\u4f55\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Docker \u7248 Studio \u5df2\u7ecf\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u4ee5\u53ca\u670d\u52a1\u6240\u7528\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a 3699 \u3002 Nebula Graph \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u4fe1\u606f\uff0c\u5305\u62ec\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u8bf4\u660e \uff1a\u5982\u679c Nebula Graph \u5df2\u7ecf\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u88ab\u5206\u914d\u5230\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u6570\u636e\u5e93\u3002\u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7528\u6237\u540d\uff08 user \uff09\u548c\u9ed8\u8ba4\u5bc6\u7801\uff08 password \uff09\u767b\u5f55\u6570\u636e\u5e93\u3002\u5173\u4e8e\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Studio \u7684 \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\u4e0a\uff0c\u8f93\u5165\u4ee5\u4e0b\u4fe1\u606f\uff1a Host \uff1a\u586b\u5199 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u53ca\u7aef\u53e3\u3002\u683c\u5f0f\u4e3a ip:port \u3002\u5982\u679c\u7aef\u53e3\u672a\u4fee\u6539\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 3699 \u3002 \u8bf4\u660e \uff1a\u5373\u4f7f Nebula Graph \u6570\u636e\u5e93\u4e0e Studio \u90e8\u7f72\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u5728 Host \u5b57\u6bb5\u586b\u5199\u8fd9\u53f0\u673a\u5668\u7684\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u6216\u8005 localhost \u3002 \u7528\u6237\u540d \u548c \u5bc6\u7801 \uff1a\u6839\u636e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e\u586b\u5199\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 \u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u586b\u5199\u9ed8\u8ba4\u7528\u6237\u540d user \u548c\u9ed8\u8ba4\u5bc6\u7801 password \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f46\u662f\u672a\u521b\u5efa\u8d26\u53f7\u4fe1\u606f\uff0c\u60a8\u53ea\u80fd\u4ee5 GOD \u89d2\u8272\u767b\u5f55\uff0c\u5fc5\u987b\u586b\u5199 root \u53ca\u5bf9\u5e94\u7684\u5bc6\u7801 nebula \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u540c\u65f6\u53c8\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5206\u914d\u4e86\u89d2\u8272\uff0c\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u4f7f\u7528\u81ea\u5df1\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u8fde\u63a5 \u6309\u94ae\u3002 \u5982\u679c\u60a8\u80fd\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e00\u6b21\u8fde\u63a5\u4f1a\u8bdd\u6301\u7eed 30 \u5206\u949f\u3002\u5982\u679c\u60a8\u8d85\u8fc7 30 \u5206\u949f\u6ca1\u6709\u64cd\u4f5c\uff0c\u4f1a\u8bdd\u5373\u65ad\u5f00\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u6570\u636e\u5e93\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6210\u529f\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u6839\u636e\u8d26\u53f7\u7684\u6743\u9650\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD \u6216\u8005 ADMIN \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u9875\u9762\u7ba1\u7406 Schema\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5 \u6279\u91cf\u5bfc\u5165\u6570\u636e \u6216\u8005\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u63d2\u5165\u6570\u636e\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA\u3001USER \u6216\u8005 GUEST \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u8bfb\u53d6\u6570\u636e\u6216\u8005\u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u4e0a\u8fdb\u884c\u56fe\u63a2\u7d22\u6216\u6570\u636e\u5206\u6790\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_1","text":"\u5728 Nebula Graph Cloud Service \u4e0a\uff0c\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u540e\uff0c\u60a8\u53ef\u4ee5\u4e00\u952e\u76f4\u8fde\u4e91\u670d\u52a1\u7248 Studio\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Nebula Graph Cloud Service \u7528\u6237\u624b\u518c \u3002\u4f46\u662f\uff0c\u5bf9\u4e8e Docker \u7248 Studio\uff0c\u5728\u6210\u529f\u542f\u52a8 Studio \u540e\uff0c\u60a8\u9700\u8981\u914d\u7f6e\u8fde\u63a5 Nebula Graph\u3002\u672c\u6587\u4e3b\u8981\u63cf\u8ff0 Docker \u7248 Studio \u5982\u4f55\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_2","text":"\u5728\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Docker \u7248 Studio \u5df2\u7ecf\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u90e8\u7f72 Studio \u3002 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u4ee5\u53ca\u670d\u52a1\u6240\u7528\u7aef\u53e3\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a 3699 \u3002 Nebula Graph \u6570\u636e\u5e93\u767b\u5f55\u8d26\u53f7\u4fe1\u606f\uff0c\u5305\u62ec\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u8bf4\u660e \uff1a\u5982\u679c Nebula Graph \u5df2\u7ecf\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5e76\u4e14\u5df2\u7ecf\u521b\u5efa\u4e86\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u88ab\u5206\u914d\u5230\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u6570\u636e\u5e93\u3002\u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7528\u6237\u540d\uff08 user \uff09\u548c\u9ed8\u8ba4\u5bc6\u7801\uff08 password \uff09\u767b\u5f55\u6570\u636e\u5e93\u3002\u5173\u4e8e\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53c2\u8003 Nebula Graph \u7528\u6237\u624b\u518c \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff1a \u5728 Studio \u7684 \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\u4e0a\uff0c\u8f93\u5165\u4ee5\u4e0b\u4fe1\u606f\uff1a Host \uff1a\u586b\u5199 Nebula Graph \u7684 Graph \u670d\u52a1\u672c\u673a IP \u5730\u5740\u53ca\u7aef\u53e3\u3002\u683c\u5f0f\u4e3a ip:port \u3002\u5982\u679c\u7aef\u53e3\u672a\u4fee\u6539\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 3699 \u3002 \u8bf4\u660e \uff1a\u5373\u4f7f Nebula Graph \u6570\u636e\u5e93\u4e0e Studio \u90e8\u7f72\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u5728 Host \u5b57\u6bb5\u586b\u5199\u8fd9\u53f0\u673a\u5668\u7684\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u662f 127.0.0.1 \u6216\u8005 localhost \u3002 \u7528\u6237\u540d \u548c \u5bc6\u7801 \uff1a\u6839\u636e Nebula Graph \u7684\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e\u586b\u5199\u767b\u5f55\u8d26\u53f7\u548c\u5bc6\u7801\u3002 \u5982\u679c\u672a\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u586b\u5199\u9ed8\u8ba4\u7528\u6237\u540d user \u548c\u9ed8\u8ba4\u5bc6\u7801 password \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f46\u662f\u672a\u521b\u5efa\u8d26\u53f7\u4fe1\u606f\uff0c\u60a8\u53ea\u80fd\u4ee5 GOD \u89d2\u8272\u767b\u5f55\uff0c\u5fc5\u987b\u586b\u5199 root \u53ca\u5bf9\u5e94\u7684\u5bc6\u7801 nebula \u3002 \u5982\u679c\u5df2\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff0c\u540c\u65f6\u53c8\u521b\u5efa\u4e86\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5206\u914d\u4e86\u89d2\u8272\uff0c\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u4f7f\u7528\u81ea\u5df1\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u767b\u5f55\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u8fde\u63a5 \u6309\u94ae\u3002 \u5982\u679c\u60a8\u80fd\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u4e00\u6b21\u8fde\u63a5\u4f1a\u8bdd\u6301\u7eed 30 \u5206\u949f\u3002\u5982\u679c\u60a8\u8d85\u8fc7 30 \u5206\u949f\u6ca1\u6709\u64cd\u4f5c\uff0c\u4f1a\u8bdd\u5373\u65ad\u5f00\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u6570\u636e\u5e93\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/deploy-connect/st-ug-connect/#_4","text":"\u6210\u529f\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u6839\u636e\u8d26\u53f7\u7684\u6743\u9650\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD \u6216\u8005 ADMIN \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u9875\u9762\u7ba1\u7406 Schema\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5 \u6279\u91cf\u5bfc\u5165\u6570\u636e \u6216\u8005\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u63d2\u5165\u6570\u636e\u3002 \u5982\u679c\u60a8\u4ee5\u62e5\u6709 GOD\u3001ADMIN\u3001DBA\u3001USER \u6216\u8005 GUEST \u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u9875\u9762\u4e0a\u8fd0\u884c nGQL \u8bed\u53e5\u8bfb\u53d6\u6570\u636e\u6216\u8005\u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u4e0a\u8fdb\u884c\u56fe\u63a2\u7d22\u6216\u6570\u636e\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/","text":"\u90e8\u7f72 Studio \u00b6 \u4e91\u670d\u52a1\u7248 Studio \u53ea\u80fd\u5728 Nebula Graph Cloud Service \u4e0a\u4f7f\u7528\u3002\u5f53\u60a8\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u65f6\u5373\u81ea\u52a8\u5b8c\u6210\u4e91\u670d\u52a1\u7248\u672c Studio \u7684\u90e8\u7f72\uff0c\u4e00\u952e\u76f4\u8fde\u5373\u53ef\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u300aNebula Graph Cloud Service \u7528\u6237\u624b\u518c\u300b \u3002\u4f46\u662f\uff0c\u60a8\u9700\u8981\u81ea\u5df1\u90e8\u7f72 Docker \u7248 Studio\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u90e8\u7f72 Docker \u7248 Studio\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728\u90e8\u7f72 Docker \u7248 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Nebula Graph \u670d\u52a1\u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph \u7528\u6237\u624b\u518c\u300b \u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph \u670d\u52a1\u3002\u5982\u679c\u60a8\u521a\u5f00\u59cb\u4f7f\u7528 Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u3002 \u5728\u5373\u5c06\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\u5b89\u88c5\u5e76\u542f\u52a8 Docker Compose\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Compose \u6587\u6863 \u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u56fd\u5927\u9646\u4ece Docker Hub \u62c9\u53d6 Docker \u955c\u50cf\u7684\u901f\u5ea6\u53ef\u80fd\u6bd4\u8f83\u6162\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 registry-mirrors \u53c2\u6570\u914d\u7f6e\u52a0\u901f\u955c\u50cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u4f7f\u7528 Docker \u4e2d\u56fd\u533a\u5b98\u65b9\u955c\u50cf\u3001\u7f51\u6613\u955c\u50cf\u548c\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u7684\u955c\u50cf\uff0c\u5219\u6309\u4ee5\u4e0b\u683c\u5f0f\u914d\u7f6e registry-mirrors \u53c2\u6570\uff1a { \"registry-mirrors\" : [ \"https://registry.docker-cn.com\" , \"http://hub-mirror.c.163.com\" , \"https://docker.mirrors.ustc.edu.cn\" ] } \u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u548c\u65b9\u6cd5\u56e0\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c/\u6216 Docker Desktop \u7248\u672c\u800c\u5f02\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Daemon \u914d\u7f6e\u6587\u6863 \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u5728\u547d\u4ee4\u884c\u5de5\u5177\u4e2d\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f9d\u6b21\u8fd0\u884c\u547d\u4ee4\uff0c\u90e8\u7f72\u5e76\u542f\u52a8 Docker \u7248 Studio\uff1a \u4e0b\u8f7d Studio \u7684\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u3002 git clone https://github.com/vesoft-inc/nebula-web-docker.git \u5207\u6362\u5230 nebula-web-docker \u76ee\u5f55\u3002 cd nebula-web-docker \u62c9\u53d6 Studio \u7684 Docker \u955c\u50cf\u3002 docker-compose pull \u6784\u5efa\u5e76\u542f\u52a8 Studio \u670d\u52a1\u3002\u5176\u4e2d\uff0c -d \u8868\u793a\u5728\u540e\u53f0\u8fd0\u884c\u670d\u52a1\u5bb9\u5668\u3002 docker-compose up -d \u5f53\u5c4f\u5e55\u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\u65f6\uff0c\u8868\u793a Docker \u7248 Studio \u5df2\u7ecf\u6210\u529f\u542f\u52a8\u3002 Creating docker_importer_1 ... done Creating docker_client_1 ... done Creating docker_web_1 ... done Creating docker_nginx_1 ... done \u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 http://ip address:7001 \u3002 \u8bf4\u660e \uff1a\u5728\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c ifconfig \u6216\u8005 ipconfig \u83b7\u53d6\u672c\u673a IP \u5730\u5740\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fd9\u53f0\u673a\u5668\u8bbf\u95ee Studio\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u91cc\u8f93\u5165 http://localhost:7001 \u3002 \u5982\u679c\u60a8\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u80fd\u770b\u5230\u4ee5\u4e0b\u767b\u5f55\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u90e8\u7f72\u5e76\u542f\u52a8 Studio\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u8fdb\u5165 Studio \u767b\u5f55\u754c\u9762\u540e\uff0c\u60a8\u9700\u8981\u8fde\u63a5 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002","title":"\u90e8\u7f72 Studio"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#studio","text":"\u4e91\u670d\u52a1\u7248 Studio \u53ea\u80fd\u5728 Nebula Graph Cloud Service \u4e0a\u4f7f\u7528\u3002\u5f53\u60a8\u5728 Nebula Graph Cloud Service \u4e0a\u521b\u5efa Nebula Graph \u5b9e\u4f8b\u65f6\u5373\u81ea\u52a8\u5b8c\u6210\u4e91\u670d\u52a1\u7248\u672c Studio \u7684\u90e8\u7f72\uff0c\u4e00\u952e\u76f4\u8fde\u5373\u53ef\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u300aNebula Graph Cloud Service \u7528\u6237\u624b\u518c\u300b \u3002\u4f46\u662f\uff0c\u60a8\u9700\u8981\u81ea\u5df1\u90e8\u7f72 Docker \u7248 Studio\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u90e8\u7f72 Docker \u7248 Studio\u3002","title":"\u90e8\u7f72 Studio"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_1","text":"\u5728\u90e8\u7f72 Docker \u7248 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Nebula Graph \u670d\u52a1\u5df2\u7ecf\u90e8\u7f72\u5e76\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300aNebula Graph \u7528\u6237\u624b\u518c\u300b \u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u90e8\u7f72\u5e76\u542f\u52a8 Nebula Graph \u670d\u52a1\u3002\u5982\u679c\u60a8\u521a\u5f00\u59cb\u4f7f\u7528 Nebula Graph\uff0c\u5efa\u8bae\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u3002 \u5728\u5373\u5c06\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\u5b89\u88c5\u5e76\u542f\u52a8 Docker Compose\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Compose \u6587\u6863 \u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u56fd\u5927\u9646\u4ece Docker Hub \u62c9\u53d6 Docker \u955c\u50cf\u7684\u901f\u5ea6\u53ef\u80fd\u6bd4\u8f83\u6162\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 registry-mirrors \u53c2\u6570\u914d\u7f6e\u52a0\u901f\u955c\u50cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u4f7f\u7528 Docker \u4e2d\u56fd\u533a\u5b98\u65b9\u955c\u50cf\u3001\u7f51\u6613\u955c\u50cf\u548c\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u7684\u955c\u50cf\uff0c\u5219\u6309\u4ee5\u4e0b\u683c\u5f0f\u914d\u7f6e registry-mirrors \u53c2\u6570\uff1a { \"registry-mirrors\" : [ \"https://registry.docker-cn.com\" , \"http://hub-mirror.c.163.com\" , \"https://docker.mirrors.ustc.edu.cn\" ] } \u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u548c\u65b9\u6cd5\u56e0\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c/\u6216 Docker Desktop \u7248\u672c\u800c\u5f02\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Docker Daemon \u914d\u7f6e\u6587\u6863 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_2","text":"\u5728\u547d\u4ee4\u884c\u5de5\u5177\u4e2d\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f9d\u6b21\u8fd0\u884c\u547d\u4ee4\uff0c\u90e8\u7f72\u5e76\u542f\u52a8 Docker \u7248 Studio\uff1a \u4e0b\u8f7d Studio \u7684\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u3002 git clone https://github.com/vesoft-inc/nebula-web-docker.git \u5207\u6362\u5230 nebula-web-docker \u76ee\u5f55\u3002 cd nebula-web-docker \u62c9\u53d6 Studio \u7684 Docker \u955c\u50cf\u3002 docker-compose pull \u6784\u5efa\u5e76\u542f\u52a8 Studio \u670d\u52a1\u3002\u5176\u4e2d\uff0c -d \u8868\u793a\u5728\u540e\u53f0\u8fd0\u884c\u670d\u52a1\u5bb9\u5668\u3002 docker-compose up -d \u5f53\u5c4f\u5e55\u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\u65f6\uff0c\u8868\u793a Docker \u7248 Studio \u5df2\u7ecf\u6210\u529f\u542f\u52a8\u3002 Creating docker_importer_1 ... done Creating docker_client_1 ... done Creating docker_web_1 ... done Creating docker_nginx_1 ... done \u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 http://ip address:7001 \u3002 \u8bf4\u660e \uff1a\u5728\u8fd0\u884c Docker \u7248 Studio \u7684\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c ifconfig \u6216\u8005 ipconfig \u83b7\u53d6\u672c\u673a IP \u5730\u5740\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fd9\u53f0\u673a\u5668\u8bbf\u95ee Studio\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u91cc\u8f93\u5165 http://localhost:7001 \u3002 \u5982\u679c\u60a8\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u80fd\u770b\u5230\u4ee5\u4e0b\u767b\u5f55\u754c\u9762\uff0c\u8868\u793a\u60a8\u5df2\u7ecf\u6210\u529f\u90e8\u7f72\u5e76\u542f\u52a8 Studio\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/deploy-connect/st-ug-deploy/#_3","text":"\u8fdb\u5165 Studio \u767b\u5f55\u754c\u9762\u540e\uff0c\u60a8\u9700\u8981\u8fde\u63a5 Nebula Graph\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/deploy-connect/st-ug-reset-connection/","text":"\u6e05\u9664\u8fde\u63a5 \u00b6 \u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u60a8\u4e0d\u80fd\u6e05\u9664\u8fde\u63a5\u3002 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u5982\u679c\u60a8\u9700\u8981\u91cd\u65b0\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u6e05\u9664\u5f53\u524d\u8fde\u63a5\u540e\u518d\u91cd\u65b0\u914d\u7f6e\u6570\u636e\u5e93\u3002 \u5f53 Docker \u7248 Studio \u8fd8\u8fde\u63a5\u5728\u67d0\u4e2a Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u5728\u5de5\u5177\u680f\u4e2d\uff0c\u9009\u62e9 \u8bbe\u7f6e > \u6e05\u9664\u8fde\u63a5 \u3002\u4e4b\u540e\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u4e0a\u663e\u793a \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\uff0c\u8868\u793a Studio \u5df2\u7ecf\u6210\u529f\u65ad\u5f00\u4e86\u4e0e Nebula Graph \u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002","title":"\u6e05\u9664\u8fde\u63a5"},{"location":"nebula-studio/deploy-connect/st-ug-reset-connection/#_1","text":"\u4f7f\u7528\u4e91\u670d\u52a1\u7248 Studio \u65f6\uff0c\u60a8\u4e0d\u80fd\u6e05\u9664\u8fde\u63a5\u3002 \u4f7f\u7528 Docker \u7248 Studio \u65f6\uff0c\u5982\u679c\u60a8\u9700\u8981\u91cd\u65b0\u8fde\u63a5 Nebula Graph \u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u6e05\u9664\u5f53\u524d\u8fde\u63a5\u540e\u518d\u91cd\u65b0\u914d\u7f6e\u6570\u636e\u5e93\u3002 \u5f53 Docker \u7248 Studio \u8fd8\u8fde\u63a5\u5728\u67d0\u4e2a Nebula Graph \u6570\u636e\u5e93\u65f6\uff0c\u5728\u5de5\u5177\u680f\u4e2d\uff0c\u9009\u62e9 \u8bbe\u7f6e > \u6e05\u9664\u8fde\u63a5 \u3002\u4e4b\u540e\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u4e0a\u663e\u793a \u914d\u7f6e\u6570\u636e\u5e93 \u9875\u9762\uff0c\u8868\u793a Studio \u5df2\u7ecf\u6210\u529f\u65ad\u5f00\u4e86\u4e0e Nebula Graph \u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002","title":"\u6e05\u9664\u8fde\u63a5"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/","text":"\u64cd\u4f5c\u8fb9\u7c7b\u578b \u00b6 \u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u8fb9\u7c7b\u578b\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 action \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fb9\u7c7b\u578b\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u8fb9\u7c7b\u578b\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u5217\u8868\u3002 \u4fee\u6539\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5b8c\u6210\u56fe\u7a7a\u95f4\u5207\u6362\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u6216\u8005\u9ed8\u8ba4\u503c\u3002\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216 \u53d6\u6d88 \u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002 \u5982\u679c\u8981\u4fee\u6539 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539\u6216 TTL_COL \u548c TTL_DURATION \u8bbe\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u6240\u6709\u5df2\u7ecf\u914d\u7f6e\u7684 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002 \u5220\u9664\u8fb9\u7c7b\u578b \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u8fb9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u8fb9\u6570\u636e\u3002","title":"\u64cd\u4f5c\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_1","text":"\u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u8fb9\u7c7b\u578b\u3002","title":"\u64cd\u4f5c\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u8fb9\u7c7b\u578b\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 action \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fb9\u7c7b\u578b\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u8fb9\u7c7b\u578b\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5b8c\u6210\u56fe\u7a7a\u95f4\u5207\u6362\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u6216\u8005\u9ed8\u8ba4\u503c\u3002\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216 \u53d6\u6d88 \u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002 \u5982\u679c\u8981\u4fee\u6539 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539\u6216 TTL_COL \u548c TTL_DURATION \u8bbe\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u6240\u6709\u5df2\u7ecf\u914d\u7f6e\u7684 TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002","title":"\u4fee\u6539\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u8fb9\u7c7b\u578b\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u8fb9\u7c7b\u578b \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u8fb9\u7c7b\u578b\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u8fb9\u7c7b\u578b"},{"location":"nebula-studio/manage-schema/st-ug-crud-edge-type/#_7","text":"\u8fb9\u7c7b\u578b\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u8fb9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u8fb9\u6570\u636e\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/","text":"\u64cd\u4f5c\u7d22\u5f15 \u00b6 \u60a8\u53ef\u4ee5\u4e3a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\uff0c\u4f7f\u5f97\u56fe\u67e5\u8be2\u65f6\u53ef\u4ee5\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\uff0c\u4f7f\u5927\u578b\u56fe\u7684\u67e5\u8be2\u66f4\u4e3a\u9ad8\u6548\u3002Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u7d22\u5f15\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e00\u822c\u5728\u521b\u5efa\u4e86\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u4e4b\u540e\u5373\u53ef\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\uff0c\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd\uff0c\u6240\u4ee5\uff0c\u5efa\u8bae\u60a8\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\u3002\u5173\u4e8e\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u7d22\u5f15\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u518d\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u7d22\u5f15\u7c7b\u578b \uff1a\u786e\u8ba4\u6216\u4fee\u6539\u7d22\u5f15\u7c7b\u578b\uff0c\u5373 \u6807\u7b7e \u6216\u8005 \u8fb9\u7c7b\u578b \u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 \u8fb9\u7c7b\u578b \u3002 b. \u540d\u79f0 \uff1a\u9009\u62e9\u8981\u521b\u5efa\u7d22\u5f15\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 action \u3002 c. \u7d22\u5f15\u540d\u79f0 \uff1a\u6309\u89c4\u5b9a\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u8f93\u5165 action_index \u3002 d. \u7d22\u5f15\u5c5e\u6027 \uff1a\u70b9\u51fb \u6dfb\u52a0 \uff0c\u5728 \u9009\u62e9\u5173\u8054\u7684\u5c5e\u6027 \u5217\u8868\u91cc\u9009\u62e9\u9700\u8981\u7d22\u5f15\u7684\u5c5e\u6027\uff0c\u5e76\u70b9\u51fb \u786e\u5b9a \u6309\u94ae\u3002\u5982\u679c\u9700\u8981\u5173\u8054\u591a\u4e2a\u5c5e\u6027\uff0c\u91cd\u590d\u8fd9\u4e00\u6b65\u64cd\u4f5c\u3002\u60a8\u53ef\u4ee5\u6309\u754c\u9762\u63d0\u793a\u91cd\u6392\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 label \u548c actionId \u3002 \u8bf4\u660e \uff1a\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u4f1a\u5f71\u54cd LOOKUP \u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u7d22\u5f15\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u7d22\u5f15\u7684\u5c5e\u6027\u5217\u8868\u3002 \u67e5\u770b\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u67e5\u770b\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u5728\u5217\u8868\u5de6\u4e0a\u65b9\uff0c\u9009\u62e9\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\u7c7b\u578b\u3002 \u5728\u5217\u8868\u4e2d\uff0c\u627e\u5230\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\uff0c\u70b9\u51fb\u7d22\u5f15\u6240\u5728\u884c\u3002\u754c\u9762\u4e0a\u5373\u5217\u51fa\u7d22\u5f15\u76f8\u5173\u7684\u6240\u6709\u5c5e\u6027\u3002 \u5220\u9664\u7d22\u5f15 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u7d22\u5f15\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u64cd\u4f5c\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_1","text":"\u60a8\u53ef\u4ee5\u4e3a\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u521b\u5efa\u7d22\u5f15\uff0c\u4f7f\u5f97\u56fe\u67e5\u8be2\u65f6\u53ef\u4ee5\u4ece\u62e5\u6709\u5171\u540c\u5c5e\u6027\u7684\u540c\u4e00\u7c7b\u578b\u7684\u70b9\u6216\u8fb9\u5f00\u59cb\u904d\u5386\uff0c\u4f7f\u5927\u578b\u56fe\u7684\u67e5\u8be2\u66f4\u4e3a\u9ad8\u6548\u3002Nebula Graph \u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff1a\u6807\u7b7e\u7d22\u5f15\u548c\u8fb9\u7c7b\u578b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u7d22\u5f15\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u7d22\u5f15\u3002 \u8bf4\u660e \uff1a\u4e00\u822c\u5728\u521b\u5efa\u4e86\u6807\u7b7e\u6216\u8005\u8fb9\u7c7b\u578b\u4e4b\u540e\u5373\u53ef\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\uff0c\u7d22\u5f15\u4f1a\u5f71\u54cd\u5199\u6027\u80fd\uff0c\u6240\u4ee5\uff0c\u5efa\u8bae\u60a8\u5148\u5bfc\u5165\u6570\u636e\uff0c\u518d\u6279\u91cf\u91cd\u5efa\u7d22\u5f15\u3002\u5173\u4e8e\u7d22\u5f15\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002","title":"\u64cd\u4f5c\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u7d22\u5f15\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u3001\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u518d\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u7d22\u5f15\u7c7b\u578b \uff1a\u786e\u8ba4\u6216\u4fee\u6539\u7d22\u5f15\u7c7b\u578b\uff0c\u5373 \u6807\u7b7e \u6216\u8005 \u8fb9\u7c7b\u578b \u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 \u8fb9\u7c7b\u578b \u3002 b. \u540d\u79f0 \uff1a\u9009\u62e9\u8981\u521b\u5efa\u7d22\u5f15\u7684\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 action \u3002 c. \u7d22\u5f15\u540d\u79f0 \uff1a\u6309\u89c4\u5b9a\u6307\u5b9a\u7d22\u5f15\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\u8f93\u5165 action_index \u3002 d. \u7d22\u5f15\u5c5e\u6027 \uff1a\u70b9\u51fb \u6dfb\u52a0 \uff0c\u5728 \u9009\u62e9\u5173\u8054\u7684\u5c5e\u6027 \u5217\u8868\u91cc\u9009\u62e9\u9700\u8981\u7d22\u5f15\u7684\u5c5e\u6027\uff0c\u5e76\u70b9\u51fb \u786e\u5b9a \u6309\u94ae\u3002\u5982\u679c\u9700\u8981\u5173\u8054\u591a\u4e2a\u5c5e\u6027\uff0c\u91cd\u590d\u8fd9\u4e00\u6b65\u64cd\u4f5c\u3002\u60a8\u53ef\u4ee5\u6309\u754c\u9762\u63d0\u793a\u91cd\u6392\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u3002\u672c\u793a\u4f8b\u4e2d\u9009\u62e9 label \u548c actionId \u3002 \u8bf4\u660e \uff1a\u7d22\u5f15\u5c5e\u6027\u7684\u987a\u5e8f\u4f1a\u5f71\u54cd LOOKUP \u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u7d22\u5f15\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u7d22\u5f15\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u67e5\u770b\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u5728\u5217\u8868\u5de6\u4e0a\u65b9\uff0c\u9009\u62e9\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\u7c7b\u578b\u3002 \u5728\u5217\u8868\u4e2d\uff0c\u627e\u5230\u9700\u8981\u67e5\u770b\u7684\u7d22\u5f15\uff0c\u70b9\u51fb\u7d22\u5f15\u6240\u5728\u884c\u3002\u754c\u9762\u4e0a\u5373\u5217\u51fa\u7d22\u5f15\u76f8\u5173\u7684\u6240\u6709\u5c5e\u6027\u3002","title":"\u67e5\u770b\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-index/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u7d22\u5f15\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u7d22\u5f15 \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u7d22\u5f15\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u7d22\u5f15"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/","text":"\u64cd\u4f5c\u56fe\u7a7a\u95f4 \u00b6 Studio \u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u64cd\u4f5c\u56fe\u7a7a\u95f4\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u5373\uff1a \u5982\u679c Nebula Graph \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5\u9ed8\u8ba4\u7528\u6237\u540d user \u8d26\u53f7\u548c\u9ed8\u8ba4\u5bc6\u7801 password \u767b\u5f55\u3002 \u5982\u679c Nebula Graph \u5df2\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5 root \u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u767b\u5f55\u3002 \u521b\u5efa\u56fe\u7a7a\u95f4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u4e0a\u65b9\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\uff0c\u5b8c\u6210\u4ee5\u4e0b\u914d\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6307\u5b9a\u56fe\u7a7a\u95f4\u540d\u79f0\uff0c\u672c\u793a\u4f8b\u4e2d\u8bbe\u7f6e\u4e3a mooc_actions \u3002\u4e0d\u53ef\u4e0e\u5df2\u6709\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u91cd\u590d\u3002\u540d\u79f0\u547d\u540d\u89c4\u5219\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 b. \u9009\u586b\u53c2\u6570 \uff1a\u5206\u522b\u8bbe\u7f6e partition_num \u3001 replica_factor \u3001 charset \u6216\u8005 collate \u7684\u503c\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u56db\u4e2a\u53c2\u6570\u5206\u522b\u8bbe\u7f6e\u4e3a 10 \u3001 1 \u3001 utf8 \u548c utf8_bin \u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 CREATE SPACE \u8bed\u6cd5 \u3002 \u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0a\u8ff0\u8bbe\u7f6e\u5bf9\u5e94\u7684 nGQL \u8bed\u53e5\u3002\u5982\u4e0b\u6240\u793a\uff1a CREATE SPACE mooc_actions (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin) \u914d\u7f6e\u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \uff0c\u800c\u4e14\u5217\u8868\u4e2d\u663e\u793a\u521a\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u4fe1\u606f\uff0c\u8868\u793a\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u3002 \u5220\u9664\u56fe\u7a7a\u95f4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u91cc\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u56fe\u7a7a\u95f4\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u786e\u8ba4\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002 \u5220\u9664\u6210\u529f\u540e\uff0c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u521b\u5efa\u6216\u4fee\u6539 Schema\uff0c\u5305\u62ec\uff1a \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15","title":"\u64cd\u4f5c\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_1","text":"Studio \u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u540e\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u56fe\u7a7a\u95f4\u3002","title":"\u64cd\u4f5c\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_3","text":"\u64cd\u4f5c\u56fe\u7a7a\u95f4\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709\u521b\u5efa\u6216\u5220\u9664\u56fe\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u5373\uff1a \u5982\u679c Nebula Graph \u672a\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5\u9ed8\u8ba4\u7528\u6237\u540d user \u8d26\u53f7\u548c\u9ed8\u8ba4\u5bc6\u7801 password \u767b\u5f55\u3002 \u5982\u679c Nebula Graph \u5df2\u5f00\u542f\u8eab\u4efd\u9a8c\u8bc1\uff0c\u60a8\u4ee5 root \u8d26\u53f7\u53ca\u5176\u5bc6\u7801\u767b\u5f55\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u4e0a\u65b9\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\uff0c\u5b8c\u6210\u4ee5\u4e0b\u914d\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6307\u5b9a\u56fe\u7a7a\u95f4\u540d\u79f0\uff0c\u672c\u793a\u4f8b\u4e2d\u8bbe\u7f6e\u4e3a mooc_actions \u3002\u4e0d\u53ef\u4e0e\u5df2\u6709\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u91cd\u590d\u3002\u540d\u79f0\u547d\u540d\u89c4\u5219\uff0c\u53c2\u8003 \u300anGQL \u7528\u6237\u624b\u518c\u300b \u3002 b. \u9009\u586b\u53c2\u6570 \uff1a\u5206\u522b\u8bbe\u7f6e partition_num \u3001 replica_factor \u3001 charset \u6216\u8005 collate \u7684\u503c\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u56db\u4e2a\u53c2\u6570\u5206\u522b\u8bbe\u7f6e\u4e3a 10 \u3001 1 \u3001 utf8 \u548c utf8_bin \u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 CREATE SPACE \u8bed\u6cd5 \u3002 \u5728 \u5bf9\u5e94\u7684nGQL\u8bed\u53e5 \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4e0a\u8ff0\u8bbe\u7f6e\u5bf9\u5e94\u7684 nGQL \u8bed\u53e5\u3002\u5982\u4e0b\u6240\u793a\uff1a CREATE SPACE mooc_actions (partition_num = 10, replica_factor = 1, charset = utf8, collate = utf8_bin) \u914d\u7f6e\u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \uff0c\u800c\u4e14\u5217\u8868\u4e2d\u663e\u793a\u521a\u521b\u5efa\u7684\u56fe\u7a7a\u95f4\u4fe1\u606f\uff0c\u8868\u793a\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u3002","title":"\u521b\u5efa\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u56fe\u7a7a\u95f4\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728\u56fe\u7a7a\u95f4\u5217\u8868\u91cc\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u56fe\u7a7a\u95f4\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u786e\u8ba4\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002 \u5220\u9664\u6210\u529f\u540e\uff0c\u9875\u9762\u56de\u5230 \u56fe\u7a7a\u95f4\u5217\u8868 \u3002","title":"\u5220\u9664\u56fe\u7a7a\u95f4"},{"location":"nebula-studio/manage-schema/st-ug-crud-space/#_6","text":"\u56fe\u7a7a\u95f4\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u521b\u5efa\u6216\u4fee\u6539 Schema\uff0c\u5305\u62ec\uff1a \u64cd\u4f5c\u6807\u7b7e \u64cd\u4f5c\u8fb9\u7c7b\u578b \u64cd\u4f5c\u7d22\u5f15","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/","text":"\u64cd\u4f5c\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09 \u00b6 \u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u9700\u8981\u521b\u5efa\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u6807\u7b7e\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u6807\u7b7e\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u64cd\u4f5c\u6807\u7b7e\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002 \u521b\u5efa\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u6807\u7b7e\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 course \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u6807\u7b7e\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u6807\u7b7e\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u6807\u7b7e\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002 \u4fee\u6539\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002\u4e4b\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216\u8005 \u53d6\u6d88 \u5b8c\u6210\u4fee\u6539\u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002\u8be6\u7ec6\u64cd\u4f5c\uff0c\u53c2\u8003 \u521b\u5efa\u6807\u7b7e\u9762\u677f\u3002 \u5982\u679c\u914d\u7f6e\u4e86 TTL\uff0c\u8981\u4fee\u6539 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539 TTL_COL \u548c TTL_DURATION \u914d\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u5df2\u7ecf\u914d\u7f6e\u7684 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u914d\u7f6e TTL \u4fe1\u606f\uff1a\u5728 \u4f7f\u7528TTL \u9762\u677f\u7684\u53f3\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL \u4fe1\u606f\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002 \u5220\u9664\u6807\u7b7e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6807\u7b7e\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u70b9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u70b9\u6570\u636e\u3002","title":"\u64cd\u4f5c\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_1","text":"\u5728 Nebula Graph \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u540e\uff0c\u60a8\u9700\u8981\u521b\u5efa\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 Schema \u64cd\u4f5c\u6807\u7b7e\u3002\u672c\u6587\u4ec5\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Schema \u64cd\u4f5c\u6807\u7b7e\u3002","title":"\u64cd\u4f5c\u6807\u7b7e\uff08\u70b9\u7c7b\u578b\uff09"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_2","text":"Studio v1.2.0-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_3","text":"\u5728 Studio \u4e0a\u64cd\u4f5c\u6807\u7b7e\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u56fe\u7a7a\u95f4\u5df2\u7ecf\u521b\u5efa\u3002 \u60a8\u5f53\u524d\u767b\u5f55\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216\u8005 DBA \u7684\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u5e76\u70b9\u51fb \u521b\u5efa \u6309\u94ae\u3002 \u5728 \u521b\u5efa \u9875\u9762\u4e0a\uff0c\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a a. \u540d\u79f0 \uff1a\u6309\u63d0\u793a\u4fe1\u606f\u8f93\u5165\u5408\u89c4\u7684\u6807\u7b7e\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u8f93\u5165 course \u3002 b. \uff08\u53ef\u9009\uff09\u5982\u679c\u6807\u7b7e\u9700\u8981\u5c5e\u6027\uff0c\u5728 \u5b9a\u4e49\u5c5e\u6027 \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a - \u8f93\u5165\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002 - \u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u5e76\u5b9a\u4e49\u5c5e\u6027\u3002 - \u5982\u679c\u8981\u5220\u9664\u67d0\u4e2a\u5c5e\u6027\uff0c\u5728\u8be5\u5c5e\u6027\u6240\u5728\u884c\uff0c\u70b9\u51fb \u56fe\u6807\u3002 c. \uff08\u53ef\u9009\uff09\u6807\u7b7e\u672a\u8bbe\u7f6e\u7d22\u5f15\u65f6\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e TTL\uff1a\u5728 \u8bbe\u7f6eTTL \u6a21\u5757\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5e76\u5728\u5c55\u5f00\u7684\u5217\u8868\u4e2d\u8bbe\u7f6e TTL_COL \u548c TTL_DURATION \u53c2\u6570\u4fe1\u606f\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 TTL \u914d\u7f6e \u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\uff0c\u60a8\u80fd\u770b\u5230\u4e0e\u4e0a\u8ff0\u914d\u7f6e\u7b49\u4ef7\u7684 nGQL \u8bed\u53e5\u3002 \u786e\u8ba4\u65e0\u8bef\u540e\uff0c\u70b9\u51fb + \u521b\u5efa \u6309\u94ae\u3002 \u5982\u679c\u6807\u7b7e\u521b\u5efa\u6210\u529f\uff0c \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4f1a\u663e\u793a\u8fd9\u4e2a\u6807\u7b7e\u7684\u5c5e\u6027\u5217\u8868\u3002","title":"\u521b\u5efa\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u4fee\u6539\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u7f16\u8f91 \u9875\u9762\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5982\u679c\u8981\u4fee\u6539\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u7f16\u8f91 \uff0c\u518d\u4fee\u6539\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b\u548c\u9ed8\u8ba4\u503c\u3002\u4e4b\u540e\uff0c\u70b9\u51fb \u786e\u8ba4 \u6216\u8005 \u53d6\u6d88 \u5b8c\u6210\u4fee\u6539\u3002 \u5982\u679c\u8981\u5220\u9664\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5c5e\u6027\uff0c\u5728\u53f3\u4fa7\u70b9\u51fb \u5220\u9664 \uff0c\u7ecf\u786e\u8ba4\u540e\uff0c\u5220\u9664\u5c5e\u6027\u3002 \u5982\u679c\u8981\u6dfb\u52a0\u5c5e\u6027\uff1a\u5728 \u5b9a\u4e49\u5c5e\u6027 \u9762\u677f\u4e0a\uff0c\u70b9\u51fb \u6dfb\u52a0\u5c5e\u6027 \u6309\u94ae\uff0c\u6dfb\u52a0\u5c5e\u6027\u4fe1\u606f\u3002\u8be6\u7ec6\u64cd\u4f5c\uff0c\u53c2\u8003 \u521b\u5efa\u6807\u7b7e\u9762\u677f\u3002 \u5982\u679c\u914d\u7f6e\u4e86 TTL\uff0c\u8981\u4fee\u6539 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u4e0a\uff0c\u4fee\u6539 TTL_COL \u548c TTL_DURATION \u914d\u7f6e\u3002 \u5982\u679c\u8981\u5220\u9664\u5df2\u7ecf\u914d\u7f6e\u7684 TTL \u4fe1\u606f\uff1a\u5728 \u8bbe\u7f6eTTL \u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u53d6\u6d88\u9009\u62e9\u3002 \u5982\u679c\u8981\u914d\u7f6e TTL \u4fe1\u606f\uff1a\u5728 \u4f7f\u7528TTL \u9762\u677f\u7684\u53f3\u4e0a\u89d2\uff0c\u70b9\u51fb\u52fe\u9009\u6846\uff0c\u5f00\u59cb\u8bbe\u7f6e TTL \u4fe1\u606f\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u5728 \u5bf9\u5e94\u7684 nGQL \u9762\u677f\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u4fee\u6539\u540e\u7684 nGQL \u8bed\u53e5\u3002","title":"\u4fee\u6539\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_6","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u5220\u9664\u6807\u7b7e\uff1a \u5728\u5de5\u5177\u680f\u4e2d\uff0c\u70b9\u51fb Schema \u9875\u7b7e\u3002 \u5728 \u56fe\u7a7a\u95f4\u5217\u8868 \u4e2d\uff0c\u627e\u5230\u56fe\u7a7a\u95f4\uff0c\u70b9\u51fb\u56fe\u7a7a\u95f4\u540d\u79f0\u6216\u8005\u5728 \u64cd\u4f5c \u5217\u4e2d\u70b9\u51fb \u56fe\u6807\u3002 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u91cc\u786e\u8ba4\u56fe\u7a7a\u95f4\u540d\u79f0\u3002\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u56fe\u7a7a\u95f4\u540d\u79f0\u5207\u6362\u56fe\u7a7a\u95f4\u3002 \u70b9\u51fb \u6807\u7b7e \u9875\u7b7e\uff0c\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u6807\u7b7e\uff0c\u5e76\u5728 \u64cd\u4f5c \u5217\u4e2d\uff0c\u70b9\u51fb \u56fe\u6807\u3002","title":"\u5220\u9664\u6807\u7b7e"},{"location":"nebula-studio/manage-schema/st-ug-crud-tag/#_7","text":"\u6807\u7b7e\u521b\u5efa\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u9010\u6761\u63d2\u5165\u70b9\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u6279\u91cf\u63d2\u5165\u70b9\u6570\u636e\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-create-schema/","text":"\u521b\u5efa Schema \u00b6 \u5728 Nebula Graph \u4e2d\uff0c\u60a8\u5fc5\u987b\u5148\u6709 Schema\uff0c\u518d\u5411\u5176\u4e2d\u5199\u5165\u70b9\u6570\u636e\u548c\u8fb9\u6570\u636e\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 Nebula Graph \u7684 \u63a7\u5236\u53f0 \u6216 Schema \u529f\u80fd\u521b\u5efa Schema\u3002 \u8bf4\u660e \uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 nebula-console \u521b\u5efa Schema\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u548c Nebula Graph \u5feb\u901f\u5f00\u59cb \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 Studio \u4e0a\u521b\u5efa Schema \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216 DBA \u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u5185\u7f6e\u89d2\u8272 \u3002 \u60a8\u5df2\u7ecf\u89c4\u5212\u597d\u4e86 Schema \u7684\u8981\u7d20\u3002 \u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u5047\u8bbe\u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD \u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u6216 Schema \u4e0a\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\u521b\u5efa Schema \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa Schema\uff1a \u521b\u5efa\u6807\u7b7e\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u6807\u7b7e \u3002 \u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u8fb9\u7c7b\u578b \u3002 \u4f7f\u7528\u63a7\u5236\u53f0\u521b\u5efa Schema \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 \u63a7\u5236\u53f0 \u521b\u5efa Schema\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f9d\u6b21\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 -- \u521b\u5efa\u6807\u7b7e user\uff0c\u5e26\u6709 1 \u4e2a\u5c5e\u6027 CREATE TAG user (userId int); -- \u521b\u5efa\u6807\u7b7e course\uff0c\u5e26\u6709\u4e24\u4e2a\u5c5e\u6027 CREATE TAG course (courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b\uff0c\u5e26\u6709 7 \u4e2a\u5c5e\u6027 CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u81f3\u6b64\uff0c\u60a8\u5df2\u7ecf\u5b8c\u6210\u4e86 Schema \u521b\u5efa\u3002\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u6807\u7b7e\u4e0e\u8fb9\u7c7b\u578b\u7684\u5b9a\u4e49\u662f\u5426\u6b63\u786e\u3001\u5b8c\u6574\u3002 -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u6807\u7b7e SHOW TAGS; -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u8fb9\u7c7b\u578b SHOW EDGES; -- \u67e5\u770b\u6bcf\u79cd\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u662f\u5426\u6b63\u786e DESCRIBE TAG user; DESCRIBE TAG course; DESCRIBE EDGE action; \u540e\u7eed\u64cd\u4f5c \u00b6 \u521b\u5efa Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u5bfc\u5165\u6570\u636e \u3002","title":"\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema","text":"\u5728 Nebula Graph \u4e2d\uff0c\u60a8\u5fc5\u987b\u5148\u6709 Schema\uff0c\u518d\u5411\u5176\u4e2d\u5199\u5165\u70b9\u6570\u636e\u548c\u8fb9\u6570\u636e\u3002\u672c\u6587\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 Nebula Graph \u7684 \u63a7\u5236\u53f0 \u6216 Schema \u529f\u80fd\u521b\u5efa Schema\u3002 \u8bf4\u660e \uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 nebula-console \u521b\u5efa Schema\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u548c Nebula Graph \u5feb\u901f\u5f00\u59cb \u3002","title":"\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#_1","text":"\u5728 Studio \u4e0a\u521b\u5efa Schema \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN \u6216 DBA \u6743\u9650\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u5185\u7f6e\u89d2\u8272 \u3002 \u60a8\u5df2\u7ecf\u89c4\u5212\u597d\u4e86 Schema \u7684\u8981\u7d20\u3002 \u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1a\u672c\u793a\u4f8b\u5047\u8bbe\u5df2\u7ecf\u521b\u5efa\u4e86\u56fe\u7a7a\u95f4\u3002\u5982\u679c\u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD \u6743\u9650\uff0c\u4e5f\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u6216 Schema \u4e0a\u521b\u5efa\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema_schema","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Schema \u521b\u5efa Schema\uff1a \u521b\u5efa\u6807\u7b7e\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u6807\u7b7e \u3002 \u521b\u5efa\u8fb9\u7c7b\u578b\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u64cd\u4f5c\u8fb9\u7c7b\u578b \u3002","title":"\u4f7f\u7528 Schema \u7ba1\u7406\u529f\u80fd\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#schema_1","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 \u63a7\u5236\u53f0 \u521b\u5efa Schema\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f9d\u6b21\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 -- \u521b\u5efa\u6807\u7b7e user\uff0c\u5e26\u6709 1 \u4e2a\u5c5e\u6027 CREATE TAG user (userId int); -- \u521b\u5efa\u6807\u7b7e course\uff0c\u5e26\u6709\u4e24\u4e2a\u5c5e\u6027 CREATE TAG course (courseId int, courseName string); -- \u521b\u5efa\u8fb9\u7c7b\u578b\uff0c\u5e26\u6709 7 \u4e2a\u5c5e\u6027 CREATE EDGE action (actionId int, duration double, label bool, feature0 double, feature1 double, feature2 double, feature3 double); \u81f3\u6b64\uff0c\u60a8\u5df2\u7ecf\u5b8c\u6210\u4e86 Schema \u521b\u5efa\u3002\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u8bed\u53e5\u67e5\u770b\u6807\u7b7e\u4e0e\u8fb9\u7c7b\u578b\u7684\u5b9a\u4e49\u662f\u5426\u6b63\u786e\u3001\u5b8c\u6574\u3002 -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u6807\u7b7e SHOW TAGS; -- \u5217\u51fa\u5f53\u524d\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u8fb9\u7c7b\u578b SHOW EDGES; -- \u67e5\u770b\u6bcf\u79cd\u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u7ed3\u6784\u662f\u5426\u6b63\u786e DESCRIBE TAG user; DESCRIBE TAG course; DESCRIBE EDGE action;","title":"\u4f7f\u7528\u63a7\u5236\u53f0\u521b\u5efa Schema"},{"location":"nebula-studio/quick-start/st-ug-create-schema/#_2","text":"\u521b\u5efa Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u5bfc\u5165\u6570\u636e \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-explore/","text":"\u67e5\u8be2\u56fe\u6570\u636e \u00b6 \u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 \u56fe\u63a2\u7d22 \u67e5\u8be2\u56fe\u6570\u636e\u3002 \u4ee5\u67e5\u8be2\u4ee3\u8868\u201cHistory of Chinese Women Through Time\u201d\u8bfe\u7a0b\u7684\u70b9\u7684\u5c5e\u6027\u4e3a\u4f8b\uff1a \u5728 \u63a7\u5236\u53f0 \u9875\u9762\uff1a\u8fd0\u884c FETCH PROP ON * hash(\"History of Chinese Women Through Time\"); \uff0c\u6570\u636e\u5e93\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\u3002\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\uff0c\u5c06\u70b9\u6570\u636e\u67e5\u8be2\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u663e\u793a\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\uff1a\u70b9\u51fb \u5f00\u59cb\u63a2\u7d22 \u6309\u94ae\uff0c\u5728 \u6307\u5b9aVID \u5bf9\u8bdd\u6846\u4e2d\uff0c\u8f93\u5165 \"History of Chinese Women Through Time\" \uff0c\u5728 VID\u9884\u5904\u7406 \u9009\u62e9 Hash \uff0c\u518d\u70b9\u51fb \u6dfb\u52a0 \u6309\u94ae\u3002 \u56fe\u63a2\u7d22 \u753b\u677f\u91cc\u4f1a\u663e\u793a\u8fd9\u4e2a\u70b9\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u70b9\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002","title":"\u67e5\u8be2\u56fe\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-explore/#_1","text":"\u5bfc\u5165\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 \u63a7\u5236\u53f0 \u6216\u8005 \u56fe\u63a2\u7d22 \u67e5\u8be2\u56fe\u6570\u636e\u3002 \u4ee5\u67e5\u8be2\u4ee3\u8868\u201cHistory of Chinese Women Through Time\u201d\u8bfe\u7a0b\u7684\u70b9\u7684\u5c5e\u6027\u4e3a\u4f8b\uff1a \u5728 \u63a7\u5236\u53f0 \u9875\u9762\uff1a\u8fd0\u884c FETCH PROP ON * hash(\"History of Chinese Women Through Time\"); \uff0c\u6570\u636e\u5e93\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\u3002\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\uff0c\u5c06\u70b9\u6570\u636e\u67e5\u8be2\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u663e\u793a\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\uff1a\u70b9\u51fb \u5f00\u59cb\u63a2\u7d22 \u6309\u94ae\uff0c\u5728 \u6307\u5b9aVID \u5bf9\u8bdd\u6846\u4e2d\uff0c\u8f93\u5165 \"History of Chinese Women Through Time\" \uff0c\u5728 VID\u9884\u5904\u7406 \u9009\u62e9 Hash \uff0c\u518d\u70b9\u51fb \u6dfb\u52a0 \u6309\u94ae\u3002 \u56fe\u63a2\u7d22 \u753b\u677f\u91cc\u4f1a\u663e\u793a\u8fd9\u4e2a\u70b9\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u70b9\u4e0a\uff0c\u60a8\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u6240\u6709\u5c5e\u6027\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002","title":"\u67e5\u8be2\u56fe\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/","text":"\u5bfc\u5165\u6570\u636e \u00b6 \u51c6\u5907\u597d CSV \u6587\u4ef6\uff0c\u521b\u5efa\u4e86 Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u5c06\u6240\u6709\u70b9\u548c\u8fb9\u6570\u636e\u4e0a\u4f20\u5230 Studio\uff0c\u7528\u4e8e\u6570\u636e\u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u548c\u6570\u636e\u5206\u6790\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 Nebula Graph \u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u521b\u5efa\u4e86 Schema\u3002 CSV \u6587\u4ef6\u7b26\u5408 Schema \u8981\u6c42\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u7684\u6743\u9650\uff0c\u80fd\u5f80\u56fe\u7a7a\u95f4\u4e2d\u5199\u5165\u6570\u636e\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165\u6570\u636e\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u5bfc\u5165 \u9875\u7b7e\u3002 \u5728 \u9009\u62e9Space \u9875\u9762\uff0c\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u4e0a\u4f20\u6587\u4ef6 \u9875\u9762\uff0c\u70b9\u51fb \u4e0a\u4f20\u6587\u4ef6 \u6309\u94ae\uff0c\u5e76\u9009\u62e9\u9700\u8981\u7684 CSV \u6587\u4ef6\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 user.csv \u3001 course.csv \u548c actions.csv \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a CSV \u6587\u4ef6\u3002 \u5728\u6587\u4ef6\u5217\u8868\u7684 \u64cd\u4f5c \u5217\uff0c\u70b9\u51fb \u9884\u89c8 \u6216 \u5220\u9664 \uff0c\u4fdd\u8bc1\u6587\u4ef6\u4fe1\u606f\u6b63\u786e\uff0c\u4e4b\u540e\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5173\u8054\u70b9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u70b9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 user.csv \u6216 course.csv \u6587\u4ef6\u3002 \u5728 \u6570\u636e\u6e90 X \u9875\u7b7e\u4e0b\uff0c\u70b9\u51fb + Tag \u6309\u94ae\u3002 \u5728 vertexId \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 \u5bf9\u5e94\u5217\u6807 \u5217\uff0c\u70b9\u51fb \u9009\u62e9 \u3002 b. \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u5217\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u4e2d\u4ec5\u6709\u4e00\u5217\u6570\u636e\u7528\u4e8e\u751f\u6210\u4ee3\u8868\u7528\u6237\u7684 VID\uff0c course.csv \u4e2d\u9009\u62e9\u8868\u793a courseName \u4fe1\u606f\u7684 Column 1 \u7528\u4e8e\u751f\u6210\u4ee3\u8868\u8bfe\u7a0b\u7684 VID\u3002 \u8bf4\u660e \uff1a\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0cVID \u59cb\u7ec8\u552f\u4e00\uff0c\u4e0d\u53ef\u91cd\u590d\u3002\u5173\u4e8e VID \u7684\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7684\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u3002 c. \u5728 ID Hash \u5217\uff0c\u9009\u62e9 VID \u9884\u5904\u7406\u65b9\u5f0f\uff1a\u5982\u679c\u6e90\u6570\u636e\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 \u4fdd\u6301\u539f\u503c \uff1b\u5982\u679c\u6e90\u6570\u636e\u662f string \u3001 double \u6216\u8005 bool \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 Hash \u3002 \u5728 TAG 1 \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 TAG \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 user \uff1b course.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 course \u3002 b. \u5728\u663e\u793a\u7684\u5c5e\u6027\u5217\u8868\u4e2d\uff0c\u70b9\u51fb \u9009\u62e9 \uff0c\u4e3a\u6807\u7b7e\u5c5e\u6027\u7ed1\u5b9a\u6e90\u6570\u636e\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user \u6807\u7b7e\u6ca1\u6709\u5c5e\u6027\uff0c\u4e0d\u9700\u8981\u9009\u62e9\u6570\u636e\u6e90\uff1b course \u6807\u7b7e\u7684 courseId \u5c5e\u6027\u5bf9\u5e94 course.csv \u6587\u4ef6\u4e2d\u7684 Column 0 \u5217\uff0c \u7c7b\u578b \u4e3a int \uff0c courseName \u5c5e\u6027\u5bf9\u5e94\u6587\u4ef6\u4e2d\u7684 Column 1 \u5217\uff0c \u7c7b\u578b \u4e3a string \u3002 (\u53ef\u9009) \u5982\u679c\u60a8\u6709\u591a\u4e2a\u6807\u7b7e\u6570\u636e\u6587\u4ef6\uff0c\u91cd\u590d\u6b65\u9aa4 5 \u5230\u6b65\u9aa4 8\u3002 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u3002 \u754c\u9762\u63d0\u793a \u914d\u7f6e\u9a8c\u8bc1\u6210\u529f \uff0c\u8868\u793a\u6807\u7b7e\u6570\u636e\u6e90\u7ed1\u5b9a\u6210\u529f\u3002 \u5728 \u5173\u8054\u8fb9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 actions.csv \u6587\u4ef6\u3002 \u5728 Edge X \u9875\u7b7e\u7684 \u7c7b\u578b \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action \u3002 \u6839\u636e\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4ece actions.csv \u6587\u4ef6\u4e2d\u9009\u62e9\u76f8\u5e94\u7684\u6570\u636e\u5217\u3002\u5176\u4e2d\uff0c srcId \u548c dstId \u5206\u522b\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c\u6240\u9009\u62e9\u7684\u6570\u636e\u53ca\u5904\u7406\u65b9\u5f0f\u5fc5\u987b\u4e0e\u76f8\u5e94\u7684 VID \u4fdd\u6301\u4e00\u81f4\u3002\u672c\u793a\u4f8b\u4e2d\uff0c srcId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u7528\u6237\u7684 VID\uff0c dstId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u8bfe\u7a0b\u7684 VID\u3002 rank \u4e3a\u9009\u586b\u9879\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5bfc\u5165 \u9875\u9762\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u3002\u5728 log \u9875\u9762\u4e0a\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5bfc\u5165\u8fdb\u5ea6\u3002\u5bfc\u5165\u6240\u9700\u65f6\u95f4\u56e0\u6570\u636e\u91cf\u800c\u5f02\u3002\u5bfc\u5165\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb \u7ec8\u6b62\u5bfc\u5165 \u505c\u6b62\u6570\u636e\u5bfc\u5165\u3002\u5f53 log \u9875\u9762\u663e\u793a\u5982\u56fe\u6240\u793a\u4fe1\u606f\u65f6\uff0c\u8868\u793a\u6570\u636e\u5bfc\u5165\u5b8c\u6210\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u5b8c\u6210\u6570\u636e\u5bfc\u5165\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u56fe\u63a2\u7d22 \u3002","title":"\u5bfc\u5165\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_1","text":"\u51c6\u5907\u597d CSV \u6587\u4ef6\uff0c\u521b\u5efa\u4e86 Schema \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 \u5bfc\u5165 \u529f\u80fd\u5c06\u6240\u6709\u70b9\u548c\u8fb9\u6570\u636e\u4e0a\u4f20\u5230 Studio\uff0c\u7528\u4e8e\u6570\u636e\u67e5\u8be2\u3001\u56fe\u63a2\u7d22\u548c\u6570\u636e\u5206\u6790\u3002","title":"\u5bfc\u5165\u6570\u636e"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_2","text":"\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002 Nebula Graph \u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u521b\u5efa\u4e86 Schema\u3002 CSV \u6587\u4ef6\u7b26\u5408 Schema \u8981\u6c42\u3002 \u60a8\u7684\u8d26\u53f7\u62e5\u6709 GOD\u3001ADMIN\u3001DBA \u6216\u8005 USER \u7684\u6743\u9650\uff0c\u80fd\u5f80\u56fe\u7a7a\u95f4\u4e2d\u5199\u5165\u6570\u636e\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5bfc\u5165\u6570\u636e\uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u5bfc\u5165 \u9875\u7b7e\u3002 \u5728 \u9009\u62e9Space \u9875\u9762\uff0c\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u4e0a\u4f20\u6587\u4ef6 \u9875\u9762\uff0c\u70b9\u51fb \u4e0a\u4f20\u6587\u4ef6 \u6309\u94ae\uff0c\u5e76\u9009\u62e9\u9700\u8981\u7684 CSV \u6587\u4ef6\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 user.csv \u3001 course.csv \u548c actions.csv \u6587\u4ef6\u3002 \u8bf4\u660e \uff1a\u60a8\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a CSV \u6587\u4ef6\u3002 \u5728\u6587\u4ef6\u5217\u8868\u7684 \u64cd\u4f5c \u5217\uff0c\u70b9\u51fb \u9884\u89c8 \u6216 \u5220\u9664 \uff0c\u4fdd\u8bc1\u6587\u4ef6\u4fe1\u606f\u6b63\u786e\uff0c\u4e4b\u540e\uff0c\u518d\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5173\u8054\u70b9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u70b9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 user.csv \u6216 course.csv \u6587\u4ef6\u3002 \u5728 \u6570\u636e\u6e90 X \u9875\u7b7e\u4e0b\uff0c\u70b9\u51fb + Tag \u6309\u94ae\u3002 \u5728 vertexId \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 \u5bf9\u5e94\u5217\u6807 \u5217\uff0c\u70b9\u51fb \u9009\u62e9 \u3002 b. \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u5217\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u4e2d\u4ec5\u6709\u4e00\u5217\u6570\u636e\u7528\u4e8e\u751f\u6210\u4ee3\u8868\u7528\u6237\u7684 VID\uff0c course.csv \u4e2d\u9009\u62e9\u8868\u793a courseName \u4fe1\u606f\u7684 Column 1 \u7528\u4e8e\u751f\u6210\u4ee3\u8868\u8bfe\u7a0b\u7684 VID\u3002 \u8bf4\u660e \uff1a\u5728\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\uff0cVID \u59cb\u7ec8\u552f\u4e00\uff0c\u4e0d\u53ef\u91cd\u590d\u3002\u5173\u4e8e VID \u7684\u4fe1\u606f\uff0c\u53c2\u8003 Nebula Graph \u7684\u70b9\u6807\u8bc6\u7b26\u548c\u5206\u533a \u3002 c. \u5728 ID Hash \u5217\uff0c\u9009\u62e9 VID \u9884\u5904\u7406\u65b9\u5f0f\uff1a\u5982\u679c\u6e90\u6570\u636e\u662f int \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 \u4fdd\u6301\u539f\u503c \uff1b\u5982\u679c\u6e90\u6570\u636e\u662f string \u3001 double \u6216\u8005 bool \u7c7b\u578b\u6570\u636e\uff0c\u9009\u62e9 Hash \u3002 \u5728 TAG 1 \u90e8\u5206\uff0c\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a a. \u5728 TAG \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 user \uff1b course.csv \u6587\u4ef6\u5bf9\u5e94\u9009\u62e9 course \u3002 b. \u5728\u663e\u793a\u7684\u5c5e\u6027\u5217\u8868\u4e2d\uff0c\u70b9\u51fb \u9009\u62e9 \uff0c\u4e3a\u6807\u7b7e\u5c5e\u6027\u7ed1\u5b9a\u6e90\u6570\u636e\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c user \u6807\u7b7e\u6ca1\u6709\u5c5e\u6027\uff0c\u4e0d\u9700\u8981\u9009\u62e9\u6570\u636e\u6e90\uff1b course \u6807\u7b7e\u7684 courseId \u5c5e\u6027\u5bf9\u5e94 course.csv \u6587\u4ef6\u4e2d\u7684 Column 0 \u5217\uff0c \u7c7b\u578b \u4e3a int \uff0c courseName \u5c5e\u6027\u5bf9\u5e94\u6587\u4ef6\u4e2d\u7684 Column 1 \u5217\uff0c \u7c7b\u578b \u4e3a string \u3002 (\u53ef\u9009) \u5982\u679c\u60a8\u6709\u591a\u4e2a\u6807\u7b7e\u6570\u636e\u6587\u4ef6\uff0c\u91cd\u590d\u6b65\u9aa4 5 \u5230\u6b65\u9aa4 8\u3002 \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u3002 \u754c\u9762\u63d0\u793a \u914d\u7f6e\u9a8c\u8bc1\u6210\u529f \uff0c\u8868\u793a\u6807\u7b7e\u6570\u636e\u6e90\u7ed1\u5b9a\u6210\u529f\u3002 \u5728 \u5173\u8054\u8fb9 \u9875\u9762\uff0c\u70b9\u51fb + \u7ed1\u5b9a\u6570\u636e\u6e90 \u6309\u94ae\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u8fb9\u6570\u636e\u6587\u4ef6\uff0c\u5e76\u70b9\u51fb \u786e\u8ba4 \u6309\u94ae\u3002\u5982\u672c\u793a\u4f8b\u4e2d\u7684 actions.csv \u6587\u4ef6\u3002 \u5728 Edge X \u9875\u7b7e\u7684 \u7c7b\u578b \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action \u3002 \u6839\u636e\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u4ece actions.csv \u6587\u4ef6\u4e2d\u9009\u62e9\u76f8\u5e94\u7684\u6570\u636e\u5217\u3002\u5176\u4e2d\uff0c srcId \u548c dstId \u5206\u522b\u8868\u793a\u8fb9\u7684\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c\u6240\u9009\u62e9\u7684\u6570\u636e\u53ca\u5904\u7406\u65b9\u5f0f\u5fc5\u987b\u4e0e\u76f8\u5e94\u7684 VID \u4fdd\u6301\u4e00\u81f4\u3002\u672c\u793a\u4f8b\u4e2d\uff0c srcId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u7528\u6237\u7684 VID\uff0c dstId \u5bf9\u5e94\u7684\u662f\u8868\u793a\u8bfe\u7a0b\u7684 VID\u3002 rank \u4e3a\u9009\u586b\u9879\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002 \u5b8c\u6210\u8bbe\u7f6e\u540e\uff0c\u70b9\u51fb \u4e0b\u4e00\u6b65 \u6309\u94ae\u3002 \u5728 \u5bfc\u5165 \u9875\u9762\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u5f00\u59cb\u5bfc\u5165\u6570\u636e\u3002\u5728 log \u9875\u9762\u4e0a\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5bfc\u5165\u8fdb\u5ea6\u3002\u5bfc\u5165\u6240\u9700\u65f6\u95f4\u56e0\u6570\u636e\u91cf\u800c\u5f02\u3002\u5bfc\u5165\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb \u7ec8\u6b62\u5bfc\u5165 \u505c\u6b62\u6570\u636e\u5bfc\u5165\u3002\u5f53 log \u9875\u9762\u663e\u793a\u5982\u56fe\u6240\u793a\u4fe1\u606f\u65f6\uff0c\u8868\u793a\u6570\u636e\u5bfc\u5165\u5b8c\u6210\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/quick-start/st-ug-import-data/#_4","text":"\u5b8c\u6210\u6570\u636e\u5bfc\u5165\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb \u56fe\u63a2\u7d22 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/quick-start/st-ug-plan-schema/","text":"\u89c4\u5212 Schema \u00b6 \u5728\u4f7f\u7528 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5148\u6839\u636e Nebula Graph \u6570\u636e\u5e93\u7684\u8981\u6c42\u89c4\u5212\u60a8\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002 Schema \u81f3\u5c11\u8981\u5305\u542b\u4ee5\u4e0b\u8981\u7d20\uff1a \u6807\u7b7e\uff08Tag\uff0c\u5373\u70b9\u7c7b\u578b\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u6807\u7b7e\u7684\u5c5e\u6027\u3002 \u8fb9\u7c7b\u578b\uff08Edge Type\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4e3a\u57fa\u7840\uff0c\u5e76\u5728\u5176\u4e2d\u52a0\u5165\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\uff0c\u8bf4\u660e\u5982\u4f55\u89c4\u5212 Schema\u3002 \u4e0b\u8868\u5217\u51fa\u4e86 Schema \u8981\u7d20\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027\u540d\u79f0 (\u6570\u636e\u7c7b\u578b) \u8bf4\u660e \u6807\u7b7e user userId ( int ) \u5c06\u4f7f\u7528 userId \u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u7684\u7528\u6237\u3002 \u6807\u7b7e course - courseId ( int ) - courseName ( string ) \u672c\u793a\u4f8b\u4e2d\u5c06\u4f7f\u7528 courseName \u7684\u503c\u901a\u8fc7 Hash() \u51fd\u6570\u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002\u56e0\u4e3a Nebula Graph \u8981\u6c42\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u70b9\u7684 VID \u5fc5\u987b\u59cb\u7ec8\u552f\u4e00\uff0c\u800c courseId \u4e0e\u90e8\u5206 user \u7c7b VID \u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u4e0d\u80fd\u4f7f\u7528 courseId \u751f\u6210 course \u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u4e0a\u7684\u8bfe\u7a0b\u3002 \u8fb9\u7c7b\u578b action - actionId ( int ) - duration ( double )\uff1a\u4ee3\u8868\u6e90\u6570\u636e\u4e2d\u7684 timestamp \u6570\u636e\uff0c\u8868\u793a\u884c\u4e3a\u6301\u7eed\u65f6\u95f4 - label ( bool )\uff1a\u8868\u793a user \u5b8c\u6210\u4e00\u4e2a\u884c\u4e3a\u540e\u662f\u5426\u9000\u51fa\u4e86\u8bfe\u7a0b - feature0 ( double ) - feature1 ( double ) - feature2 ( double ) - feature3 ( double ) \u8868\u793a\u7528\u6237\u53c2\u4e0e\u8bfe\u7a0b\u7684\u884c\u4e3a\uff0c\u5206\u522b\u7528\u53c2\u4e0e\u6d3b\u52a8\u7684\u6301\u7eed\u65f6\u95f4\u3001\u53c2\u4e0e\u540e\u7528\u6237\u662f\u5426\u9000\u51fa\u4e86 MOOC \u5e73\u53f0\u4ee5\u53ca\u884c\u4e3a\u7684\u56db\u4e2a\u7ef4\u5ea6\uff08feature\uff09\u6765\u63cf\u8ff0\u3002\u5176\u4e2d\uff0c label \u4e3a true \u8868\u793a\u9000\u51fa MOOC \u5e73\u53f0\uff0c\u4e3a false \u8868\u793a\u672a\u9000\u51fa\u5e73\u53f0\u3002 \u4e0b\u56fe\u8bf4\u660e\u793a\u4f8b\u4e2d user \u7c7b\u70b9\u4e0e course \u7c7b\u70b9\u4e4b\u95f4\u5982\u4f55\u53d1\u751f\u5173\u7cfb\uff08 action \uff09\u3002","title":"\u89c4\u5212 Schema"},{"location":"nebula-studio/quick-start/st-ug-plan-schema/#schema","text":"\u5728\u4f7f\u7528 Studio \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5148\u6839\u636e Nebula Graph \u6570\u636e\u5e93\u7684\u8981\u6c42\u89c4\u5212\u60a8\u7684 Schema\uff08\u6a21\u5f0f\uff09\u3002 Schema \u81f3\u5c11\u8981\u5305\u542b\u4ee5\u4e0b\u8981\u7d20\uff1a \u6807\u7b7e\uff08Tag\uff0c\u5373\u70b9\u7c7b\u578b\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u6807\u7b7e\u7684\u5c5e\u6027\u3002 \u8fb9\u7c7b\u578b\uff08Edge Type\uff09\uff0c\u4ee5\u53ca\u6bcf\u79cd\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u3002 \u672c\u6587\u4ee5\u7f8e\u56fd Stanford Network Analysis Platform (SNAP) \u63d0\u4f9b\u7684 Social Network: MOOC User Action Dataset \u4e3a\u57fa\u7840\uff0c\u5e76\u5728\u5176\u4e2d\u52a0\u5165\u7531\u516c\u5f00\u7f51\u7edc\u4e0a\u83b7\u53d6\u7684\u4e0d\u91cd\u590d\u7684 97 \u4e2a\u8bfe\u7a0b\u540d\u79f0\uff0c\u8bf4\u660e\u5982\u4f55\u89c4\u5212 Schema\u3002 \u4e0b\u8868\u5217\u51fa\u4e86 Schema \u8981\u7d20\u3002 \u8981\u7d20 \u540d\u79f0 \u5c5e\u6027\u540d\u79f0 (\u6570\u636e\u7c7b\u578b) \u8bf4\u660e \u6807\u7b7e user userId ( int ) \u5c06\u4f7f\u7528 userId \u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u7684\u7528\u6237\u3002 \u6807\u7b7e course - courseId ( int ) - courseName ( string ) \u672c\u793a\u4f8b\u4e2d\u5c06\u4f7f\u7528 courseName \u7684\u503c\u901a\u8fc7 Hash() \u51fd\u6570\u751f\u6210\u8fd9\u7c7b\u70b9\u6570\u636e\u7684 VID\u3002\u56e0\u4e3a Nebula Graph \u8981\u6c42\u540c\u4e00\u4e2a\u56fe\u7a7a\u95f4\u4e2d\u6240\u6709\u70b9\u7684 VID \u5fc5\u987b\u59cb\u7ec8\u552f\u4e00\uff0c\u800c courseId \u4e0e\u90e8\u5206 user \u7c7b VID \u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u4e0d\u80fd\u4f7f\u7528 courseId \u751f\u6210 course \u7c7b\u70b9\u6570\u636e\u7684 VID\u3002 \u8868\u793a\u6307\u5b9a MOOC \u5e73\u53f0\u4e0a\u7684\u8bfe\u7a0b\u3002 \u8fb9\u7c7b\u578b action - actionId ( int ) - duration ( double )\uff1a\u4ee3\u8868\u6e90\u6570\u636e\u4e2d\u7684 timestamp \u6570\u636e\uff0c\u8868\u793a\u884c\u4e3a\u6301\u7eed\u65f6\u95f4 - label ( bool )\uff1a\u8868\u793a user \u5b8c\u6210\u4e00\u4e2a\u884c\u4e3a\u540e\u662f\u5426\u9000\u51fa\u4e86\u8bfe\u7a0b - feature0 ( double ) - feature1 ( double ) - feature2 ( double ) - feature3 ( double ) \u8868\u793a\u7528\u6237\u53c2\u4e0e\u8bfe\u7a0b\u7684\u884c\u4e3a\uff0c\u5206\u522b\u7528\u53c2\u4e0e\u6d3b\u52a8\u7684\u6301\u7eed\u65f6\u95f4\u3001\u53c2\u4e0e\u540e\u7528\u6237\u662f\u5426\u9000\u51fa\u4e86 MOOC \u5e73\u53f0\u4ee5\u53ca\u884c\u4e3a\u7684\u56db\u4e2a\u7ef4\u5ea6\uff08feature\uff09\u6765\u63cf\u8ff0\u3002\u5176\u4e2d\uff0c label \u4e3a true \u8868\u793a\u9000\u51fa MOOC \u5e73\u53f0\uff0c\u4e3a false \u8868\u793a\u672a\u9000\u51fa\u5e73\u53f0\u3002 \u4e0b\u56fe\u8bf4\u660e\u793a\u4f8b\u4e2d user \u7c7b\u70b9\u4e0e course \u7c7b\u70b9\u4e4b\u95f4\u5982\u4f55\u53d1\u751f\u5173\u7cfb\uff08 action \uff09\u3002","title":"\u89c4\u5212 Schema"},{"location":"nebula-studio/quick-start/st-ug-prepare-csv/","text":"\u51c6\u5907 CSV \u6587\u4ef6 \u00b6 Studio \u652f\u6301\u901a\u8fc7 CSV \u6587\u4ef6\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002\u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u6bcf\u4e2a CSV \u6587\u4ef6\u5e94\u5206\u522b\u8868\u793a\u70b9\u6570\u636e\u6216\u8fb9\u6570\u636e\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a CSV \u6587\u4ef6\u4e2d\u4e0d\u80fd\u5305\u542b\u8868\u5934\u884c\u3002\u6240\u4ee5\uff0c\u60a8\u9700\u8981\u5bf9\u6e90\u6570\u636e\u96c6\u4f5c\u5982\u4e0b\u5904\u7406\uff1a \u5206\u522b\u751f\u6210 CSV \u6587\u4ef6\u3002\u6570\u636e\u4e4b\u95f4\u4ec5\u80fd\u4f7f\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 user.csv\uff1a\u4ec5\u5305\u62ec\u6e90\u6570\u636e\u4e2d\u7684 userId \u6570\u636e\u3002 course.csv\uff1a\u4ec5\u5305\u62ec courseId \u548c courseName \u6570\u636e\u3002 actions.csv\uff1a\u5305\u62ec action \u8fb9\u7c7b\u578b\u6240\u6709\u5c5e\u6027\u5bf9\u5e94\u7684\u6570\u636e\uff08 actionId \u3001 label \u3001 duration \u3001 feature0 \u3001 feature1 \u3001 feature2 \u3001 feature3 \uff09\uff0c\u5e76\u52a0\u5165\u8fb9\u8d77\u59cb\u70b9 VID \u548c\u7ec8\u70b9 VID \u7684\u6765\u6e90\uff08 userId \u548c courseName \uff09\u3002\u5176\u4e2d\uff0c\u56e0\u4e3a label \u5c5e\u6027\u662f\u5e03\u5c14\u6570\u503c\uff0c\u6240\u4ee5\uff0c\u5c06 1 \u66ff\u6362\u4e3a TRUE \uff0c\u5c06 0 \u66ff\u6362\u4e3a FALSE \u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5220\u9664\u6240\u6709 CSV \u6587\u4ef6\u4e2d\u7684\u8868\u5934\u884c\u3002","title":"\u51c6\u5907 CSV \u6587\u4ef6"},{"location":"nebula-studio/quick-start/st-ug-prepare-csv/#csv","text":"Studio \u652f\u6301\u901a\u8fc7 CSV \u6587\u4ef6\u6279\u91cf\u5bfc\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002\u76ee\u524d\u4ec5\u652f\u6301\u4e0a\u4f20 CSV \u6587\u4ef6\uff0c\u800c\u4e14\u6bcf\u4e2a CSV \u6587\u4ef6\u5e94\u5206\u522b\u8868\u793a\u70b9\u6570\u636e\u6216\u8fb9\u6570\u636e\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a CSV \u6587\u4ef6\u4e2d\u4e0d\u80fd\u5305\u542b\u8868\u5934\u884c\u3002\u6240\u4ee5\uff0c\u60a8\u9700\u8981\u5bf9\u6e90\u6570\u636e\u96c6\u4f5c\u5982\u4e0b\u5904\u7406\uff1a \u5206\u522b\u751f\u6210 CSV \u6587\u4ef6\u3002\u6570\u636e\u4e4b\u95f4\u4ec5\u80fd\u4f7f\u7528\u82f1\u6587\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002 user.csv\uff1a\u4ec5\u5305\u62ec\u6e90\u6570\u636e\u4e2d\u7684 userId \u6570\u636e\u3002 course.csv\uff1a\u4ec5\u5305\u62ec courseId \u548c courseName \u6570\u636e\u3002 actions.csv\uff1a\u5305\u62ec action \u8fb9\u7c7b\u578b\u6240\u6709\u5c5e\u6027\u5bf9\u5e94\u7684\u6570\u636e\uff08 actionId \u3001 label \u3001 duration \u3001 feature0 \u3001 feature1 \u3001 feature2 \u3001 feature3 \uff09\uff0c\u5e76\u52a0\u5165\u8fb9\u8d77\u59cb\u70b9 VID \u548c\u7ec8\u70b9 VID \u7684\u6765\u6e90\uff08 userId \u548c courseName \uff09\u3002\u5176\u4e2d\uff0c\u56e0\u4e3a label \u5c5e\u6027\u662f\u5e03\u5c14\u6570\u503c\uff0c\u6240\u4ee5\uff0c\u5c06 1 \u66ff\u6362\u4e3a TRUE \uff0c\u5c06 0 \u66ff\u6362\u4e3a FALSE \u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5220\u9664\u6240\u6709 CSV \u6587\u4ef6\u4e2d\u7684\u8868\u5934\u884c\u3002","title":"\u51c6\u5907 CSV \u6587\u4ef6"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/","text":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef \u00b6 \u95ee\u9898\u63cf\u8ff0 \u00b6 \u6309 \u8fde\u63a5 Studio \u6587\u6863\u64cd\u4f5c\uff0c\u63d0\u793a \u914d\u7f6e\u5931\u8d25 \u3002 \u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u67e5\u95ee\u9898\u3002 \u7b2c 1 \u6b65. \u786e\u8ba4 Host \u5b57\u6bb5\u7684\u683c\u5f0f\u662f\u5426\u6b63\u786e \u00b6 \u5fc5\u987b\u586b\u5199 Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\uff08 graph_server_ip \uff09\u548c\u7aef\u53e3\u3002\u5982\u679c\u672a\u505a\u4fee\u6539\uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002\u5373\u4f7f Nebula Graph \u4e0e Studio \u90fd\u90e8\u7f72\u5728\u5f53\u524d\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u4f7f\u7528\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 127.0.0.1 \u3001 localhost \u6216\u8005 0.0.0.0 \u3002 \u7b2c 2 \u6b65. \u786e\u8ba4 \u7528\u6237\u540d \u548c \u5bc6\u7801 \u662f\u5426\u6b63\u786e \u00b6 \u5982\u679c Nebula Graph \u6ca1\u6709\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u4e32\u767b\u5f55\u3002 \u5982\u679c\u5df2\u7ecf\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u5206\u914d\u7684\u8d26\u53f7\u767b\u5f55\u3002 \u7b2c 3 \u6b65. \u786e\u8ba4 Nebula Graph \u670d\u52a1\u662f\u5426\u6b63\u5e38 \u00b6 \u68c0\u67e5 Nebula Graph \u670d\u52a1\u72b6\u6001\u3002\u5173\u4e8e\u67e5\u770b\u670d\u52a1\u7684\u64cd\u4f5c\uff1a \u5982\u679c\u5728 Linux \u670d\u52a1\u5668\u4e0a\u901a\u8fc7\u7f16\u8bd1\u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1 \u3002 \u5982\u679c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1\u72b6\u6001\u548c\u7aef\u53e3 \u3002 \u5982\u679c Nebula Graph \u670d\u52a1\u6b63\u5e38\uff0c\u8fdb\u5165\u7b2c 4 \u6b65\u7ee7\u7eed\u6392\u67e5\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u91cd\u542f Nebula Graph \u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Nebula Graph\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Nebula Graph\u3002 \u7b2c 4 \u6b65. \u786e\u8ba4 Graph \u670d\u52a1\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38 \u00b6 \u5728 Studio \u673a\u5668\u4e0a\u8fd0\u884c\u547d\u4ee4\uff08\u4f8b\u5982 telnet <graph_server_ip> 3699 \uff09\u786e\u8ba4 Nebula Graph \u7684 Graph \u670d\u52a1\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u5931\u8d25\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c Studio \u4e0e Nebula Graph \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Nebula Graph \u670d\u52a1\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_1","text":"","title":"\u8fde\u63a5\u6570\u636e\u5e93\u9519\u8bef"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_2","text":"\u6309 \u8fde\u63a5 Studio \u6587\u6863\u64cd\u4f5c\uff0c\u63d0\u793a \u914d\u7f6e\u5931\u8d25 \u3002","title":"\u95ee\u9898\u63cf\u8ff0"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#_3","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u67e5\u95ee\u9898\u3002","title":"\u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#1_host","text":"\u5fc5\u987b\u586b\u5199 Nebula Graph \u56fe\u6570\u636e\u5e93 Graph \u670d\u52a1\u7684 IP \u5730\u5740\uff08 graph_server_ip \uff09\u548c\u7aef\u53e3\u3002\u5982\u679c\u672a\u505a\u4fee\u6539\uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002\u5373\u4f7f Nebula Graph \u4e0e Studio \u90fd\u90e8\u7f72\u5728\u5f53\u524d\u673a\u5668\u4e0a\uff0c\u60a8\u4e5f\u5fc5\u987b\u4f7f\u7528\u672c\u673a IP \u5730\u5740\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 127.0.0.1 \u3001 localhost \u6216\u8005 0.0.0.0 \u3002","title":"\u7b2c 1 \u6b65. \u786e\u8ba4 Host \u5b57\u6bb5\u7684\u683c\u5f0f\u662f\u5426\u6b63\u786e"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#2","text":"\u5982\u679c Nebula Graph \u6ca1\u6709\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u53ef\u4ee5\u586b\u5199\u4efb\u610f\u5b57\u7b26\u4e32\u767b\u5f55\u3002 \u5982\u679c\u5df2\u7ecf\u5f00\u542f\u8eab\u4efd\u8ba4\u8bc1\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u5206\u914d\u7684\u8d26\u53f7\u767b\u5f55\u3002","title":"\u7b2c 2 \u6b65. \u786e\u8ba4 \u7528\u6237\u540d \u548c \u5bc6\u7801 \u662f\u5426\u6b63\u786e"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#3_nebula_graph","text":"\u68c0\u67e5 Nebula Graph \u670d\u52a1\u72b6\u6001\u3002\u5173\u4e8e\u67e5\u770b\u670d\u52a1\u7684\u64cd\u4f5c\uff1a \u5982\u679c\u5728 Linux \u670d\u52a1\u5668\u4e0a\u901a\u8fc7\u7f16\u8bd1\u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1 \u3002 \u5982\u679c\u4f7f\u7528 Docker Compose \u90e8\u7f72\u7684 Nebula Graph\uff0c\u53c2\u8003 \u67e5\u770b Nebula Graph \u670d\u52a1\u72b6\u6001\u548c\u7aef\u53e3 \u3002 \u5982\u679c Nebula Graph \u670d\u52a1\u6b63\u5e38\uff0c\u8fdb\u5165\u7b2c 4 \u6b65\u7ee7\u7eed\u6392\u67e5\u95ee\u9898\u3002\u5426\u5219\uff0c\u8bf7\u91cd\u542f Nebula Graph \u670d\u52a1\u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Nebula Graph\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Nebula Graph\u3002","title":"\u7b2c 3 \u6b65. \u786e\u8ba4 Nebula Graph \u670d\u52a1\u662f\u5426\u6b63\u5e38"},{"location":"nebula-studio/troubleshooting/st-ug-config-server-errors/#4_graph","text":"\u5728 Studio \u673a\u5668\u4e0a\u8fd0\u884c\u547d\u4ee4\uff08\u4f8b\u5982 telnet <graph_server_ip> 3699 \uff09\u786e\u8ba4 Nebula Graph \u7684 Graph \u670d\u52a1\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u5931\u8d25\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c Studio \u4e0e Nebula Graph \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Nebula Graph \u670d\u52a1\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8fde\u63a5 Nebula Graph \u670d\u52a1\uff0c\u8bf7\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u7b2c 4 \u6b65. \u786e\u8ba4 Graph \u670d\u52a1\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/","text":"\u65e0\u6cd5\u8bbf\u95ee Studio \u00b6 \u95ee\u9898\u63cf\u8ff0 \u00b6 \u6211\u6309\u7167\u6587\u6863\u63cf\u8ff0\u542f\u52a8 Studio \u540e\u8bbf\u95ee 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \uff0c\u4f46\u662f\u6253\u4e0d\u5f00\u9875\u9762\uff0c\u4e3a\u4ec0\u4e48\uff1f \u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5 \u00b6 \u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u67e5\u95ee\u9898\u3002 \u7b2c 1 \u6b65. \u786e\u8ba4\u7cfb\u7edf\u67b6\u6784 \u00b6 \u9700\u8981\u786e\u8ba4\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u662f\u5426\u4e3a x86_64 \u67b6\u6784\u3002\u76ee\u524d Studio \u4ec5\u652f\u6301 x86_64 \u7cfb\u7edf\u67b6\u6784\u3002 \u7b2c 2 \u6b65. \u68c0\u67e5 Studio \u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8 \u00b6 \u8fd0\u884c docker-compose ps \u67e5\u770b\u670d\u52a1\u662f\u5426\u5df2\u7ecf\u6b63\u5e38\u542f\u52a8\u3002 \u5982\u679c\u670d\u52a1\u6b63\u5e38\uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\u3002\u5176\u4e2d\uff0c State \u5217\u5e94\u5168\u90e8\u663e\u793a\u4e3a Up \u3002 Name Command State Ports ------------------------------------------------------------------------------------------------------ nebula-web-docker_client_1 ./nebula-go-api Up 0 .0.0.0:32782->8080/tcp nebula-web-docker_importer_1 nebula-importer --port = 569 ... Up 0 .0.0.0:32783->5699/tcp nebula-web-docker_nginx_1 /docker-entrypoint.sh ngin ... Up 0 .0.0.0:7001->7001/tcp, 80 /tcp nebula-web-docker_web_1 docker-entrypoint.sh npm r ... Up 0 .0.0.0:32784->7001/tcp \u5982\u679c\u6ca1\u6709\u8fd4\u56de\u4ee5\u4e0a\u7ed3\u679c\uff0c\u5219\u5148\u505c\u6b62 Studio \u91cd\u65b0\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Studio\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Studio\u3002 \u7b2c 3 \u6b65. \u786e\u8ba4\u8bbf\u95ee\u5730\u5740 \u00b6 \u5982\u679c Studio \u4e0e\u6d4f\u89c8\u5668\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u4f7f\u7528 localhost:7001 \u3001 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \u8bbf\u95ee Studio\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5fc5\u987b\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 <studio_server_ip>:7001 \u3002\u5176\u4e2d\uff0c studio_server_ip \u662f\u6307\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u7684 IP \u5730\u5740\u3002 \u7b2c 4 \u6b65. \u786e\u8ba4\u7f51\u7edc\u8fde\u901a\u6027 \u00b6 \u8fd0\u884c curl <studio_server_ip>:7001 -I \u786e\u8ba4\u662f\u5426\u6b63\u5e38\u3002\u5982\u679c\u8fd4\u56de HTTP/1.1 200 OK \uff0c\u8868\u793a\u7f51\u7edc\u8fde\u901a\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u88ab\u62d2\u7edd\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c\u6d4f\u89c8\u5668\u4e0e Studio \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Studio \u6240\u5728\u673a\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8bbf\u95ee Studio\uff0c\u8bf7\u60a8\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u65e0\u6cd5\u8bbf\u95ee Studio"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#studio","text":"","title":"\u65e0\u6cd5\u8bbf\u95ee Studio"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#_1","text":"\u6211\u6309\u7167\u6587\u6863\u63cf\u8ff0\u542f\u52a8 Studio \u540e\u8bbf\u95ee 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \uff0c\u4f46\u662f\u6253\u4e0d\u5f00\u9875\u9762\uff0c\u4e3a\u4ec0\u4e48\uff1f","title":"\u95ee\u9898\u63cf\u8ff0"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#_2","text":"\u60a8\u53ef\u4ee5\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u67e5\u95ee\u9898\u3002","title":"\u53ef\u80fd\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#1","text":"\u9700\u8981\u786e\u8ba4\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u662f\u5426\u4e3a x86_64 \u67b6\u6784\u3002\u76ee\u524d Studio \u4ec5\u652f\u6301 x86_64 \u7cfb\u7edf\u67b6\u6784\u3002","title":"\u7b2c 1 \u6b65. \u786e\u8ba4\u7cfb\u7edf\u67b6\u6784"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#2_studio","text":"\u8fd0\u884c docker-compose ps \u67e5\u770b\u670d\u52a1\u662f\u5426\u5df2\u7ecf\u6b63\u5e38\u542f\u52a8\u3002 \u5982\u679c\u670d\u52a1\u6b63\u5e38\uff0c\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b\u3002\u5176\u4e2d\uff0c State \u5217\u5e94\u5168\u90e8\u663e\u793a\u4e3a Up \u3002 Name Command State Ports ------------------------------------------------------------------------------------------------------ nebula-web-docker_client_1 ./nebula-go-api Up 0 .0.0.0:32782->8080/tcp nebula-web-docker_importer_1 nebula-importer --port = 569 ... Up 0 .0.0.0:32783->5699/tcp nebula-web-docker_nginx_1 /docker-entrypoint.sh ngin ... Up 0 .0.0.0:7001->7001/tcp, 80 /tcp nebula-web-docker_web_1 docker-entrypoint.sh npm r ... Up 0 .0.0.0:32784->7001/tcp \u5982\u679c\u6ca1\u6709\u8fd4\u56de\u4ee5\u4e0a\u7ed3\u679c\uff0c\u5219\u5148\u505c\u6b62 Studio \u91cd\u65b0\u542f\u52a8\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u90e8\u7f72 Studio \u3002 \u8bf4\u660e \uff1a\u5982\u679c\u60a8\u4e4b\u524d\u4f7f\u7528 docker-compose up -d \u542f\u52a8 Studio\uff0c\u5fc5\u987b\u8fd0\u884c docker-compose down \u547d\u4ee4\u505c\u6b62 Studio\u3002","title":"\u7b2c 2 \u6b65. \u68c0\u67e5 Studio \u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#3","text":"\u5982\u679c Studio \u4e0e\u6d4f\u89c8\u5668\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u4f7f\u7528 localhost:7001 \u3001 127.0.0.1:7001 \u6216\u8005 0.0.0.0:7001 \u8bbf\u95ee Studio\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5fc5\u987b\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 <studio_server_ip>:7001 \u3002\u5176\u4e2d\uff0c studio_server_ip \u662f\u6307\u90e8\u7f72 Studio \u670d\u52a1\u7684\u673a\u5668\u7684 IP \u5730\u5740\u3002","title":"\u7b2c 3 \u6b65. \u786e\u8ba4\u8bbf\u95ee\u5730\u5740"},{"location":"nebula-studio/troubleshooting/st-ug-connection-errors/#4","text":"\u8fd0\u884c curl <studio_server_ip>:7001 -I \u786e\u8ba4\u662f\u5426\u6b63\u5e38\u3002\u5982\u679c\u8fd4\u56de HTTP/1.1 200 OK \uff0c\u8868\u793a\u7f51\u7edc\u8fde\u901a\u6b63\u5e38\u3002 \u5982\u679c\u8fde\u63a5\u88ab\u62d2\u7edd\uff0c\u5219\u6309\u4ee5\u4e0b\u8981\u6c42\u68c0\u67e5\uff1a \u5982\u679c\u6d4f\u89c8\u5668\u4e0e Studio \u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u66b4\u9732\u3002 \u5982\u679c\u4e24\u8005\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u68c0\u67e5 Studio \u6240\u5728\u673a\u5668\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982\uff0c\u9632\u706b\u5899\u3001\u7f51\u5173\u4ee5\u53ca\u7aef\u53e3\u3002 \u5982\u679c\u6309\u4e0a\u8ff0\u6b65\u9aa4\u6392\u67e5\u540e\u4ecd\u65e0\u6cd5\u8bbf\u95ee Studio\uff0c\u8bf7\u60a8\u524d\u5f80 Nebula Graph \u5b98\u65b9\u8bba\u575b \u54a8\u8be2\u3002","title":"\u7b2c 4 \u6b65. \u786e\u8ba4\u7f51\u7edc\u8fde\u901a\u6027"},{"location":"nebula-studio/troubleshooting/st-ug-faq/","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 \u4e3a\u4ec0\u4e48\u6211\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff1f \u5982\u679c\u53d1\u73b0\u60a8\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u9664\u95ee\u9898\uff1a \u786e\u8ba4 Nebula Graph \u662f\u6700\u65b0\u7248\u672c\u3002\u5982\u679c\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u6570\u636e\u5e93\uff0c\u5efa\u8bae\u60a8\u8fd0\u884c docker-compose pull && docker-compose up -d \u62c9\u53d6\u6700\u65b0\u7684 Docker \u955c\u50cf\uff0c\u5e76\u542f\u52a8\u5bb9\u5668\u3002 \u786e\u8ba4 Studio \u662f\u6700\u65b0\u7248\u672c\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u641c\u7d22 \u8bba\u575b \u6216 GitHub \u7684 nebula \u548c nebula-web-docker \u9879\u76ee\uff0c\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e0a\u8ff0\u64cd\u4f5c\u5747\u672a\u89e3\u51b3\u60a8\u7684\u95ee\u9898\uff0c\u6b22\u8fce\u60a8\u5728\u8bba\u575b\u4e0a\u63d0\u4ea4\u95ee\u9898\u3002 Studio \u652f\u6301 Nebula Graph v2.x \u5417\uff1f Studio v1.x \u4ec5\u9002\u7528\u4e8e Nebula Graph v1.x\u3002Studio v2.x \u9002\u7528\u4e8e Nebula Graph v2.x\u3002 Studio \u662f\u5426\u4f1a\u5f00\u6e90\uff1f \u76ee\u524d\u8fd8\u672a\u5f00\u6e90\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-studio/troubleshooting/st-ug-faq/#_1","text":"\u4e3a\u4ec0\u4e48\u6211\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff1f \u5982\u679c\u53d1\u73b0\u60a8\u65e0\u6cd5\u4f7f\u7528\u67d0\u4e2a\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u6309\u4ee5\u4e0b\u6b65\u9aa4\u6392\u9664\u95ee\u9898\uff1a \u786e\u8ba4 Nebula Graph \u662f\u6700\u65b0\u7248\u672c\u3002\u5982\u679c\u60a8\u4f7f\u7528 Docker Compose \u90e8\u7f72 Nebula Graph \u6570\u636e\u5e93\uff0c\u5efa\u8bae\u60a8\u8fd0\u884c docker-compose pull && docker-compose up -d \u62c9\u53d6\u6700\u65b0\u7684 Docker \u955c\u50cf\uff0c\u5e76\u542f\u52a8\u5bb9\u5668\u3002 \u786e\u8ba4 Studio \u662f\u6700\u65b0\u7248\u672c\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u641c\u7d22 \u8bba\u575b \u6216 GitHub \u7684 nebula \u548c nebula-web-docker \u9879\u76ee\uff0c\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e0a\u8ff0\u64cd\u4f5c\u5747\u672a\u89e3\u51b3\u60a8\u7684\u95ee\u9898\uff0c\u6b22\u8fce\u60a8\u5728\u8bba\u575b\u4e0a\u63d0\u4ea4\u95ee\u9898\u3002 Studio \u652f\u6301 Nebula Graph v2.x \u5417\uff1f Studio v1.x \u4ec5\u9002\u7528\u4e8e Nebula Graph v1.x\u3002Studio v2.x \u9002\u7528\u4e8e Nebula Graph v2.x\u3002 Studio \u662f\u5426\u4f1a\u5f00\u6e90\uff1f \u76ee\u524d\u8fd8\u672a\u5f00\u6e90\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"nebula-studio/use-console/st-ug-console/","text":"\u63a7\u5236\u53f0\u754c\u9762 \u00b6 Studio \u7684\u63a7\u5236\u53f0\u754c\u9762\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u63a7\u5236\u53f0\u754c\u9762\u4e0a\u7684\u5404\u79cd\u529f\u80fd\u3002 \u7f16\u53f7 \u529f\u80fd \u8bf4\u660e 1 \u5de5\u5177\u680f \u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u8fdb\u5165\u63a7\u5236\u53f0\u9875\u9762\u3002 2 \u9009\u62e9\u56fe\u7a7a\u95f4 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1aStudio \u4e0d\u652f\u6301\u76f4\u63a5\u5728\u8f93\u5165\u6846\u4e2d\u8fd0\u884c USE <space_name> \u8bed\u53e5\u3002 3 \u8f93\u5165\u6846 \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u8fd0\u884c\u8bed\u53e5\u3002\u60a8\u53ef\u4ee5\u540c\u65f6\u8f93\u5165\u591a\u4e2a\u8bed\u53e5\u540c\u65f6\u8fd0\u884c\uff0c\u8bed\u53e5\u4e4b\u95f4\u4ee5 ; \u5206\u9694\u3002 4 \u6e05\u7a7a\u8f93\u5165\u6846 \u70b9\u51fb \u6309\u94ae\uff0c\u6e05\u7a7a\u8f93\u5165\u6846\u4e2d\u5df2\u7ecf\u8f93\u5165\u7684\u5185\u5bb9\u3002 5 \u91cd\u590d\u8bed\u53e5\u8f93\u5165 \u70b9\u51fb \u6309\u94ae\uff0c\u5728\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u5217\u8868\u91cc\uff0c\u70b9\u51fb\u5176\u4e2d\u4e00\u4e2a\u8bed\u53e5\uff0c\u8f93\u5165\u6846\u4e2d\u5373\u81ea\u52a8\u8f93\u5165\u8be5\u8bed\u53e5\u3002\u5217\u8868\u91cc\u63d0\u4f9b\u6700\u8fd1 15 \u6b21\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u3002 6 \u8fd0\u884c \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u5373\u5f00\u59cb\u8fd0\u884c\u8bed\u53e5\u3002 7 \u8bed\u53e5\u8fd0\u884c\u72b6\u6001 \u8fd0\u884c nGQL \u8bed\u53e5\u540e\uff0c\u8fd9\u91cc\u663e\u793a\u8bed\u53e5\u8fd0\u884c\u72b6\u6001\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u6210\u529f\uff0c\u8bed\u53e5\u4ee5\u7eff\u8272\u663e\u793a\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u5931\u8d25\uff0c\u8bed\u53e5\u4ee5\u7ea2\u8272\u663e\u793a\u3002 8 \u7ed3\u679c\u7a97\u53e3 \u663e\u793a\u8bed\u53e5\u8fd0\u884c\u7ed3\u679c\u3002\u5982\u679c\u8bed\u53e5\u4f1a\u8fd4\u56de\u7ed3\u679c\uff0c\u7ed3\u679c\u7a97\u53e3\u4f1a\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u8fd4\u56de\u7684\u7ed3\u679c\u3002 9 \u5bfc\u51faCSV\u6587\u4ef6 \u8fd0\u884c nGQL \u8bed\u53e5\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u51faCSV\u6587\u4ef6 \u6309\u94ae\u5373\u80fd\u5c06\u7ed3\u679c\u4ee5 CSV \u6587\u4ef6\u7684\u5f62\u5f0f\u5bfc\u51fa\u3002 10 \u56fe\u63a2\u7d22\u529f\u80fd\u952e \u6839\u636e\u60a8\u8fd0\u884c\u7684 nGQL \u8bed\u53e5\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u56fe\u63a2\u7d22\u529f\u80fd\u952e\u5c06\u8fd4\u56de\u7684\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u73b0\uff0c\u4f8b\u5982 \u5bfc\u5165\u56fe\u63a2\u7d22 \u548c \u67e5\u770b\u5b50\u56fe \u3002","title":"\u63a7\u5236\u53f0\u754c\u9762"},{"location":"nebula-studio/use-console/st-ug-console/#_1","text":"Studio \u7684\u63a7\u5236\u53f0\u754c\u9762\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u4e0b\u8868\u5217\u51fa\u4e86\u63a7\u5236\u53f0\u754c\u9762\u4e0a\u7684\u5404\u79cd\u529f\u80fd\u3002 \u7f16\u53f7 \u529f\u80fd \u8bf4\u660e 1 \u5de5\u5177\u680f \u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u8fdb\u5165\u63a7\u5236\u53f0\u9875\u9762\u3002 2 \u9009\u62e9\u56fe\u7a7a\u95f4 \u5728 \u5f53\u524d\u56fe\u7a7a\u95f4 \u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002 \u8bf4\u660e \uff1aStudio \u4e0d\u652f\u6301\u76f4\u63a5\u5728\u8f93\u5165\u6846\u4e2d\u8fd0\u884c USE <space_name> \u8bed\u53e5\u3002 3 \u8f93\u5165\u6846 \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u8fd0\u884c\u8bed\u53e5\u3002\u60a8\u53ef\u4ee5\u540c\u65f6\u8f93\u5165\u591a\u4e2a\u8bed\u53e5\u540c\u65f6\u8fd0\u884c\uff0c\u8bed\u53e5\u4e4b\u95f4\u4ee5 ; \u5206\u9694\u3002 4 \u6e05\u7a7a\u8f93\u5165\u6846 \u70b9\u51fb \u6309\u94ae\uff0c\u6e05\u7a7a\u8f93\u5165\u6846\u4e2d\u5df2\u7ecf\u8f93\u5165\u7684\u5185\u5bb9\u3002 5 \u91cd\u590d\u8bed\u53e5\u8f93\u5165 \u70b9\u51fb \u6309\u94ae\uff0c\u5728\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u5217\u8868\u91cc\uff0c\u70b9\u51fb\u5176\u4e2d\u4e00\u4e2a\u8bed\u53e5\uff0c\u8f93\u5165\u6846\u4e2d\u5373\u81ea\u52a8\u8f93\u5165\u8be5\u8bed\u53e5\u3002\u5217\u8868\u91cc\u63d0\u4f9b\u6700\u8fd1 15 \u6b21\u8bed\u53e5\u8fd0\u884c\u8bb0\u5f55\u3002 6 \u8fd0\u884c \u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 nGQL \u8bed\u53e5\u540e\uff0c\u70b9\u51fb \u6309\u94ae\u5373\u5f00\u59cb\u8fd0\u884c\u8bed\u53e5\u3002 7 \u8bed\u53e5\u8fd0\u884c\u72b6\u6001 \u8fd0\u884c nGQL \u8bed\u53e5\u540e\uff0c\u8fd9\u91cc\u663e\u793a\u8bed\u53e5\u8fd0\u884c\u72b6\u6001\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u6210\u529f\uff0c\u8bed\u53e5\u4ee5\u7eff\u8272\u663e\u793a\u3002\u5982\u679c\u8bed\u53e5\u8fd0\u884c\u5931\u8d25\uff0c\u8bed\u53e5\u4ee5\u7ea2\u8272\u663e\u793a\u3002 8 \u7ed3\u679c\u7a97\u53e3 \u663e\u793a\u8bed\u53e5\u8fd0\u884c\u7ed3\u679c\u3002\u5982\u679c\u8bed\u53e5\u4f1a\u8fd4\u56de\u7ed3\u679c\uff0c\u7ed3\u679c\u7a97\u53e3\u4f1a\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u8fd4\u56de\u7684\u7ed3\u679c\u3002 9 \u5bfc\u51faCSV\u6587\u4ef6 \u8fd0\u884c nGQL \u8bed\u53e5\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u70b9\u51fb \u5bfc\u51faCSV\u6587\u4ef6 \u6309\u94ae\u5373\u80fd\u5c06\u7ed3\u679c\u4ee5 CSV \u6587\u4ef6\u7684\u5f62\u5f0f\u5bfc\u51fa\u3002 10 \u56fe\u63a2\u7d22\u529f\u80fd\u952e \u6839\u636e\u60a8\u8fd0\u884c\u7684 nGQL \u8bed\u53e5\uff0c\u60a8\u53ef\u4ee5\u70b9\u51fb\u56fe\u63a2\u7d22\u529f\u80fd\u952e\u5c06\u8fd4\u56de\u7684\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u73b0\uff0c\u4f8b\u5982 \u5bfc\u5165\u56fe\u63a2\u7d22 \u548c \u67e5\u770b\u5b50\u56fe \u3002","title":"\u63a7\u5236\u53f0\u754c\u9762"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/","text":"\u5bfc\u5165\u56fe\u63a2\u7d22 \u00b6 \u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u70b9\u6216\u8fb9\u7684\u4fe1\u606f\uff0c\u518d\u501f\u52a9 \u5bfc\u5165\u56fe\u63a2\u7d22 \u529f\u80fd\u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528\u5bfc\u5165\u56fe\u63a2\u7d22\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002 \u5bfc\u5165\u8fb9\u6570\u636e \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u8fb9\u8d77\u70b9\u548c\u7ec8\u70b9 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a nebula> GO FROM 56 OVER action YIELD action._src, action._dst; \u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230 userId \u4e3a 56 \u7684\u7528\u6237\u53c2\u52a0\u4e86\u54ea\u4e9b\u8bfe\u7a0b\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u8fb9\u7c7b\u578b \u3002 b. \u5728 Edge Type \u5b57\u6bb5\uff0c\u586b\u5199\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u586b\u5199 action \u3002 c. \u5728 Src ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u8d77\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._src \u3002 d. \u5728 Dst ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u7ec8\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._dst \u3002 e. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fd4\u56de\u7684\u8fb9\u6570\u636e\u4e2d\u6709\u8fb9\u6743\u91cd\uff08 rank \uff09\u4fe1\u606f\uff0c\u5219\u5728 Rank \u5b57\u6bb5\uff0c\u9009\u62e9\u4ee3\u8868\u8fb9\u6743\u91cd\u7684\u5217\u540d\u3002\u5982\u679c Rank \u5b57\u6bb5\u672a\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002 f. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u5bfc\u5165\u70b9\u6570\u636e\u7ed3\u679c \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u70b9\u7684 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FETCH PROP ON * hash(\"Media History and Theory\"); \u67e5\u8be2\u5f97\u5230 courseId \u4e3a 8 \u7684\u8bfe\u7a0b\u4fe1\u606f\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u70b9 \u3002 b. \u5728 Vertex ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 VertexID \u3002 c. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u4e0a\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u5bfc\u5165\u56fe\u63a2\u7d22"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_1","text":"\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u4f7f\u7528 nGQL \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u70b9\u6216\u8fb9\u7684\u4fe1\u606f\uff0c\u518d\u501f\u52a9 \u5bfc\u5165\u56fe\u63a2\u7d22 \u529f\u80fd\u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u3002","title":"\u5bfc\u5165\u56fe\u63a2\u7d22"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_2","text":"Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_3","text":"\u4f7f\u7528\u5bfc\u5165\u56fe\u63a2\u7d22\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u8fb9\u8d77\u70b9\u548c\u7ec8\u70b9 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a nebula> GO FROM 56 OVER action YIELD action._src, action._dst; \u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u770b\u5230 userId \u4e3a 56 \u7684\u7528\u6237\u53c2\u52a0\u4e86\u54ea\u4e9b\u8bfe\u7a0b\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u8fb9\u7c7b\u578b \u3002 b. \u5728 Edge Type \u5b57\u6bb5\uff0c\u586b\u5199\u8fb9\u7c7b\u578b\u540d\u79f0\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u586b\u5199 action \u3002 c. \u5728 Src ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u8d77\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._src \u3002 d. \u5728 Dst ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u8fb9\u7ec8\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 action._dst \u3002 e. \uff08\u53ef\u9009\uff09\u5982\u679c\u8fd4\u56de\u7684\u8fb9\u6570\u636e\u4e2d\u6709\u8fb9\u6743\u91cd\uff08 rank \uff09\u4fe1\u606f\uff0c\u5219\u5728 Rank \u5b57\u6bb5\uff0c\u9009\u62e9\u4ee3\u8868\u8fb9\u6743\u91cd\u7684\u5217\u540d\u3002\u5982\u679c Rank \u5b57\u6bb5\u672a\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002 f. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u9875\u9762\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u8fb9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u5bfc\u5165\u8fb9\u6570\u636e"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_5","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c06 \u63a7\u5236\u53f0 \u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u8bf4\u660e \uff1a\u67e5\u8be2\u7ed3\u679c\u4e2d\u5fc5\u987b\u5305\u62ec\u70b9\u7684 VID \u4fe1\u606f\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FETCH PROP ON * hash(\"Media History and Theory\"); \u67e5\u8be2\u5f97\u5230 courseId \u4e3a 8 \u7684\u8bfe\u7a0b\u4fe1\u606f\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u70b9\u51fb \u5bfc\u5165\u56fe\u63a2\u7d22 \u6309\u94ae\u3002 \u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\uff0c\u914d\u7f6e\u5982\u4e0b\uff1a a. \u70b9\u51fb \u70b9 \u3002 b. \u5728 Vertex ID \u5b57\u6bb5\uff0c\u9009\u62e9\u67e5\u8be2\u7ed3\u679c\u4e2d\u4ee3\u8868\u70b9 VID \u7684\u5217\u540d\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 VertexID \u3002 c. \u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u70b9\u51fb \u5bfc\u5165 \u6309\u94ae\u3002 \u5728 \u56fe\u63a2\u7d22 \u4e0a\u7684\u5f39\u51fa\u7a97\u53e3\u4e2d\u9009\u62e9\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u5f97\u5230\u7684\u70b9\u6570\u636e\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u5bfc\u5165\u70b9\u6570\u636e\u7ed3\u679c"},{"location":"nebula-studio/use-console/st-ug-open-in-explorer/#_6","text":"\u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/","text":"\u67e5\u770b\u5b50\u56fe \u00b6 \u5728 Studio \u91cc\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND SHORTEST | ALL PATH \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u6307\u5b9a\u70b9\u4e4b\u95f4\u7684\u6240\u6709\u8def\u5f84\u6216\u6700\u77ed\u8def\u5f84\uff0c\u7136\u540e\u518d\u901a\u8fc7 \u67e5\u770b\u5b50\u56fe \u529f\u80fd\u5c06\u67e5\u8be2\u5f97\u5230\u7684\u8def\u5f84\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a\u3002 \u5173\u4e8e FIND SHORTEST | ALL PATH \u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 nGQL \u7528\u6237\u624b\u518c \u3002 \u652f\u6301\u7248\u672c \u00b6 Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u67e5\u770b\u5b50\u56fe\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u7248\u672c\u4e3a v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002 Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 \u63a7\u5236\u53f0 \u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u5c06\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165 FIND SHORTEST PATH \u6216\u8005 FIND ALL PATH \u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf Hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FIND ALL PATH FROM 1,2,4,6,42 to hash(\"History of Ecology\"),hash(\"Neurobiology\") OVER action; \u67e5\u8be2\u5f97\u5230\u5982\u4e0b\u56fe\u6240\u793a\u8def\u5f84\u4fe1\u606f\u3002 \u70b9\u51fb \u67e5\u770b\u5b50\u56fe \u6309\u94ae\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c \u56fe\u63a2\u7d22 \u4e0a\u753b\u677f\u4e0a\u5df2\u6709\u6570\u636e\uff0c\u5219\u9009\u62e9\u4e00\u79cd\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002 \u540e\u7eed\u64cd\u4f5c \u00b6 \u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u67e5\u770b\u5b50\u56fe"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_1","text":"\u5728 Studio \u91cc\uff0c\u60a8\u53ef\u4ee5\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND SHORTEST | ALL PATH \u8bed\u53e5\u67e5\u8be2\u5f97\u5230\u6307\u5b9a\u70b9\u4e4b\u95f4\u7684\u6240\u6709\u8def\u5f84\u6216\u6700\u77ed\u8def\u5f84\uff0c\u7136\u540e\u518d\u901a\u8fc7 \u67e5\u770b\u5b50\u56fe \u529f\u80fd\u5c06\u67e5\u8be2\u5f97\u5230\u7684\u8def\u5f84\u5bfc\u5165 \u56fe\u63a2\u7d22 \u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a\u3002 \u5173\u4e8e FIND SHORTEST | ALL PATH \u8bed\u53e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 nGQL \u7528\u6237\u624b\u518c \u3002","title":"\u67e5\u770b\u5b50\u56fe"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_2","text":"Studio v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002\u8bf7\u66f4\u65b0\u7248\u672c\uff0c\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u7248\u672c\u66f4\u65b0 \u3002","title":"\u652f\u6301\u7248\u672c"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_3","text":"\u5728 \u63a7\u5236\u53f0 \u4e0a\u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u67e5\u770b\u5b50\u56fe\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a Studio \u7248\u672c\u4e3a v1.2.1-beta \u53ca\u4ee5\u540e\u7248\u672c\u3002 Studio \u5df2\u7ecf\u8fde\u63a5\u5230 Nebula Graph \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u8fde\u63a5\u6570\u636e\u5e93 \u3002 \u5df2\u7ecf\u5bfc\u5165\u6570\u636e\u96c6\u3002\u8be6\u7ec6\u64cd\u4f5c\u53c2\u8003 \u5bfc\u5165\u6570\u636e \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_4","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5728 \u63a7\u5236\u53f0 \u8fd0\u884c FIND PATH \u8bed\u53e5\u5e76\u5c06\u7ed3\u679c\u5bfc\u5165 \u56fe\u63a2\u7d22 \uff1a \u5728\u5de5\u5177\u680f\u91cc\uff0c\u70b9\u51fb \u63a7\u5236\u53f0 \u9875\u7b7e\u3002 \u5728 \u5f53\u524dSpace \u4e2d\u9009\u62e9\u4e00\u4e2a\u56fe\u7a7a\u95f4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u9009\u62e9 mooc_actions \u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165 FIND SHORTEST PATH \u6216\u8005 FIND ALL PATH \u8bed\u53e5\uff0c\u5e76\u70b9\u51fb \u56fe\u6807\u3002 \u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\u5982\u4e0b\uff1a -- \u5bf9\u4e8e\u672c\u624b\u518c\u4e2d\u6240\u7528\u6570\u636e\u96c6\uff0c -- course \u7c7b\u70b9\u7684 VID \u7531 courseName \u7ecf Hash() \u51fd\u6570\u5904\u7406\u5f97\u5230 nebula> FIND ALL PATH FROM 1,2,4,6,42 to hash(\"History of Ecology\"),hash(\"Neurobiology\") OVER action; \u67e5\u8be2\u5f97\u5230\u5982\u4e0b\u56fe\u6240\u793a\u8def\u5f84\u4fe1\u606f\u3002 \u70b9\u51fb \u67e5\u770b\u5b50\u56fe \u6309\u94ae\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c \u56fe\u63a2\u7d22 \u4e0a\u753b\u677f\u4e0a\u5df2\u6709\u6570\u636e\uff0c\u5219\u9009\u62e9\u4e00\u79cd\u6570\u636e\u63d2\u5165\u65b9\u5f0f\uff1a \u589e\u91cf\u63d2\u5165 \uff1a\u5728\u753b\u56fe\u677f\u539f\u6765\u7684\u6570\u636e\u57fa\u7840\u4e0a\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6e05\u9664\u63d2\u5165 \uff1a\u6e05\u9664\u753b\u56fe\u677f\u4e0a\u539f\u6765\u7684\u6570\u636e\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u63d2\u5165\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u67e5\u8be2\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u8868\u73b0\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"nebula-studio/use-console/st-ug-visualize-findpath/#_5","text":"\u6570\u636e\u5bfc\u5165\u56fe\u63a2\u7d22\u540e\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u62d3\u5c55\u5206\u6790\u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"spark-connector/sc-ug-compile/","text":"\u7f16\u8bd1 Nebula Spark Connector \u00b6 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Spark Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-spark \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Spark Connector v1.x\u3002 cd nebula-java/tools/nebula-spark mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-spark-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u4ee5\u4e0b\u8def\u5f84 com/vesoft/nebula-spark/ \u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.-1146581144.timestamp \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-spark-1.x.y-tests.jar \u251c\u2500\u2500 nebula-spark-1.x.y.jar \u2514\u2500\u2500 original-nebula-spark-1.x.y.jar \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Spark Connector"},{"location":"spark-connector/sc-ug-compile/#nebula_spark_connector","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u7f16\u8bd1 Nebula Spark Connector v1.x\uff1a \u514b\u9686 nebula-java \u6e90\u4ee3\u7801\u3002 git clone -b v1.0 https://github.com/vesoft-inc/nebula-java.git \u5207\u6362\u5230 nebula-java \u76ee\u5f55\uff0c\u5e76\u6253\u5305 Nebula Java 1.x\u3002 cd nebula-java mvn clean install -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u8fdb\u5165 tools/nebula-spark \u76ee\u5f55\uff0c\u5e76\u7f16\u8bd1 Nebula Spark Connector v1.x\u3002 cd nebula-java/tools/nebula-spark mvn clean package -Dgpg.skip -Dmaven.javadoc.skip = true -Dmaven.test.skip = true \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u91cc\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\u3002\u5728 target \u76ee\u5f55\u4e0b\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 nebula-spark-1.x.y.jar \u6587\u4ef6\u3002\u5c06\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u4ee5\u4e0b\u8def\u5f84 com/vesoft/nebula-spark/ \u3002 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 pom.xml \u251c\u2500\u2500 src \u2502 \u2514\u2500\u2500 main \u2514\u2500\u2500 target \u251c\u2500\u2500 classes \u251c\u2500\u2500 classes.-1146581144.timestamp \u251c\u2500\u2500 generated-sources \u251c\u2500\u2500 maven-archiver \u251c\u2500\u2500 maven-status \u251c\u2500\u2500 nebula-spark-1.x.y-tests.jar \u251c\u2500\u2500 nebula-spark-1.x.y.jar \u2514\u2500\u2500 original-nebula-spark-1.x.y.jar \u8bf4\u660e \uff1aJAR \u6587\u4ef6\u7248\u672c\u53f7\u4f1a\u56e0 Nebula Java Client \u7684\u53d1\u5e03\u7248\u672c\u800c\u5f02\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7f16\u8bd1 Nebula Spark Connector"},{"location":"spark-connector/sc-ug-limitations/","text":"\u4f7f\u7528\u9650\u5236 \u00b6 \u672c\u6587\u63cf\u8ff0 Nebula Spark Connector \u7684\u4f7f\u7528\u9650\u5236\u3002 Nebula Graph \u7248\u672c \u00b6 Nebula Spark Connector \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.0.1 \u548c v1.1.0\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0\u3002 \u8f6f\u4ef6\u4f9d\u8d56 \u00b6 Nebula Spark Connector \u9ed8\u8ba4\u4f9d\u8d56\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u529f\u80fd\u9650\u5236 \u00b6 \u76ee\u524d Nebula Spark Connector \u5728\u4f7f\u7528\u65f6\u6709\u4ee5\u4e0b\u529f\u80fd\u9650\u5236\uff1a Reader\uff1a\u76ee\u524d\u65e0\u6cd5\u7528\u4e8e\u8bfb\u53d6 Nebula Graph \u4e2d\u5c5e\u6027\u4e3a\u7a7a\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 Writer\uff1a\u7528\u4e8e\u5411 Nebula Graph \u5199\u5165\u8fb9\u6570\u636e\u65f6\uff0c\u4f5c\u4e3a\u8d77\u70b9\u4e0e\u7ec8\u70b9 VID \u7684\u6570\u636e\u5fc5\u987b\u540c\u65f6\u4e3a\u6574\u6570\u578b\u6216\u975e\u6570\u503c\u578b\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"spark-connector/sc-ug-limitations/#_1","text":"\u672c\u6587\u63cf\u8ff0 Nebula Spark Connector \u7684\u4f7f\u7528\u9650\u5236\u3002","title":"\u4f7f\u7528\u9650\u5236"},{"location":"spark-connector/sc-ug-limitations/#nebula_graph","text":"Nebula Spark Connector \u76ee\u524d\u4ec5\u652f\u6301 Nebula Graph v1.0.1 \u548c v1.1.0\uff0c\u4e0d\u652f\u6301 Nebula Graph v2.0\u3002","title":"Nebula Graph \u7248\u672c"},{"location":"spark-connector/sc-ug-limitations/#_2","text":"Nebula Spark Connector \u9ed8\u8ba4\u4f9d\u8d56\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8","title":"\u8f6f\u4ef6\u4f9d\u8d56"},{"location":"spark-connector/sc-ug-limitations/#_3","text":"\u76ee\u524d Nebula Spark Connector \u5728\u4f7f\u7528\u65f6\u6709\u4ee5\u4e0b\u529f\u80fd\u9650\u5236\uff1a Reader\uff1a\u76ee\u524d\u65e0\u6cd5\u7528\u4e8e\u8bfb\u53d6 Nebula Graph \u4e2d\u5c5e\u6027\u4e3a\u7a7a\u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 Writer\uff1a\u7528\u4e8e\u5411 Nebula Graph \u5199\u5165\u8fb9\u6570\u636e\u65f6\uff0c\u4f5c\u4e3a\u8d77\u70b9\u4e0e\u7ec8\u70b9 VID \u7684\u6570\u636e\u5fc5\u987b\u540c\u65f6\u4e3a\u6574\u6570\u578b\u6216\u975e\u6570\u503c\u578b\u3002","title":"\u529f\u80fd\u9650\u5236"},{"location":"spark-connector/sc-ug-toc/","text":"Nebula Spark Connector \u7528\u6237\u624b\u518c \u00b6 \u4ec0\u4e48\u662f Nebula Spark Connector \u7f16\u8bd1 Nebula Spark Connector \u4f7f\u7528\u9650\u5236 Nebula Spark Connector Reader \u4ec0\u4e48\u662f Nebula Spark Connector Reader \u4f7f\u7528\u793a\u4f8b Nebula Spark Connector Writer \u4ec0\u4e48\u662f Nebula Spark Connector Writer \u4f7f\u7528\u793a\u4f8b","title":"Nebula Spark Connector \u7528\u6237\u624b\u518c"},{"location":"spark-connector/sc-ug-toc/#nebula_spark_connector","text":"\u4ec0\u4e48\u662f Nebula Spark Connector \u7f16\u8bd1 Nebula Spark Connector \u4f7f\u7528\u9650\u5236 Nebula Spark Connector Reader \u4ec0\u4e48\u662f Nebula Spark Connector Reader \u4f7f\u7528\u793a\u4f8b Nebula Spark Connector Writer \u4ec0\u4e48\u662f Nebula Spark Connector Writer \u4f7f\u7528\u793a\u4f8b","title":"Nebula Spark Connector \u7528\u6237\u624b\u518c"},{"location":"spark-connector/sc-ug-what-is-spark-connector/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector \u00b6 Nebula Spark Connector \uff08\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Spark Connector\uff09\u662f\u4e00\u4e2a Spark \u8fde\u63a5\u5668\uff0c\u63d0\u4f9b\u4e86\u901a\u8fc7 Spark \u6807\u51c6\u5f62\u5f0f\u8bfb\u5199 Nebula Graph \u6570\u636e\u5e93\u7684\u80fd\u529b\uff0c\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\uff1a Reader\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u70b9\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u53c2\u8003 Nebula Spark Connector Reader \u3002 Writer\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u683c\u5f0f\u7684\u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002\u53c2\u8003 Nebula Spark Connector Writer \u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Spark Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector"},{"location":"spark-connector/sc-ug-what-is-spark-connector/#nebula_spark_connector","text":"Nebula Spark Connector \uff08\u5728\u672c\u624b\u518c\u4e2d\u7b80\u79f0\u4e3a Spark Connector\uff09\u662f\u4e00\u4e2a Spark \u8fde\u63a5\u5668\uff0c\u63d0\u4f9b\u4e86\u901a\u8fc7 Spark \u6807\u51c6\u5f62\u5f0f\u8bfb\u5199 Nebula Graph \u6570\u636e\u5e93\u7684\u80fd\u529b\uff0c\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\uff1a Reader\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u70b9\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u53c2\u8003 Nebula Spark Connector Reader \u3002 Writer\uff1a\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u4e2a Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u683c\u5f0f\u7684\u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002\u53c2\u8003 Nebula Spark Connector Writer \u3002 \u60a8\u53ef\u4ee5\u5c06 Nebula Spark Connector \u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a \u5728\u4e0d\u540c\u7684 Nebula Graph \u96c6\u7fa4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 \u5728\u540c\u4e00\u4e2a Nebula Graph \u96c6\u7fa4\u5185\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002 Nebula Graph \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector"},{"location":"spark-connector/reader/sc-ug-reader-example/","text":"Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Reader \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528 Nebula Spark Connector Reader \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector Reader\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u5df2\u7ecf\u83b7\u53d6 Nebula Graph \u6570\u636e\u5e93\u7684\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\uff08\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\u91cf\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 100\uff09 \u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u4ee5\u53ca\u5c5e\u6027 Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Reader\uff1a \u5728 Maven \u9879\u76ee\u7684 pom.xml \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId> com.vesoft </groupId> <artifactId> nebula-spark </artifactId> <version> 1.x.y </version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u6784\u5efa SparkSession \u7c7b\u3002\u8fd9\u662f Spark SQL \u7684\u7f16\u7801\u5165\u53e3\u3002 val sparkConf = new SparkConf sparkConf .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\") .registerKryoClasses(Array[Class[_]](classOf[TCompactProtocol])) val sparkSession = SparkSession .builder() .config(sparkConf) .master(\"local\") .getOrCreate() \u5176\u4e2d\uff0c\u5173\u4e8e .master() \u7684\u8bbe\u7f6e\uff0c\u53c2\u8003 Spark \u914d\u7f6e\u7684 Master URLs \u3002 \u6309\u4ee5\u4e0b\u8bf4\u660e\u4fee\u6539\u914d\u7f6e\uff0c\u5229\u7528 Spark \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6216\u8005\u8fb9\u6570\u636e\uff0c\u5f97\u5230 DataFrame\u3002 // \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6570\u636e val vertexDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadVerticesToDF ( \"tag\" , \"*\" ) vertexDataset.show () // \u8bfb\u53d6 Nebula Graph \u7684\u8fb9\u6570\u636e val edgeDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadEdgesToDF ( \"edge\" , \"field1,field2\" ) edgeDataset.show () \u5176\u4e2d\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a - nebula(<address: String>, <space: String>, <partitionNum: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<address: String>`\uff1a\u914d\u7f6e\u4e3a Nebula Graph \u6570\u636e\u5e93 metad \u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u5982\u679c\u6709\u591a\u4e2a metad \u670d\u52a1\u590d\u672c\uff0c\u5219\u914d\u7f6e\u4e3a\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 `\"ip1:45500,ip2:45500\"`\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 45500\u3002 - `<space: String>`: \u914d\u7f6e\u4e3a Nebula Graph \u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 - `<partitionNum: String>`\uff1a\u8bbe\u7f6e Spark \u7684\u5206\u533a\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 `partitionNum`\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a Spark \u5206\u533a\u8bfb\u53d6 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u4e00\u4e2a\u5206\u533a\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u5728\u521b\u5efa Nebula Graph \u56fe\u7a7a\u95f4\u65f6\u672a\u6307\u5b9a\u5206\u533a\u6570\u91cf\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c 100\u3002 - loadVerticesToDF(<tag: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<tag: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u6807\u7b7e\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\u3002\u5982\u679c\u914d\u7f6e\u4e3a `*`\uff0c\u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u3002 - loadEdgesToDF(<edge: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<edge: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\uff0c\u5982\u679c\u914d\u7f6e\u4e3a `*` \u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\u3002 \u4ee5\u4e0b\u4e3a\u8bfb\u53d6\u7ed3\u679c\u793a\u4f8b\u3002 \u8bfb\u53d6\u70b9\u6570\u636e 20/10/27 08:51:04 INFO DAGScheduler: Job 0 finished: show at Main.scala:61, took 1.873141 s +---------+----------+---+ |_vertexId| name|age| +---------+----------+---+ | 0| Tom55322| 19| | 84541440|Tom4152378| 27| | 67829760| Tom24006| 10| | 51118080| Tom84165| 62| | 34406400| Tom17308| 1| | 17694720| Tom73089| 56| | 983040| Tom82311| 95| | 68812800| Tom61046| 93| | 52101120| Tom52116| 45| | 18677760| Tom4773| 18| | 1966080| Tom25979| 20| | 69795840| Tom92575| 9| | 53084160| Tom48645| 29| | 36372480| Tom20594| 86| | 19660800| Tom27071| 32| | 2949120| Tom630| 61| | 70778880| Tom82319| 78| | 37355520| Tom38207| 31| | 20643840| Tom56158| 73| | 3932160| Tom36933| 59| +---------+----------+---+ only showing top 20 rows \u8bfb\u53d6\u8fb9\u6570\u636e 20/10/27 08:56:57 INFO DAGScheduler: Job 4 finished: show at Main.scala:71, took 0.085975 s +------+------+----------+--------+ |_srcId|_dstId|start_year|end_year| +------+------+----------+--------+ | 101| 201| 2002| 2020| | 102| 201| 2002| 2015| +------+------+----------+--------+","title":"Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/reader/sc-ug-reader-example/#nebula_spark_connector_reader","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Reader \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/reader/sc-ug-reader-example/#_1","text":"\u4f7f\u7528 Nebula Spark Connector Reader \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector Reader\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u5df2\u7ecf\u83b7\u53d6 Nebula Graph \u6570\u636e\u5e93\u7684\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\uff08\u5982\u679c\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u672a\u8bbe\u7f6e\u5206\u533a\u6570\u91cf\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 100\uff09 \u6807\u7b7e\u548c\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u4ee5\u53ca\u5c5e\u6027 Meta \u670d\u52a1\u6240\u5728\u673a\u5668\u7684 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"spark-connector/reader/sc-ug-reader-example/#_2","text":"\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Reader\uff1a \u5728 Maven \u9879\u76ee\u7684 pom.xml \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId> com.vesoft </groupId> <artifactId> nebula-spark </artifactId> <version> 1.x.y </version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u6784\u5efa SparkSession \u7c7b\u3002\u8fd9\u662f Spark SQL \u7684\u7f16\u7801\u5165\u53e3\u3002 val sparkConf = new SparkConf sparkConf .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\") .registerKryoClasses(Array[Class[_]](classOf[TCompactProtocol])) val sparkSession = SparkSession .builder() .config(sparkConf) .master(\"local\") .getOrCreate() \u5176\u4e2d\uff0c\u5173\u4e8e .master() \u7684\u8bbe\u7f6e\uff0c\u53c2\u8003 Spark \u914d\u7f6e\u7684 Master URLs \u3002 \u6309\u4ee5\u4e0b\u8bf4\u660e\u4fee\u6539\u914d\u7f6e\uff0c\u5229\u7528 Spark \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6216\u8005\u8fb9\u6570\u636e\uff0c\u5f97\u5230 DataFrame\u3002 // \u8bfb\u53d6 Nebula Graph \u7684\u70b9\u6570\u636e val vertexDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadVerticesToDF ( \"tag\" , \"*\" ) vertexDataset.show () // \u8bfb\u53d6 Nebula Graph \u7684\u8fb9\u6570\u636e val edgeDataset: Dataset [ Row ] = sparkSession.read .nebula ( \"127.0.0.1:45500\" , \"spaceName\" , \"100\" ) .loadEdgesToDF ( \"edge\" , \"field1,field2\" ) edgeDataset.show () \u5176\u4e2d\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a - nebula(<address: String>, <space: String>, <partitionNum: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<address: String>`\uff1a\u914d\u7f6e\u4e3a Nebula Graph \u6570\u636e\u5e93 metad \u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u5982\u679c\u6709\u591a\u4e2a metad \u670d\u52a1\u590d\u672c\uff0c\u5219\u914d\u7f6e\u4e3a\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982 `\"ip1:45500,ip2:45500\"`\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a 45500\u3002 - `<space: String>`: \u914d\u7f6e\u4e3a Nebula Graph \u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 - `<partitionNum: String>`\uff1a\u8bbe\u7f6e Spark \u7684\u5206\u533a\u6570\u91cf\u3002\u5efa\u8bae\u8bbe\u7f6e\u4e3a Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 `partitionNum`\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a Spark \u5206\u533a\u8bfb\u53d6 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u4e00\u4e2a\u5206\u533a\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u5728\u521b\u5efa Nebula Graph \u56fe\u7a7a\u95f4\u65f6\u672a\u6307\u5b9a\u5206\u533a\u6570\u91cf\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c 100\u3002 - loadVerticesToDF(<tag: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<tag: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u6807\u7b7e\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u6807\u7b7e\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\u3002\u5982\u679c\u914d\u7f6e\u4e3a `*`\uff0c\u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u3002 - loadEdgesToDF(<edge: String>, <fields: String>) \uff0c\u6240\u6709\u53c2\u6570\u5747\u4e3a\u5fc5\u9700\u53c2\u6570\u3002 - `<edge: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u67d0\u4e2a\u8fb9\u7c7b\u578b\u7684\u540d\u79f0\u3002 - `<fields: String>`\uff1a\u914d\u7f6e\u4e3a\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u3002\u5982\u679c\u4e00\u4e2a\u8fb9\u7c7b\u578b\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u5219\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u6307\u5b9a\u4e86\u5c5e\u6027\u540d\u79f0\uff0c\u8868\u793a\u53ea\u8bfb\u53d6\u6307\u5b9a\u7684\u5c5e\u6027\uff0c\u5982\u679c\u914d\u7f6e\u4e3a `*` \u8868\u793a\u8bfb\u53d6\u6307\u5b9a\u8fb9\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\u3002 \u4ee5\u4e0b\u4e3a\u8bfb\u53d6\u7ed3\u679c\u793a\u4f8b\u3002 \u8bfb\u53d6\u70b9\u6570\u636e 20/10/27 08:51:04 INFO DAGScheduler: Job 0 finished: show at Main.scala:61, took 1.873141 s +---------+----------+---+ |_vertexId| name|age| +---------+----------+---+ | 0| Tom55322| 19| | 84541440|Tom4152378| 27| | 67829760| Tom24006| 10| | 51118080| Tom84165| 62| | 34406400| Tom17308| 1| | 17694720| Tom73089| 56| | 983040| Tom82311| 95| | 68812800| Tom61046| 93| | 52101120| Tom52116| 45| | 18677760| Tom4773| 18| | 1966080| Tom25979| 20| | 69795840| Tom92575| 9| | 53084160| Tom48645| 29| | 36372480| Tom20594| 86| | 19660800| Tom27071| 32| | 2949120| Tom630| 61| | 70778880| Tom82319| 78| | 37355520| Tom38207| 31| | 20643840| Tom56158| 73| | 3932160| Tom36933| 59| +---------+----------+---+ only showing top 20 rows \u8bfb\u53d6\u8fb9\u6570\u636e 20/10/27 08:56:57 INFO DAGScheduler: Job 4 finished: show at Main.scala:71, took 0.085975 s +------+------+----------+--------+ |_srcId|_dstId|start_year|end_year| +------+------+----------+--------+ | 101| 201| 2002| 2020| | 102| 201| 2002| 2015| +------+------+----------+--------+","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"spark-connector/reader/sc-ug-what-is-reader/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader \u00b6 Nebula Spark Connector Reader \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u8bfb\u51fa\u7684 DataFrame \u53ef\u4ee5\u901a\u8fc7 Nebula Spark Connector Writer \u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u6216\u5b9e\u73b0\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u3002 Nebula Spark Connector Reader \u5b9e\u73b0\u539f\u7406 \u00b6 Spark SQL \u662f Spark \u4e2d\u7528\u4e8e\u5904\u7406\u7ed3\u6784\u5316\u6570\u636e\u7684\u4e00\u4e2a\u7f16\u7a0b\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u79f0\u4e3a DataFrame \u7684\u7f16\u7a0b\u62bd\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5145\u5f53\u5206\u5e03\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\u3002Spark SQL \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u6e90\uff0c\u652f\u6301\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u8fdb\u884c\u6269\u5c55\u3002\u901a\u8fc7 Spark SQL \u8bfb\u53d6\u5230\u7684\u6570\u636e\u683c\u5f0f\u662f\u4ee5\u547d\u540d\u5217\u65b9\u5f0f\u7ec4\u7ec7\u7684\u5206\u5e03\u5f0f\u6570\u636e\u96c6 DataFrame\uff0c\u800c\u4e14 Spark SQL \u63d0\u4f9b\u4e86\u4f17\u591a API \u65b9\u4fbf\u7528\u6237\u5bf9 DataFrame \u8fdb\u884c\u8ba1\u7b97\u548c\u8f6c\u6362\uff0c\u80fd\u5bf9\u591a\u79cd\u6570\u636e\u6e90\u4f7f\u7528 DataFrame \u63a5\u53e3\u3002 \u63a5\u53e3 \u00b6 Spark \u4f7f\u7528 org.apache.spark.sql \u8c03\u7528\u5916\u90e8\u6570\u636e\u6e90\u5305\u3002\u4ee5\u4e0b\u4e3a Spark SQL \u63d0\u4f9b\u7684\u6269\u5c55\u6570\u636e\u6e90\u76f8\u5173\u7684\u63a5\u53e3\u3002 \u57fa\u672c\u63a5\u53e3\uff0c\u5305\u62ec\uff1a BaseRelation : \u8868\u793a\u5177\u6709\u5df2\u77e5 Schema \u7684\u5143\u7ec4\u7684\u96c6\u5408\u3002\u6240\u6709\u7ee7\u627f\u4e86 BaseRelation \u7684\u5b50\u7c7b\u90fd\u5fc5\u987b\u751f\u6210 StructType \u683c\u5f0f\u7684 Schema\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c BaseRelation \u5b9a\u4e49\u4e86\u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u5728 Spark SQL \u7684 DataFrame \u4e2d\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u3002 RelationProvider : \u83b7\u53d6\u53c2\u6570\u5217\u8868\uff0c\u6839\u636e\u7ed9\u5b9a\u7684\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 BaseRelation \u3002 DataSourceRegister : \u201c\u6ce8\u518c\u6570\u636e\u6e90\u201d\u7684\u7b80\u79f0\uff0c\u5728\u4f7f\u7528\u6570\u636e\u6e90\u65f6\u4e0d\u7528\u5199\u6570\u636e\u6e90\u7684\u5168\u9650\u5b9a\u7c7b\u540d\uff0c\u800c\u53ea\u9700\u8981\u5199\u81ea\u5b9a\u4e49\u7684 shortName \u5373\u53ef\u3002 Providers \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RelationProvider \uff1a\u4ece\u6307\u5b9a\u6570\u636e\u6e90\u4e2d\u751f\u6210\u81ea\u5b9a\u4e49\u7684 relation \u3002 RelationProvider#createRelation \u4f1a\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u751f\u6210\u65b0\u7684 relation \u3002 SchemaRelationProvider \uff1a\u53ef\u4ee5\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u548c\u7ed9\u5b9a\u7684 Schema \u4fe1\u606f\u751f\u6210\u65b0\u7684 relation \u3002 RDD \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RDD[InternalRow] : \u4ece\u6570\u636e\u6e90\u4e2d\u626b\u63cf\u51fa\u6765\u540e\uff0c\u9700\u8981\u6784\u9020\u6210 RDD[Row] \u3002 Nebula Spark Connector Reader \u6839\u636e Nebula Graph \u7684\u6570\u636e\u6e90\u81ea\u5b9a\u4e49\u4e86\u4e0a\u8ff0\u90e8\u5206\u65b9\u6cd5\uff0c\u4ece\u800c\u5b9e\u73b0\u81ea\u5b9a\u4e49 Spark \u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9e\u73b0\u7c7b\u56fe \u00b6 \u5728 Nebula Spark Connector Reader \u4e2d\uff0c\u4f5c\u4e3a Spark SQL \u7684\u5916\u90e8\u6570\u636e\u6e90\uff0cNebula Graph \u901a\u8fc7 sparkSession.read \u7684\u5f62\u5f0f\u8bfb\u53d6\u6570\u636e\u3002\u8be5\u529f\u80fd\u5b9e\u73b0\u7684\u7c7b\u56fe\u5c55\u793a\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5904\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6570\u636e\u6e90 NebulaRelationProvider \uff1a\u7ee7\u627f RelationProvider \u81ea\u5b9a\u4e49 relation \uff0c\u7ee7\u627f DataSourceRegister \u6ce8\u518c\u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9a\u4e49 NebulaRelation \uff0c\u5b9e\u73b0 Nebula Graph \u56fe\u6570\u636e Schema \u7684\u83b7\u53d6\u548c\u6570\u636e\u8f6c\u6362\u65b9\u6cd5\u3002\u5728 NebulaRelation#getSchema \u65b9\u6cd5\u4e2d\u8fde\u63a5 Nebula Graph \u7684 Meta \u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u7684\u8fd4\u56de\u5b57\u6bb5\u5bf9\u5e94\u7684 Schema \u4fe1\u606f\u3002 \u5b9a\u4e49 NebulaRDD \u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\u3002\u5176\u4e2d\uff0c NebulaRDD#compute \u65b9\u6cd5\u5b9a\u4e49\u4e86\u5982\u4f55\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u4e3b\u8981\u6d89\u53ca\u5230\u626b\u63cf Nebula Graph \u56fe\u6570\u636e\u3001\u5c06\u8bfb\u5230\u7684 Nebula Graph \u7684\u884c\uff08Row\uff09\u6570\u636e\u8f6c\u6362\u4e3a Spark \u7684 InternalRow \u6570\u636e\uff0c\u4ee5 InternalRow \u7ec4\u6210 RDD \u7684\u4e00\u884c\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a InternalRow \u8868\u793a Nebula Graph \u4e2d\u7684\u4e00\u884c\u6570\u636e\uff0c\u6700\u7ec8\u901a\u8fc7\u5206\u533a\u8fed\u4ee3\u7684\u5f62\u5f0f\u8bfb\u53d6 Nebula Graph \u6240\u6709\u6570\u636e\u5e76\u7ec4\u88c5\u6210\u6700\u7ec8\u7684 DataFrame \u7ed3\u679c\u6570\u636e\u3002 \u5e94\u7528\u793a\u4f8b \u00b6 \u53c2\u8003 Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#nebula_spark_connector_reader","text":"Nebula Spark Connector Reader \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u5355\u6b21\u8bfb\u53d6\u4e00\u4e2a\u6807\u7b7e\u6216\u8fb9\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u7ed3\u679c\u7ec4\u88c5\u6210 Spark \u7684 DataFrame\u3002\u8bfb\u51fa\u7684 DataFrame \u53ef\u4ee5\u901a\u8fc7 Nebula Spark Connector Writer \u5199\u5165 Nebula Graph \u6570\u636e\u5e93\u6216\u5b9e\u73b0\u4e0d\u540c\u56fe\u7a7a\u95f4\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Reader"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#nebula_spark_connector_reader_1","text":"Spark SQL \u662f Spark \u4e2d\u7528\u4e8e\u5904\u7406\u7ed3\u6784\u5316\u6570\u636e\u7684\u4e00\u4e2a\u7f16\u7a0b\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u79f0\u4e3a DataFrame \u7684\u7f16\u7a0b\u62bd\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5145\u5f53\u5206\u5e03\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\u3002Spark SQL \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u6e90\uff0c\u652f\u6301\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u8fdb\u884c\u6269\u5c55\u3002\u901a\u8fc7 Spark SQL \u8bfb\u53d6\u5230\u7684\u6570\u636e\u683c\u5f0f\u662f\u4ee5\u547d\u540d\u5217\u65b9\u5f0f\u7ec4\u7ec7\u7684\u5206\u5e03\u5f0f\u6570\u636e\u96c6 DataFrame\uff0c\u800c\u4e14 Spark SQL \u63d0\u4f9b\u4e86\u4f17\u591a API \u65b9\u4fbf\u7528\u6237\u5bf9 DataFrame \u8fdb\u884c\u8ba1\u7b97\u548c\u8f6c\u6362\uff0c\u80fd\u5bf9\u591a\u79cd\u6570\u636e\u6e90\u4f7f\u7528 DataFrame \u63a5\u53e3\u3002","title":"Nebula Spark Connector Reader \u5b9e\u73b0\u539f\u7406"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_1","text":"Spark \u4f7f\u7528 org.apache.spark.sql \u8c03\u7528\u5916\u90e8\u6570\u636e\u6e90\u5305\u3002\u4ee5\u4e0b\u4e3a Spark SQL \u63d0\u4f9b\u7684\u6269\u5c55\u6570\u636e\u6e90\u76f8\u5173\u7684\u63a5\u53e3\u3002 \u57fa\u672c\u63a5\u53e3\uff0c\u5305\u62ec\uff1a BaseRelation : \u8868\u793a\u5177\u6709\u5df2\u77e5 Schema \u7684\u5143\u7ec4\u7684\u96c6\u5408\u3002\u6240\u6709\u7ee7\u627f\u4e86 BaseRelation \u7684\u5b50\u7c7b\u90fd\u5fc5\u987b\u751f\u6210 StructType \u683c\u5f0f\u7684 Schema\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c BaseRelation \u5b9a\u4e49\u4e86\u4ece\u6570\u636e\u6e90\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u5728 Spark SQL \u7684 DataFrame \u4e2d\u5b58\u50a8\u7684\u6570\u636e\u683c\u5f0f\u3002 RelationProvider : \u83b7\u53d6\u53c2\u6570\u5217\u8868\uff0c\u6839\u636e\u7ed9\u5b9a\u7684\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 BaseRelation \u3002 DataSourceRegister : \u201c\u6ce8\u518c\u6570\u636e\u6e90\u201d\u7684\u7b80\u79f0\uff0c\u5728\u4f7f\u7528\u6570\u636e\u6e90\u65f6\u4e0d\u7528\u5199\u6570\u636e\u6e90\u7684\u5168\u9650\u5b9a\u7c7b\u540d\uff0c\u800c\u53ea\u9700\u8981\u5199\u81ea\u5b9a\u4e49\u7684 shortName \u5373\u53ef\u3002 Providers \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RelationProvider \uff1a\u4ece\u6307\u5b9a\u6570\u636e\u6e90\u4e2d\u751f\u6210\u81ea\u5b9a\u4e49\u7684 relation \u3002 RelationProvider#createRelation \u4f1a\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u751f\u6210\u65b0\u7684 relation \u3002 SchemaRelationProvider \uff1a\u53ef\u4ee5\u57fa\u4e8e\u7ed9\u5b9a\u7684\u53c2\u6570\u548c\u7ed9\u5b9a\u7684 Schema \u4fe1\u606f\u751f\u6210\u65b0\u7684 relation \u3002 RDD \u63a5\u53e3\uff0c\u5305\u62ec\uff1a RDD[InternalRow] : \u4ece\u6570\u636e\u6e90\u4e2d\u626b\u63cf\u51fa\u6765\u540e\uff0c\u9700\u8981\u6784\u9020\u6210 RDD[Row] \u3002 Nebula Spark Connector Reader \u6839\u636e Nebula Graph \u7684\u6570\u636e\u6e90\u81ea\u5b9a\u4e49\u4e86\u4e0a\u8ff0\u90e8\u5206\u65b9\u6cd5\uff0c\u4ece\u800c\u5b9e\u73b0\u81ea\u5b9a\u4e49 Spark \u5916\u90e8\u6570\u636e\u6e90\u3002","title":"\u63a5\u53e3"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_2","text":"\u5728 Nebula Spark Connector Reader \u4e2d\uff0c\u4f5c\u4e3a Spark SQL \u7684\u5916\u90e8\u6570\u636e\u6e90\uff0cNebula Graph \u901a\u8fc7 sparkSession.read \u7684\u5f62\u5f0f\u8bfb\u53d6\u6570\u636e\u3002\u8be5\u529f\u80fd\u5b9e\u73b0\u7684\u7c7b\u56fe\u5c55\u793a\u5982\u4e0b\u56fe\u6240\u793a\u3002 \u5904\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6570\u636e\u6e90 NebulaRelationProvider \uff1a\u7ee7\u627f RelationProvider \u81ea\u5b9a\u4e49 relation \uff0c\u7ee7\u627f DataSourceRegister \u6ce8\u518c\u5916\u90e8\u6570\u636e\u6e90\u3002 \u5b9a\u4e49 NebulaRelation \uff0c\u5b9e\u73b0 Nebula Graph \u56fe\u6570\u636e Schema \u7684\u83b7\u53d6\u548c\u6570\u636e\u8f6c\u6362\u65b9\u6cd5\u3002\u5728 NebulaRelation#getSchema \u65b9\u6cd5\u4e2d\u8fde\u63a5 Nebula Graph \u7684 Meta \u670d\u52a1\u83b7\u53d6\u914d\u7f6e\u7684\u8fd4\u56de\u5b57\u6bb5\u5bf9\u5e94\u7684 Schema \u4fe1\u606f\u3002 \u5b9a\u4e49 NebulaRDD \u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\u3002\u5176\u4e2d\uff0c NebulaRDD#compute \u65b9\u6cd5\u5b9a\u4e49\u4e86\u5982\u4f55\u8bfb\u53d6 Nebula Graph \u56fe\u6570\u636e\uff0c\u4e3b\u8981\u6d89\u53ca\u5230\u626b\u63cf Nebula Graph \u56fe\u6570\u636e\u3001\u5c06\u8bfb\u5230\u7684 Nebula Graph \u7684\u884c\uff08Row\uff09\u6570\u636e\u8f6c\u6362\u4e3a Spark \u7684 InternalRow \u6570\u636e\uff0c\u4ee5 InternalRow \u7ec4\u6210 RDD \u7684\u4e00\u884c\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a InternalRow \u8868\u793a Nebula Graph \u4e2d\u7684\u4e00\u884c\u6570\u636e\uff0c\u6700\u7ec8\u901a\u8fc7\u5206\u533a\u8fed\u4ee3\u7684\u5f62\u5f0f\u8bfb\u53d6 Nebula Graph \u6240\u6709\u6570\u636e\u5e76\u7ec4\u88c5\u6210\u6700\u7ec8\u7684 DataFrame \u7ed3\u679c\u6570\u636e\u3002","title":"\u5b9e\u73b0\u7c7b\u56fe"},{"location":"spark-connector/reader/sc-ug-what-is-reader/#_3","text":"\u53c2\u8003 Nebula Spark Connector Reader \u5e94\u7528\u793a\u4f8b \u3002","title":"\u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-what-is-writer/","text":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer \u00b6 Nebula Spark Connector Writer \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002 Nebula Spark Connector Writer \u5b9e\u73b0\u539f\u7406 \u00b6 Nebula Spark Connector Writer \u5206\u522b\u63d0\u4f9b\u4e86\u4e24\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u9010\u6761\u6216\u6279\u91cf\u5730\u5c06\u6570\u636e\u5199\u5165 Nebula Graph\u3002 \u9010\u6761\u5199\u5165\u6570\u636e \u00b6 Nebula Spark Connector Writer \u57fa\u4e8e Spark \u7684 DataSourceV2 \u63a5\u53e3\u5b9e\u73b0\u5355\u6761\u6570\u636e\u5199\u5165\uff0c\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u7ee7\u627f WriteSupport \u63a5\u53e3\u5e76\u91cd\u5199 createWriter \u65b9\u6cd5\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u521b\u5efa\u81ea\u5b9a\u4e49\u7684 DataSourceWriter \u63a5\u53e3\u3002 \u7ee7\u627f DataSourceWriter \u63a5\u53e3\uff0c\u521b\u5efa NebulaDataSourceVertexWriter \u7c7b\u548c NebulaDataSourceEdgeWriter \u7c7b\u3002\u91cd\u5199 createWriterFactory \u65b9\u6cd5\u5e76\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriterFactory \u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u6574\u4e2a\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.1.0 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\uff0c\u5728\u8fd9\u4e2a\u5b9e\u73b0\u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 \u7ee7\u627f DataWriterFactory \uff0c\u521b\u5efa NebulaVertexWriterFactory \u7c7b\u548c NebulaEdgeWriterFactory \u7c7b\uff0c\u91cd\u5199 createWriter \u65b9\u6cd5\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriter \u3002 \u7ee7\u627f DataWriter \uff0c\u521b\u5efa NebulaVertexWriter \u7c7b\u548c NebulaEdgeWriter \u7c7b\u3002\u91cd\u5199 write \u65b9\u6cd5\uff0c\u7528\u4e8e\u5199\u51fa\u6570\u636e\u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.1.0 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728 DataWriter \u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 Nebula Spark Connector Writer \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\uff1a NebulaVertexWriter \u548c NebulaEdgeWriter\u7684write \u65b9\u6cd5\u4e2d\u5b9a\u4e49\u4e86\u5177\u4f53\u5199\u5165\u903b\u8f91\u3002\u9010\u6761\u5199\u5165\u6570\u636e\u7684\u903b\u8f91\u6982\u62ec\u5982\u4e0b\uff1a \u521b\u5efa\u5ba2\u6237\u7aef\uff0c\u8fde\u63a5 Nebula Graph \u7684 Graph \u670d\u52a1\u3002 \u6307\u5b9a\u5373\u5c06\u5199\u5165\u6570\u636e\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u3002 \u6784\u9020 Nebula Graph \u63d2\u5165\u6570\u636e\u7684 nGQL \u8bed\u53e5\u3002 \u63d0\u4ea4 nGQL \u8bed\u53e5\uff0c\u6267\u884c\u5199\u5165\u64cd\u4f5c\u3002 \u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5199\u5165\u64cd\u4f5c\u6267\u884c\u7ed3\u679c\u3002 \u6279\u91cf\u6570\u636e\u5199\u5165 \u00b6 Nebula Spark Connector Writer \u6279\u91cf\u5199\u5165\u6570\u636e\u7684\u5b9e\u73b0\u4e0e Nebula Exchange \u7c7b\u4f3c\uff0c\u5373\u901a\u8fc7\u5bf9 DataFrame \u8fdb\u884c map \u64cd\u4f5c\u6279\u91cf\u6570\u636e\u7684\u7d2f\u8ba1\u63d0\u4ea4\u3002 \u5e94\u7528\u793a\u4f8b \u00b6 \u53c2\u8003 Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#nebula_spark_connector_writer","text":"Nebula Spark Connector Writer \u662f Nebula Spark Connector \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e3a\u60a8\u63d0\u4f9b\u4e86 Spark SQL \u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Spark SQL \u63a5\u53e3\u7f16\u7a0b\u5c06 DataFrame \u6570\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165 Nebula Graph\u3002","title":"\u4ec0\u4e48\u662f Nebula Spark Connector Writer"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#nebula_spark_connector_writer_1","text":"Nebula Spark Connector Writer \u5206\u522b\u63d0\u4f9b\u4e86\u4e24\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u9010\u6761\u6216\u6279\u91cf\u5730\u5c06\u6570\u636e\u5199\u5165 Nebula Graph\u3002","title":"Nebula Spark Connector Writer \u5b9e\u73b0\u539f\u7406"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_1","text":"Nebula Spark Connector Writer \u57fa\u4e8e Spark \u7684 DataSourceV2 \u63a5\u53e3\u5b9e\u73b0\u5355\u6761\u6570\u636e\u5199\u5165\uff0c\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u7ee7\u627f WriteSupport \u63a5\u53e3\u5e76\u91cd\u5199 createWriter \u65b9\u6cd5\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u521b\u5efa\u81ea\u5b9a\u4e49\u7684 DataSourceWriter \u63a5\u53e3\u3002 \u7ee7\u627f DataSourceWriter \u63a5\u53e3\uff0c\u521b\u5efa NebulaDataSourceVertexWriter \u7c7b\u548c NebulaDataSourceEdgeWriter \u7c7b\u3002\u91cd\u5199 createWriterFactory \u65b9\u6cd5\u5e76\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriterFactory \u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u6574\u4e2a\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.1.0 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\uff0c\u5728\u8fd9\u4e2a\u5b9e\u73b0\u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 \u7ee7\u627f DataWriterFactory \uff0c\u521b\u5efa NebulaVertexWriterFactory \u7c7b\u548c NebulaEdgeWriterFactory \u7c7b\uff0c\u91cd\u5199 createWriter \u65b9\u6cd5\u8fd4\u56de\u81ea\u5b9a\u4e49\u7684 DataWriter \u3002 \u7ee7\u627f DataWriter \uff0c\u521b\u5efa NebulaVertexWriter \u7c7b\u548c NebulaEdgeWriter \u7c7b\u3002\u91cd\u5199 write \u65b9\u6cd5\uff0c\u7528\u4e8e\u5199\u51fa\u6570\u636e\u3002\u91cd\u5199 commit \u65b9\u6cd5\uff0c\u7528\u4e8e\u63d0\u4ea4\u4e8b\u52a1\u3002\u91cd\u5199 abort \u65b9\u6cd5\uff0c\u7528\u4e8e\u505a\u4e8b\u52a1\u56de\u6eda\u3002 \u8bf4\u660e \uff1aNebula Graph v1.1.0 \u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728 DataWriter \u4e2d\uff0c commit \u548c abort \u65e0\u5b9e\u8d28\u6027\u64cd\u4f5c\u3002 Nebula Spark Connector Writer \u7684\u5b9e\u73b0\u7c7b\u56fe\u5982\u4e0b\uff1a NebulaVertexWriter \u548c NebulaEdgeWriter\u7684write \u65b9\u6cd5\u4e2d\u5b9a\u4e49\u4e86\u5177\u4f53\u5199\u5165\u903b\u8f91\u3002\u9010\u6761\u5199\u5165\u6570\u636e\u7684\u903b\u8f91\u6982\u62ec\u5982\u4e0b\uff1a \u521b\u5efa\u5ba2\u6237\u7aef\uff0c\u8fde\u63a5 Nebula Graph \u7684 Graph \u670d\u52a1\u3002 \u6307\u5b9a\u5373\u5c06\u5199\u5165\u6570\u636e\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u3002 \u6784\u9020 Nebula Graph \u63d2\u5165\u6570\u636e\u7684 nGQL \u8bed\u53e5\u3002 \u63d0\u4ea4 nGQL \u8bed\u53e5\uff0c\u6267\u884c\u5199\u5165\u64cd\u4f5c\u3002 \u5b9a\u4e49\u56de\u8c03\u51fd\u6570\u63a5\u6536\u5199\u5165\u64cd\u4f5c\u6267\u884c\u7ed3\u679c\u3002","title":"\u9010\u6761\u5199\u5165\u6570\u636e"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_2","text":"Nebula Spark Connector Writer \u6279\u91cf\u5199\u5165\u6570\u636e\u7684\u5b9e\u73b0\u4e0e Nebula Exchange \u7c7b\u4f3c\uff0c\u5373\u901a\u8fc7\u5bf9 DataFrame \u8fdb\u884c map \u64cd\u4f5c\u6279\u91cf\u6570\u636e\u7684\u7d2f\u8ba1\u63d0\u4ea4\u3002","title":"\u6279\u91cf\u6570\u636e\u5199\u5165"},{"location":"spark-connector/writer/sc-ug-what-is-writer/#_3","text":"\u53c2\u8003 Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u3002","title":"\u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/","text":"Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b \u00b6 \u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528 Nebula Spark Connector Writer \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u3002 \u5f85\u5199\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u6e90\u3002\u5728\u672c\u793a\u4f8b\u4e2d\u6240\u7528\u7684\u6570\u636e\u6e90\u4e3a JSON \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-java \u5e93 \u4e2d\u4e0b\u8f7d\u3002 Nebula Graph \u7684 Graph \u670d\u52a1 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a 127.0.0.1:3699 \u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff0c\u5e76\u83b7\u53d6\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a nb \u548c 100 \u3002 \u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \u8fb9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8d77\u70b9\u548c\u7ec8\u70b9\u5bf9\u5e94\u7684\u6807\u7b7e\uff0c\u4ee5\u53ca VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u662f\u6279\u91cf\u5199\u5165\uff0c\u9700\u8981\u786e\u8ba4\u5355\u6b21\u5199\u5165\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002\u8be6\u89c1\u672c\u6587 batchInsert \u914d\u7f6e\u9879\u8bf4\u660e\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u00b6 \u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u6570\u636e\u3002 \u7b2c 1 \u6b65 \u00b6 \u5728 Maven \u9879\u76ee\u7684 POM \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId>com.vesoft</groupId> <artifactId>nebula-spark</artifactId> <version>1.x.y</version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002 \u7b2c 2 \u6b65 \u00b6 \u6839\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165\u9700\u6c42\uff0c\u53c2\u8003\u4ee5\u4e0b\u793a\u4f8b\u5728 Spark \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b8c\u6210\u914d\u7f6e\u3002 \u9010\u6761\u5199\u5165\u6570\u636e \u00b6 \u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u5199\u5165\u70b9 vertexDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .writeVertices ( \"player\" , \"vertexId\" , \"hash\" ) // \u5199\u5165\u8fb9 edgeDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .wirteEdges ( \"follow\" , \"src_id\" , \"dst_id\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a nebula(address: String, space: String, partitionNum: String) address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 partitionNum \uff1a\u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 partitionNum \u7684\u503c\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u8fd9\u91cc\u586b\u5199 100 \u3002 writeVertices(tag: String, vertexField: String, policy: String = \"\") tag \uff1a\u70b9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2d a \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 writeEdges(edge: String, srcVertexField: String, dstVertexField: String, policy: String = \"\") edge \uff1a\u8fb9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 \u6279\u91cf\u5199\u5165\u6570\u636e \u00b6 \u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u6279\u91cf\u5199\u5165\u70b9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaVertex ( vertexDF, \"player\" , \"vertexId\" ) // \u6279\u91cf\u5199\u5165\u8fb9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaEdge ( edgeDF, \"follow\" , \"source\" , \"target\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a batchInsert(address: String, space: String, batch: Int = 2000) \uff1a address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 batch \uff1a\u6279\u91cf\u5199\u5165\u65f6\u4e00\u6279\u6b21\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u53ef\u4e0d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 batchToNebulaVertex(data: DataFrame, tag: String, vertexField: String, policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 tag \uff1aNebula Graph \u56fe\u7a7a\u95f4\u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2da \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 batchToNebulaEdge(data: DataFrame, edge: String, srcVertexField: String, dstVertexField: String, rankField: String = \"\", policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 edge \uff1aNebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 rankField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9 rank \u503c\u7684\u5217\uff0c\u53ef\u9009\u914d\u3002 policy \uff1a\u53ef\u9009\u3002\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/#nebula_spark_connector_writer","text":"\u672c\u6587\u4ee5\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u70b9\u548c\u8fb9\u6570\u636e\u3002","title":"Nebula Spark Connector Writer \u5e94\u7528\u793a\u4f8b"},{"location":"spark-connector/writer/sc-ug-writer-example/#_1","text":"\u4f7f\u7528 Nebula Spark Connector Writer \u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ee5\u4e0b\u8f6f\u4ef6\uff1a Apache Spark\u2122 2.3.0 \u53ca\u66f4\u9ad8\u7248\u672c Scala Java\uff1a1.8 \u5df2\u7ecf\u6210\u529f\u7f16\u8bd1 Nebula Spark Connector\uff0c\u5e76\u5df2\u7ecf\u5c06 nebula-spark-1.x.y.jar \u590d\u5236\u5230\u672c\u5730 Maven \u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u7f16\u8bd1 Nebula Spark Connector \u3002 \u5f85\u5199\u5165\u7684\u70b9\u548c\u8fb9\u6570\u636e\u6e90\u3002\u5728\u672c\u793a\u4f8b\u4e2d\u6240\u7528\u7684\u6570\u636e\u6e90\u4e3a JSON \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4ece nebula-java \u5e93 \u4e2d\u4e0b\u8f7d\u3002 Nebula Graph \u7684 Graph \u670d\u52a1 IP \u5730\u5740\u53ca\u7aef\u53e3\u53f7\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a 127.0.0.1:3699 \u3002 \u5728 Nebula Graph \u4e2d\u521b\u5efa Schema\uff0c\u5e76\u83b7\u53d6\u4ee5\u4e0b\u4fe1\u606f\uff1a \u56fe\u7a7a\u95f4\u540d\u79f0\u548c\u5206\u533a\u6570\u91cf\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5bf9\u5e94\u7684\u4fe1\u606f\u4e3a nb \u548c 100 \u3002 \u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6807\u7b7e\u548c VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \u8fb9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8d77\u70b9\u548c\u7ec8\u70b9\u5bf9\u5e94\u7684\u6807\u7b7e\uff0c\u4ee5\u53ca VID \u6620\u5c04\u7b56\u7565\uff08 hash \uff09\u3002 \uff08\u53ef\u9009\uff09\u5982\u679c\u662f\u6279\u91cf\u5199\u5165\uff0c\u9700\u8981\u786e\u8ba4\u5355\u6b21\u5199\u5165\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002\u8be6\u89c1\u672c\u6587 batchInsert \u914d\u7f6e\u9879\u8bf4\u660e\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"spark-connector/writer/sc-ug-writer-example/#_2","text":"\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u4f7f\u7528 Nebula Spark Connector Writer \u5411 Nebula Graph \u5199\u5165\u6570\u636e\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"spark-connector/writer/sc-ug-writer-example/#1","text":"\u5728 Maven \u9879\u76ee\u7684 POM \u6587\u4ef6\u4e2d\u52a0\u5165 nebula-spark \u4f9d\u8d56\u3002 <dependency> <groupId>com.vesoft</groupId> <artifactId>nebula-spark</artifactId> <version>1.x.y</version> </dependency> \u8bf4\u660e \uff1a <version> \u5efa\u8bae\u914d\u7f6e\u4e3a\u6700\u65b0\u53d1\u5e03\u7684 Nebula Java Client \u7248\u672c\u53f7\u3002\u60a8\u53ef\u4ee5\u5728 nebula-java \u4ed3\u5e93\u7684 Releases \u9875\u9762 \u67e5\u770b\u6700\u65b0\u7684 v1.x \u7248\u672c\u3002","title":"\u7b2c 1 \u6b65"},{"location":"spark-connector/writer/sc-ug-writer-example/#2","text":"\u6839\u636e\u9010\u6761\u6216\u6279\u91cf\u5199\u5165\u9700\u6c42\uff0c\u53c2\u8003\u4ee5\u4e0b\u793a\u4f8b\u5728 Spark \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b8c\u6210\u914d\u7f6e\u3002","title":"\u7b2c 2 \u6b65"},{"location":"spark-connector/writer/sc-ug-writer-example/#_3","text":"\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u5199\u5165\u70b9 vertexDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .writeVertices ( \"player\" , \"vertexId\" , \"hash\" ) // \u5199\u5165\u8fb9 edgeDF.write .nebula ( \"127.0.0.1:3699\" , \"nb\" , \"100\" ) .wirteEdges ( \"follow\" , \"src_id\" , \"dst_id\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a nebula(address: String, space: String, partitionNum: String) address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 partitionNum \uff1a\u5728 Nebula Graph \u4e2d\u521b\u5efa\u56fe\u7a7a\u95f4\u65f6\u6307\u5b9a\u7684 partitionNum \u7684\u503c\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u8fd9\u91cc\u586b\u5199 100 \u3002 writeVertices(tag: String, vertexField: String, policy: String = \"\") tag \uff1a\u70b9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2d a \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 writeEdges(edge: String, srcVertexField: String, dstVertexField: String, policy: String = \"\") edge \uff1a\u8fb9\u5bf9\u5e94\u7684 Nebula Graph \u56fe\u7a7a\u95f4\u4e2d\u7684\u8fb9\u7c7b\u578b\u540d\u79f0\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"\u9010\u6761\u5199\u5165\u6570\u636e"},{"location":"spark-connector/writer/sc-ug-writer-example/#_4","text":"\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a // \u6784\u9020\u70b9\u548c\u8fb9\u6570\u636e\u7684 DataFrame\uff0c // \u8fd9\u91cc\u4f7f\u7528 nebula-java \u5e93 v1.0 \u5206\u652f\u91cc nebula-java/examples/src/main/resources \u76ee\u5f55\u4e0b\u7684\u793a\u4f8b\u6570\u636e\uff0c // \u793a\u4f8b\u6570\u636e\u5728\u672c\u5730\u7684\u5b58\u50a8\u8def\u5f84\u4e3a examples/src/main/resources val vertexDF = spark.read.json ( \"examples/src/main/resources/vertex\" ) vertexDF.show () val edgeDF = spark.read.json ( \"examples/src/main/resources/edge\" ) edgeDF.show () // \u6279\u91cf\u5199\u5165\u70b9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaVertex ( vertexDF, \"player\" , \"vertexId\" ) // \u6279\u91cf\u5199\u5165\u8fb9 new NebulaBatchWriterUtils () .batchInsert ( \"127.0.0.1:3699\" , \"nb\" , 2000 ) .batchToNebulaEdge ( edgeDF, \"follow\" , \"source\" , \"target\" ) \u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u914d\u7f6e\u8bf4\u660e\u5982\u4e0b\uff1a batchInsert(address: String, space: String, batch: Int = 2000) \uff1a address \uff1aNebula Graph \u7684 Graph \u670d\u52a1\u5730\u5740\u53ca\u7aef\u53e3\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5730\u5740\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u5206\u9694\uff0c\u5982 \u201cip1:port,ip2:port\u201d \uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a 3699 \u3002 space \uff1aNebula Graph \u4e2d\u5373\u5c06\u5199\u5165\u6570\u636e\u7684\u56fe\u7a7a\u95f4\u540d\u79f0\u3002 batch \uff1a\u6279\u91cf\u5199\u5165\u65f6\u4e00\u6279\u6b21\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u53ef\u4e0d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 2000\u3002 batchToNebulaVertex(data: DataFrame, tag: String, vertexField: String, policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 tag \uff1aNebula Graph \u56fe\u7a7a\u95f4\u4e2d\u5bf9\u5e94\u7684\u6807\u7b7e\u540d\u79f0\u3002 vertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a Nebula Graph \u70b9 VID \u7684\u5217\u3002\u4f8b\u5982\uff0c\u5982\u679c DataFrame \u6709\u4e09\u5217\uff0c\u5206\u522b\u4e3a a\u3001b\u3001c\uff0c\u5176\u4e2da \u5217\u4f5c\u4e3a\u70b9 VID \u5217\uff0c\u5219\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"a\" \u3002 policy \uff1a\u5982\u679c DataFrame \u4e2d vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c vertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002 batchToNebulaEdge(data: DataFrame, edge: String, srcVertexField: String, dstVertexField: String, rankField: String = \"\", policy: String = \"\") \uff1a data \uff1a\u5f85\u5199\u5165 Nebula Graph \u7684 DataFrame \u6570\u636e\u3002 edge \uff1aNebula Graph \u4e2d\u5bf9\u5e94\u7684\u8fb9\u7c7b\u578b\u3002 srcVertexField \u548c dstVertexField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9\u8d77\u70b9\u548c\u8fb9\u7ec8\u70b9\u7684\u5217\u3002\u5217\u503c\u5fc5\u987b\u540c\u4e3a\u6574\u6570\u578b\u6216\u540c\u4e3a\u975e\u6570\u503c\u578b\u3002 rankField \uff1aDataFrame \u4e2d\u53ef\u4f5c\u4e3a\u8fb9 rank \u503c\u7684\u5217\uff0c\u53ef\u9009\u914d\u3002 policy \uff1a\u53ef\u9009\u3002\u5982\u679c DataFrame \u4e2d srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u975e\u6570\u503c\u578b\uff0c\u5219\u9700\u8981\u914d\u7f6e Nebula Graph \u4e2d VID \u7684\u6620\u5c04\u7b56\u7565\uff0c\u5373\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a \"hash\" \u3002\u5982\u679c srcVertexField \u5217\u548c dstVertexField \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u6570\u578b\uff0c\u5219\u4e0d\u9700\u8981\u914d\u7f6e\u3002","title":"\u6279\u91cf\u5199\u5165\u6570\u636e"}]}