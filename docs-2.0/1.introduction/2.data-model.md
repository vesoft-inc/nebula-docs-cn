# 数据模型

本文介绍Nebula Graph的数据模型。数据模型是一种组织数据并说明它们如何相互关联的模型。

## 数据结构

Nebula Graph数据模型使用5种数据结构来保存数据：

- **顶点（Vertex）**

  顶点用来保存实体对象，特点如下：

  - 顶点是用顶点标识符（`VID`）标识的。`VID`在同一图空间中唯一。
  - 顶点必须有至少一个标签（Tag）。

- **标签（Tag）**

  标签可以用于对顶点进行区分。具有相同标签的顶点共享相同的属性定义。

- **边（Edge）**

  边是用来连接顶点的，表示两个顶点之间的关系或行为，特点如下：

  - 一条边有且仅有一个边类型。
  - 起点、边类型（Edge type）、权重（Rank）、终点可以唯一表示一条边。
  - 边是有指向的。`->`表示边的指向，边可以沿任意方向遍历。
  - 边必须有权重值（Rank）。权重值是一个不可更改的、用户分配的、64位有符号整数。通过它才能识别两个顶点之间具有相同边类型的边。边按它们的权重值排序，值大的边排在前面。默认权重值为0。
  
- **边类型（Edge type）**

  边类型用于对边进行区分。具有相同边类型的边共享相同的属性定义。

- **属性（Properties）**

  属性是指以键值对（Key-Value）形式存储顶点或边的相关信息。

## 有向属性图

Nebula Graph将数据存储在有向属性图中。有向属性图是指顶点和边构成的图，这些边是有方向的。有向属性图表示为：

**G = < V, E, P<sub>V</sub>, P<sub>E</sub> >**

- **V**是顶点的集合。
- **E**是有向边的集合。
- **P<sub>V</sub>** 是顶点的属性。
- **P<sub>E</sub>** 是边的属性。

通过下面的示例图来介绍有向属性图的基本概念。

![map300](https://user-images.githubusercontent.com/42762957/64932536-51b1f800-d872-11e9-9016-c2634b1eeed6.png)

图片展示了一组关于NBA球员和球队的数据。有两种类型的顶点（**player**、**name**）和两种类型的边（**serve**、**like**）。

下表为图片数据模型的详细信息。

| 类型 | 名称 | 属性名（数据类型） | 说明 |
| :--- | :--- | :---| :--- |
|Tag|  **player**      | name (string) <br>age (int)  | 表示NBA球员。  |
|Tag|   **team** |  name (string) |  表示NBA球队。 |
|Edge type|  **serve**  |  start_year (int) <br> end_year (int) | 表示NBA球员的行为。<br>该行为将球员和球队联系起来，方向是从球员到球队。  |
|Edge type|  **like**  | likeness (int)  | 表示NBA球员的行为。<br>该行为将两个球员联系起来，方向是从一个球员到另一个球员。  |
